<slack>
  <team_domain>racket</team_domain>
  <channel_name>general</channel_name>
  <start_date>2018-12-31T00:00:02.058422</start_date>
  <end_date>2019-06-07T01:00:01.660771</end_date>
  <message conversation_id="1">
    <ts>2018-12-31T05:06:57.053700</ts>
    <user>Priscila</user>
    <text>Voted to reopen.</text>
  </message>
  <message conversation_id="1">
    <ts>2018-12-31T05:07:13.054000</ts>
    <user>Priscila</user>
    <text>Two more votes are needed.</text>
  </message>
  <message conversation_id="1">
    <ts>2018-12-31T05:16:43.054200</ts>
    <user>Mai</user>
    <text>&lt;@Priscila&gt; I can help. What do I need to do?</text>
  </message>
  <message conversation_id="1">
    <ts>2018-12-31T05:17:11.054600</ts>
    <user>Priscila</user>
    <text>Go to: &lt;https://stackoverflow.com/questions/53937982/source-code-documentation-in-racket-scheme&gt;</text>
  </message>
  <message conversation_id="1">
    <ts>2018-12-31T05:17:19.055000</ts>
    <user>Priscila</user>
    <text>Then click reopen.</text>
  </message>
  <message conversation_id="1">
    <ts>2018-12-31T05:18:32.055900</ts>
    <user>Mai</user>
    <text>Ah, I don’t see that link/button because my reputation points are too low.</text>
  </message>
  <message conversation_id="1">
    <ts>2018-12-31T05:18:44.056100</ts>
    <user>Priscila</user>
    <text>No worries.</text>
  </message>
  <message conversation_id="1">
    <ts>2018-12-31T16:19:07.056200</ts>
    <user>Boris</user>
    <text>I deleted the rktvk package for you. Sorry for the delay! Christmas!</text>
  </message>
  <message conversation_id="2">
    <ts>2019-01-01T11:17:37.056600</ts>
    <user>Luis</user>
    <text>Thank you very much</text>
  </message>
  <message conversation_id="1">
    <ts>2019-01-01T17:15:26.057400</ts>
    <user>Priscila</user>
    <text>Can anyone explain why this program results in different numbers each time it is run?</text>
  </message>
  <message conversation_id="1">
    <ts>2019-01-01T17:15:36.057700</ts>
    <user>Priscila</user>
    <text>```#lang racket
(require pict)
(send (let/ec return (pict-&amp;gt;bitmap (dc (λ (dc dx dy) (return (send dc get-pen))) 1 1)))
        get-width)```</text>
  </message>
  <message conversation_id="3">
    <ts>2019-01-01T18:10:17.059700</ts>
    <user>Jeffie</user>
    <text>The `dc` pict is called twice, the fist time with an un-initialized draw context whose pen returns a different width each time.  The second time, `dc` is called with a device context that has a default pen with a width of 1.  Try running this program several times:</text>
  </message>
  <message conversation_id="3">
    <ts>2019-01-01T18:10:27.059900</ts>
    <user>Jeffie</user>
    <text>```
#lang racket
(require pict)
(pict-&amp;gt;bitmap (dc (λ (dc dx dy) (printf "*** ~a~%" (send (send dc get-pen) get-width))) 1 1))
```</text>
  </message>
  <message conversation_id="3">
    <ts>2019-01-01T18:12:06.060500</ts>
    <user>Priscila</user>
    <text>&lt;@Jeffie&gt; Thanks!</text>
  </message>
  <message conversation_id="3">
    <ts>2019-01-01T18:14:05.061700</ts>
    <user>Priscila</user>
    <text>Hmm. Wonder why it is called twice.</text>
  </message>
  <message conversation_id="3">
    <ts>2019-01-01T18:14:52.062000</ts>
    <user>Priscila</user>
    <text>That doesn't seem right.</text>
  </message>
  <message conversation_id="3">
    <ts>2019-01-01T18:20:29.062700</ts>
    <user>Jeffie</user>
    <text>The first time it is called when the `dc` pict object is constructed.  This code calls it once, and produces random values
```
#lang racket
(require pict)
(define x (dc (λ (dc dx dy) (printf "*** ~a~%" (send (send dc get-pen) get-width))) 1 1))
```</text>
  </message>
  <message conversation_id="3">
    <ts>2019-01-01T18:21:20.063500</ts>
    <user>Jeffie</user>
    <text>Evaluating x multiple times will than call the lambda with a device context that always has a pen of width 1</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T18:55:35.064200</ts>
    <user>Gonzalo</user>
    <text>IIRC the contract on `dc` invokes the function with some random values as a sort of fuzz check?</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:01:03.065100</ts>
    <user>Priscila</user>
    <text>So that means that all picts takes twice as much to to evaluate (than is strictly needed)?</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:03:04.065400</ts>
    <user>Priscila</user>
    <text>The contract is:
```[dc (-&amp;gt;i ([draw (-&amp;gt; (is-a?/c dc&amp;lt;%&amp;gt;) real? real? any)]
            [w real?]
            [h real?])
           ([d (or/c #f real?)]
            [a (or/c #f real?)])
           #:pre/name (draw)
           "draw proc does not restore the dc state after being called"
           (does-draw-restore-the-state-after-being-called? draw)
           [p pict?])]```</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:05:04.065600</ts>
    <user>Priscila</user>
    <text>Looks ok, I think.</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:06:25.066100</ts>
    <user>Priscila</user>
    <text>But I think you are on to something (wrt contracts).</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:06:32.066400</ts>
    <user>Priscila</user>
    <text>This results in 1 every time:</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:06:37.066600</ts>
    <user>Priscila</user>
    <text>```(send (let/ec return (pict-&amp;gt;bitmap (unsafe-dc (λ (dc dx dy) (return (send dc get-pen))) 1 1)))
        get-width)```</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:06:46.067000</ts>
    <user>Priscila</user>
    <text>(changed dc to unsafe-dc)</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:07:11.067500</ts>
    <user>Jeffie</user>
    <text>`does-draw-restore-the-state-after-being-called?` calls draw to check that it restores the state?</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:08:18.068100</ts>
    <user>Priscila</user>
    <text>Oh.:
```(define (does-draw-restore-the-state-after-being-called? draw)
  (define bdc (new bitmap-dc% [bitmap (make-bitmap 1 1)]))
     (prandomize-state bdc)
     (define old-state (get-dc-state bdc))
     (draw bdc 0 0)
     (equal? (get-dc-state bdc) old-state))```</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:09:06.068500</ts>
    <user>Jeffie</user>
    <text>```
#lang racket
(require pict racket/draw)
(define p (send the-pen-list find-or-create-pen "black" 1 'solid))
(define x (dc (λ (dc dx dy) (send dc set-pen p)) 1 1))
```</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:09:24.069000</ts>
    <user>Jeffie</user>
    <text>The above fails the contract even though the pict is not rendered</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:11:10.070000</ts>
    <user>Priscila</user>
    <text>The problem here is that the call `(draw bdc 0 0)` could take a long time.</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:11:34.070500</ts>
    <user>Priscila</user>
    <text>How often is `does-draw-restore-the-state-after-being-called?` called?  Every time the pict is rendered?</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:12:33.071000</ts>
    <user>Tambra</user>
    <text>&lt;@Priscila&gt; IIRC it’s called only when the contract is attached</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:12:40.071300</ts>
    <user>Tambra</user>
    <text>but i may be misremembering</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:13:52.071900</ts>
    <user>Jeffie</user>
    <text>based on the code examples above, it is called only when the pict is created, not when it is rendered</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:15:02.072300</ts>
    <user>Tambra</user>
    <text>^ yeah that sounds right</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:15:33.072900</ts>
    <user>Priscila</user>
    <text>So what happens if I have a pict that when drawn relies on creating subpicts?</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:16:01.073400</ts>
    <user>Priscila</user>
    <text>Let's say p is (above p1 p2).</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:16:13.073700</ts>
    <user>Priscila</user>
    <text>Where p1 and p2 are pictures to be created.</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:16:36.074500</ts>
    <user>Priscila</user>
    <text>Will the draw operation of, say, p1 be called twice or four times?</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:18:52.075000</ts>
    <user>Tambra</user>
    <text>if p1 and p2 are created by your `dc` drawer, it will be called twice.</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:19:26.075800</ts>
    <user>Tambra</user>
    <text>the draw operation is splatted directly into the picts internal drawing structure, and isn’t wrapped by a contract that calls `does-draw-restore-the-state-after-being-called?`</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:19:56.076000</ts>
    <user>Tambra</user>
    <text>&lt;https://github.com/racket/pict/blob/0b0e7a9a6562a07ad9cbe14c8059d1ea34c66803/pict-lib/pict/private/pict.rkt#L1449&gt;</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:22:00.076800</ts>
    <user>Tambra</user>
    <text>if you find it’s *reeeallllyy* slow, or the extra side effects are getting in the way, you could use `unsafe-dc`</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:23:56.077500</ts>
    <user>Priscila</user>
    <text>That or single out the case width=0 and height=0.</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:24:55.078300</ts>
    <user>Priscila</user>
    <text>I have quite a few different uses of `dc` in metapict - which depends heavily on picts within picts.</text>
  </message>
  <message conversation_id="4">
    <ts>2019-01-01T19:28:28.080000</ts>
    <user>Priscila</user>
    <text>Thanks for the help.</text>
  </message>
  <message conversation_id="5">
    <ts>2019-01-02T14:57:38.080600</ts>
    <user>Stephnie</user>
    <text>&lt;@Boris&gt; could you also check the r-linq package? I have the same issue.</text>
  </message>
  <message conversation_id="6">
    <ts>2019-01-02T16:06:51.084900</ts>
    <user>Julia</user>
    <text>&lt;@Clarinda&gt; I'd posted this a couple weeks ago and it scrolled by: &lt;https://racket.slack.com/archives/C06V96CKX/p1545239011337500&gt;
I was wondering if you had any quick reaction? Even just, "Yep, that sounds as-expected", or, "You're probably doing something wrong".
(The TL;DR is `udp-receive!` _seems_ to lose datagrams around the time of a major GC.)</text>
  </message>
  <message conversation_id="6">
    <ts>2019-01-02T16:11:15.087400</ts>
    <user>Clarinda</user>
    <text>I haven’t actually tried any experiments, but it would make sense for the OS to drop a Racket socket’s packets around full-GC time if they’re being sent quickly from a different process. (Since Racket won’t check for messages during a GC, the socket’s buffer could fill up, and a full GC can take a while.)</text>
  </message>
  <message conversation_id="6">
    <ts>2019-01-02T16:17:46.090400</ts>
    <user>Julia</user>
    <text>&lt;@Clarinda&gt; That makes sense. The major GCs were something like 60-80 ms.
Thanks! Confirming what's reasonable to expect, is a huge help.</text>
  </message>
  <message conversation_id="6">
    <ts>2019-01-02T16:18:55.090900</ts>
    <user>Julia</user>
    <text>I tried incremental collection and that made the lossage more even, less bursty.</text>
  </message>
  <message conversation_id="6">
    <ts>2019-01-02T16:22:05.093600</ts>
    <user>Julia</user>
    <text>I _might_ try doing the "lower level" rx in a dedicated place, using an allocating-avoiding style.
OTOH not sure how much less loss and therefore fewer retransmits that would really get; maybe not worthwhile.</text>
  </message>
  <message conversation_id="7">
    <ts>2019-01-02T19:09:29.093700</ts>
    <user>Boris</user>
    <text>&lt;@Stephnie&gt; Just got r-linq</text>
  </message>
  <message conversation_id="8">
    <ts>2019-01-02T20:30:54.095300</ts>
    <user>Lillian</user>
    <text>Today I refactored code containing a `delay` expression. Though it worked before, I now get a "reentrant promise" error when I run it. What does this mean? How does one fix it?</text>
  </message>
  <message conversation_id="8">
    <ts>2019-01-02T20:40:28.095900</ts>
    <user>Kristeen</user>
    <text>&lt;@Lillian&gt; it means that while trying to evaluate the promise, it attempted to force the promise again</text>
  </message>
  <message conversation_id="8">
    <ts>2019-01-02T20:41:10.096200</ts>
    <user>Kristeen</user>
    <text>```
[samth@hermes:~ plt] r
Welcome to Racket v7.1.0.10.
&amp;gt; (define p (delay (force p)))
&amp;gt; (force p)
; force: reentrant promise `p' [,bt for context]
```</text>
  </message>
  <message conversation_id="8">
    <ts>2019-01-02T20:58:22.096600</ts>
    <user>Lillian</user>
    <text>Aha — that was the clue I needed. Thanks</text>
  </message>
  <message conversation_id="7">
    <ts>2019-01-02T23:32:03.096700</ts>
    <user>Stephnie</user>
    <text>Awesome! Thank you!</text>
  </message>
  <message conversation_id="9">
    <ts>2019-01-03T12:16:04.100500</ts>
    <user>Julia</user>
    <text>&lt;@Clarinda&gt; After thinking more, I believe the best (least worst?) thing to do is allow setting a larger SO_RCVBUF.
If a user cares, they can try to set it large enough to outlast a major GC.

I'm trying to add this myself -- to at least verify it's effective, before considering submitting a PR.
Unfortunately I seem to be stuck with a build error, as described in the commit message for what I have so far:
&lt;https://github.com/greghendershott/racket/commit/11490f456447fe7cb697b6fe9caf061035554b72&gt;</text>
  </message>
  <message conversation_id="9">
    <ts>2019-01-03T12:19:03.102300</ts>
    <user>Clarinda</user>
    <text>That’s a confusing build error message, and it ends up confusing because the error message at line 350 of “env.c” is written to stdout instead of stderr. (I’ll fix that.)
The solution is to bump the primitive count in “schminc.h” and the version number in “schvers.h”.</text>
  </message>
  <message conversation_id="9">
    <ts>2019-01-03T12:19:31.102700</ts>
    <user>Julia</user>
    <text>Ah! Will try that. Thanks!</text>
  </message>
  <message conversation_id="9">
    <ts>2019-01-03T12:28:55.103200</ts>
    <user>Kristeen</user>
    <text>&lt;@Julia&gt; note also some useful hints in racket/src/racket/README.txt</text>
  </message>
  <message conversation_id="9">
    <ts>2019-01-03T14:55:08.106400</ts>
    <user>Julia</user>
    <text>Thanks &lt;@Kristeen&gt; and &lt;@Clarinda&gt;. Built fine. Initial smoke test: Using a modest (?) 1 MB SO_RCVBUF is enough to survive a 50 - 100 msec major GC in my test application.
I don't want to "mission accomplished" jinx this, so I'm going to spend some more time with it. But I think I will have a PR at some point in the near future.</text>
  </message>
  <message conversation_id="10">
    <ts>2019-01-03T16:18:29.107800</ts>
    <user>Priscila</user>
    <text>FWIW finally got around to documenting curves in MetaPict. &lt;http://docs.racket-lang.org/metapict/index.html#%28part._ref-curve%29&gt;</text>
  </message>
  <message conversation_id="9">
    <ts>2019-01-03T20:48:23.113200</ts>
    <user>Julia</user>
    <text>I notice my build failed for CS because my new `rktio_udp_set_receiver_buffer` wasn't available to `udp-receive.rkt`.
I think that's because it's missing from `rktio.def` and `rktio.inc`
I'm trying to run `rktio/parse.rkt` to regenerate, manually.
1. Is that correct I should run manually (make doesn't do this)?
2. When I try to run manually, it errors at line 248 of `rktio.h`:
```
RKTIO_EXTERN void rktio_create_console();
```
Quick glance, I think that's because the grammar doesn't know how to handle empty params (that's the only such decl).
But I'm not confident how to fix the grammar.
Also I probably shouldn't fix that in a PR adding UDP receive buffer. :slightly_smiling_face:
Is that something you could fix &lt;@Clarinda&gt; (at your convenience) and I could rebase on your newer `master`?</text>
  </message>
  <message conversation_id="9">
    <ts>2019-01-03T20:49:28.113700</ts>
    <user>Julia</user>
    <text>Or I could look at it more and try to fix the grammar, in another PR.</text>
  </message>
  <message conversation_id="9">
    <ts>2019-01-03T20:59:29.114900</ts>
    <user>Julia</user>
    <text>Oh derp. My C is super rusty.
The parser is OK as-is if I change the line of `rktio.h` to
```
RKTIO_EXTERN void rktio_create_console(void);
```</text>
  </message>
  <message conversation_id="9">
    <ts>2019-01-03T21:10:37.115800</ts>
    <user>Julia</user>
    <text>(BTW I only mentioned two files above, but I do realize I need to use `rktio/parse.rkt` to regenerate all three of `rktio.{def inc rktl}`.)</text>
  </message>
  <message conversation_id="9">
    <ts>2019-01-03T21:20:38.116200</ts>
    <user>Clarinda</user>
    <text>&lt;@Julia&gt; Thanks! I think it’s ok to include that repair to “rktio.h” with your commit.</text>
  </message>
  <message conversation_id="9">
    <ts>2019-01-03T21:21:26.116400</ts>
    <user>Julia</user>
    <text>OK cool will do.</text>
  </message>
  <message conversation_id="9">
    <ts>2019-01-04T12:43:24.116700</ts>
    <user>Tambra</user>
    <text>Clearly, you should learn Objective-C++, as thats all you ever need! :stuck_out_tongue:</text>
  </message>
  <message conversation_id="9">
    <ts>2019-01-04T13:36:20.117200</ts>
    <user>Julia</user>
    <text>:see_no_evil:</text>
  </message>
  <message conversation_id="11">
    <ts>2019-01-04T13:58:23.119100</ts>
    <user>Gonzalo</user>
    <text>&lt;@Alden&gt; Is there a reason DrRacket’s column width guide counts pixels rather than actually counting the number of characters in a line? I have a font that renders some characters (notably unicode but also some non-unicode) _slightly_ wider, so DrRacket complains about a line with 102 characters, but if I change the font it stops doing so.</text>
  </message>
  <message conversation_id="11">
    <ts>2019-01-04T14:00:25.120800</ts>
    <user>Gonzalo</user>
    <text>I find that behavior confusing: I wouldn’t expect changing the font to affect which lines DrRacket thinks are “too long”, given that enforcing a column width seems more about creating a standard shared amongst a _team_ of people, and other people will likely not be using my exact font…</text>
  </message>
  <message conversation_id="12">
    <ts>2019-01-04T20:16:45.123200</ts>
    <user>Kristeen</user>
    <text>&lt;@Amira&gt; I'm trying to use gtp-benchmarks and getting stuck. I want to generate the full tree of configurations and not run anything. How do I do that?</text>
  </message>
  <message conversation_id="12">
    <ts>2019-01-05T06:29:02.124800</ts>
    <user>Amira</user>
    <text>&lt;@Kristeen&gt; there's a script for that. In the `gtp-benchmarks` directory you can run e.g. `racket utilities/make-configurations.rkt benchmarks/synth`. This makes a new folder named `synth-configurations` in the current directory. &lt;http://docs.racket-lang.org/gtp-benchmarks/index.html#%28mod-path._gtp-benchmarks%2Futilities%2Fmake-configurations%29&gt;</text>
  </message>
  <message conversation_id="12">
    <ts>2019-01-05T07:07:17.125000</ts>
    <user>Kristeen</user>
    <text>Great. You might want to mention that in the readme which refers to a different non-existent script. </text>
  </message>
  <message conversation_id="13">
    <ts>2019-01-07T08:18:25.126400</ts>
    <user>Shavon</user>
    <text>Happy New Year! :slightly_smiling_face: - I know it's the 7th but I just returned from holidays.</text>
  </message>
  <message conversation_id="13">
    <ts>2019-01-07T08:18:44.127000</ts>
    <user>Shavon</user>
    <text>Does anybody have any experience in converting scribble to odt?</text>
  </message>
  <message conversation_id="13">
    <ts>2019-01-07T08:19:08.127500</ts>
    <user>Shavon</user>
    <text>I am trying pandoc to do scribble -&amp;gt; html -&amp;gt; odt but the output is ridiculously bad.</text>
  </message>
  <message conversation_id="13">
    <ts>2019-01-07T08:19:33.128100</ts>
    <user>Shavon</user>
    <text>scribble -&amp;gt; latex -&amp;gt; odt doesn't seem to work as pandoc complains about malformed latex although latex is happy with it.</text>
  </message>
  <message conversation_id="13">
    <ts>2019-01-07T11:05:04.129600</ts>
    <user>Tambra</user>
    <text>&lt;@Shavon&gt; ISTR someone on twitter saying scribble -&amp;gt; (latex or pdf?) -&amp;gt; doc (using pandoc) worked okay, so maybe taking a -&amp;gt; odt on the end there will work for you?</text>
  </message>
  <message conversation_id="13">
    <ts>2019-01-07T11:18:10.131800</ts>
    <user>Shavon</user>
    <text>&lt;@Tambra&gt; will try but I am not keeping my hopes high. Pandoc to odt was pretty poor. Lost scheme block highlighting and indentation, footnotes and margin notes. </text>
  </message>
  <message conversation_id="13">
    <ts>2019-01-07T11:19:02.133500</ts>
    <user>Shavon</user>
    <text>Better until now was tex4ht oolatex from scribble latex to odt. In any case, will try word as soon as I am back on the PC. Thanks. </text>
  </message>
  <message conversation_id="14">
    <ts>2019-01-07T11:56:30.135800</ts>
    <user>Hallie</user>
    <text>while we are at scribble does anyone know if when using `#lang scribble/lp2` you can get the content of the expanded `chunk` (e.g. for printing or saving to file)?</text>
  </message>
  <message conversation_id="15">
    <ts>2019-01-07T13:37:26.139600</ts>
    <user>Julia</user>
    <text>&lt;@Clarinda&gt; I'm now testing things on Windows. Even with stock 7.1, I'm seeing a boatload of logger warnings doing things with UDP:
```
error for long-term poll set: unsupported; rktio_err=1
```
This comes from `scheme_rktio_fd_to_semaphore` in `thread.c` getting a `NULL` value from `rktio_ltps_add` in `rktio_ltps.c`.
The very start of which is:
```
rktio_ltps_handle_t *rktio_ltps_add(rktio_t *rktio, rktio_ltps_t *lt, rktio_fd_t *rfd, int mode)
{
#ifdef RKTIO_SYSTEM_WINDOWS
  set_racket_error(RKTIO_ERROR_UNSUPPORTED);
  return NULL;
```

And yet, things seem to work anyway, albeit maybe somewhat more slowly due to the deluge of `log-warning`s.</text>
  </message>
  <message conversation_id="15">
    <ts>2019-01-07T14:24:06.139800</ts>
    <user>Clarinda</user>
    <text>I’ll look into this more in the next couple of days, but probably the solution is to not log a warning on `RKTIO_ERROR_UNSUPPORTED`.</text>
  </message>
  <message conversation_id="15">
    <ts>2019-01-07T14:30:01.140000</ts>
    <user>Julia</user>
    <text>Although I don't really comprehend the code, that's what I was wondering.</text>
  </message>
  <message conversation_id="15">
    <ts>2019-01-07T14:31:16.140200</ts>
    <user>Julia</user>
    <text>(I've been running lots of things with specific defined loggers of my own, cranked up. But hadn't run with the default logger level set &amp;gt;= 'warning, in quite awhile. I added a log-warning to my own code, not sure if I was going to go on and define a logger for it, and that's when I noticed.)</text>
  </message>
  <message conversation_id="16">
    <ts>2019-01-07T17:59:24.141100</ts>
    <user>Priscila</user>
    <text>Shortest way to go from   '(a b c d) to  '((a b) (b c) (c d)) ?</text>
  </message>
  <message conversation_id="16">
    <ts>2019-01-07T18:09:09.141400</ts>
    <user>Mai</user>
    <text>What about
```
(define (f xs) (for/list ([x xs] [y (rest xs)]) (list x y)))
```
? Note that it will error when the input is an empty list.</text>
  </message>
  <message conversation_id="16">
    <ts>2019-01-07T18:12:05.141800</ts>
    <user>Priscila</user>
    <text>Much better than what I had.</text>
  </message>
  <message conversation_id="16">
    <ts>2019-01-07T18:13:05.142500</ts>
    <user>Priscila</user>
    <text>If we had an in-pair:   `(for/list ([p (in-pairs xs)]) (take p 2))`</text>
  </message>
  <message conversation_id="17">
    <ts>2019-01-07T18:43:14.143000</ts>
    <user>Lillian</user>
    <text>Is there a `match` pattern that means “zero or one”?</text>
  </message>
  <message conversation_id="17">
    <ts>2019-01-07T18:44:49.143700</ts>
    <user>Lillian</user>
    <text>Unlike `...` which means “zero or more” or `..k` which means “k or more”</text>
  </message>
  <message conversation_id="17">
    <ts>2019-01-07T18:47:12.145200</ts>
    <user>Mai</user>
    <text>You can do `(and xs (or (list) (list _)))`, I think.</text>
  </message>
  <message conversation_id="17">
    <ts>2019-01-07T18:59:53.145800</ts>
    <user>Mai</user>
    <text>You can also use the `#:when` clause if the above pattern looks too ugly</text>
  </message>
  <message conversation_id="18">
    <ts>2019-01-09T12:08:42.146700</ts>
    <user>Kristeen</user>
    <text>&lt;@Clarinda&gt; is this a known issue with macOS permissions? &lt;https://www.reddit.com/r/Racket/comments/ae8jlx/why_does_drracket_ask_for_permission_to_control/&gt;</text>
  </message>
  <message conversation_id="18">
    <ts>2019-01-09T12:10:09.147900</ts>
    <user>Clarinda</user>
    <text>I have seen this, and I don’t know what causes it – the use of some API, I guess. Since it goes away after the very first time, I’ve only seen it once. Maybe it’s once per app, though, so I should try more.</text>
  </message>
  <message conversation_id="18">
    <ts>2019-01-09T12:13:56.148200</ts>
    <user>Kristeen</user>
    <text>this suggests that it's the accessibility API: &lt;https://superuser.com/questions/1149848/mac-what-permissions-are-granted-for-allow-the-apps-below-to-control-your-comp&gt;</text>
  </message>
  <message conversation_id="19">
    <ts>2019-01-09T12:59:32.148800</ts>
    <user>Shavon</user>
    <text>Does anyone know if the videos for the last racketcon will make it online?</text>
  </message>
  <message conversation_id="20">
    <ts>2019-01-09T14:09:07.148900</ts>
    <user>Clarinda</user>
    <text>I had seen something like that before, but `racket/gui` doesn’t directly use anything labeled as the “Accessibility API”.

It turns out that the trigger is a call to `CGEventTapCreate`, which is there to compensate for a problem detecting a menu-bar click on 10.13. But it seems that 10.14 has returned to the old behavior in a corner of the event system, where `CGEventTapCreate` isn’t needed as a workaround (and the code falls back to the old behavior, just in case it helps, if `CGEventTapCreate` fails – which it does and does on 10.14). So, I can make the use of `CGEventTapCreate` 10.13-specific.</text>
  </message>
  <message conversation_id="21">
    <ts>2019-01-09T14:43:40.149300</ts>
    <user>Kristeen</user>
    <text>Ah, I see that this is actually mentioned (under "Discussion") here: &lt;https://developer.apple.com/documentation/coregraphics/1454426-cgeventtapcreate&gt;</text>
  </message>
  <message conversation_id="20">
    <ts>2019-01-09T15:42:16.149500</ts>
    <user>Clarinda</user>
    <text>Except that `racket/gui` asks only for mouse events, not keyboard events.</text>
  </message>
  <message conversation_id="21">
    <ts>2019-01-09T16:45:32.150000</ts>
    <user>Priscila</user>
    <text>Strange build error on the build server:  &lt;https://pkg-build.racket-lang.org/server/built/fail/game-engine.txt&gt;</text>
  </message>
  <message conversation_id="20">
    <ts>2019-01-09T17:05:52.150100</ts>
    <user>Clarinda</user>
    <text>The pkg-build machine can’t support references that aren’t catalog-resolved names, since the build virtual machine isn’t connected to the network</text>
  </message>
  <message conversation_id="21">
    <ts>2019-01-09T17:11:43.150300</ts>
    <user>Priscila</user>
    <text>Ah! I thought it was a fluke - a random connection to Github that failed.

I see now that &lt;https://github.com/thoughtstem/game-engine/blob/master/info.rkt&gt;
refers to a specific version of lux.</text>
  </message>
  <message conversation_id="21">
    <ts>2019-01-09T17:12:32.150600</ts>
    <user>Priscila</user>
    <text>The question arose because a user on Reddit asked whether game-engine was abandoned (he noticed that the build failed).</text>
  </message>
  <message conversation_id="20">
    <ts>2019-01-10T09:30:23.151300</ts>
    <user>Shavon</user>
    <text>&lt;@Julia&gt; are you aware of the issue that Alex just pointed out in frog? &lt;https://groups.google.com/d/msg/racket-users/OAXqQd7XYbc/1PIrHmSrDAAJ&gt;</text>
  </message>
  <message conversation_id="22">
    <ts>2019-01-10T11:37:21.151600</ts>
    <user>Julia</user>
    <text>"Just" meaning "May 2018" ? :slightly_smiling_face:</text>
  </message>
  <message conversation_id="22">
    <ts>2019-01-10T11:37:47.152100</ts>
    <user>Julia</user>
    <text>No, I hadn't noticed that until seeing the more-recent thread, yesterday.</text>
  </message>
  <message conversation_id="22">
    <ts>2019-01-10T11:39:00.152600</ts>
    <user>Julia</user>
    <text>My New Year's resolution is to try to spend more time testing my stuff on Windows.</text>
  </message>
  <message conversation_id="22">
    <ts>2019-01-10T11:40:41.154500</ts>
    <user>Julia</user>
    <text>The first couple days of which, has not been fun. Feels like death by a thousand cuts (e.g. getting GUI Emacs to work smoothly with any of Cygwin, Windows Subsystem for Linux, etc.  Or, you can use terminal Emacs in WSL ... but can't update Emacs pkgs unless you install XServer. Because reasons.</text>
  </message>
  <message conversation_id="22">
    <ts>2019-01-10T11:41:11.155200</ts>
    <user>Julia</user>
    <text>So my current mood is kind of FML.
But I guess a New Year's resolution isn't any good if it's easy. Has to be hard, like exercising or diet, right? :slightly_smiling_face:</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-10T12:06:07.155800</ts>
    <user>Shavon</user>
    <text>oh wow... sorry. :slightly_smiling_face: I guess I started reading too many old unread messages and went quite far back without realising.</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-10T12:07:45.157400</ts>
    <user>Shavon</user>
    <text>My guess is that exercising is easier and healthier than trying to get anything to work on windows... :smile: So, I won't certainly be the one recommending it - any sane doctor won't either assuming any new year resolution is supposed to improve your quality of life</text>
  </message>
  <message conversation_id="22">
    <ts>2019-01-10T12:28:55.159300</ts>
    <user>Mauro</user>
    <text>&lt;@Julia&gt; death by a thousand cuts is an apt way to describe getting Unix-land to work on Windows.

Out of curiosity, have you tried MSYS2 yet? I've found it offers the easiest way getting unix tools to work well on Windows, including talking to other Windows tools without running into too many problems with binary or other data layout incompatibility issues</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-10T12:29:25.159900</ts>
    <user>Mauro</user>
    <text>You can even install a successfully working GUI emacs via MSYS2's package system, no fiddling with missing dependencies</text>
  </message>
  <message conversation_id="22">
    <ts>2019-01-11T23:08:48.164400</ts>
    <user>Julia</user>
    <text>&lt;@Mauro&gt; No I haven't tried msys2 yet. Thanks for the tip. I will definitely try that.
(For now I've reached temporary equilibrium at least having installed Windows version of `ripgrep`, the Emacs mode `deadgrep`, and hooked `ripgrep` into `projectile-search-project`. So, at least I can search in projects smoothly. And `ripgrep` is much faster than `grep`; I prefer it on macOS anyway. Having said all that, I still want all the unixy command-line tools, preferably from one source -- hopefully msys2 will be that.)</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-13T14:53:42.166000</ts>
    <user>Shavon</user>
    <text>I am using `#:lang "racket/base"` in a scribble document for an `@examples...` section of a `scribble/base` doc. However I am getting:
```
Warning: some cross references may be broken due to undefined tags:
 (part ("(lib scribblings/guide/guide.scrbl)" "hash-lang"))
```</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-13T14:53:59.166600</ts>
    <user>Shavon</user>
    <text>What do I need to require here? I tried all sorts of combinations but it doesn't seem to help.</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-13T14:54:29.167200</ts>
    <user>Shavon</user>
    <text>I thought `for-label` was something that could be useful but I got even more problems when I tried to use it.</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-13T16:59:10.167600</ts>
    <user>Priscila</user>
    <text>&lt;@Shavon&gt; Does Greg's suggestion work for you?  &lt;https://lists.racket-lang.org/users/archive/2012-August/053522.html&gt;</text>
  </message>
  <message conversation_id="22">
    <ts>2019-01-13T21:23:42.168200</ts>
    <user>Amira</user>
    <text>try the `+m` option ... `raco scribble +m file.scrbl`</text>
  </message>
  <message conversation_id="22">
    <ts>2019-01-13T21:30:46.170200</ts>
    <user>Amira</user>
    <text>hm, `+m` links to your local docs. I'm not sure how to make links into &lt;http://docs.racket-lang.org|docs.racket-lang.org&gt; ... maybe there's a combination of `+m` and `--redirect`</text>
  </message>
  <message conversation_id="24">
    <ts>2019-01-13T22:26:37.172000</ts>
    <user>Azucena</user>
    <text>I'm in the middle of helping a student install a package, so only have a moment to note a bug and might not get around to filing it properly: the chinese translation of `(string-constant install-pkg-dependencies-fail)` uses a full-width colon character instead of a regular colon, causing
```&amp;gt;    cadr: contract violation
&amp;gt;      expected: (cons/c any/c pair?)
&amp;gt;      given: #f
&amp;gt;      context...:
&amp;gt;       /Applications/Racket
&amp;gt;    v7.1/share/pkgs/gui-pkg-manager-lib/pkg/gui/private/by-source.rkt:534:4
&amp;gt;    : adjust-deps method in by-source-panel%```</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-14T05:29:43.172600</ts>
    <user>Shavon</user>
    <text>&lt;@Priscila&gt; thanks for the reference, will take a look but at a glance, it looks like the same issue.</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-14T12:10:39.173900</ts>
    <user>Julia</user>
    <text>&lt;@Priscila&gt; &lt;@Shavon&gt; Incidentally, although I'm happy to accept an honorary promotion to being Matthias (I think?), it was actually his suggestion not mine.</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-14T14:21:05.175000</ts>
    <user>Shavon</user>
    <text>&lt;@Priscila&gt; how hard would it be to implement the xkcd algorithm on metapict? Ref: &lt;http://jakevdp.github.io/blog/2012/10/07/xkcd-style-plots-in-matplotlib/&gt;</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-14T14:21:55.176100</ts>
    <user>Shavon</user>
    <text>I can't find in the docs of metapict any information about internal representation so I am unsure if I can access each of the lines I need. Any suggestions on how and where to start?</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-14T14:27:23.177400</ts>
    <user>Priscila</user>
    <text>&lt;@Shavon&gt; That's certainly doable. As luck has the documentation has recently been updated, so the internal representation of curves are now documented here:  &lt;http://docs.racket-lang.org/metapict/index.html?q=metapict#%28part._ref-curve%29&gt;</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-14T14:27:36.177800</ts>
    <user>Priscila</user>
    <text>(the docs on Github hasn't been updated yet).</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-14T14:28:14.178500</ts>
    <user>Priscila</user>
    <text>It's pretty simple a    `curve:` is simply a list of Bezier curves with a flag that signals whether the curve is cyclic.</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-14T14:29:20.179200</ts>
    <user>Priscila</user>
    <text>A Bezier curve is represented as: (struct bez (p0 p1 p2 p3)) where p0, p1, p2, p3 are the control points.</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-14T14:29:45.179700</ts>
    <user>Priscila</user>
    <text>Well, p0 and p3 are the start and end point  - and p1 and p2 are the control points.</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-14T14:32:44.181300</ts>
    <user>Priscila</user>
    <text>Final piece of the puzzle is the recently added arc-time . Here (arc-time c a)  finds the time t where the length of the subcurve from c(0) to c(t) has length a.</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-14T14:33:45.182500</ts>
    <user>Priscila</user>
    <text>That can be used to find points along the curve evenly spaced - and then construct a new curve through the same points slightly distorted.</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-14T14:34:32.183200</ts>
    <user>Shavon</user>
    <text>Interesting. Thanks for this. I will give a try to build a metapict extension that creates xkcd-style metapicts.</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-14T14:36:01.184000</ts>
    <user>Priscila</user>
    <text>An example of finding points evenly distributed a long a curve:</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-14T14:36:03.184200</ts>
    <user>Priscila</user>
    <text>&lt;https://github.com/soegaard/metapict/blob/master/metapict/markings.rkt#L89&gt;</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-14T14:36:32.184700</ts>
    <user>Priscila</user>
    <text>Also take a peak on the tikz solution:</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-14T14:36:33.184900</ts>
    <user>Priscila</user>
    <text>&lt;https://tex.stackexchange.com/questions/74878/create-xkcd-style-diagram-in-tex&gt;</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-14T14:37:07.185500</ts>
    <user>Priscila</user>
    <text>It would be a pretty fun thing to have in MetaPict.</text>
  </message>
  <message conversation_id="23">
    <ts>2019-01-14T14:37:47.185900</ts>
    <user>Shavon</user>
    <text>Thanks for that ref, I shall take a look.</text>
  </message>
  <message conversation_id="25">
    <ts>2019-01-15T17:32:03.187900</ts>
    <user>Tomas</user>
    <text>Question about `get-pure-port/headers` and redirects. Currently with this test code:

```
#lang racket

(require net/url-structs
         net/url)

(define-values (body header)
  (get-pure-port/headers
   (string-&amp;gt;url "&lt;https://t.co/3Xp6QzPqI3&gt;")
   #:status? #t #:redirections 20))

(displayln header)
(displayln (port-&amp;gt;string body))
```

The `#:redirections` is set to `20` but all I get back is:

```
HTTP/1.1 301 Moved Permanently
cache-control: private,max-age=300
content-length: 0
date: Tue, 15 Jan 2019 22:29:12 GMT
expires: Tue, 15 Jan 2019 22:34:12 GMT
location: &lt;http://blog.robic.me&gt;
server: tsa_b
set-cookie: muc=fef1dfb0-3fb3-4c05-9558-5bf4891b6fec; Max-Age=63072000; Expires=Thu, 14 Jan 2021 22:29:12 GMT; Domain=&lt;http://t.co|t.co&gt;
strict-transport-security: max-age=0
vary: Origin
x-connection-hash: dce864e4ab2808ba233ef1a00ed80628
x-response-time: 16
```

I thought it would follow the `301`</text>
  </message>
  <message conversation_id="25">
    <ts>2019-01-15T17:32:21.188100</ts>
    <user>Tomas</user>
    <text>or does it only follow `302`?</text>
  </message>
  <message conversation_id="25">
    <ts>2019-01-15T17:48:01.188500</ts>
    <user>Tomas</user>
    <text>yeah it def works with a `302` using ` "&lt;https://httpbin.org/absolute-redirect/10&gt;"`</text>
  </message>
  <message conversation_id="25">
    <ts>2019-01-15T17:53:51.188800</ts>
    <user>Tomas</user>
    <text>could it be because its going from `https` to `http`?</text>
  </message>
  <message conversation_id="26">
    <ts>2019-01-16T05:53:17.189500</ts>
    <user>Priscila</user>
    <text>Never thought to change my attire, when working on evaluators: &lt;https://www.youtube.com/watch?v=0m6hoOelZH8&amp;amp;t=246s&gt;</text>
  </message>
  <message conversation_id="26">
    <ts>2019-01-16T05:57:43.190600</ts>
    <user>Shavon</user>
    <text>&lt;@Priscila&gt; this is an absolute amazing series of lectures. They should remaster them, if possible. Never quite understood why they stopped teaching scheme, such a shame.</text>
  </message>
  <message conversation_id="26">
    <ts>2019-01-16T05:59:06.191200</ts>
    <user>Priscila</user>
    <text>Must admit that I haven't watched the series. I love SICP though.</text>
  </message>
  <message conversation_id="26">
    <ts>2019-01-16T05:59:45.191700</ts>
    <user>Priscila</user>
    <text>I think the students and/or teachers changed :wink:</text>
  </message>
  <message conversation_id="25">
    <ts>2019-01-16T06:44:10.194300</ts>
    <user>Kami</user>
    <text>Sometimes there are shots of student's faces looking desperately lost. I think the modern equivalent of this specific course about the evaluator could be William Byrd's talk about the scheme evaluator: &lt;https://youtu.be/OyfBQmvr2Hc?t=2152&gt;
It's what got me into scheme for good.</text>
  </message>
  <message conversation_id="25">
    <ts>2019-01-16T08:16:00.195700</ts>
    <user>Kami</user>
    <text>&lt;https://youtu.be/0m6hoOelZH8?t=1269&gt; the way he pronounces "cadadr" got me :joy:</text>
  </message>
  <message conversation_id="27">
    <ts>2019-01-17T20:03:43.204300</ts>
    <user>Mai</user>
    <text>&amp;gt; The dynamic extent of an expression is the sequence of evaluation steps during which the expression contains the redex.

(from &lt;https://docs.racket-lang.org/reference/eval-model.html#%28part._cont-model%29&gt;)

Should this actually be:

&amp;gt; The dynamic extent of an expression is the sequence of evaluation steps during which the expression contains _some_ redex.

?</text>
  </message>
  <message conversation_id="27">
    <ts>2019-01-17T20:16:48.206100</ts>
    <user>Kristeen</user>
    <text>No, "the redex" means "the redex in the evaluation step"</text>
  </message>
  <message conversation_id="27">
    <ts>2019-01-17T20:23:45.207700</ts>
    <user>Gonzalo</user>
    <text>…and “the redex” is unambiguous for a given expression because of Racket’s well-defined evaluation order (e.g. in `(- (+ x 1) (* y 2))`, the redex is `(+ x 1)` and _not_ `(* y 2)` because evaluation order is left-to-right).</text>
  </message>
  <message conversation_id="28">
    <ts>2019-01-17T20:24:09.208100</ts>
    <user>Gonzalo</user>
    <text>(But what samth said is true even without that property.)</text>
  </message>
  <message conversation_id="27">
    <ts>2019-01-17T20:29:26.211100</ts>
    <user>Mai</user>
    <text>It’s unambiguous, but varies as we step through the trace, right? E.g., `(* [(+ 1 1)] (+ 2 2))` =&amp;gt; `(* 2 [(+ 2 2)])`

I guess my confusion is that, saying _the_ redex seems to suggest that we fix a particular redex, but that’s not true, correct?</text>
  </message>
  <message conversation_id="27">
    <ts>2019-01-17T20:30:18.211600</ts>
    <user>Susana</user>
    <text>_the_ redex in the current evaluation step</text>
  </message>
  <message conversation_id="27">
    <ts>2019-01-17T20:32:36.212500</ts>
    <user>Mai</user>
    <text>Please bear with me--I’m truly confused. So this is actually about one single step, and not a sequence of steps?</text>
  </message>
  <message conversation_id="27">
    <ts>2019-01-17T20:38:11.213100</ts>
    <user>Susana</user>
    <text>the definition was about the dynamic extent of an expression</text>
  </message>
  <message conversation_id="27">
    <ts>2019-01-17T20:38:34.213600</ts>
    <user>Susana</user>
    <text>in any evaluation step, the expression may or may not contain _the_ redex (for the current evaluation step)</text>
  </message>
  <message conversation_id="27">
    <ts>2019-01-17T20:39:18.214300</ts>
    <user>Susana</user>
    <text>the dynamic extent of the expression is the sequence of steps in which the expression contains _the_ redex</text>
  </message>
  <message conversation_id="27">
    <ts>2019-01-17T20:40:34.214900</ts>
    <user>Mai</user>
    <text>Ah, I think I understand it now. Thanks!</text>
  </message>
  <message conversation_id="29">
    <ts>2019-01-18T14:03:26.223800</ts>
    <user>Sean</user>
    <text>My impression was a few  (5 to 10?) years ago, MIT changed the intro class to Python and moved Scheme to be after Python. When I talked with Hal &amp;amp; Gerry at the time, they were OK with the change.</text>
  </message>
  <message conversation_id="29">
    <ts>2019-01-18T14:04:14.224000</ts>
    <user>Sean</user>
    <text>This 1986 taped class was a special one, I think for HP.</text>
  </message>
  <message conversation_id="30">
    <ts>2019-01-18T23:27:34.226800</ts>
    <user>Julia</user>
    <text>If you enable `'warning` level for the `'optimizer` logger, it will sometimes print helpful things like:
`optimizer: warning in: /path/to/file.rkt:338:3: in module: optimizer detects procedure incorrectly applied to 2 arguments: some-function`.
Is there some way to print these when using `raco setup`?
Even better, is there some sort of treat-warnings-as-errors option?</text>
  </message>
  <message conversation_id="30">
    <ts>2019-01-18T23:32:02.227300</ts>
    <user>Gonzalo</user>
    <text>Does setting `PLTSTDERR='error warning@optimizer'` work?</text>
  </message>
  <message conversation_id="31">
    <ts>2019-01-20T10:05:39.227600</ts>
    <user>Deeanna</user>
    <text>Is this a bug in the build service? &lt;https://pkg-build.racket-lang.org/server/built/fail/forms-doc.txt&gt;</text>
  </message>
  <message conversation_id="31">
    <ts>2019-01-20T10:06:54.228300</ts>
    <user>Deeanna</user>
    <text>Nothing in &lt;https://github.com/Bogdanp/racket-forms/blob/master/forms-doc/forms.scrbl&gt; is doing anything w/ SSL as far as I'm aware.</text>
  </message>
  <message conversation_id="31">
    <ts>2019-01-20T10:27:03.228700</ts>
    <user>Clarinda</user>
    <text>Requiring something like `web-server/http` almost certainly depends on the SSL library. Generally, it’s difficult to set up a sandbox for code that is actually untrusted but can still do complicated things. We mostly use `call-with-trusted-sandbox-configuration` for documentation-example sandboxes.</text>
  </message>
  <message conversation_id="31">
    <ts>2019-01-20T16:59:00.228900</ts>
    <user>Deeanna</user>
    <text>Got it. Thanks!</text>
  </message>
  <message conversation_id="30">
    <ts>2019-01-20T18:40:11.233100</ts>
    <user>Madelaine</user>
    <text>I'm trying to help a colleague install a package with the DrRacket "File|Package Manager…" window on Windows 10. (Specifically, he is following these steps: &lt;https://docs.racket-lang.org/ricoeur-tei-utils/Installing___Updating_This_Library.html&gt;) He reports that, even from a fresh Racket 7.1 installation, installation fails with the error message: ```links: error reading from link file: #&amp;lt;path:C:\Users\Nordis\AppData\Roaming\Racket\7.1\links.rktd&amp;gt;: C:\Users\Nordis\AppData\Roaming\Racket\7.1\links.rktd::1: read: expected a `)` to close `(` ``` Is this a known issue? The message doesn't sound like it's related to this particular package.</text>
  </message>
  <message conversation_id="30">
    <ts>2019-01-20T18:47:07.234400</ts>
    <user>Clarinda</user>
    <text>It looks like that file has become corrupted. Probably the package manager could be better at repairing it. The file is in the user directory, not the installation, so that’s why a fresh installation doens’t help. I’d delete the “7.1” directory and try again.</text>
  </message>
  <message conversation_id="32">
    <ts>2019-01-20T21:48:27.234500</ts>
    <user>Madelaine</user>
    <text>Thanks, that did it!</text>
  </message>
  <message conversation_id="30">
    <ts>2019-01-22T21:40:41.235900</ts>
    <user>Beverley</user>
    <text>is there a parameter that will cause `(require (file "asdf.rkt"))` to look for the file `"asdf.rkt"` in a certain directory (other than the directory the `require` appears in)?</text>
  </message>
  <message conversation_id="30">
    <ts>2019-01-22T21:50:43.236800</ts>
    <user>Beverley</user>
    <text>basically I need `(require (file "a/b.rkt"))` to operate relative to a particular directory, but not one that is in a collection</text>
  </message>
  <message conversation_id="30">
    <ts>2019-01-22T21:51:11.237300</ts>
    <user>Beverley</user>
    <text>this is in the context of a `dynamic-require`, so parameterizing a parameter is viable</text>
  </message>
  <message conversation_id="30">
    <ts>2019-01-23T07:14:54.238900</ts>
    <user>Julia</user>
    <text>&lt;@Beverley&gt; Probably `(current-load-relative-directory dir)`. For belt+suspenders, maybe also `(current-directory dir)`.</text>
  </message>
  <message conversation_id="33">
    <ts>2019-01-23T07:16:29.240000</ts>
    <user>Julia</user>
    <text>Hmm, although that would probably work for `"b.rkt"`, not sure for `"a/b.rkt"`.</text>
  </message>
  <message conversation_id="30">
    <ts>2019-01-23T08:48:46.241800</ts>
    <user>Clarinda</user>
    <text>If you’re `dynamic-requiring` a file that has those paths, then I don’t think a parameter will work, because the process of loading the file will shadow the parameter settings. But you can `read-syntax` the file content, then the `current-load-relative-directory` parameter parameter will affect `eval` of the syntax object. See also `with-module-reading-parameterization` and `check-module-form`.</text>
  </message>
  <message conversation_id="33">
    <ts>2019-01-23T10:04:16.242400</ts>
    <user>Julia</user>
    <text>Oh right, I've used `c-l-r-d` e.g. in racket-mode with things like `module-&amp;gt;namespace`.</text>
  </message>
  <message conversation_id="33">
    <ts>2019-01-23T10:06:36.244500</ts>
    <user>Julia</user>
    <text>What about parameterizing `current-eval` to be a function that parameterizes `current-load-relative-directory` around a call to the previous `current-eval`?
Is that a clever way to let other things still use `dynamic-require`, or, a horrible hack?</text>
  </message>
  <message conversation_id="33">
    <ts>2019-01-23T10:10:24.245400</ts>
    <user>Clarinda</user>
    <text>I wouldn’t recommend that. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T11:01:12.246200</ts>
    <user>Beverley</user>
    <text>yeah, I’ll be `dynamic-requiring` files that have those paths (which in turn `require` in other files that have those paths … and so on.</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T11:03:25.247500</ts>
    <user>Beverley</user>
    <text>is using `read-syntax` on the contents of the root file similar to `dynamic-require`?  I’ll still need to do something to extract the require-spec I need (`(submod (file "root.rkt") &amp;lt;identifier&amp;gt;)`).</text>
  </message>
  <message conversation_id="33">
    <ts>2019-01-23T11:35:09.249100</ts>
    <user>Clarinda</user>
    <text>Use `read-syntax` plus `eval` with both `current-load-relative-directory` (to control path resolution) and `current-module-declare-name` (to control the declared module name) set. Then you can `dynamic-require` with `submod` around the name that you used in `current-module-declare-name`.</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T13:31:25.249300</ts>
    <user>Beverley</user>
    <text>ok, I’ll give that a try</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T14:00:09.249700</ts>
    <user>Beverley</user>
    <text>hmm that goes into some sort of infinite loop in the read-syntax or the eval</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T14:01:07.250400</ts>
    <user>Beverley</user>
    <text>unless I’m using `currentmodule-declare-name` incorrectly:
```
  (define p (path-&amp;gt;complete-path ip))
  (define module-itself (make-resolved-module-path p))
  (parameterize ([current-load-relative-directory (current-directory)]
                 [current-module-declare-name module-itself])

    (eval (read-syntax p))
    )
```
(where `ip` is a relative path passed in)</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T14:03:03.250800</ts>
    <user>Beverley</user>
    <text>yeah, `(read-syntax p)` never returns…….</text>
  </message>
  <message conversation_id="33">
    <ts>2019-01-23T14:39:55.251200</ts>
    <user>Clarinda</user>
    <text>`read-syntax` takes an extra argument before the port. (It’s trying to read from stdin.)</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T14:42:58.251600</ts>
    <user>Beverley</user>
    <text>:flushed:  heh…</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T15:06:09.252200</ts>
    <user>Beverley</user>
    <text>next issue, that read-syntax errors out with `module-name::1: read: #lang not enabled in the current context`</text>
  </message>
  <message conversation_id="35">
    <ts>2019-01-23T15:12:36.252900</ts>
    <user>Elin</user>
    <text>The `syntax/modread` module has `with-module-reading-parameterization`, which calls a thunk in a context where `#lang` is enabled</text>
  </message>
  <message conversation_id="35">
    <ts>2019-01-23T15:22:04.253400</ts>
    <user>Beverley</user>
    <text>hmm… that get’s `#lang`, but `module` and `#%app` aren’t bound now</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T15:22:28.253900</ts>
    <user>Beverley</user>
    <text>although my `#lang` rebinds `module`, so I’m not sure what’s going on</text>
  </message>
  <message conversation_id="35">
    <ts>2019-01-23T15:42:18.254400</ts>
    <user>Clarinda</user>
    <text>Use `check-module-form` to make `module` have the right binding.</text>
  </message>
  <message conversation_id="35">
    <ts>2019-01-23T15:43:13.255100</ts>
    <user>Clarinda</user>
    <text>The bindings of your language apply inside a module that uses the language, but you need `module` as really a module to get started.</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T19:57:37.256000</ts>
    <user>Beverley</user>
    <text>That got the correct bindings, but brought me full circle…</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T19:58:40.257100</ts>
    <user>Beverley</user>
    <text>I use that mechanism to eval “a.rkt”, which requires “dir/b.rkt”, which requires “dir/c.rkt”.  It fails during the `require` of “dir/c.rkt” because it’s using the path “dir/dir/c.rkt”</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T19:58:57.257400</ts>
    <user>Beverley</user>
    <text>so the parameters get lost one require in</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T20:01:09.258000</ts>
    <user>Beverley</user>
    <text>my syntax in “dir/b.rkt” boils down to `(require (file "dir/c.rkt"))`</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T20:15:37.259500</ts>
    <user>Beverley</user>
    <text>Another way to do this would be to change the syntax I’m using to generate the `(require (file "dir/c.rkt"))` to generate a full path to “c.rkt”. The challenge then would how to pass the root directory into that syntax or to have that syntax expand to a reference to the root path (breaking hygiene in the process)</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T20:34:12.260700</ts>
    <user>Beverley</user>
    <text>unfortunately the only way I know how to do that is to write the path to a file and read the file in the syntax to grab the path — there’re no parameters kept across the compilation boundaries (AFAICT)</text>
  </message>
  <message conversation_id="36">
    <ts>2019-01-23T20:43:54.265800</ts>
    <user>Clarinda</user>
    <text>I’m not really clear on what you’re trying to do, but it’s starting to sound like you want to install a collection, and then you can refer to the collection without using an absolute path.
Another possibility is that you want to more completely take control over module-path resolution by using `(lib ...)` paths that don’t refer to an installed collection and setting `current-module-name-resolver` to find the would-be collection yourself. That’s not usually a good option, because relying on a custom module name resolver doesn’t play well with tools like `raco make`. But it can work out if you’re at a point where those tools don’t apply. For example, `raco exe` generates an executable that sets `current-module-name-resolver`, and it’s ok because tools like `raco make` don’t apply to an already-constructed executable.</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T20:45:23.266100</ts>
    <user>Beverley</user>
    <text>is it possible to have a language specific collection?</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T20:46:24.267200</ts>
    <user>Beverley</user>
    <text>doing a `(require (lib "dir/c"))` would be nice if couldn’t accidentally grab a “dir/c” in just any collection.  to be clearer, my files are `#lang fracas` so the actual file in this case is `dir/c.frc`.</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T20:47:16.268000</ts>
    <user>Beverley</user>
    <text>but, yes, the `(lib ...)` mechanism is close to what I’m trying to do… I just want a separate “namespace” for my fracas collection(s)</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T20:47:35.268400</ts>
    <user>Beverley</user>
    <text>and maintaining `raco make` would be nice, but not strictly necessary</text>
  </message>
  <message conversation_id="36">
    <ts>2019-01-23T21:21:13.270400</ts>
    <user>Clarinda</user>
    <text>When `(require (file "dir/c"))` appears in a `#lang fracas` module, where do you want “c.frc” be found. Always relative to the enclosing module, or relative to the “fracas” collection, or something else?</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T21:24:54.270600</ts>
    <user>Beverley</user>
    <text>relative to the fracas collection</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T21:25:37.271400</ts>
    <user>Beverley</user>
    <text>e.g. its full path will be: `/Users/me/src/all-my-fracas-files/dir/c.rkt`</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T21:26:20.272100</ts>
    <user>Beverley</user>
    <text>so the “collection”, as it were, for fracas files is `/Users/me/src/all-my-fracas-files`</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T21:27:26.273300</ts>
    <user>Clarinda</user>
    <text>Would it make from `#lang fracas` to provide a different `require` that expands something like `(require "dir/c")` to `(require (lib "fracas/dir/c.frc"))`?</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T21:27:52.274000</ts>
    <user>Clarinda</user>
    <text>(where the first `require` is the `fracas` one and the second `require` is the `racket` one)</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T21:27:59.274200</ts>
    <user>Beverley</user>
    <text>yes, I am using a “fracas” version of `require` that I’ve named `import`</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T21:28:15.274600</ts>
    <user>Beverley</user>
    <text>that expands to `(require (file "dir/c.frc"))`</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-23T21:28:27.275000</ts>
    <user>Beverley</user>
    <text>changing that seems the like right approach….</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-24T08:59:55.276600</ts>
    <user>Shavon</user>
    <text>&lt;@Priscila&gt; trying in metapict to draw a rectangle with some text centered inside the rectangle. I see `dot-label` used in the docs but with no actual documentation. Is there a function that just writes something centered on a coordinate?</text>
  </message>
  <message conversation_id="37">
    <ts>2019-01-24T09:15:12.277000</ts>
    <user>Shavon</user>
    <text>Just noticed the use of `label-bot`, there must be a collection of such functions, right?</text>
  </message>
  <message conversation_id="37">
    <ts>2019-01-24T09:41:16.278300</ts>
    <user>Shavon</user>
    <text>and noticed `label-cnt`... awesome! &lt;@Priscila&gt; what's the best way to integrate a metapict into a scribble document? I tried `@examples` with a `#:result-only` but complains `with-window` is undefined.</text>
  </message>
  <message conversation_id="37">
    <ts>2019-01-24T09:47:20.278800</ts>
    <user>Priscila</user>
    <text>&lt;@Shavon&gt;  The list of label functions is here:  &lt;https://github.com/soegaard/metapict/blob/master/metapict/label.rkt&gt;</text>
  </message>
  <message conversation_id="34">
    <ts>2019-01-24T09:47:42.279400</ts>
    <user>Priscila</user>
    <text>The names were taken from Metapost - but I am not too fond of them.</text>
  </message>
  <message conversation_id="37">
    <ts>2019-01-24T09:48:03.279700</ts>
    <user>Priscila</user>
    <text>Wrt to using metapict from Scribble:</text>
  </message>
  <message conversation_id="37">
    <ts>2019-01-24T09:48:30.280200</ts>
    <user>Priscila</user>
    <text>Scribble ought to insert picts directly in the text.</text>
  </message>
  <message conversation_id="37">
    <ts>2019-01-24T09:49:00.280900</ts>
    <user>Priscila</user>
    <text>So I expect   `@(draw fullcircle)` to be enough to insert a drawing of a circle.</text>
  </message>
  <message conversation_id="37">
    <ts>2019-01-24T09:51:59.281900</ts>
    <user>Priscila</user>
    <text>However, if you want to use `@examples` then you need to require metapict in the environment that examples uses.</text>
  </message>
  <message conversation_id="37">
    <ts>2019-01-24T10:38:23.282400</ts>
    <user>Michelina</user>
    <text>&lt;@Priscila&gt; is this some kind of Racket pict/Metapost thing?</text>
  </message>
  <message conversation_id="37">
    <ts>2019-01-24T10:38:56.282700</ts>
    <user>Priscila</user>
    <text>&lt;@Milissa&gt; Yes. &lt;http://soegaard.github.io/docs/metapict/metapict.html&gt;</text>
  </message>
  <message conversation_id="37">
    <ts>2019-01-24T10:43:46.283600</ts>
    <user>Shavon</user>
    <text>&lt;@Priscila&gt; works wonders! Thanks!</text>
  </message>
  <message conversation_id="38">
    <ts>2019-01-24T10:44:21.284200</ts>
    <user>Michelina</user>
    <text>nice! I've been looking for such a thing. I'll definitely take a look (I write my books with Pollen, targeting ConTeXt, which is deep in the Metapost world.)</text>
  </message>
  <message conversation_id="37">
    <ts>2019-01-24T10:45:05.284900</ts>
    <user>Shavon</user>
    <text>&lt;@Michelina&gt; this metapict thing is pretty cool... beautifully done, straight into pdf.</text>
  </message>
  <message conversation_id="37">
    <ts>2019-01-24T10:53:12.285800</ts>
    <user>Michelina</user>
    <text>another &lt;@Priscila&gt; joint (&lt;https://en.wikipedia.org/wiki/Spike_Lee_filmography&gt; , first paragraph)</text>
  </message>
  <message conversation_id="37">
    <ts>2019-01-24T10:53:41.286000</ts>
    <user>Kami</user>
    <text>The documentation is gorgeous. :+1:</text>
  </message>
  <message conversation_id="37">
    <ts>2019-01-24T10:54:36.286200</ts>
    <user>Priscila</user>
    <text>Thanks!</text>
  </message>
  <message conversation_id="38">
    <ts>2019-01-24T11:00:37.286800</ts>
    <user>Raul</user>
    <text>Should someone give Scribble and Pollen their own pages on Wikipedia? Or at least separate topics on the Racket page?</text>
  </message>
  <message conversation_id="38">
    <ts>2019-01-24T11:18:36.287900</ts>
    <user>Priscila</user>
    <text>&lt;@Raul&gt; The reasoning behind Wikipedia is somewhat opaque. &lt;https://en.wikipedia.org/wiki/Wikipedia:Notability&gt;</text>
  </message>
  <message conversation_id="38">
    <ts>2019-01-24T11:41:12.291300</ts>
    <user>Raul</user>
    <text>&lt;@Priscila&gt; Yes, I know. Asking for opinions or votes. More specifically, I propose adding an entry for Pollen to the Wikipedia disambiguation page. "Scribble" doesn't yet have a disambiguation page. Thus, four questions: should Pollen and Scribble be mentioned in Wikipedia at all? Should there be disambiguation entries for Pollen and Scribble (in the Racket context); and should these point to separate articles; or should they point to topics on the Racket page? (And are there any volunteers?)</text>
  </message>
  <message conversation_id="39">
    <ts>2019-01-25T11:21:49.294300</ts>
    <user>Fredia</user>
    <text>I want to install a Scribble mode for GNU Emacs. There seem to be two:
&lt;https://github.com/emacs-pe/scribble-mode&gt;
&lt;https://www.neilvandyke.org/scribble-emacs/&gt;
Is one preferred over the other?
The former appears to be available via MELPA.
A quick look at the code suggests that the latter is maybe more featureful (?).</text>
  </message>
  <message conversation_id="39">
    <ts>2019-01-25T11:24:46.295800</ts>
    <user>Priscila</user>
    <text>&lt;@Fredia&gt; Haven't tried them. However the file size of Neil's mode is greater than the file size of emacs-pe.</text>
  </message>
  <message conversation_id="39">
    <ts>2019-01-25T11:24:59.296200</ts>
    <user>Priscila</user>
    <text>Maybe &lt;@King&gt; knows more?</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:09:14.296800</ts>
    <user>Marcelina</user>
    <text>Is it just me or is `build-path/convention-type` not really useful for building paths for the system you’re not on.</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:09:30.297300</ts>
    <user>Marcelina</user>
    <text>For example, on unix, the following fails:

```
(build-path/convention-type 'windows "foo")
```</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:09:54.297800</ts>
    <user>Marcelina</user>
    <text>With the error:
```
. . build-path/convention-type: specified convention incompatible with string path element
  path element: "foo"
  convention: 'windows
```</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:10:51.299100</ts>
    <user>Marcelina</user>
    <text>&lt;@Priscila&gt; Thanks anyway.</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:11:05.299500</ts>
    <user>Marcelina</user>
    <text>But I _can_ make a path with `(bytes-&amp;gt;path #"foo" 'windows)`</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:11:42.300600</ts>
    <user>Marcelina</user>
    <text>But I think I remember &lt;@Clarinda&gt; saying a while back that `string-&amp;gt;path` and `bytes-&amp;gt;path` are not as good of a way to create paths as `build-path`. I could be mis-remembering though.</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:13:06.301200</ts>
    <user>Priscila</user>
    <text>You are. The quote is:
&amp;gt;Roughly, strings don't work, because they have to be converted to bytes
&amp;gt;using the locale's default encoding. Although strings are allowed for
&amp;gt;the current platform's convention on the assumption that the current
&amp;gt;locale's encoding is the right one, we've avoided building in any
&amp;gt;assumption about the encoding for the other convention.</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:13:45.301600</ts>
    <user>Priscila</user>
    <text>So use byte strings with build-path/convention-type.</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:14:15.302100</ts>
    <user>Marcelina</user>
    <text>&lt;@Priscila&gt; but byte string fail to match build-path/convention-type’s contract.</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:14:25.302500</ts>
    <user>Priscila</user>
    <text>huh?</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:14:35.302700</ts>
    <user>Marcelina</user>
    <text>About the best I’ve got so far is:
```
(build-path/convention-type
 'windows
 (bytes-&amp;gt;path #"C:" 'windows)
 (bytes-&amp;gt;path-element #"foo" 'windows)
 (bytes-&amp;gt;path-element #"bar" 'windows))
```
which is very ugly</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:15:15.303700</ts>
    <user>Marcelina</user>
    <text>&lt;@Priscila&gt; the contract for, say, ‘base’, in build-path is:

`(or/c path-string? path-for-some-system? 'up 'same)`</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:15:16.303800</ts>
    <user>Priscila</user>
    <text>Oh. Yeah. The example is:
```
(define (bs-&amp;gt;p bs) (bytes-&amp;gt;path bs 'unix))
(build-path/convention-type 'unix (bs-&amp;gt;p #"/") (bs-&amp;gt;p #"foo") (bs-&amp;gt;p #"bar"))
```</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:15:42.304200</ts>
    <user>Priscila</user>
    <text>Time to make my-build-path !</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:16:44.304900</ts>
    <user>Marcelina</user>
    <text>Makes sense.</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:17:03.305400</ts>
    <user>Marcelina</user>
    <text>I wonder if it would make sense to modify make-path/convention-type to be a little less insane.</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:17:27.305600</ts>
    <user>Priscila</user>
    <text>File paths are insane.</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:17:46.306000</ts>
    <user>Michelina</user>
    <text>paths drive me crazy</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:19:42.306700</ts>
    <user>Marcelina</user>
    <text>&lt;@Priscila&gt; and &lt;@Michelina&gt; yes…yes they are…sigh.</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:20:11.307400</ts>
    <user>Marcelina</user>
    <text>Although honestly, this seems like a level up in terms of insanity to me. Like, maybe I’m missing something as to why the following wouldn’t work:</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:20:55.308400</ts>
    <user>Marcelina</user>
    <text>`(build-path/convention-type 'windows #"C:" #"foo" #"bar")`</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:21:26.309000</ts>
    <user>Marcelina</user>
    <text>Which seems like it should generate `#&amp;lt;windows-path:"C:\foo\bar"&amp;gt;`</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:25:28.309600</ts>
    <user>Michelina</user>
    <text>sounds...reasonable</text>
  </message>
  <message conversation_id="41">
    <ts>2019-01-25T12:25:51.309900</ts>
    <user>Michelina</user>
    <text>(...is windows-path really a thing?)</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:27:00.310100</ts>
    <user>Priscila</user>
    <text>&lt;http://docs.racket-lang.org/reference/windowspaths.html?q=build-path#%28part._windowspathrep%29&gt;</text>
  </message>
  <message conversation_id="40">
    <ts>2019-01-25T12:32:23.310300</ts>
    <user>Michelina</user>
    <text>utf-16!</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T13:05:37.310900</ts>
    <user>Kristeen</user>
    <text>yeah that's the same encoding that you might have known as WTF8</text>
  </message>
  <message conversation_id="43">
    <ts>2019-01-25T13:51:58.311400</ts>
    <user>Susana</user>
    <text>unicode means 16-bit wide chars, right? that’s what we thought in the 90s</text>
  </message>
  <message conversation_id="43">
    <ts>2019-01-25T13:53:23.312000</ts>
    <user>Kristeen</user>
    <text>&lt;@Julia&gt; it appears that if I start emacs with `PLTADDONDIR` set, racket-mode doesn't respect that</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T15:15:16.314400</ts>
    <user>Julia</user>
    <text>&lt;@Kristeen&gt; I'm not at all familiar with `PLTADDONDIR`. From reading the docs, I'm not sure what racket-mode ought to do. What would be an example of something racket-mode didn't do, that you expected?</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T15:28:25.315100</ts>
    <user>Kristeen</user>
    <text>&lt;@Julia&gt; for example, it needs to look there to find the collections needed by the file I'm running</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T15:30:22.316500</ts>
    <user>Julia</user>
    <text>OK. I'll see if maybe command-line Racket does this via, what's it called, `racket/init`, and also see what DrR does in this regard.</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T15:38:10.318300</ts>
    <user>Kristeen</user>
    <text>&lt;@Julia&gt; DrRacket works correctly here</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T15:38:33.319000</ts>
    <user>Kristeen</user>
    <text>but it's not doing something in `racket/init`, it's much lower level</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T15:38:34.319100</ts>
    <user>Julia</user>
    <text>&lt;@Kristeen&gt; It looks to me like the default value of `current-library-collection-paths` -- which racket-mode does _not_ set otherwise -- is supposed to be result of `find-library-collection-paths`, and that is what is supposed to include (a subdir of) addon-dir: &lt;https://docs.racket-lang.org/reference/collects.html#(def._((quote._~23~25kernel)._find-library-collection-paths))&gt;</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T15:38:55.319500</ts>
    <user>Kristeen</user>
    <text>you just want to carry over the environment variable, I think</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T15:40:17.320000</ts>
    <user>Kristeen</user>
    <text>the alternative would be to read the environment variable and then pass it via `-A` on the command line</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T15:41:03.320800</ts>
    <user>Kristeen</user>
    <text>or (maybe) read the environment variable and the set `current-library-collection-paths` and various other things yourself but that sounds unlikely to be the right approach</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T15:42:16.321500</ts>
    <user>Julia</user>
    <text>I think `current-library-collection-paths` is supposed to default to `find-library-collection-paths`.</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T15:42:34.322000</ts>
    <user>Julia</user>
    <text>And racket-mode doesn't do anything to fubar that, AFAICT.</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T15:42:55.322500</ts>
    <user>Julia</user>
    <text>Running racket-mode with (say) 6.10:
```
Welcome to Racket v6.10.
foo.rkt&amp;gt; (find-library-collection-paths)  ;(current-library-collection-paths) gives identical result
'(#&amp;lt;path:/Users/greg/Library/Racket/6.10/collects&amp;gt;
  #&amp;lt;path:/Applications/Racket_v6.10/collects&amp;gt;)
foo.rkt&amp;gt; (find-system-path 'addon-dir)
#&amp;lt;path:/Users/greg/Library/Racket/&amp;gt;
```</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T15:43:05.322800</ts>
    <user>Julia</user>
    <text>Does that seem correct to you?</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T15:44:36.323200</ts>
    <user>Julia</user>
    <text>With a build of HEAD it's
```
Welcome to Racket v7.2.0.2.
foo.rkt&amp;gt; (find-library-collection-paths)    ;(current-library-collection-paths) gives identical result
'(#&amp;lt;path:/Users/greg/Library/Racket/development/collects&amp;gt;
  #&amp;lt;path:/Users/greg/src/racket-lang/racket/collects&amp;gt;)
foo.rkt&amp;gt; (find-system-path 'addon-dir)
#&amp;lt;path:/Users/greg/Library/Racket/&amp;gt;
```</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T15:46:18.323900</ts>
    <user>Julia</user>
    <text>&lt;@Kristeen&gt; What does it look like for you?
And, is `(find-system-path 'addon-dir)` as you expect, does it match the env var?</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T16:05:48.324600</ts>
    <user>Kristeen</user>
    <text>&lt;@Julia&gt;, sorry, this was a problem with weird package/environment config stuff I did</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T16:06:05.325000</ts>
    <user>Kristeen</user>
    <text>I fixed that and racket-mode started doing the right thing</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T16:06:28.325300</ts>
    <user>Kristeen</user>
    <text>although it still does something strange</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T16:06:39.325500</ts>
    <user>Kristeen</user>
    <text>that might be about sandboxing?</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T16:07:19.325900</ts>
    <user>Kristeen</user>
    <text>but that problem is less obvious what's going on so I'll report more later</text>
  </message>
  <message conversation_id="42">
    <ts>2019-01-25T16:08:34.326800</ts>
    <user>Julia</user>
    <text>&lt;@Kristeen&gt; No worries, glad to hear the immediate problem is resolved.
Curious to hear more later about Stranger Things.</text>
  </message>
  <message conversation_id="44">
    <ts>2019-01-28T08:43:01.329600</ts>
    <user>Shavon</user>
    <text>&lt;@Fredia&gt; &lt;@Priscila&gt; with regards to scribble mode, I use the one in MELPA, which is the `emacs-pe` one. That's based off Neils emacs mode. If you check github: &lt;https://github.com/emacs-pe/scribble-mode&gt; you will see he has a `neil` branch which I expect it's from where he extended refactored his mode. I haven't really gotten to install both and compare or read the source code. To be honest, I assumed the one from MELPA to be the `official` one.</text>
  </message>
  <message conversation_id="44">
    <ts>2019-01-28T08:51:06.330200</ts>
    <user>Shavon</user>
    <text>`That's based off Neils emacs mode.` - that's an assumption I haven't confirmed.</text>
  </message>
  <message conversation_id="44">
    <ts>2019-01-28T09:17:26.330600</ts>
    <user>Fredia</user>
    <text>&lt;@Shavon&gt; Thank you for the advice!</text>
  </message>
  <message conversation_id="44">
    <ts>2019-01-28T09:18:24.331100</ts>
    <user>Shavon</user>
    <text>&lt;@Fredia&gt; no probs. I hope you're here to finally rewrite creduce in racket. :wink:</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T02:04:56.333200</ts>
    <user>Verena</user>
    <text>hello. does anyone have racket running on latest macOS successfully? DrRacket crashes doesn't launch for me.</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T03:09:54.333400</ts>
    <user>Lavette</user>
    <text>I have Racket 7.1 running on macOS 10.14.1, works fine. I installed it with `brew cask install racket`</text>
  </message>
  <message conversation_id="46">
    <ts>2019-01-29T09:59:20.334000</ts>
    <user>Clarinda</user>
    <text>&lt;@Verena&gt; My guess is an issue with code signing. If that’s it, then command-dragging DrRacket out of its folder and back will likely fix the problem... BUT FIRST, what output do you see for the following commands (as suggested by &lt;@Jeanine&gt; in a different thread today on code-signing problems)?
```
spctl --status --verbose
spctl --assess --verbose PATH/TO/DrRacket.app
```</text>
  </message>
  <message conversation_id="44">
    <ts>2019-01-29T14:26:07.335300</ts>
    <user>Shavon</user>
    <text>Is there any GraphQL Racket client I have missed? It seems there isn't... but I wanted to confirm before trying to do something about it.</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T15:10:10.335500</ts>
    <user>Verena</user>
    <text>```spctl --status --verbose
assessments enabled
developer id enabled```
```spctl --assess --verbose This/is/mac/quit/using/file/paths/and/terminals/and/enter/the/21st/century
/path/DrRacket: rejected
source=no usable signature
```
Mac OS X does not make it easy to view and copy an applciation path. The "Get Info" feature is underwhelming.</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T15:18:23.335800</ts>
    <user>Verena</user>
    <text>The fucker runs when I cd into the directory and run it from terminal. the fuck?</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T15:20:19.336000</ts>
    <user>Verena</user>
    <text>But running it from Finder or the launch pad still doesn't work after getting it to run from Terminal.</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T15:23:52.336500</ts>
    <user>Julia</user>
    <text>Every generation must invent its own XML :slightly_smiling_face:</text>
  </message>
  <message conversation_id="44">
    <ts>2019-01-29T15:24:33.336700</ts>
    <user>Priscila</user>
    <text>&lt;@Shavon&gt; &lt;https://github.com/certainty/graphql-racket&gt;</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T15:24:56.337100</ts>
    <user>Priscila</user>
    <text>Oh! That's a server. Nevermind...</text>
  </message>
  <message conversation_id="47">
    <ts>2019-01-29T15:51:17.337200</ts>
    <user>Clarinda</user>
    <text>Thanks! But `--verbose` doesn’t seem very verbose. How about `--verbose --verbose`, since repeating the option is supposed to make it more verbose.</text>
  </message>
  <message conversation_id="47">
    <ts>2019-01-29T15:52:25.337400</ts>
    <user>Clarinda</user>
    <text>Another thing to check: whether the almost-7.2 build at &lt;https://pre-release.racket-lang.org&gt; behaves any better, since it has an updated code-signing certificate.</text>
  </message>
  <message conversation_id="47">
    <ts>2019-01-29T15:58:49.338200</ts>
    <user>Gonzalo</user>
    <text>I think GraphQL is more than “just another XML”, fwiw… it’s not really a transport format but a query language.</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T17:27:45.340400</ts>
    <user>Sang</user>
    <text>I just finished reading the latest gradual typing paper / survey from &lt;@Eryn&gt; / &lt;@Bruce&gt; et al in DLS18… I’m trying to find one that was brought up during racket summer school 2 summers ago. I think it was still fairly new at that point. It had some really good / bizarre scenarios in it. I thought I bookmarked the survey but I can’t find it now. Anyone have a reference or remember it’s name or anything?</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T17:28:26.341000</ts>
    <user>Sang</user>
    <text>(I _think_ &lt;@Bruce&gt; was involved with both)</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T17:32:39.341500</ts>
    <user>Amira</user>
    <text>Can We Crowdsource Language Design? &lt;https://cs.brown.edu/~sk/Publications/Papers/Published/tpk-crowdsource-lang-design/&gt;</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T17:34:41.341600</ts>
    <user>Verena</user>
    <text>using --verbose twice did not change the output</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T17:36:11.341800</ts>
    <user>Verena</user>
    <text>Any way co have pre-release co-habitate with stable?</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T17:48:52.342100</ts>
    <user>Sang</user>
    <text>yes yes yes. thank you!</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T17:51:48.342500</ts>
    <user>Sang</user>
    <text>they also had a survey up at the time (not on mechanical turk iirc)</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T18:07:04.342900</ts>
    <user>Verena</user>
    <text>GraphQL Graph Query Language. Compare to SQL</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T18:08:16.343400</ts>
    <user>Verena</user>
    <text>&lt;@Amira&gt; Not sure I want to hear all that racket... :sweat_smile:</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T18:08:38.343500</ts>
    <user>Verena</user>
    <text>&lt;@Amira&gt; Not sure I want to hear all that racket... :sweat_smile:</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T18:09:59.343700</ts>
    <user>Verena</user>
    <text>The pre-release download is not downloading.</text>
  </message>
  <message conversation_id="48">
    <ts>2019-01-29T18:22:36.344200</ts>
    <user>Clarinda</user>
    <text>It downloads for me, so I’m not sure what the difference might be. There’s no problem having two different Racket installations in different folders.</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T22:21:29.345200</ts>
    <user>Verena</user>
    <text>Dragging binary from folder and back into it did fix the problem. Another dumb expression that you'd have to have created OS X to know.</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T22:22:19.345400</ts>
    <user>Verena</user>
    <text>It also shows a popup saying DrRacket would like to control your computer via accessibility settings. What is that for</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T22:25:48.345600</ts>
    <user>Verena</user>
    <text>Thank you &lt;@Clarinda&gt;</text>
  </message>
  <message conversation_id="45">
    <ts>2019-01-29T22:28:08.345800</ts>
    <user>Clarinda</user>
    <text>The accessibility warning is because Racket’s GUI library tries to install a hook (to watch for clicks on the menu bar) that it turns out not to need. We’ve fixed that for the upcoming release.</text>
  </message>
  <message conversation_id="49">
    <ts>2019-01-30T02:56:52.347600</ts>
    <user>Shavon</user>
    <text>&lt;@Julia&gt; Right, &lt;@Gonzalo&gt; is correct, GraphQL is a query language. This is the kind of thing I am generally not interested in but it seems the Github API v4, relies on it, and I would love to have a good API to v4 in racket. So, I am stuck at looking into the GraphQL v4 spec.</text>
  </message>
  <message conversation_id="49">
    <ts>2019-01-30T10:33:05.352200</ts>
    <user>Julia</user>
    <text>AFAICT GraphQL is actually mostly used to replace resource-oriented (REST-ish) web APIs.
Those classic APIs are harder to change casually.
Which is great for 3rd party users of the API.
But annoying for an in-house team using the API, to make a web or native app.</text>
  </message>
  <message conversation_id="49">
    <ts>2019-01-30T10:34:32.353400</ts>
    <user>Julia</user>
    <text>So maybe GraphQL is a query language. But I am less interested in whether it is mammal or reptile, than the fact it is pooping on my lawn and should get off it. :grin:</text>
  </message>
  <message conversation_id="49">
    <ts>2019-01-30T14:24:03.355800</ts>
    <user>Gonzalo</user>
    <text>I feel like I’ve asked this question before, but: what is the right way to check if a module exists, given a module path? I thought maybe `(module-declared? mod-path #t)` was what I was looking for, but that still throws an exception if the module does not exist (and passing `#f` for the second argument will return `#f` even if the module exists but has not been loaded). Am I supposed to just catch the exception?</text>
  </message>
  <message conversation_id="50">
    <ts>2019-01-30T14:29:01.357100</ts>
    <user>Clarinda</user>
    <text>There’s not really a way to ask “would this module exist if I tried to load it?” and I don’t know if a better approach than catching the exception.</text>
  </message>
  <message conversation_id="49">
    <ts>2019-01-30T14:30:08.357300</ts>
    <user>Gonzalo</user>
    <text>Is there some fundamental reason for that? Which is to say, is there some reason that checking for such a thing is considered a bad idea? Or should I just embrace calling `(current-module-name-resolver)` and catching the exception?</text>
  </message>
  <message conversation_id="50">
    <ts>2019-01-30T14:31:09.357500</ts>
    <user>Gonzalo</user>
    <text>For a little bit of context, I’m writing a function that checks if a submodule exists and loads it if it does, but I want to raise an error (in terms of my function, not the module name resolver) if the _base module_ does not exist.</text>
  </message>
  <message conversation_id="50">
    <ts>2019-01-30T15:26:56.357700</ts>
    <user>Clarinda</user>
    <text>There are some minor problems with the idea of checking. For example, does a module exists or not if it would be loaded from a particular file, but you don’t have read permissions on the file? Do you care what happens if a file that would implement the module disappears between the time that you check? A module name resolver might take other steps that complicate the question. As a practical matter, the real issue is that the ability to check for a module isn’t part of the API for a module name resolver.</text>
  </message>
  <message conversation_id="50">
    <ts>2019-01-30T15:37:58.357900</ts>
    <user>Gonzalo</user>
    <text>Yes, that makes sense… the race condition certainly came to mind, though the issue of permissions didn’t. Submodules are clearly different, though, in that `module-declared?` doesn’t complain if the submodule doesn’t exist, which I guess is what allows things like `configure-runtime` and `reader` submodules to work? My pattern is similar—if a submodule exists, I want to use it, but if it doesn’t, it isn’t an error—but since the user provides the parent module path and I look up the submodule (and the parent module really does need to exist for this operation to even make any sense), I figured it would be a simple nicety to provide the extra check that the parent module exists in case something else went wrong. I don’t think that check can really hurt here, but maybe it’d be best to attempt to load the parent module but _not_ bother with catching the exception, and I should just let the module name resolver do the error reporting.</text>
  </message>
  <message conversation_id="50">
    <ts>2019-01-30T15:43:36.358100</ts>
    <user>Clarinda</user>
    <text>Sounds right. As for submodules, there’s a delicate balance that we were able to retrofit into the handlers that makes checking for a submodule possible — but only just.</text>
  </message>
  <message conversation_id="51">
    <ts>2019-01-30T16:25:14.358300</ts>
    <user>Karen</user>
    <text>Huh, that sounds really similar to how URL fragments work</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T16:35:47.363400</ts>
    <user>Lauryn</user>
    <text>Hi guys!
I have a question here:
Is there a way to make DrRacket code work with git? I mean, I can push everything to the repo, but the way it appears in github is absolutely bizarre. It is not possible to read the code itself. I've google it but didn't find anything helpful.
I would appreciate any possible help!
Thank you in advance!</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T16:36:37.363900</ts>
    <user>Priscila</user>
    <text>&lt;@Lauryn&gt; Does your program contain an image?</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T16:37:48.364800</ts>
    <user>Lauryn</user>
    <text>Yes! I'm following HTDP2 and would love to keep everything on github.</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T16:39:11.365700</ts>
    <user>Priscila</user>
    <text>Programs without images directly inserted in the program looks normal.</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T16:39:32.366200</ts>
    <user>Priscila</user>
    <text>The solution to your problem must be to save the image next to your rkt-file.</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T16:39:46.366600</ts>
    <user>Priscila</user>
    <text>Then use `load- ... something ...` to load the image.</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T16:40:51.367700</ts>
    <user>Priscila</user>
    <text>I think you want to use, say,  `(bitmap/file "an image.png")` to load your image.</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T16:44:11.370300</ts>
    <user>Lauryn</user>
    <text>I'm here following you. Thanks!
Did I understand correctly, that without an image I can push any `somename.rkt` file to github as I can do it for example with `.js` file?</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T16:44:21.370500</ts>
    <user>Priscila</user>
    <text>yes</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T16:45:05.371900</ts>
    <user>Priscila</user>
    <text>Note that even when the source contains an image you can still push it to Github - but you can't read the source on Github.</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T16:46:10.372800</ts>
    <user>Lauryn</user>
    <text>Hmmm... ?! Even without an image, the code appears on github very strangely, means I can't read it at all</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T16:46:28.373100</ts>
    <user>Lauryn</user>
    <text>Thanks again for your help!</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T16:46:49.373600</ts>
    <user>Priscila</user>
    <text>&lt;@Lauryn&gt; It might be that the source file used to contain an image.</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T16:47:21.374400</ts>
    <user>Priscila</user>
    <text>I am not sure of the details, but it could be DrRacket switches mode when the first image is inserted.</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T16:47:29.374700</ts>
    <user>Priscila</user>
    <text>Try with a brand new file.</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T16:48:40.375800</ts>
    <user>Lauryn</user>
    <text>Ok! Thanks a lot! Let me try it one more time and I will get back to you if you don't mind!
Thanks again! Appreciate it!</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T17:00:43.376400</ts>
    <user>Lauryn</user>
    <text>Well, somehow it is not working...</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T17:01:12.376900</ts>
    <user>Lauryn</user>
    <text>None</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T17:01:23.377400</ts>
    <user>Lauryn</user>
    <text>that is my original file</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T17:01:36.378000</ts>
    <user>Lauryn</user>
    <text>and that is how it appears on github:</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T17:01:54.378400</ts>
    <user>Lauryn</user>
    <text>None</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T17:01:57.378800</ts>
    <user>Priscila</user>
    <text>The comment box has the same effect. If the source file contains nothing but text, it ought to work.</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T17:02:58.379200</ts>
    <user>Lauryn</user>
    <text>As you see I don't have any pictures in my file</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T17:03:13.379500</ts>
    <user>Priscila</user>
    <text>Yes. Now the issue is the comment box.</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T17:03:32.379900</ts>
    <user>Priscila</user>
    <text>If you use standard comments it works.</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T17:06:44.380600</ts>
    <user>Lauryn</user>
    <text>you mean this way? :</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T17:07:02.380700</ts>
    <user>Lauryn</user>
    <text>None</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T17:07:11.381100</ts>
    <user>Priscila</user>
    <text>yes</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T17:09:32.381900</ts>
    <user>Lauryn</user>
    <text>Ok! Thanks again! Let me try it one more time :slightly_smiling_face:</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T17:13:00.383000</ts>
    <user>Priscila</user>
    <text>Also you can test it by opening the rkt file in an text editor on your own computer (it's not neccessary to upload to Github)</text>
  </message>
  <message conversation_id="52">
    <ts>2019-01-30T17:21:58.383600</ts>
    <user>Shavon</user>
    <text>&lt;@Julia&gt; in frog is there a way to access a list of all the available pages to build the index or these need to be hardcoded?</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:43:57.384200</ts>
    <user>Shavon</user>
    <text>also, is there any magic incantation to get an `index.html` generated? I get it to generate my pages, but not an `index.html`.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:45:51.384600</ts>
    <user>Priscila</user>
    <text>Do you have an index-template.html ?</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:46:32.385000</ts>
    <user>Priscila</user>
    <text>And are you using `raco frog -b` ?</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:50:40.385400</ts>
    <user>Shavon</user>
    <text>yes, I copied post-template.html to index-template.html just for testing.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:50:47.385700</ts>
    <user>Shavon</user>
    <text>`raco frog -b` not working...</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:51:05.385900</ts>
    <user>Priscila</user>
    <text>hmm</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:51:49.386400</ts>
    <user>Shavon</user>
    <text>was actually hoping verbose mode would work but with `raco frog -bV` I get:
```
raco frog -bV
Frog 0.29
Very verbose mode
```</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:51:52.386600</ts>
    <user>Shavon</user>
    <text>:slightly_smiling_face:</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:52:00.387000</ts>
    <user>Priscila</user>
    <text>!</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:52:01.387100</ts>
    <user>Shavon</user>
    <text>... not that verbose.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:52:36.387400</ts>
    <user>Shavon</user>
    <text>my pages are generates but index is not. I have no posts...</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:52:48.387700</ts>
    <user>Shavon</user>
    <text>could it be the lack of posts...let me check.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:53:35.387900</ts>
    <user>Shavon</user>
    <text>shame... not that.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:55:11.388700</ts>
    <user>Julia</user>
    <text>Well the verbosity is mostly per blog post because that is mostly what a static blog generator generates :stuck_out_tongue:</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:55:34.389200</ts>
    <user>Shavon</user>
    <text>ah... explains lack of verbosity.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:55:49.389600</ts>
    <user>Julia</user>
    <text>I have to go AFK in a minute but I will try to look at this with zero blog posts and see if I can repro what you're seeing.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:56:10.390000</ts>
    <user>Shavon</user>
    <text>i added a blog post... draft. still no index.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:57:14.390600</ts>
    <user>Julia</user>
    <text>Was this a fresh `raco frog --init`, or something you had from before?</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:57:49.390800</ts>
    <user>Shavon</user>
    <text>ah, yes...</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:57:51.391100</ts>
    <user>Shavon</user>
    <text>yes...</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:57:59.391500</ts>
    <user>Shavon</user>
    <text>that was from a fresh `raco frog --init`.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:58:07.391900</ts>
    <user>Shavon</user>
    <text>index is not generated if there are no posts.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:58:13.392200</ts>
    <user>Shavon</user>
    <text>or if the post is draft.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:58:24.392700</ts>
    <user>Shavon</user>
    <text>as soon as i added a non-draft post, it worked.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:58:52.393600</ts>
    <user>Shavon</user>
    <text>i guess you policy was... this is for blogs, no posts =&amp;gt; no blog =&amp;gt; deserved no index. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:58:56.393700</ts>
    <user>Julia</user>
    <text>Oh. Right. The draft thing means, don't generate at all. Sorry that was confusing.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T17:59:59.395600</ts>
    <user>Shavon</user>
    <text>so, to explain. i started a new frog blog. removed example post, copied post-template to index-template and removed footer. added page. no index generated. added post using `-N`, no index generated. Removed draft tag from dummy post. It worked!</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T18:00:05.395800</ts>
    <user>Julia</user>
    <text>Frog started as a blog generator that was supposed to be "just works", Model T, any color so long as the color is black.
It's gotten more configurable over time, but the happy path is definitely a blog. Not a general static site generator.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T18:00:32.396500</ts>
    <user>Julia</user>
    <text>Yikes, my phone just did a really loud emergency alert about snow squalls coming there. Startled me.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T18:00:39.396700</ts>
    <user>Shavon</user>
    <text>sure... will move my no posts config to a all posts, no pages config. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T18:01:07.397200</ts>
    <user>Shavon</user>
    <text>huh, careful with the snow. us storms are all over the news here in germany.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T18:01:40.398100</ts>
    <user>Shavon</user>
    <text>thanks &lt;@Julia&gt;, time to snooze around here. will take a look at this tomorrow and change the configuration of my frog to have posts instead of pages.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T18:02:10.398700</ts>
    <user>Julia</user>
    <text>It's been crazy cold out in the U.S. mid-West like Chicago and Minneapolis, -30 F wind chill, etc.
Some of that headed to Boston now but not quite as bad.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T18:02:32.399000</ts>
    <user>Julia</user>
    <text>&lt;@Shavon&gt; Sounds good. Good night.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-30T18:07:34.399300</ts>
    <user>Priscila</user>
    <text>Yikes -34ºC !</text>
  </message>
  <message conversation_id="54">
    <ts>2019-01-30T20:53:37.400900</ts>
    <user>Kristeen</user>
    <text>yeah it was -6 F here today without wind chill</text>
  </message>
  <message conversation_id="55">
    <ts>2019-01-30T23:07:30.401700</ts>
    <user>Deneen</user>
    <text>let's all stay inside and write code.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-31T05:30:33.402500</ts>
    <user>Shavon</user>
    <text>phew, that's *really* cold. And yet, I keep complaining about +1 C outside.</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-31T05:31:15.403400</ts>
    <user>Shavon</user>
    <text>How can I avoid section numbering in scribble files? This is related to using scribble files in frog. Section numbers in a post just look wrong. &lt;@Julia&gt;?</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-31T05:49:35.403900</ts>
    <user>Jeanine</user>
    <text>&lt;@Shavon&gt; use `@section[#:style 'unnumbered]{Section title}`</text>
  </message>
  <message conversation_id="53">
    <ts>2019-01-31T05:52:43.404100</ts>
    <user>Shavon</user>
    <text>&lt;@Jeanine&gt; thanks</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T07:59:10.406600</ts>
    <user>Brook</user>
    <text>Hey! I'm working on a syntax-highlighting plugin for VSCode, but it's still early work in progress. I managed to fix number scoping with the help of Jens from our google group, so I figured I might ask some questions here as well.</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T07:59:15.406800</ts>
    <user>Brook</user>
    <text>(repo: &lt;https://github.com/Eugleo/magic-racket&gt;)</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:04:03.408800</ts>
    <user>Kami</user>
    <text>&lt;@Brook&gt; Awesome! I put together a similar syntax file for SublimeText &amp;amp; Amp, but it's really not accurate so I didn't post it publicly yet. I'll check if I can get some inspiration from your work :slightly_smiling_face:</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:05:33.410200</ts>
    <user>Brook</user>
    <text>Currently, the first symbol in a list is highlighted as a function call; it's a little brittle, though (things like `( #;(sexp comments ftw) map add1 '(1 2 3 4) )` don't work), and sometimes outright incorrect: `(let ([x 1] [y 2]))` highlights the `x` and `y` as functions. So, the question is: should I drop this "feature" altogether? DrRacket simply highlights known functions (exported from `racket`) and the rest is plain "symbols".</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:06:53.412200</ts>
    <user>Kami</user>
    <text>I kinda like the "first symbol is different' rule, but I guess it's a personal preference</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:07:03.412500</ts>
    <user>Brook</user>
    <text>&lt;@Kami&gt; I'm not sure how syntax highlighting works for Sublime, but I guess it's got something to do with textMate as well. My grammar file is a `.yaml`, so maybe I'd be able to export it to the SublimeText format. That means we could join forces on the project and make it the standart across more editors than just VSCode :slightly_smiling_face:</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:07:32.413000</ts>
    <user>Kami</user>
    <text>I'd be glad to join force on this, definitely! Writing good syntax files is hard and time consuming</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:08:21.414200</ts>
    <user>Kami</user>
    <text>The sublime syntax was textMate before, but changed to a new custom "sublimeSyntax" system. Amp decided to use the same system as sublime</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:09:25.415200</ts>
    <user>Kami</user>
    <text>most of the time, they're just regexps with greedy/not greedy rules</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:09:27.415300</ts>
    <user>Brook</user>
    <text>Just checked out their webpage. It says
&amp;gt; Sublime Syntax files are YAML files with a small header, followed by a list of contexts. [...]</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:10:02.415900</ts>
    <user>Brook</user>
    <text>Seems good. Maybe no conversion will be needed, or maybe just some manual key-changing.</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:10:08.416200</ts>
    <user>Kami</user>
    <text>a bit</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:10:12.416400</ts>
    <user>Kami</user>
    <text>it looks like this :</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:10:34.416600</ts>
    <user>Kami</user>
    <text>&lt;https://github.com/euhmeuh/sublime-syntaxes/blob/master/Forth.sublime-syntax&gt;</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:11:00.417100</ts>
    <user>Kami</user>
    <text>(I did this one for Forth, but also did one for Racket I didn't published)</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:12:16.417900</ts>
    <user>Brook</user>
    <text>Well, now that I'm looking into it, the semantics are little different. It seems to be more powerful than the textmate style, and has some additional constructs, too.</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:12:24.418100</ts>
    <user>Kami</user>
    <text>yep</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:12:55.418500</ts>
    <user>Kami</user>
    <text>most keys are custom, you can choose the names</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:13:01.418700</ts>
    <user>Kami</user>
    <text>then put them together</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:13:46.419300</ts>
    <user>Kami</user>
    <text>the only real keywords are "match", "push", "pull", "scope", "pop"</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:14:03.419700</ts>
    <user>Kami</user>
    <text>it works like a stack machine with regexps</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:15:37.421100</ts>
    <user>Brook</user>
    <text>Yep, that's the notion I got from their webpage as well. I think the "ideas" will translate very well, though.</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:16:33.422300</ts>
    <user>Brook</user>
    <text>And it seems you'll be able to handle quotes and unquotes correctly. Pushing and popping a stack, so you'll be able to correctly asses whether the things are quoted, or unquoted, even in some deeply nested scenarios.</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:16:44.422600</ts>
    <user>Brook</user>
    <text>Pretty cool.</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:16:47.422800</ts>
    <user>Kami</user>
    <text>yep :slightly_smiling_face:</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:17:48.423800</ts>
    <user>Elin</user>
    <text>Some kind of stack (explicit or implicitly handled by the language) will be necessary to count the parantheses for anything like a `#;(s-exp)` comment</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:18:58.424600</ts>
    <user>Brook</user>
    <text>Oh hey. You're the guy from SO!</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:20:02.426200</ts>
    <user>Brook</user>
    <text>Yep. One can emulate this in textmate grammars by matching `begin: #;(` and `end: )`  and between it some things like parentheses, strings etc.</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:21:10.428300</ts>
    <user>Brook</user>
    <text>The problems is, I'd have to basically have two grammars: one for those normal constructs which would scope them under numbers, strings etc, and other, which could recognize them just as well, but scope them under comments. 1kloc → 2kloc in a blink. Not worth it just for the comments, I think.</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:21:50.429300</ts>
    <user>Elin</user>
    <text>Grammars (things like context-free-grammars or CFGs) implicitly handle a stack for you, which is really convenient</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:22:51.430300</ts>
    <user>Brook</user>
    <text>I'll have to read more on those grammars you keep mentioning. They work somehow like a Haskell Parser would, right?</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:23:04.430700</ts>
    <user>Brook</user>
    <text>(sorry, don't know better example)</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:23:17.431000</ts>
    <user>Elin</user>
    <text>Are you referring to Parsec?</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:23:33.431400</ts>
    <user>Brook</user>
    <text>Yep. Or Trifecta. They all work similarly, I think.</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:25:06.432700</ts>
    <user>Brook</user>
    <text>At least... The way one works with them is really similar to the grammar spec in Racket's docs (e.g. in the Reader–Numbers section). Not sure if this kind of "grammar" is the same as the CFG you talk about.</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:26:30.433400</ts>
    <user>Elin</user>
    <text>The grammars in the racket docs are a variant of CFG, and I think technically they have the same “power” as in they can compute the same class of things</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:27:52.434200</ts>
    <user>Elin</user>
    <text>And that “power” is greater than a regular expression, but less than a full (turing-complete) programming language</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:28:15.434800</ts>
    <user>Brook</user>
    <text>Seems really interesting. Shame it can't be used to make the syntax highlighting better...</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:28:32.435100</ts>
    <user>Elin</user>
    <text>There are different levels of syntax highlighting.</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:28:57.435700</ts>
    <user>Elin</user>
    <text>The first level just tell whether some group of characters is a string or a symbol or a paren or something</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:29:26.436500</ts>
    <user>Elin</user>
    <text>That level can’t / shouldn’t count parens, so it wouldn’t be able to deal with s-expression comments</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:29:52.437200</ts>
    <user>Elin</user>
    <text>That first level could be expressed with regular expressions</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:31:40.438700</ts>
    <user>Elin</user>
    <text>The second level could deal with well-formed expressions according to a grammar, a CFG (or anything that can handle a stack)</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:32:59.440000</ts>
    <user>Elin</user>
    <text>that level would be able to handle s-expression comments, and if you want it could also handle coloring matching parens-pairs the same color while making them all different, like a rainbow or something</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:35:38.442200</ts>
    <user>Elin</user>
    <text>And that level would be able to distinguish the first element of a function call, even if there was an s-expression comment in the way, or if that first element was a complex expression like `(compose (λ (x) (map add1 x)) range)`, within `((compose (λ (x) (map add1 x)) range) 5)`</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:35:53.442500</ts>
    <user>Elin</user>
    <text>Then a third level could deal with scoping</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:36:42.443500</ts>
    <user>Elin</user>
    <text>The third level could tell that the `x` from `(map add1 x)` is bound by the `x` in `(λ (x)` above it</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:37:40.443900</ts>
    <user>Elin</user>
    <text>Or that `map` comes from Racket and not a local-variable</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:38:37.444800</ts>
    <user>Elin</user>
    <text>To distinguish that from `(let ([map list]) (map add1 x))`</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:40:24.446100</ts>
    <user>Brook</user>
    <text>That would be cool to have in so many languages. You can't guess that from syntax alone, though, can you? In some lightweight way, I mean, without trying to "run" portions of the code.</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:41:04.447200</ts>
    <user>Brook</user>
    <text>Especially when somebody can ruin your day with macros or similar things.</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:42:47.449300</ts>
    <user>Elin</user>
    <text>If the code is powerful enough (if it has macros which can manipulate scope), then yes you would have run some code. But not all of it! And in racket at least, the parts you would have to run-in-the-editor for scoping are specially marked for compile-time</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:43:44.450200</ts>
    <user>Elin</user>
    <text>DrRacket does this with background-expansion, and its “check-syntax” arrows only work after that background-expansion has completed</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:44:50.451700</ts>
    <user>Elin</user>
    <text>And you’re right that a macro might ruin that, either by taking too long, or trying to do something that wouldn’t be safe for the editor to run</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:45:04.452200</ts>
    <user>Brook</user>
    <text>It's kinda sluggish, though. Not sure if it's caused by the background expansion of the forms, but still.</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:45:15.452500</ts>
    <user>Elin</user>
    <text>And that’s why that “third level” has to be separate from the other two</text>
  </message>
  <message conversation_id="56">
    <ts>2019-01-31T08:48:41.454600</ts>
    <user>Brook</user>
    <text>I wonder if the "stack machine" from Sublime could be implemented in VSCode as well. I heard Atom is pushing "tree-sitter" (not sure what it is, exactly, but supposedly better than plain regexps)... Maybe VSCode also has plans for some better way to make semantic highlighting possible? At least the first two levels</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:19:32.457000</ts>
    <user>Brook</user>
    <text>Anyway, what do you think about the colorization of the first symbol? I can drop it and only highlight the functions I know are exported from `racket`. But I'd have to highlight those wherever they appear, that means that `(let ([map list]) (map add1 x))` and `(compose (λ (x) (map add1 x)) range)` won't be differentiated, so some inconsistency will still be there.</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:22:04.457300</ts>
    <user>Tomas</user>
    <text>Tree Sitter is very cool &lt;https://github.com/tree-sitter/tree-sitter&gt;</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:22:23.457600</ts>
    <user>Tomas</user>
    <text>&lt;https://tree-sitter.github.io/tree-sitter/&gt;</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:23:02.457800</ts>
    <user>Tomas</user>
    <text>&lt;https://www.youtube.com/watch?v=Jes3bD6P0To&gt;</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:23:36.458500</ts>
    <user>Brook</user>
    <text>Just watched a video about it. Seems exactly what we were talking about. A real parser to be used for syntax highlighting</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:25:10.459000</ts>
    <user>Brook</user>
    <text>&lt;@Tomas&gt; Any idea about the lame VSCode highlighting? :smile:</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:25:24.459300</ts>
    <user>Brook</user>
    <text>I mean. About the first symbols etc.</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:26:14.459900</ts>
    <user>Tomas</user>
    <text>VSCode does some pretty powerful highlighting of langs like TypeScript</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:27:11.460400</ts>
    <user>Tomas</user>
    <text>I haven’t lisped in VSCode tho, so not sure what that experience is like</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:28:15.461100</ts>
    <user>Hallie</user>
    <text>silly question - wasn't lang server protocol supposed to offer syntax highlighting as well?</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:29:10.461700</ts>
    <user>Tomas</user>
    <text>I thought thats what VSCode was doing with JS/TypeScript</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:30:00.462600</ts>
    <user>Brook</user>
    <text>Not sure how it works with TS, but I think they have some backend which they are querrying. Doesn't seem to be universally usable (unlike tree sitter)</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:30:17.463200</ts>
    <user>Tomas</user>
    <text>Pretty sure they’re passing code to the TypeScript compiler</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:30:28.463500</ts>
    <user>Brook</user>
    <text>&lt;@Hallie&gt; It was/is. But afaik it's not complete, and it's slow and... Yeah. WIP.</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:31:12.464800</ts>
    <user>Tomas</user>
    <text>yes they are &lt;https://code.visualstudio.com/Docs/languages/typescript#_installing-the-typescript-compiler&gt;</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:31:13.465000</ts>
    <user>Brook</user>
    <text>Well, yeah. That's along the lines of what I was thinking about. Not sure how I would do that with Racket; LSP would my safest bet I think.</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:31:31.465500</ts>
    <user>Tomas</user>
    <text>Racket Mode in Emacs does some fun along these lines</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:31:35.465600</ts>
    <user>Brook</user>
    <text>Once it works, that is.</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:32:09.466300</ts>
    <user>Brook</user>
    <text>Well, I didn't do any emacsing on the lisp, to paraphrase you :smile:</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:32:27.467200</ts>
    <user>Tomas</user>
    <text>Right but it might illustrate an approach you could take</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:33:16.468900</ts>
    <user>Brook</user>
    <text>Sure. maybe it'd be best to help those guys with LSP, so it could then be reused in other editors as well.</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:33:29.469200</ts>
    <user>Hallie</user>
    <text>the world where you specify language specific characteristics like syntax highlighting per language as opposed to current per editor would be a huge improvement, but well, seems like a long way ahead...</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:36:17.469800</ts>
    <user>Brook</user>
    <text>Yeah. Tree sitter could help that, as well as LSPs. I think we're slowly getting there.</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:50:41.470300</ts>
    <user>Brook</user>
    <text>Does anybody here work on the LSP? I don't have much experience with Racket, but I'm sure I could get into it.</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:53:36.471400</ts>
    <user>Susana</user>
    <text>&lt;@Brook&gt; I’m interested in improving racket support in Atom, so I’ll definitely take a look at your VSCode plugin as well</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:55:15.473200</ts>
    <user>Hallie</user>
    <text>I know there are 2 implementations so reaching their authors might be a good idea:</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:55:16.473400</ts>
    <user>Brook</user>
    <text>Well, unless you plan to implement it tree-sitter, we could join our forces on this one. The yaml can be easily converted to cson (at least I believe so)</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:55:32.473600</ts>
    <user>Hallie</user>
    <text>&lt;https://pkgs.racket-lang.org/package/racket-langserver&gt;</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:55:41.473900</ts>
    <user>Hallie</user>
    <text>&lt;https://pkgs.racket-lang.org/package/racket-language-server&gt;</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:56:02.474400</ts>
    <user>Brook</user>
    <text>I opened an issue on one of them. Didn't think of there being two of them, though :smile:</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:56:14.474700</ts>
    <user>Brook</user>
    <text>Why does everything have to be so fragmented?</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:56:41.475000</ts>
    <user>Hallie</user>
    <text>that's a very good question...</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:57:08.475400</ts>
    <user>Hallie</user>
    <text>I guess it's a scheme heritage - everyone has their own</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:57:19.475700</ts>
    <user>Susana</user>
    <text>it’s an open source thing</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:57:46.476300</ts>
    <user>Susana</user>
    <text>if you look at the packages for VSCode or atom you’ll see lots of packages with similar funcionality</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:58:18.476900</ts>
    <user>Susana</user>
    <text>especially if it’s a simple package like a theme (I counted at least 3 zenburn theme packages for atom)</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:59:14.477000</ts>
    <user>Tomas</user>
    <text>have you looked at NPM lately?</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:59:22.477300</ts>
    <user>Brook</user>
    <text>That's unfortunate.</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T09:59:22.477500</ts>
    <user>Tomas</user>
    <text>:joy:</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T10:00:32.479100</ts>
    <user>Brook</user>
    <text>It's true that I built my syntax highliter from scratch as well... But initially I submitted a PR to one of the most popular packages for Racket, but without luck. So I resorted to making my own.</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T10:01:42.479600</ts>
    <user>Susana</user>
    <text>yes, that happens. you try to contact the maintainer and get no response</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T10:34:37.482700</ts>
    <user>Brook</user>
    <text>Well, it was more complicated than that. I contacted him, he responded, told me to make a PR, then accepted it and merged  it; however, he didn't update the package on the marketplace. I opened an issue about it and well... That has been well over 6 months ago.</text>
  </message>
  <message conversation_id="57">
    <ts>2019-01-31T10:41:23.483000</ts>
    <user>Susana</user>
    <text>it’s worse then</text>
  </message>
  <message conversation_id="58">
    <ts>2019-01-31T11:00:40.484300</ts>
    <user>Shavon</user>
    <text>I would like in scribble to be able to show a portion of a file in a column, possibly a function, and interactions using the function on the right side. Is there anything out there resembling helpers for this or something?</text>
  </message>
  <message conversation_id="58">
    <ts>2019-01-31T11:15:19.485100</ts>
    <user>Shavon</user>
    <text>... ok, i might be able to achieve the two column with a single-row, 2 column table.</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:37:41.485800</ts>
    <user>Lashawnda</user>
    <text>hello, is writing Racket with (neo)vim/DrRacket viable option?</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:39:35.486200</ts>
    <user>Lashawnda</user>
    <text>the other option which I consider is Julia lang</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:41:38.486600</ts>
    <user>Shavon</user>
    <text>neovim and drracket are two options to develop in racket.</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:42:11.487200</ts>
    <user>Shavon</user>
    <text>drracket has all the bells and whistles for racket dev. if you want to use neovim, take a look at &lt;https://docs.racket-lang.org/guide/Vim.html&gt;</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:43:30.488000</ts>
    <user>Lashawnda</user>
    <text>&lt;@Shavon&gt; thanks. i'm asking since i'm not into Emacs..few tiems experienced slight wrist pain which never happened with vim</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:45:13.488700</ts>
    <user>Shavon</user>
    <text>understood. when i got wrist pain with emacs, I bought a new keyboard. but vim is also an option, although I have never used.</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:46:21.490000</ts>
    <user>Julia</user>
    <text>&lt;@Lashawnda&gt; Some people like spacemacs, which configures Emacs to use many popular packages, one of which is evil-mode (vim  modal editing bindings for emacs)</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:46:25.490200</ts>
    <user>Shavon</user>
    <text>ever since I started using "Microsoft Sculpt Ergonomic" keyboard+mouse set, pain disappeared. Emacs lives on in my machine. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:47:13.491100</ts>
    <user>Julia</user>
    <text>Other people like to remap the control and alt keys (some vim users like to do that for escape, too :))</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:47:43.492000</ts>
    <user>Julia</user>
    <text>I tend to use the standard bindings, but as a (bad) piano player I tend to use my thumb for ctrl and alt sometimes</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:48:31.493100</ts>
    <user>Julia</user>
    <text>Or you could do the simple thing and just use a vim :smile:</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:48:39.493300</ts>
    <user>Lashawnda</user>
    <text>heh, i've tried spacemacs, but it brings another layer on top of emacs and at that time it didn't play well with e.g. gnus...now, i'm more int ovim-world - that's why i'm asking...yeah, i keep caps &amp;amp; ctrl switched even with vim setup :slightly_smiling_face:</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:49:27.494000</ts>
    <user>Lashawnda</user>
    <text>&lt;@Julia&gt; well, i'm just curious if there are racket/vim users :wink:</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:50:38.495100</ts>
    <user>Julia</user>
    <text>I think there are. But the people I know directly tend to use evil-mode with emacs (not necessarily the whole spacemacs thing, just evil-mode) as opposed to vim. That's just the people I happen to know. ¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:51:10.495900</ts>
    <user>Lashawnda</user>
    <text>ok, got it</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:51:50.496200</ts>
    <user>Loise</user>
    <text>I'm a new Racketeer but have used VIM for a couple of decades. So far it's been fine using VIM. I'm not an IDE guy, so as convenient as Dr. Racket is, I still end up in VIM.</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:54:13.496900</ts>
    <user>Lashawnda</user>
    <text>&lt;@Loise&gt; thanks a lot. do you use vim or neovim?</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:54:27.497200</ts>
    <user>Lashawnda</user>
    <text>which plugins?</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:56:10.499400</ts>
    <user>Lashawnda</user>
    <text>so far, i've seen that Julia is nice with VIm, but i like Racket's GUI support for writing desktop apps</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:56:20.499600</ts>
    <user>Loise</user>
    <text>Plain old VIM with no plugins, so far. I usually SSH into a VPS, so an IDE is out of the question anyway. I just have a couple of panes open in `tmux`, one with VIM and in the other, the Racket REPL.</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:57:10.500400</ts>
    <user>Lashawnda</user>
    <text>ok</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:58:29.500600</ts>
    <user>Loise</user>
    <text>Any language is nice with VIM. I wouldn't go and use Julia just because of that. It ain't no Lisp! :stuck_out_tongue:</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T11:59:24.500900</ts>
    <user>Lashawnda</user>
    <text>:joy:</text>
  </message>
  <message conversation_id="59">
    <ts>2019-01-31T12:04:17.501600</ts>
    <user>Loise</user>
    <text>&lt;@Shavon&gt; is right: This is a good resource to get you going with Racket in VIM:
&lt;https://docs.racket-lang.org/guide/Vim.html&gt;</text>
  </message>
  <message conversation_id="60">
    <ts>2019-01-31T15:46:30.502800</ts>
    <user>Priscila</user>
    <text>&lt;@Brook&gt; Great find (the pull request to fix brackets on Github (for Scheme)).</text>
  </message>
  <message conversation_id="60">
    <ts>2019-01-31T15:46:51.503400</ts>
    <user>Priscila</user>
    <text>I am attempting to find someone that can help in #textmate  (on Freenode).</text>
  </message>
  <message conversation_id="60">
    <ts>2019-01-31T15:49:58.505300</ts>
    <user>Priscila</user>
    <text>&lt;@Loise&gt;  Wrt IDEs: The most effort has gone into DrRacket and racket-mode in Emacs. It's worth trying them out to see what they have to offer. If/when you return to Vim - you will know when to try something out in, say, DrRacket.</text>
  </message>
  <message conversation_id="60">
    <ts>2019-01-31T16:02:27.505800</ts>
    <user>Priscila</user>
    <text>&lt;@Brook&gt; I have now also sent a mail to the Textmate mailing list.</text>
  </message>
  <message conversation_id="60">
    <ts>2019-01-31T16:03:23.506700</ts>
    <user>Brook</user>
    <text>Great. Maybe they will respond to that. I see to value in not adding the support for brackets.</text>
  </message>
  <message conversation_id="60">
    <ts>2019-01-31T16:04:13.507500</ts>
    <user>Brook</user>
    <text>(sent you a mail btw.)</text>
  </message>
  <message conversation_id="60">
    <ts>2019-01-31T16:04:23.507700</ts>
    <user>Priscila</user>
    <text>Still thinking!</text>
  </message>
  <message conversation_id="60">
    <ts>2019-01-31T16:06:49.509300</ts>
    <user>Priscila</user>
    <text>I think your option 2 is best. Highlight known identifiers bound to functions. It's rare to rebind functions exported from the main language - and if it is done, it's likely to be bound to another function.</text>
  </message>
  <message conversation_id="60">
    <ts>2019-01-31T16:07:30.510700</ts>
    <user>Brook</user>
    <text>Oh, no pressure. Just so you know! I've got a bit lost in our conversations myself, you know :smiley: </text>
  </message>
  <message conversation_id="60">
    <ts>2019-01-31T16:08:25.511800</ts>
    <user>Priscila</user>
    <text>But if you want to improve - you can copy the approach that racket-mode in Emacs uses.</text>
  </message>
  <message conversation_id="60">
    <ts>2019-01-31T16:10:12.513700</ts>
    <user>Priscila</user>
    <text>Hmm - well maybe not. Racket-mode also handles running / evaluating - so it has access the names being defined in the current module.</text>
  </message>
  <message conversation_id="60">
    <ts>2019-01-31T16:11:11.514100</ts>
    <user>Priscila</user>
    <text>But may be the lsp-server can be used instead?</text>
  </message>
  <message conversation_id="60">
    <ts>2019-01-31T17:21:16.515400</ts>
    <user>Brook</user>
    <text>Yep, we talked about this here. I contacted the maintainers of both of the LSP implementations. For the time being, textmate grammar is the best solution I'm afraid</text>
  </message>
  <message conversation_id="60">
    <ts>2019-01-31T17:34:50.516300</ts>
    <user>Hallie</user>
    <text>Regarding IDEs do any of you have experience with &lt;https://www.theia-ide.org/&gt;</text>
  </message>
  <message conversation_id="60">
    <ts>2019-01-31T17:36:17.517700</ts>
    <user>Priscila</user>
    <text>Impressive.</text>
  </message>
  <message conversation_id="61">
    <ts>2019-01-31T17:36:18.517800</ts>
    <user>Hallie</user>
    <text>I like their approach and just found out they are building support for VS Code extensions which will make it a great choice especially if you want to build your own custom IDE</text>
  </message>
  <message conversation_id="61">
    <ts>2019-01-31T17:42:15.518200</ts>
    <user>Hallie</user>
    <text>Ohh!!! There is &lt;https://github.com/theia-ide/theia-racket-extension&gt;</text>
  </message>
  <message conversation_id="60">
    <ts>2019-01-31T17:58:16.519500</ts>
    <user>Brook</user>
    <text>Looks nice. The dev of this particular lsp said he doesn't work on the project (the LSP, that is) anymore.</text>
  </message>
  <message conversation_id="61">
    <ts>2019-01-31T18:57:56.521100</ts>
    <user>Hallie</user>
    <text>I wonder is it possible with LSP to expose the information used by custom Racket DSLs (and not only `#lang racket`)</text>
  </message>
  <message conversation_id="61">
    <ts>2019-01-31T19:01:24.522300</ts>
    <user>Hallie</user>
    <text>what I mean by that is if my DSL has DrRacket integration (e.g. coloring) could this information be automatically exposed via LSP?</text>
  </message>
  <message conversation_id="61">
    <ts>2019-01-31T20:58:42.522700</ts>
    <user>Kristeen</user>
    <text>&lt;@Hallie&gt; yes that should be possible</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T09:51:03.523200</ts>
    <user>Loise</user>
    <text>If/when I _return_ to VIM?! :slightly_smiling_face: I've never left, despite numerous attempts to get used to very many IDEs. I have never found anything that works for me like VIM does.</text>
  </message>
  <message conversation_id="63">
    <ts>2019-02-01T11:01:16.523500</ts>
    <user>Kristeen</user>
    <text>&lt;@Julia&gt; &lt;https://news.ycombinator.com/item?id=19046259&gt;</text>
  </message>
  <message conversation_id="63">
    <ts>2019-02-01T11:10:49.525400</ts>
    <user>Julia</user>
    <text>&lt;@Kristeen&gt; Although I did happen to see that yesterday thanks for pointing it out.
Both that and the Racket 7.2 announce seemed to be on HN front page for awhile yesterday. :racket-flat:</text>
  </message>
  <message conversation_id="63">
    <ts>2019-02-01T12:56:54.526100</ts>
    <user>Laverna</user>
    <text>that HN post led me to all your other racket posts, &lt;@Julia&gt;, which have been very helpful. thanks!</text>
  </message>
  <message conversation_id="63">
    <ts>2019-02-01T13:09:49.526500</ts>
    <user>Julia</user>
    <text>Happy to hear that -- thanks for letting me know!</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T15:38:17.529100</ts>
    <user>Lashawnda</user>
    <text>I'm considering Racket and Julia for desktop app and today someone in Julia channel told me he was also considering Racket but abandoned idea after hearing from some Racket dev (who is also familiar with Julia) that it is never going to be fast as Julia. does such statement hold?</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T15:42:42.529400</ts>
    <user>Kristeen</user>
    <text>&lt;@Lashawnda&gt; no, I don't think that statement holds</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T15:43:29.530200</ts>
    <user>Kristeen</user>
    <text>also I wonder who said that</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T15:43:51.530600</ts>
    <user>Lashawnda</user>
    <text>&lt;@Kristeen&gt; no matter whether we speak about Racket or Racket CS...don't know about Racket-source</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T15:44:32.531200</ts>
    <user>Kristeen</user>
    <text>Julia and Racket are both complicated systems where performance is concerned, so some things will be faster for each</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T15:44:52.531600</ts>
    <user>Kristeen</user>
    <text>certainly there are some programs where Julia is currently faster than Racket</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T15:45:30.531900</ts>
    <user>Lashawnda</user>
    <text>here is the exact quote: "I just talked at some point with some of the core devs, and they told me that racket may never be julia fast (some of them actually know julia quite well)"</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T15:47:41.533100</ts>
    <user>Lashawnda</user>
    <text>I like that Racket has GUI support out of the box, while in Julia I'd probably have to use Gtk.jl since I do not like Electron and similar web/JS stuff...</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T15:49:56.533500</ts>
    <user>Sang</user>
    <text>&amp;gt; If runtime?-id is provided, then it is bound in the context of expr to #f for the compile-time instance of expr and #t for the run-time instance of expr.

What does this even mean?</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T15:50:33.533800</ts>
    <user>Sang</user>
    <text>(it’s from `define-runtime-path`)</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T15:51:41.535100</ts>
    <user>Kristeen</user>
    <text>If you write `(define-runtime-path x e id)` then at compile time `e` is evaluated with `id` bound to `#f`, and at runtime `e` is evaluated with `id` bound to `#t`</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T15:57:05.535700</ts>
    <user>Sang</user>
    <text>I don’t see it being used in racket-source with that variant… when/why would you want that?</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T15:59:24.538500</ts>
    <user>Sang</user>
    <text>I’m poking at this because I broke up a compound define-runtime-path into 2 of them, with the latter using the former… and that blew up. I was trying to figure out the runtime vs compile time stuff and that language is… confusing</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T15:59:57.539000</ts>
    <user>Hallie</user>
    <text>&lt;@Lashawnda&gt; looking at these benchmarks I don't see much differences between Julia and Racket - both have their strengths when it comes to performance, but I don't think performance wise there is much to win/lose: &lt;https://benchmarksgame-team.pages.debian.net/benchmarksgame/which-programs-are-fast.html&gt;</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T16:20:29.540000</ts>
    <user>Lashawnda</user>
    <text>&lt;@Hallie&gt; indeed. i forgot to check that language-shootout, although usually the code is not really idiomatic :slightly_smiling_face:</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T16:23:11.540800</ts>
    <user>Kristeen</user>
    <text>&lt;@Lashawnda&gt; depending on what that person means by "core devs" I don't think any of us know Julia "quite well", but I also don't think any of us would say that</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T16:25:12.541400</ts>
    <user>Kristeen</user>
    <text>&lt;@Sang&gt; that form is used in several places in the core -- the openssl collection and the db collection</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T16:28:49.543900</ts>
    <user>Lashawnda</user>
    <text>&lt;@Kristeen&gt; i just forwarded the info i got without any further details and want(ed) to clear the possible doubt that Racket is generally inferior to Julia when it comes to performance...btw, the person who conveyed that info also said "Racket is pretty amazing, but I stopped looking into it after I figured, that it can't really be made fast language..."</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T16:29:54.544700</ts>
    <user>Kristeen</user>
    <text>Racket is unlikely to be as fast as C++, for example. However, I think "can't be made fast" is false</text>
  </message>
  <message conversation_id="62">
    <ts>2019-02-01T16:34:07.545200</ts>
    <user>Lashawnda</user>
    <text>i don't expect C(++) performance...</text>
  </message>
  <message conversation_id="64">
    <ts>2019-02-01T17:21:25.545500</ts>
    <user>Susana</user>
    <text>Racket is quite faster than most dynamically-typed languages</text>
  </message>
  <message conversation_id="64">
    <ts>2019-02-01T19:47:37.546200</ts>
    <user>Verena</user>
    <text>&lt;@Clarinda&gt; The pre-release page that I see from that URL is Racket Pre-Release 7.1.0.900 .</text>
  </message>
  <message conversation_id="64">
    <ts>2019-02-01T19:58:14.546400</ts>
    <user>Verena</user>
    <text>7.1.0.900 [3m] successfully launches. Requests permission to run.</text>
  </message>
  <message conversation_id="64">
    <ts>2019-02-01T19:58:48.546600</ts>
    <user>Verena</user>
    <text>I don't know if it runs only because the other one's code signature was accepted. Not sure how code signing works.</text>
  </message>
  <message conversation_id="64">
    <ts>2019-02-01T20:10:26.546900</ts>
    <user>Clarinda</user>
    <text>It’s a different certificate, so that’s promising. Maybe the new certificate on v7.2 will work for others who had trouble before.
7.1.0.900 was the pre-release number for 7.2, and 7.2 is now out.</text>
  </message>
  <message conversation_id="64">
    <ts>2019-02-01T20:24:56.547100</ts>
    <user>Verena</user>
    <text>noob question: is racket compiled?</text>
  </message>
  <message conversation_id="65">
    <ts>2019-02-01T20:26:06.547800</ts>
    <user>Kristeen</user>
    <text>the main racket implementation has an ahead-of-time compiler to bytecode, and then a JIT compiler when functions are first executed</text>
  </message>
  <message conversation_id="65">
    <ts>2019-02-01T20:26:30.548300</ts>
    <user>Kristeen</user>
    <text>you can also run Racket built on top of Chez Scheme, which is ahead-of-time compiled</text>
  </message>
  <message conversation_id="66">
    <ts>2019-02-02T03:42:38.549500</ts>
    <user>Lashawnda</user>
    <text>&lt;@Susana&gt; that i know, but for my use case just interested in Racket vs Julia</text>
  </message>
  <message conversation_id="64">
    <ts>2019-02-02T10:50:57.550600</ts>
    <user>Hallie</user>
    <text>I have just watched a very nice talk on Guile-Racket on FOSDEM, there are 2 more talk happening right now regarding Racket, here is a link to livestream: &lt;https://live.fosdem.org/watch/k4201&gt;</text>
  </message>
  <message conversation_id="64">
    <ts>2019-02-02T10:52:50.551100</ts>
    <user>Hallie</user>
    <text>The one that ended was: "A Guiler's Year of Racket" by Christopher Webber</text>
  </message>
  <message conversation_id="64">
    <ts>2019-02-02T10:53:17.551600</ts>
    <user>Hallie</user>
    <text>The one starting right now is: "Fractalide and Cantor
A Racket application built with Flow-Based Programming" by Claes Wallin</text>
  </message>
  <message conversation_id="64">
    <ts>2019-02-02T10:53:59.552200</ts>
    <user>Hallie</user>
    <text>Finally last one will be: "Make your own language with Racket
A kickstart workshop for the creative minds" by Jérôme Martin</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T12:07:28.553400</ts>
    <user>Tomas</user>
    <text>quick question about Frog (&lt;https://docs.racket-lang.org/frog/index.html&gt;) is it possible to execute Racket in Markdown files like you can in Scribble, say, if I want to generate images with 2htdp?</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T12:52:27.554300</ts>
    <user>Julia</user>
    <text>&lt;@Tomas&gt; No. Well. I mean, there's probably _some_ way.</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T12:54:38.555500</ts>
    <user>Julia</user>
    <text>Your `frog.rkt`'s `enhance-body` function can do things to xexprs.
I suppose you could put HTML in the markdown file, have `enhance-body` notice it, do things, replace it, etc.</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T12:54:52.556000</ts>
    <user>Julia</user>
    <text>i.e. that is how the pygments highlighting works</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T12:55:49.557500</ts>
    <user>Julia</user>
    <text>`&amp;lt;d_run_racket_code&amp;gt; ___ &amp;lt;/d_run_racket_code&amp;gt;`, your `enhance-body` notices that. etc.</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T12:56:46.558500</ts>
    <user>Julia</user>
    <text>I'll let you eval `(equal? 'possible 'desirable)` :smile:</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T12:57:18.559000</ts>
    <user>Hallie</user>
    <text>&lt;@Julia&gt; I wanted to ask about something similar - what I would like to have is markdown as a preprocessor that could be working with different `#lang`s so that I could have a hybrid system - something like
```
#lang markdown scribble/manual
@(require markdown/manual)
```</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T12:58:15.560100</ts>
    <user>Hallie</user>
    <text>so that I could specify in my own library the defaults for markdown depending on main `#lang` to be used including custom ones</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T12:58:39.560600</ts>
    <user>Hallie</user>
    <text>could current implementation of markdown be used in such manner</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T12:59:46.561500</ts>
    <user>Hallie</user>
    <text>the use case is for people that are familiar with markdown but would like to have more flexibility and a easy learning curve</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T13:03:10.563400</ts>
    <user>Julia</user>
    <text>Do you mean something like write `@markdown{This is _italic_ etc.}` ?
You could define that `markdown` function yourself I think, calling the `markdown` lib's `parse-markdown` function, and somehow wrangling the xexprs into something Scribble wants.</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T13:03:17.563600</ts>
    <user>Julia</user>
    <text>Also there is &lt;https://docs.racket-lang.org/markdown/index.html#(part._.Use_as_a_library__to_generate__pre-.Scribble_)&gt;</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T13:03:39.564100</ts>
    <user>Julia</user>
    <text>Which I added at someone's request years ago but now can't remember exactly who or why.</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T13:03:50.564400</ts>
    <user>Julia</user>
    <text>So you could probably figure that out as quickly as me, these days. ¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T13:07:17.566000</ts>
    <user>Hallie</user>
    <text>thanks I see it more as a document that starts as markdown until something more complicated is needed - then `@something{more complicated}` is used</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T13:09:11.566900</ts>
    <user>Hallie</user>
    <text>it looks like the "pre-Scribble" is almost there where I need it!</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T13:09:47.567400</ts>
    <user>Mai</user>
    <text>&lt;@Hallie&gt; Pollen markdown mode is exactly what you describe I think</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T13:09:57.567600</ts>
    <user>Mai</user>
    <text>&lt;https://docs.racket-lang.org/pollen/second-tutorial.html#%28part._.Using_.Markdown_with_the_preprocessor%29&gt;</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T13:13:06.569600</ts>
    <user>Hallie</user>
    <text>&lt;@Mai&gt; thanks, but I am thinking about the reverse to what pollen is doing, ie instead of pollen preprocessing to get md file use markdown to generate (in this case) pollen tags</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T13:27:17.573700</ts>
    <user>Lashawnda</user>
    <text>&lt;@Julia&gt; one question about Frog...e.g. Nikola (python ssg) can invoke external compilers to process posts written in e.g. AsciiDoc markup (using Ruby implementation called Asciidoctor), Hugo can invoke (python) rst2html (to e.g. process posts written in reStructuredText markup, so I'm curious if it would be easy to add capability to Frog to use some 'non-native' markup for which there is no Racket-powered parser available (yet)?</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T13:31:42.574600</ts>
    <user>Julia</user>
    <text>I don't know.</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T13:32:23.575100</ts>
    <user>Julia</user>
    <text>But probably doing that wouldn't be as easy as not doing it. ¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="68">
    <ts>2019-02-02T13:47:01.576100</ts>
    <user>Lashawnda</user>
    <text>heh, if the latter is easy, than the former could be doable without (too) much pain :smile:</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T13:58:50.577500</ts>
    <user>Hallie</user>
    <text>&lt;@Julia&gt; would you accept PR with an added reader so it would work as mentioned or would you rather have it as separate package?</text>
  </message>
  <message conversation_id="68">
    <ts>2019-02-02T14:01:41.578800</ts>
    <user>Hallie</user>
    <text>I see there is similar PR by Leif hence the question</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T14:02:50.579400</ts>
    <user>Julia</user>
    <text>&lt;@Hallie&gt; I think it's hard for me to say without seeing the PR?
If it seems too complicated for me to understand quickly, and feel good about maintaining long-term, I might ask separate package?
But then you'd have to redo it as a separate package. :disappointed:</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T14:03:57.581000</ts>
    <user>Julia</user>
    <text>I'm kind of in maintenance mode for Frog, at least for the foreseeable future. I have too much else on my plate, and I haven't worked deeply on the code for a couple years now.
I still use it, dogfood it. It's not going to be abandonware. But maybe not big expandware.</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T14:04:28.581700</ts>
    <user>Julia</user>
    <text>A simple reader change could be cool... unless it isn't cool. Sorry I feel like a prima dona but just trying to be honest.</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T14:04:48.582000</ts>
    <user>Hallie</user>
    <text>OK I will see first how it works with systems like Pollen and Scribble and then we will see if it is even worth</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T14:05:29.582600</ts>
    <user>Julia</user>
    <text>Sorry to be a downer it sounds like a cool idea and if it were a few years ago I'd enthusiastically jump in and actively help.</text>
  </message>
  <message conversation_id="67">
    <ts>2019-02-02T14:05:44.582800</ts>
    <user>Hallie</user>
    <text>no problem :slightly_smiling_face:</text>
  </message>
  <message conversation_id="69">
    <ts>2019-02-02T17:24:57.583700</ts>
    <user>Aubrey</user>
    <text>Racket 7.2 PPAs are cooking... will be ready later today hopefully</text>
  </message>
  <message conversation_id="69">
    <ts>2019-02-02T18:39:13.584100</ts>
    <user>Aubrey</user>
    <text>Anyone had a `Inlining expected for #&amp;lt;procedure:extflvector-length&amp;gt;.` error during build on 7.2?</text>
  </message>
  <message conversation_id="70">
    <ts>2019-02-02T19:05:24.585600</ts>
    <user>Karen</user>
    <text>With `scribble/example`, if I define this at the module level:
```
(define module-sharing-evaluator-factory
   (make-base-eval-factory (list 'racket/base 'my/module 'my/other/module))
```
…will the instantiations of those modules be collectable by the GC?</text>
  </message>
  <message conversation_id="70">
    <ts>2019-02-02T19:15:14.585800</ts>
    <user>Clarinda</user>
    <text>On a platform where extflonums are not supported? It looks like an old Racket bug that is probably triggered by a new-to-v7.2 use of `extflonum-length` in rackunit.</text>
  </message>
  <message conversation_id="70">
    <ts>2019-02-02T19:21:08.586000</ts>
    <user>Aubrey</user>
    <text>It's on an i386 build and not sure if extflonums are supported or not, but it only errored on one of several builds so I suspect they are available. Here's the detailed build log: &lt;https://launchpadlibrarian.net/409497645/buildlog_ubuntu-trusty-i386.racket_7.2+ppa1-1~trusty1_BUILDING.txt.gz&gt; Edit: and it indeed does look like it's building rackunit docs when it aborts.</text>
  </message>
  <message conversation_id="70">
    <ts>2019-02-02T21:48:57.586600</ts>
    <user>Clarinda</user>
    <text>Commit 80f84f2132 should fix the problem. I’ll alert the release managers to see if we should do more than have a patch available.</text>
  </message>
  <message conversation_id="70">
    <ts>2019-02-02T22:07:56.586800</ts>
    <user>Clarinda</user>
    <text>Yes, after the document is rendered. But probably not before the document finishes, which is why there’s `close-eval`.</text>
  </message>
  <message conversation_id="71">
    <ts>2019-02-02T22:54:37.587000</ts>
    <user>Karen</user>
    <text>So there shouldn’t be memory management issues if I do this?
```
#lang scribble/manual

@(define module-sharing-evaluator-factory
   (make-base-eval-factory (list 'racket/base 'my/module 'my/other/module))

... some docs ...

@(examples
  #:eval (module-sharing-evaluator-factory) #:once
  (do-stuff))
```</text>
  </message>
  <message conversation_id="70">
    <ts>2019-02-02T23:01:41.587400</ts>
    <user>Clarinda</user>
    <text>Yes, using `#:once` is a good approach.</text>
  </message>
  <message conversation_id="72">
    <ts>2019-02-03T06:32:53.587700</ts>
    <user>Priscila</user>
    <text>&lt;@Loise&gt;  For writing racket code... Of course keep using VIM for everything else :slightly_smiling_face:</text>
  </message>
  <message conversation_id="73">
    <ts>2019-02-03T10:21:10.589100</ts>
    <user>Nereida</user>
    <text>Hi folks! Does anyone do software test automation in Racket instead of Python? Seems to be a perspective use for the language?</text>
  </message>
  <message conversation_id="72">
    <ts>2019-02-03T10:32:19.589500</ts>
    <user>Priscila</user>
    <text>Besides having test suites for programs written in Racket?</text>
  </message>
  <message conversation_id="70">
    <ts>2019-02-03T14:04:31.589600</ts>
    <user>Nereida</user>
    <text>Yes, automated tests for random websites with functionaity, for example.</text>
  </message>
  <message conversation_id="72">
    <ts>2019-02-03T14:07:02.589900</ts>
    <user>Priscila</user>
    <text>&lt;https://github.com/jboyens/racket-selenium&gt;</text>
  </message>
  <message conversation_id="72">
    <ts>2019-02-03T14:07:35.590300</ts>
    <user>Priscila</user>
    <text>&lt;https://github.com/shofetim/Racket-WebDriver&gt;</text>
  </message>
  <message conversation_id="72">
    <ts>2019-02-03T14:07:48.590700</ts>
    <user>Priscila</user>
    <text>(the last one might be too old)</text>
  </message>
  <message conversation_id="72">
    <ts>2019-02-03T15:15:11.591800</ts>
    <user>Nereida</user>
    <text>&lt;@Priscila&gt; that's cool, I will check it, thanks! :slightly_smiling_face:</text>
  </message>
  <message conversation_id="74">
    <ts>2019-02-04T02:27:35.592700</ts>
    <user>Shavon</user>
    <text>&lt;@Hallie&gt; are you gregid on Github?</text>
  </message>
  <message conversation_id="74">
    <ts>2019-02-04T06:26:57.593900</ts>
    <user>Hallie</user>
    <text>&lt;@Shavon&gt; yes</text>
  </message>
  <message conversation_id="74">
    <ts>2019-02-04T07:10:15.594700</ts>
    <user>Shavon</user>
    <text>&lt;@Hallie&gt; Ah, thanks for the submissions for racket news.</text>
  </message>
  <message conversation_id="74">
    <ts>2019-02-04T07:12:29.595800</ts>
    <user>Hallie</user>
    <text>have you thought about adding `submission` label and/or milestones being newsletter number?</text>
  </message>
  <message conversation_id="74">
    <ts>2019-02-04T07:18:46.596100</ts>
    <user>Shavon</user>
    <text>nope, but I will after you suggested it. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="74">
    <ts>2019-02-04T07:19:07.596300</ts>
    <user>Hallie</user>
    <text>:slightly_smiling_face:</text>
  </message>
  <message conversation_id="74">
    <ts>2019-02-04T07:20:47.596600</ts>
    <user>Shavon</user>
    <text>...and done! :slightly_smiling_face:</text>
  </message>
  <message conversation_id="74">
    <ts>2019-02-04T07:25:24.596900</ts>
    <user>Hallie</user>
    <text>nice! will be easy to track!</text>
  </message>
  <message conversation_id="75">
    <ts>2019-02-04T14:37:59.597700</ts>
    <user>Aubrey</user>
    <text>Thanks, I was able to include the patch in the PPA build and the rebuild looks successful.</text>
  </message>
  <message conversation_id="76">
    <ts>2019-02-04T16:11:10.599300</ts>
    <user>Major</user>
    <text>Just getting started with racket! qq: on a mac, I am seeing `raco pkg install` pull files from `7.1` though I have `7.2` installed. Can someone point me to any documentation that would explain `raco`'s different repos for platforms and builds?</text>
  </message>
  <message conversation_id="76">
    <ts>2019-02-04T16:14:50.599800</ts>
    <user>Priscila</user>
    <text>did you by chance invoke an old `raco` ?</text>
  </message>
  <message conversation_id="76">
    <ts>2019-02-04T16:14:52.600000</ts>
    <user>Priscila</user>
    <text>what does</text>
  </message>
  <message conversation_id="76">
    <ts>2019-02-04T16:14:54.600300</ts>
    <user>Priscila</user>
    <text>which raco</text>
  </message>
  <message conversation_id="76">
    <ts>2019-02-04T16:14:57.600500</ts>
    <user>Priscila</user>
    <text>say</text>
  </message>
  <message conversation_id="76">
    <ts>2019-02-04T16:19:15.600900</ts>
    <user>Major</user>
    <text>I'm installing with `brew install minimal-racket` and getting `/usr/local/bin/raco` for `which raco`</text>
  </message>
  <message conversation_id="76">
    <ts>2019-02-04T16:20:01.601200</ts>
    <user>Priscila</user>
    <text>What does</text>
  </message>
  <message conversation_id="76">
    <ts>2019-02-04T16:20:04.601400</ts>
    <user>Priscila</user>
    <text>raco version</text>
  </message>
  <message conversation_id="76">
    <ts>2019-02-04T16:20:05.601700</ts>
    <user>Priscila</user>
    <text>show?</text>
  </message>
  <message conversation_id="76">
    <ts>2019-02-04T16:21:50.602000</ts>
    <user>Major</user>
    <text>`raco version` is not recognized as a command</text>
  </message>
  <message conversation_id="76">
    <ts>2019-02-04T16:24:25.602800</ts>
    <user>Priscila</user>
    <text>&lt;@Major&gt; Sorry. Misread the output in my terminal (my path contains the version number)</text>
  </message>
  <message conversation_id="76">
    <ts>2019-02-04T16:24:50.603300</ts>
    <user>Gonzalo</user>
    <text>what does `racket --version` show?</text>
  </message>
  <message conversation_id="76">
    <ts>2019-02-04T16:26:08.603500</ts>
    <user>Major</user>
    <text>`7.2`</text>
  </message>
  <message conversation_id="76">
    <ts>2019-02-04T16:26:48.604000</ts>
    <user>Priscila</user>
    <text>I have no idea. But ... why aren't you using the official installers?</text>
  </message>
  <message conversation_id="76">
    <ts>2019-02-04T16:26:49.604200</ts>
    <user>Priscila</user>
    <text>&lt;http://download.racket-lang.org/&gt;</text>
  </message>
  <message conversation_id="76">
    <ts>2019-02-04T16:27:58.605200</ts>
    <user>Gonzalo</user>
    <text>&lt;@Major&gt; If you run `which racket`, do you get `/usr/local/bin/racket` as well? And if so, if you run `raco setup`, what does it say in the first few lines of output? (It should have the version information there.)</text>
  </message>
  <message conversation_id="77">
    <ts>2019-02-04T17:14:27.607000</ts>
    <user>Laverna</user>
    <text>tahir, i just went through this last week, same thing. i went through my system and deleted anything related to racket, and then it started working. it was very frustrating.</text>
  </message>
  <message conversation_id="77">
    <ts>2019-02-04T17:15:51.607800</ts>
    <user>Laverna</user>
    <text>i.e., i had to do more than uninstall things through `brew`; maybe there was a config file left over?</text>
  </message>
  <message conversation_id="77">
    <ts>2019-02-04T17:16:59.608300</ts>
    <user>Laverna</user>
    <text>(i’m assuming you previously had an earlier version of racket installed)</text>
  </message>
  <message conversation_id="77">
    <ts>2019-02-04T17:20:04.609400</ts>
    <user>Laverna</user>
    <text>(there are some advantages to using a system like brew, which is basically just installing `racket-minimal-7.2-src-builtpkgs.tgz`. e.g. there are the usual benefits of using a package manager, which include a consistent way to uninstall and update packages.)</text>
  </message>
  <message conversation_id="77">
    <ts>2019-02-04T17:30:03.610100</ts>
    <user>Tomas</user>
    <text>i have this in my bash files to keep tabs on which Racket i’m running

```
### Add current Racket's bin to path
if [ -L "/usr/local/bin/racket" ]; then
   racket_v=$(racket --version | sed 's/[^0-9.]*//g')
   PATH="$PATH:$HOME/Library/Racket/${racket_v%.*}/bin"
fi
```

I install Racket with `brew cask install racket`</text>
  </message>
  <message conversation_id="77">
    <ts>2019-02-04T17:30:25.610400</ts>
    <user>Tomas</user>
    <text>on a Mac</text>
  </message>
  <message conversation_id="77">
    <ts>2019-02-04T17:31:44.610800</ts>
    <user>Sang</user>
    <text>&lt;@Laverna&gt; You probably want to look at or nuke `~/Library/Racket`</text>
  </message>
  <message conversation_id="77">
    <ts>2019-02-04T17:33:18.611400</ts>
    <user>Sang</user>
    <text>&lt;@Tomas&gt; I don’t have a `bin` under `~/Library/Racket/*`</text>
  </message>
  <message conversation_id="77">
    <ts>2019-02-04T17:34:39.612200</ts>
    <user>Sang</user>
    <text>I usually install via the official dmg’s + rsync. Then either use drracket or `raco pkg migrate` to move to the new version.</text>
  </message>
  <message conversation_id="77">
    <ts>2019-02-04T17:36:42.613500</ts>
    <user>Sang</user>
    <text>&lt;@Major&gt; if you’ve got a mess of racket versions (`brew list --versions --multiple`), then you can probably fix it up to the latest with `brew unlink minimal-racket; brew link minimal-racket`. If that doesn’t fix it up, then you probably have a mix of brew and non-brew installs (or your pathing is strange?)</text>
  </message>
  <message conversation_id="78">
    <ts>2019-02-04T20:30:35.613700</ts>
    <user>Clarinda</user>
    <text>Great - thanks!</text>
  </message>
  <message conversation_id="79">
    <ts>2019-02-04T21:59:44.614200</ts>
    <user>Major</user>
    <text>`which racket`: `/usr/local/bin/racket`. when I run `raco setup` I get the following. I had installed `minimal-racket` a day or so before 7.2 was released. I had installed some pkgs (like `base16-drracket` which shows up below), but have since removed the racket installation with `brew uninstall --force minimal-racket`. Still I'm getting this when I run `raco setup`: ```
raco setup: version: 7.2
raco setup: platform: x86_64-macosx [3m]
raco setup: target machine: racket
raco setup: installation name: 7.2
raco setup: variants: 3m
raco setup: main collects: /usr/local/Cellar/minimal-racket/7.2/share/racket/collects
raco setup: collects paths: 
raco setup:   /Users/tahir.butt/Library/Racket/7.2/collects
raco setup:   /usr/local/Cellar/minimal-racket/7.2/share/racket/collects
raco setup: main pkgs: /usr/local/Cellar/minimal-racket/7.1/share/racket/pkg
raco setup: pkgs paths:         
....                                                                                                                     
raco setup:     source path: /usr/local/Cellar/minimal-racket/7.1/lib/racket/starter-sh
raco setup:     destination path: /usr/local/bin/raco
raco setup:     system error: No such file or directory; errno=2
```</text>
  </message>
  <message conversation_id="79">
    <ts>2019-02-04T22:24:23.616500</ts>
    <user>Gonzalo</user>
    <text>&lt;@Major&gt; It certainly seems like something about the homebrew installation isn’t configured properly, but I’m not totally sure what. Glancing at the minimal-racket formula, it seems to muck about with the location that Racket installs executables so that they end up in `/usr/local`, which shouldn’t break anything on its own AFAICT, but it would explain why the executables don’t get cleaned up when you `brew uninstall` the package.</text>
  </message>
  <message conversation_id="79">
    <ts>2019-02-04T22:24:39.616900</ts>
    <user>Gonzalo</user>
    <text>I don’t think the minimal-racket formula is “official” in any capacity, though.</text>
  </message>
  <message conversation_id="79">
    <ts>2019-02-04T22:53:41.617500</ts>
    <user>Major</user>
    <text>Ok, realized `/usr/local/etc/racket` was not being deleted. now `raco setup` runs and succeeds!</text>
  </message>
  <message conversation_id="79">
    <ts>2019-02-04T22:54:33.617900</ts>
    <user>Major</user>
    <text>And `raco pkg install ...` seems to only pull from `7.2`</text>
  </message>
  <message conversation_id="80">
    <ts>2019-02-05T02:12:20.618200</ts>
    <user>Lashawnda</user>
    <text>morning</text>
  </message>
  <message conversation_id="80">
    <ts>2019-02-05T02:13:46.620000</ts>
    <user>Lashawnda</user>
    <text>i'm considering to go through HTDP2e book and wonder whether it is worth to buy  a copy? some people on the net complain that the typesetting (despite of TeX usage) and the physical format are not top-notch. any comment?</text>
  </message>
  <message conversation_id="81">
    <ts>2019-02-05T05:37:34.626300</ts>
    <user>Mitsuko</user>
    <text>I'm trying to use the Gregor library in a Typed Racket project, but I can't figure out the correct syntax for typing it.  A minimalistic untyped file for printing the current date could look like this:

```
#lang racket
(require gregor)
(displayln (~t (today) "yyyy-MM-dd"))
```

This displays "2019-02-05" as expected.  A crude attempt to convert this to typed Racket is this:

```
#lang typed/racket
(require/typed gregor
               [~t (Any String -&amp;gt; String)]
               [today (-&amp;gt; Any)]
               )
(displayln (~t (today) "yyyy-MM-dd"))
```

But this gives the following error message:

```
~t: contract violation
  any-wrap/c: Unable to protect opaque value passed as `Any`
  value: #&amp;lt;date 2019-02-05&amp;gt;
  in: the 1st argument of
      (-&amp;gt; Any any/c String)
  contract from: (interface for ~t)
```

I can't find any explanation of what this means.  I've also tried a few other variations on this, but to no avail.

What I think I need is to define the `date` struct within the Gregor library (as per &lt;https://docs.racket-lang.org/ts-guide/typed-untyped-interaction.html&gt;), but the docs don't explain how to do that.  Does anyone know what I need to do here?</text>
  </message>
  <message conversation_id="79">
    <ts>2019-02-05T09:29:23.627300</ts>
    <user>Elin</user>
    <text>There are two strategies I know of (that are type-safe by default)</text>
  </message>
  <message conversation_id="79">
    <ts>2019-02-05T09:29:46.627800</ts>
    <user>Elin</user>
    <text>1. Use an `#:opaque` type declaration in the `require/typed` form</text>
  </message>
  <message conversation_id="79">
    <ts>2019-02-05T09:30:05.628200</ts>
    <user>Elin</user>
    <text>2. Use a `#:struct` declaration in the `require/typed` form</text>
  </message>
  <message conversation_id="79">
    <ts>2019-02-05T09:30:53.628900</ts>
    <user>Elin</user>
    <text>(1) can look like this:
```
#lang typed/racket
(require/typed gregor
               [#:opaque Date date?]
               [~t (Date String -&amp;gt; String)]
               [today (-&amp;gt; Date)])
(displayln (~t (today) "yyyy-MM-dd"))
```</text>
  </message>
  <message conversation_id="79">
    <ts>2019-02-05T09:34:58.629600</ts>
    <user>Elin</user>
    <text>(2) only works when the library exposes the struct to you, which `gregor` doesn’t</text>
  </message>
  <message conversation_id="82">
    <ts>2019-02-05T10:53:17.630100</ts>
    <user>Mitsuko</user>
    <text>Sweet.  Got it working.  Thanks a lot!</text>
  </message>
  <message conversation_id="82">
    <ts>2019-02-05T15:17:56.632200</ts>
    <user>Shanell</user>
    <text>&lt;@Mitsuko&gt; On a related note: I often regret making the time zone argument to `today` (and other functions) optional. I think programmers routinely forget that "today" is an indexical term.</text>
  </message>
  <message conversation_id="83">
    <ts>2019-02-05T15:24:49.632400</ts>
    <user>Karen</user>
    <text>Google is currently making an effort internally to fix all date and time bugs in all Java code and so far the biggest cause of them is implicitly relying on the system default clock and time zone</text>
  </message>
  <message conversation_id="83">
    <ts>2019-02-05T15:26:00.632900</ts>
    <user>Karen</user>
    <text>It sneaks global mutable state into places, and if that's not bad enough the state has confusing and unintuitive semantics</text>
  </message>
  <message conversation_id="83">
    <ts>2019-02-05T15:27:11.633200</ts>
    <user>Shanell</user>
    <text>It certainly does</text>
  </message>
  <message conversation_id="83">
    <ts>2019-02-05T15:31:01.633400</ts>
    <user>Karen</user>
    <text>Interestingly the other main problem is APIs and libraries that don't support nanosecond precision</text>
  </message>
  <message conversation_id="83">
    <ts>2019-02-05T15:33:45.633600</ts>
    <user>Shanell</user>
    <text>That _is_ interesting. I haven't written Java in a long time, but, while I wasn't especially surprised to see that `java.util.Date` only has millisecond precision, I _was_ surprised that Joda was the same. The newer `java.time` stuff has nanosecond precision, I believe (as Gregor does).</text>
  </message>
  <message conversation_id="84">
    <ts>2019-02-05T16:10:02.636000</ts>
    <user>Madelaine</user>
    <text>Running the following program raises a use-before-initialization error for `make-foo/c` when evaluating the `(invoke-unit foo@)`. I suspect this is a bug (maybe related to &lt;https://github.com/racket/racket/issues/1652&gt;), but does anyone know if it is supposed to work, or if there's some other way to achieve this?
```
#lang racket

(define-signature foo^
  [foo?
   (define-values-for-export [make-foo/c] (-&amp;gt; foo?))
   make-foo/c
   (contracted [make-foo make-foo/c])])

(define-unit foo@
  (import)
  (export foo^)
  (define (foo? x)
    (eq? x 'foo))
  (define (make-foo)
    'foo))

(invoke-unit foo@)
```</text>
  </message>
  <message conversation_id="84">
    <ts>2019-02-05T16:18:03.636200</ts>
    <user>Karen</user>
    <text>Yup. Migrating code to `jave.time` is a big part of the bug fix effort.</text>
  </message>
  <message conversation_id="84">
    <ts>2019-02-05T16:32:46.636400</ts>
    <user>Madelaine</user>
    <text>I've opened &lt;https://github.com/racket/racket/issues/2459&gt; to track this.</text>
  </message>
  <message conversation_id="84">
    <ts>2019-02-05T16:44:24.636800</ts>
    <user>Mitsuko</user>
    <text>I only need it to parse invoice dates pulled from a CSV file and get the difference between them. I doubt it'll be an issue.  Your library works just fine for me. :+1:</text>
  </message>
  <message conversation_id="85">
    <ts>2019-02-06T07:54:04.638600</ts>
    <user>Shavon</user>
    <text>&lt;@Alden&gt; is there a tour de force on contracts, maybe explaining where they started up and where we are today and what is still to do research-wise, maybe with some connections to Racket? Maybe an internal/technical report or something of the sort that you can share.</text>
  </message>
  <message conversation_id="86">
    <ts>2019-02-06T08:19:52.638800</ts>
    <user>Alden</user>
    <text>Nothing comes to mind sorry</text>
  </message>
  <message conversation_id="85">
    <ts>2019-02-06T08:27:50.639000</ts>
    <user>Shavon</user>
    <text>Thanks.</text>
  </message>
  <message conversation_id="85">
    <ts>2019-02-06T12:05:11.640800</ts>
    <user>Kristeen</user>
    <text>&lt;@Shavon&gt; I would say that &lt;@Alden&gt;'s ICFP 2014 keynote would be the best thing</text>
  </message>
  <message conversation_id="85">
    <ts>2019-02-06T12:08:14.641300</ts>
    <user>Shavon</user>
    <text>&lt;@Kristeen&gt; icfp14 doesn't seem to be online. do you have a link to the keynote?</text>
  </message>
  <message conversation_id="85">
    <ts>2019-02-06T12:08:41.641600</ts>
    <user>Alden</user>
    <text>&lt;https://youtu.be/gXTbMPVFP1M&gt;</text>
  </message>
  <message conversation_id="85">
    <ts>2019-02-06T12:08:41.641700</ts>
    <user>Shavon</user>
    <text>got it</text>
  </message>
  <message conversation_id="85">
    <ts>2019-02-06T12:08:42.642000</ts>
    <user>Shavon</user>
    <text>&lt;https://www.youtube.com/watch?v=gXTbMPVFP1M&gt;</text>
  </message>
  <message conversation_id="85">
    <ts>2019-02-06T12:08:45.642300</ts>
    <user>Shavon</user>
    <text>lol</text>
  </message>
  <message conversation_id="85">
    <ts>2019-02-06T12:08:46.642600</ts>
    <user>Shavon</user>
    <text>thanks!</text>
  </message>
  <message conversation_id="85">
    <ts>2019-02-06T12:08:57.643000</ts>
    <user>Alden</user>
    <text>I’m not sure it is what you’re looking for, tho …..</text>
  </message>
  <message conversation_id="85">
    <ts>2019-02-06T12:09:12.643300</ts>
    <user>Shavon</user>
    <text>Thanks anyhow. Will take a look. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T13:40:38.646000</ts>
    <user>Mai</user>
    <text>Perhaps I miss something really simple. How can I transform an expanded code?

Right now I have something like:

```
(define-for-syntax (my-expand stx)
  (define expanded (local-expand stx 'expression '()))
  (syntax-parse expanded
    #:datum-literals (#%app)
    [(#%app x y)
     expanded]))
```

This works, but if I change `expanded` to `#'x`, I start to get `cannot use identifier tainted by macro transformation`</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T13:52:33.647300</ts>
    <user>Elin</user>
    <text>Which `#%app` is expanding? Racket’s `#%app` or one that you’re defining?</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T13:53:22.648000</ts>
    <user>Elin</user>
    <text>If it’s one that you’re defining, does the `my-expand` code work if you use it only with Racket’s `#%app`?</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T14:04:41.648600</ts>
    <user>Mai</user>
    <text>Racket's app</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T14:07:22.649400</ts>
    <user>Elin</user>
    <text>```
(define-syntax ex
  (lambda (stx)
    (syntax-parse stx
      [(_ e) (my-expand #'e)])))
(ex (add1 5))
```
?</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T14:07:30.649700</ts>
    <user>Mai</user>
    <text>Ohh interesting. </text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T14:07:54.650800</ts>
    <user>Elin</user>
    <text>Where the `#%app` inserted before `add1` is Racket’s `#%app` and not a custom one</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T14:07:56.650900</ts>
    <user>Mai</user>
    <text>Yeah, probably not racket's app</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T14:12:15.652100</ts>
    <user>Mai</user>
    <text>Right, so if I change:

```
(provide (rename-out [module-begin #%module-begin])
         build
         (except-out (all-from-out rosette) #%module-begin))
```

to

```
(provide (rename-out [module-begin #%module-begin])
         build
         (except-out (all-from-out racket) #%module-begin))
```

(that is, change `rosette` to `racket`), then disassembling the expanded syntax works.</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T14:13:01.652800</ts>
    <user>Mai</user>
    <text>But since I need to use `rosette`, how could I make this work?</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T14:14:04.653500</ts>
    <user>Mai</user>
    <text>Also, I thought that `local-expand` is supposed to turn `rosette`’s `#%app` to Racket’s `#%app`. Isn’t that the case?</text>
  </message>
  <message conversation_id="88">
    <ts>2019-02-06T14:25:34.653900</ts>
    <user>Priscila</user>
    <text>&lt;@Shavon&gt;   Have you checked out this?  &lt;https://andykeep.com/pubs/dissertation.pdf&gt;</text>
  </message>
  <message conversation_id="88">
    <ts>2019-02-06T14:41:42.655100</ts>
    <user>Susana</user>
    <text>&lt;@Priscila&gt; I’ve read it because I tried to understand the insides of Chez too, but it does not document many important parts of it. Some stuff you can find in some of Dybvig’s papers, though scattered and incomplete information</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T14:43:29.656300</ts>
    <user>Elin</user>
    <text>&lt;@Mai&gt; Rosette’s `#%app` uses `syntax-protect` on its output, and that makes this harder. Maybe `syntax-disarm` somewhere will help?</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T14:44:02.656800</ts>
    <user>Mai</user>
    <text>Yup, I think I have a solution now</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T14:44:19.656900</ts>
    <user>Priscila</user>
    <text>Agree.</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T14:45:16.657100</ts>
    <user>Susana</user>
    <text>nanopass itself is great though</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T14:59:42.657700</ts>
    <user>Priscila</user>
    <text>A Scheme compiler written with Nanopass - including some comments:</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T14:59:44.657900</ts>
    <user>Priscila</user>
    <text>&lt;https://github.com/tiancaiamao/yscheme/blob/master/compiler.ss&gt;</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T15:00:27.658300</ts>
    <user>Priscila</user>
    <text>Anyone knows about readscheme / Jim Bender?</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T15:01:42.658500</ts>
    <user>Susana</user>
    <text>the domain expired?</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T15:02:10.658900</ts>
    <user>Priscila</user>
    <text>I would be happy to chip in - to get the web site back up.</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T15:03:08.659300</ts>
    <user>Susana</user>
    <text>I think someone in the freenode #scheme IRC channel tried to contact him</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T15:05:26.660100</ts>
    <user>Priscila</user>
    <text>Even hosting the references on Github would be great.</text>
  </message>
  <message conversation_id="87">
    <ts>2019-02-06T15:06:58.660400</ts>
    <user>Priscila</user>
    <text>&lt;http://benderweb.net|benderweb.net&gt; is also gone</text>
  </message>
  <message conversation_id="89">
    <ts>2019-02-06T15:32:21.660500</ts>
    <user>Shavon</user>
    <text>Thanks. Hadn't seen that before.</text>
  </message>
  <message conversation_id="90">
    <ts>2019-02-06T19:45:14.663800</ts>
    <user>Mai</user>
    <text>&lt;@Elin&gt; thanks, it works now. I was aware of `syntax-disarm` but it doesn’t seem to fix the issue. It turns out that is indeed the issue, but I need to disarm at every level. E.g. in `[(_ foo (bar))  ...]`, I can disarm `foo` straightforwardly, but for `bar`, I need to disarm `(bar)` first and then disarm the actual `bar`.</text>
  </message>
  <message conversation_id="91">
    <ts>2019-02-07T09:41:37.665100</ts>
    <user>Shavon</user>
    <text>All, does anybody know what's the granularity of the racket cache? By looking into `.racket` it seems it's either `&amp;lt;version&amp;gt;` or `snapshot`. So if I grab HEAD today and a different HEAD tomorrow, the same cache will be used. Is this the case?</text>
  </message>
  <message conversation_id="91">
    <ts>2019-02-07T10:24:22.666300</ts>
    <user>Clarinda</user>
    <text>The package-download cache is shared across all Racket versions and variants. It’s keyed on the package checksum, so two variants of Racket would use the same cache entry only when they want exactly the same package content.</text>
  </message>
  <message conversation_id="91">
    <ts>2019-02-07T10:49:41.668300</ts>
    <user>Shavon</user>
    <text>but with regards to `deinprogramm`. I install clone two HEADs, one today and one tomorrow. It's fine if they both use the same download cache. But then the package is built. Will the built files today be overwritten by those tomorrow? Also, how does CS fit into this? I assume the built files with cs must be put someplace else?</text>
  </message>
  <message conversation_id="91">
    <ts>2019-02-07T11:17:36.671400</ts>
    <user>Clarinda</user>
    <text>A Racket build from a Git repo checkout uses installation scope by default, so the installation is not written to “~/.racket”. The two builds will have separate installations of the package. A `make cs` build configures `racketcs` to put “.zo” files in a subdirectory of “compiled”, such as “compiled/ta6le”, so that’s why `racket` and `racketcs` can coexist within a build.
If you install anything specifically in user scope, then both checkout builds would use it, and that’s generally not good. Avoid that problem by not installing into user scope or by changing one of the installations (using `raco pkg config ...`) to have a name other than “development”.</text>
  </message>
  <message conversation_id="91">
    <ts>2019-02-07T11:49:24.671700</ts>
    <user>Shavon</user>
    <text>Thanks for the clarification.</text>
  </message>
  <message conversation_id="92">
    <ts>2019-02-07T12:52:34.672300</ts>
    <user>Kay</user>
    <text>Hello! I am new to Racket, and naturally have some questions ... My first ones, since I like static type systems, are:

What is the goal of Typed Racket? Is its main goal to be a workbench for type systems research?
What does Typed Racket offer that the type systems of OCaml or Haskell do not?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T13:54:25.676800</ts>
    <user>Tempie</user>
    <text>I have a list of identifiers that I'd like to use as input to `define-values`. Is it possible to from `'(a b c)` to `(values a b c)`?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T13:55:12.676900</ts>
    <user>Marya</user>
    <text>`(apply values '(a b c))`</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T13:55:57.677100</ts>
    <user>Tempie</user>
    <text>tyvm!</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T13:58:36.677300</ts>
    <user>Marya</user>
    <text>there's also match-define:
`(match-define (list a-var b-var c-var) '(a b c))`</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T13:59:01.677500</ts>
    <user>Marya</user>
    <text>needs `(require racket/match)` though, but `match-define` is pretty powerful</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:02:41.677700</ts>
    <user>Tempie</user>
    <text>Neat. The trick for me is my list is coming out of `hash-values` so I need to make sure it expands before `match-define` or `define-values`. I don't need `hash-values` itself redefined. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="94">
    <ts>2019-02-07T14:05:49.677900</ts>
    <user>Elin</user>
    <text>“expands before” ??</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:07:57.678100</ts>
    <user>Tempie</user>
    <text>Sorry for my clunky terminology. Basically I'm trying to do something like ```(define val-list (hash-keys h))
(define-values (values val-list) (hash-values h))``` but it's trying to literally redefine `val-list`</text>
  </message>
  <message conversation_id="94">
    <ts>2019-02-07T14:09:53.678400</ts>
    <user>Shanell</user>
    <text>It's not clear what you expect it to do</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:10:18.678600</ts>
    <user>Elin</user>
    <text>Correct me if I’m wrong: If `h` is
```
(hash 'a 1 'b 2 'c 3)
```</text>
  </message>
  <message conversation_id="94">
    <ts>2019-02-07T14:10:55.678800</ts>
    <user>Shanell</user>
    <text>Oh, wait: you want to define a variable per k/v pair in the hash?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:11:05.679000</ts>
    <user>Shanell</user>
    <text>My first response is: you do not want to do that.</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:11:11.679200</ts>
    <user>Elin</user>
    <text>The do you want something that will define `a` as 1, `b` as 2, and `c` as 3?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:11:16.679400</ts>
    <user>Tempie</user>
    <text>Yes, exactly.</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:11:46.679600</ts>
    <user>Elin</user>
    <text>Are the keys of the hash table only known/stored at runtime?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:12:23.679800</ts>
    <user>Tempie</user>
    <text>Yeah. Unfortunately the way the actual data is created it is outside the definitions context.</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:13:09.680000</ts>
    <user>Elin</user>
    <text>If you had a magic thing that did what you want called `definitions-from-hash`</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:14:33.680200</ts>
    <user>Elin</user>
    <text>That looked like:
```
(definitions-from-hash h)
```
which took `h` as a runtime value, say `(hash 'a 1 'b 2 'c 3)`, and generated those definitions</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:15:16.680400</ts>
    <user>Tempie</user>
    <text>Yup that's the dream.</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:15:22.680600</ts>
    <user>Elin</user>
    <text>What should the compiler do if it sees:
```
(define (f h)
  (definitions-from-hash h)
  a)
```
?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:17:06.680800</ts>
    <user>Tempie</user>
    <text>Based on my limited understanding I would expect it create those definitions local to the scope of `f` and thus to return `1` if you called it with the example hash.</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:19:11.681000</ts>
    <user>Shanell</user>
    <text>What benefit are you hoping to derive from this? Since the hash keys aren't known until runtime, how would you refer to any of the defined variables?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:19:41.681200</ts>
    <user>Shanell</user>
    <text>How would you know that they aren't messing with the definitions of things like `+`?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:24:22.682900</ts>
    <user>Madelaine</user>
    <text>I'm trying to create a new package in the catalog, and I'm getting an error message saying "Save failed." I'm not seeing any other details about what's wrong. Is something amiss with the server? (&lt;@Boris&gt;?)</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:24:23.683000</ts>
    <user>Tempie</user>
    <text>My use case is that I have a situation where I'm creating a tree of nested items that I would like to be able to refer to by name later because we may need to export multiple references to the same instance of data. This would be wrapped behind macros and not something generally available to our scripters.</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:26:47.683200</ts>
    <user>Elin</user>
    <text>To make what &lt;@Shanell&gt; is saying more concrete, what should the compiler do if it sees:
```
(define (f h)
  (definitions-from-hash h)
  (+ a 10))
```
?

And then you call `f` with a hash table that (accidentally of course) contains the key `'+`:
```
(f (hash 'a "a~vtion" '+ printf))
```
?</text>
  </message>
  <message conversation_id="95">
    <ts>2019-02-07T14:29:16.683500</ts>
    <user>Shanell</user>
    <text>Also:
```
(define (f h)
   (definitions-from-hash h)
   a)

(f (hash))
```</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:30:47.683700</ts>
    <user>Tempie</user>
    <text>In that case it would redefine `+` to `printf`. Is the argument that because such a thing is possible then this function shouldn't exist? Because I can right now do

```(define + printf)
(+ "foo ~a" 1)```</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:31:02.683900</ts>
    <user>Elin</user>
    <text>What about `(f (hash 'definitions-from-hash +))`?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:32:19.684100</ts>
    <user>Tempie</user>
    <text>I'm not working on a publicly available API or anything here. This is an internal library to be used by our own employees who are all reasonably professional. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:32:27.684300</ts>
    <user>Elin</user>
    <text>Okay</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:33:20.684600</ts>
    <user>Elin</user>
    <text>How about you modify it slightly:
```
(definitions-from-hash h [a b c])
```
That way `a`, `b`, and `c` are known at compile time?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:36:21.684800</ts>
    <user>Elin</user>
    <text>Definitions and binding need to be determined at compile time, that’s why</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:37:05.685000</ts>
    <user>Tempie</user>
    <text>So the net effect of that would be every instance of this data would require the scripter to also maintain a list of all known instances in a separate location. I'd say we'd go maybe 48 hours before that process broke down. While everyone is reasonably professional most of them are non-technical by nature.</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:38:04.685200</ts>
    <user>Shanell</user>
    <text>I guess I still don't understand this part: if the keys aren't known until runtime, how can any of the people using this refer to them? How/why would they expect `a` to be bound?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:38:35.685400</ts>
    <user>Shanell</user>
    <text>If they _are_ known ahead of time, then you don't need to do this. If they aren't, I don't see how it's _useful_ to do this.</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:39:51.685600</ts>
    <user>Shanell</user>
    <text>Or are you assuming that the programmers will be able to refer to unbound variables and get back some kind of `undefined` value à la javascript?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:40:52.685800</ts>
    <user>Tempie</user>
    <text>The runtime in this case is an exporter which generates a data file to be used by the game. So if our exporter can refer to data at a later point in time we can do more useful things with that data. Say we are able to export the tree of data as authored by the scripters but then automatically generate a list of all known tree nodes which also gets written out.</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:43:55.686000</ts>
    <user>Shanell</user>
    <text>Sorry, I don't follow. I guess I still don't have a good idea of how this code would be used.</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:46:45.686300</ts>
    <user>Shanell</user>
    <text>But... assuming that whoever is going to be referring to these variables is also responsible for making sure that the hash has the relevant keys (which I think is what you're saying), maybe this could be done as a kind of staged approach? Where you'd macro-generate the code per dataset. Does that make any sense?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:49:15.686500</ts>
    <user>Shanell</user>
    <text>An alternative would be to embed an interpreter in your code.</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:50:03.686700</ts>
    <user>Elin</user>
    <text>If someone writes
```
(define (f h)
  (definitions-from-hash h)
  eeeeeee)
```
And then `f` is called on a hash that doesn’t have that key, like `(hash 'a 1 'b 2 'c 3)`, what do you want to happen?
  1. Error at compile time, somehow
  2. Error at run time
  3. Some king of “undefined” value, but no error</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:50:35.686900</ts>
    <user>Tempie</user>
    <text>I think so, I believe we do similar macro generated code/datasets pretty frequently if I take your meaning correctly.</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:50:39.687100</ts>
    <user>Elin</user>
    <text>And who should be “blamed” for this error?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:50:50.687300</ts>
    <user>Tempie</user>
    <text>Runtime error &lt;@Elin&gt;</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:51:07.687500</ts>
    <user>Elin</user>
    <text>The person who wrote `f` in a way that referred to a key that didn’t exist?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:51:18.687700</ts>
    <user>Elin</user>
    <text>Or the person who called `f` without giving it the keys that it expected?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:52:23.687900</ts>
    <user>Tempie</user>
    <text>I would expect the "blame" to be on the author of `f` in this case</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:53:44.688100</ts>
    <user>Elin</user>
    <text>So when `f` is written, is there some list of known valid keys somewhere?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:54:15.688300</ts>
    <user>Elin</user>
    <text>And `a`, `b`, and `c` are in that list, but `eeeeeee` is not?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:55:53.688500</ts>
    <user>Tempie</user>
    <text>Unfortunately that's what the hash table is supposed to be, the list of known things.</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:56:25.688700</ts>
    <user>Elin</user>
    <text>But the list of known valid keys is known when `f` is written, which is before `f` is called, right?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:57:31.689000</ts>
    <user>Shanell</user>
    <text>So, I've never done this before, but maybe you could do something like:
- create a new namespace
- iterate through the hash pairs, calling `namespace-set-variable-value!` on each
- use the populated namespace to `eval` the user code</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:57:59.689200</ts>
    <user>Shanell</user>
    <text>(This is a simplified version of what you'd need to do to set up a useful environment for eval-ing code.)</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:58:15.689400</ts>
    <user>Elin</user>
    <text>There are probably much better ways than `eval`, even for potentially dynamic behavior like this</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:58:16.689600</ts>
    <user>Shanell</user>
    <text>And quite possibly not the best way to go about this.</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:58:36.689800</ts>
    <user>Elin</user>
    <text>I’m trying to figure out how dynamic it needs to be</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:59:17.690000</ts>
    <user>Elin</user>
    <text>Should information be known when `f` is defined, or only when `f` is called?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T14:59:52.690200</ts>
    <user>Tempie</user>
    <text>`f` is not written when there is a list of known keys.</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T15:00:50.690400</ts>
    <user>Elin</user>
    <text>Then how is it right to blame the author of `f` for writing `eeeeeee` when the list of keys is not known when they wrote it?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T15:01:21.690600</ts>
    <user>Tempie</user>
    <text>Let me see if I can conjure up what this might look like to a scripter</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T15:01:26.690800</ts>
    <user>Tempie</user>
    <text>```(new-game-data example
 (new-node foo 1 2 3)
 (new-node bar 4 5 6)
 )
;; foo is undefined
(magic)
;; foo is now bound to a new data node
(do-something-with foo bar)```</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T15:01:59.691000</ts>
    <user>Tempie</user>
    <text>`new-node` in this example is a macro that internally updates the hash table behind the scenes.</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T15:02:24.691200</ts>
    <user>Elin</user>
    <text>Currently the `new-node` macro updates the hash at run time?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T15:02:42.691400</ts>
    <user>Elin</user>
    <text>Could you have it update a set of known keys at compile time as well?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T15:03:15.691600</ts>
    <user>Tempie</user>
    <text>How might I do that?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T15:05:18.691800</ts>
    <user>Elin</user>
    <text>What if the information about `foo` and `bar` being valid keys was stored at compile time in the `example` identifier?
Then when you invoke `magic` you pass in `example` like this:
```
(magic example)
```
And then `foo` and `bar` are defined</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T15:09:42.692000</ts>
    <user>Tempie</user>
    <text>The part I'm stuck on is associating `foo` and `bar` with `example` at compile time. I think it would require `new-game-data` having significant visibility into the the format of the data nodes.</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T15:10:06.692200</ts>
    <user>Tempie</user>
    <text>But I admit that is particular to our own macro structure.</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T15:11:05.692400</ts>
    <user>Tempie</user>
    <text>Assuming the `new-game-data` macro had that information, what would the process of compile time association look like?</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T15:15:32.692600</ts>
    <user>Elin</user>
    <text>One possible way would look something like this:</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T15:15:44.692800</ts>
    <user>Elin</user>
    <text>```
#lang racket

(require syntax/parse/define)

(define-syntax new-node #f)

(define-syntax-parser new-game-data
  #:literals [new-node]
  [(new-game-data name:id (new-node key:id) ...)
   #'(define-syntax name '(key ...))])

(define-syntax-parser magic
  [(magic name:id)
   (define keys (syntax-local-value #'name))
   (define keys-stx (datum-&amp;gt;syntax #'name keys))
   #`(define-values #,keys-stx (apply values (range #,(length keys))))])

(new-game-data example
 (new-node foo)
 (new-node bar))

(magic example)
foo
;=&amp;gt; 0
bar
;=&amp;gt; 1
```</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T15:16:37.693000</ts>
    <user>Elin</user>
    <text>`define-syntax` creates an association at compile time</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T15:16:56.693200</ts>
    <user>Elin</user>
    <text>and `syntax-local-value` looks up the compile-time value associated with the identifier</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T15:19:11.693400</ts>
    <user>Elin</user>
    <text>It’s also possible to have `example` tied to both a compile-time set of keys and a run-time hashtable, by creating a compile-time struct that refers to a runtime identifier</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T15:23:04.693900</ts>
    <user>Elin</user>
    <text>Or if there might be multiple run-time hash-tables for the same set of keys, it might be better to keep those separate.</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T15:24:09.695200</ts>
    <user>Tempie</user>
    <text>Interesting! I've not seen `define-syntax-parser` before.</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T15:24:52.695800</ts>
    <user>Tempie</user>
    <text>Unfortunately I have to step away for a bit, if I don't get a chance to follow up later I just want to say thank you for working this out with me.</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:24:58.696100</ts>
    <user>Shavon</user>
    <text>&lt;@Julia&gt; at the moment in frog, to create the website, I do a `raco frog -b` which puts everything in a `site` subfolder but then I need to manually copy in the css, img and js folders so I can sync it to the destination. Is there a way to specify `assets` to have automatically copied to the site folder?</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:28:24.697400</ts>
    <user>Julia</user>
    <text>&lt;@Shavon&gt; Can you just locate the css / img / js in the `site` subfolder in the first place?
(`raco frog --clean` doesn't `rm *` it cleans only files it produced)</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:33:13.699500</ts>
    <user>Shavon</user>
    <text>but those are not in the site subfolder.</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:33:35.700000</ts>
    <user>Julia</user>
    <text>I mean, for my own frog blog, I have the source and output all mixed in one tree which effectively gets `bitblt`ed to GitHub Pages.
&lt;https://github.com/greghendershott/greghendershott.github.com&gt;
Including the `_src` tree.
It happens that GitHub Pages doesn't serve stuff under `_src`, so e.g. &lt;https://www.greghendershott.com/_src/About.md&gt; doesn't show you the source.</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:33:52.700500</ts>
    <user>Julia</user>
    <text>But even if it showed the source markdown I'm like ¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:34:47.702000</ts>
    <user>Julia</user>
    <text>So at other people's request frog has options to build to some other dir.
But I never use it.
I am supremely bored by non-trivial deployments of anything. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="93">
    <ts>2019-02-07T15:34:50.702100</ts>
    <user>Shavon</user>
    <text>hummm, yes that works. but I wanted a cleaner solution where only the files required for the website are put in `site/`.</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:35:19.702800</ts>
    <user>Shavon</user>
    <text>Would you accept a PR to add assets to the target folder?</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:37:17.703800</ts>
    <user>Julia</user>
    <text>I guess so but I'm still confused, can't you simply have the assets under `site/` where you want them to be, and you run frog and it "fills in" the output HTML etc alongside it?</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:38:08.704600</ts>
    <user>Shavon</user>
    <text>but site doesn't actually exist. I could of course create it before hand, but I generally just point to a temp dir for frog to generate the site.</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:39:14.706000</ts>
    <user>Shavon</user>
    <text>I at the moment have a makefile that does that: create temp dir, copy css, js, img and then run `raco frog -b` but it would be cooler if I could ditch the makefile and instead have in `frog.rkt` something like: `(assets (list "css/" "img/" "js/"))` or something of the sort.</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:40:25.706500</ts>
    <user>Julia</user>
    <text>OK well if it's a simple change I'm open to a PR.</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:40:43.707100</ts>
    <user>Shavon</user>
    <text>ok, will give it a go. thanks.</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:41:11.707700</ts>
    <user>Julia</user>
    <text>I guess my reluctance is a feeling that, in hindsight, Frog should probably be exploded into pieces that can be driven by a makefile or other script, and then people can do all sorts of flows.</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:41:45.708300</ts>
    <user>Julia</user>
    <text>A lot of frog is what I call "path math", plus an application of Greenspun's rule to makefiles. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:42:56.709200</ts>
    <user>Shavon</user>
    <text>really? i would think going on a path to ditch makefiles would be better. :slightly_smiling_face: anyhow, your call.</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:43:16.709600</ts>
    <user>Julia</user>
    <text>But that's just my reluctance, hindsight. The horse is well out of the barn, so some more PRs are inevitable. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:45:47.711000</ts>
    <user>Shavon</user>
    <text>lets turn this frog into bullfrog...</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:46:19.712000</ts>
    <user>Shavon</user>
    <text>(i am now left wondering if the bullfrog is indeed as large as it sounds...)</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:46:33.712200</ts>
    <user>Shavon</user>
    <text>:confused:</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:47:52.713300</ts>
    <user>Julia</user>
    <text>One way to put it: I wish Frog, instead of an application and a "framework", were more just a set of libraries.</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:48:12.714000</ts>
    <user>Julia</user>
    <text>Whether you drive it with a makefile, or your own little Racket program, or shell script, whatever.</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:49:04.715400</ts>
    <user>Madelaine</user>
    <text>Tangentially, have either of you used the Racket `make` module? (&lt;https://docs.racket-lang.org/make/&gt;) I haven't really tried it yet, but I do run into some situations where I want to bridge the gap between `raco setup`'s notion dependency tracking with external things that lend themselves more to makefiles, like rebuilding various static files.</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:49:04.715500</ts>
    <user>Julia</user>
    <text>The main value Frog has, as an app, is any "just-works" element.
But once people want it to work unique ways, it kind of falls down fast, and starts to go down the configurability slippery slope.</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T15:50:15.716500</ts>
    <user>Julia</user>
    <text>&lt;@Madelaine&gt; I haven't looked it for awhile. I thought of it recently wrt Racket projects working on Windows, too. But I haven't done much with the thought, yet.</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T16:04:18.717000</ts>
    <user>Shavon</user>
    <text>&lt;@Julia&gt; for what it's worth, I really like how frog works. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T16:05:22.718100</ts>
    <user>Shavon</user>
    <text>&lt;@Madelaine&gt; that's a pretty old module. I haven't looked at it in a decade but I have used it back in the plt scheme time.</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T16:06:17.719000</ts>
    <user>Shavon</user>
    <text>but since i haven't looked at it since, it might have been refactored since.</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T16:07:02.720900</ts>
    <user>Shavon</user>
    <text>geee... what have i written there. time to bed.</text>
  </message>
  <message conversation_id="96">
    <ts>2019-02-07T16:07:39.721900</ts>
    <user>Karen</user>
    <text>I wish the racket `make` thing included a language so I could easily port regular makefiles to racket ones just by adding `#lang make` to the top of each makefile</text>
  </message>
  <message conversation_id="97">
    <ts>2019-02-07T16:44:40.722100</ts>
    <user>Madelaine</user>
    <text>Never mind: I was pasting the package's name, and it turns out I'd pasted some invisible leading whitespace. Though maybe the site should use `string-trim` and/or give a more descriptive error message?</text>
  </message>
  <message conversation_id="98">
    <ts>2019-02-08T15:58:42.724300</ts>
    <user>Tomas</user>
    <text>Looking at `net/url` and we have `get|head|delete|options|post|put-impure-port` but nothing for `PATCH` - would it be possible to craft something similar to  `patch-pure-port` ?</text>
  </message>
  <message conversation_id="98">
    <ts>2019-02-08T16:02:08.724500</ts>
    <user>Tomas</user>
    <text>Looking at &lt;https://github.com/racket/racket/blob/master/racket/collects/net/url.rkt#L402&gt;</text>
  </message>
  <message conversation_id="98">
    <ts>2019-02-08T16:03:37.724900</ts>
    <user>Priscila</user>
    <text>Had to look up PATCH. &lt;https://en.wikipedia.org/wiki/Patch_verb&gt;</text>
  </message>
  <message conversation_id="98">
    <ts>2019-02-08T16:03:48.725300</ts>
    <user>Tomas</user>
    <text>We use it in our APIs at work pretty regularly</text>
  </message>
  <message conversation_id="98">
    <ts>2019-02-08T16:04:07.725800</ts>
    <user>Priscila</user>
    <text>From 2010 so my guess is that net/url is older.</text>
  </message>
  <message conversation_id="98">
    <ts>2019-02-08T16:04:25.726400</ts>
    <user>Priscila</user>
    <text>That is, it has not been left out on purpose.</text>
  </message>
  <message conversation_id="98">
    <ts>2019-02-08T16:04:29.726700</ts>
    <user>Tomas</user>
    <text>seems like in _theory_ i could pass the method to &lt;https://github.com/racket/racket/blob/master/racket/collects/net/url.rkt#L429&gt;</text>
  </message>
  <message conversation_id="98">
    <ts>2019-02-08T16:04:50.727500</ts>
    <user>Priscila</user>
    <text>On the other hand nobody wanted it enough to make a pull request.</text>
  </message>
  <message conversation_id="98">
    <ts>2019-02-08T16:04:55.727800</ts>
    <user>Tomas</user>
    <text>oh yeah i didn’t think it was on purpose</text>
  </message>
  <message conversation_id="98">
    <ts>2019-02-08T16:05:00.728100</ts>
    <user>Tomas</user>
    <text>Okay, will work up a PR</text>
  </message>
  <message conversation_id="98">
    <ts>2019-02-08T16:05:01.728200</ts>
    <user>Priscila</user>
    <text>It would be natural to include it.</text>
  </message>
  <message conversation_id="98">
    <ts>2019-02-08T17:34:05.730000</ts>
    <user>Julia</user>
    <text>&lt;@Tomas&gt; &lt;@Priscila&gt; I think when &lt;@Boris&gt; added the `net/http-client` module -- which supports supplying any method as bytes -- he hoped that would be the preferred library going forward and `net/url` was just for backward compatibility.</text>
  </message>
  <message conversation_id="98">
    <ts>2019-02-08T17:34:07.730200</ts>
    <user>Julia</user>
    <text>&lt;https://docs.racket-lang.org/net/http-client.html&gt;</text>
  </message>
  <message conversation_id="98">
    <ts>2019-02-08T17:35:06.731300</ts>
    <user>Julia</user>
    <text>Having said that, for quick one-off things I still reach for xxx-pure-port on autopilot. It wouldn't be horrible to round it out with a PATCH method, if you wanted to do that work.</text>
  </message>
  <message conversation_id="98">
    <ts>2019-02-08T17:35:18.731500</ts>
    <user>Priscila</user>
    <text>Good point.</text>
  </message>
  <message conversation_id="98">
    <ts>2019-02-08T17:36:33.732300</ts>
    <user>Julia</user>
    <text>`net/http-client` supports things like issuing multiple requests over one connection, with HTTP/1.1.</text>
  </message>
  <message conversation_id="98">
    <ts>2019-02-08T17:37:22.732900</ts>
    <user>Julia</user>
    <text>I would say Racket needs an HTTP/2 story, but, (a) I'm not sure it really does and (b) HTTP/3 is already on the horizon. ¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="99">
    <ts>2019-02-08T18:11:51.733300</ts>
    <user>Tomas</user>
    <text>Ah I guess I'm never sure which is the preferred lib to use</text>
  </message>
  <message conversation_id="99">
    <ts>2019-02-08T18:12:58.733600</ts>
    <user>Tomas</user>
    <text>Do the methods in `http-client` handle redirects?</text>
  </message>
  <message conversation_id="99">
    <ts>2019-02-08T18:33:53.734300</ts>
    <user>Tomas</user>
    <text>One of the reasons I fall back on `net/url` is due to `302` redirects which I can't seem to figure out how to handle with `http-client`</text>
  </message>
  <message conversation_id="99">
    <ts>2019-02-08T18:36:07.734500</ts>
    <user>Tomas</user>
    <text>or do I need to do that manually?</text>
  </message>
  <message conversation_id="99">
    <ts>2019-02-08T18:41:54.735000</ts>
    <user>Julia</user>
    <text>Oh that's a good question. I don't know.</text>
  </message>
  <message conversation_id="99">
    <ts>2019-02-08T18:45:20.735300</ts>
    <user>Tomas</user>
    <text>looks like I need to handle it based on status/headers</text>
  </message>
  <message conversation_id="99">
    <ts>2019-02-08T18:45:30.735600</ts>
    <user>Tomas</user>
    <text>which is pretty straightforward</text>
  </message>
  <message conversation_id="99">
    <ts>2019-02-08T18:51:49.735900</ts>
    <user>Tomas</user>
    <text>super janky demo

```
#lang racket/base

(require json
         net/head
         net/http-client
         racket/port
         racket/string)

(define (parse-headers headers)
  (for/hash ([header (map (λ (h)
                            (string-split (bytes-&amp;gt;string/utf-8 h) ": "))
                          headers)])
    (values (car header) (cadr header))))

(define (get uri)
  (define-values (status headers body)
    (http-sendrecv "&lt;http://httpbin.org|httpbin.org&gt;" uri #:method #"GET"))

  (define header-map (parse-headers headers))

  (println status)
  (displayln header-map)
  (println (port-&amp;gt;string body))

  (when (equal? status #"HTTP/1.1 302 FOUND")
    (get (hash-ref header-map "Location"))))

(get "/absolute-redirect/4")
```</text>
  </message>
  <message conversation_id="100">
    <ts>2019-02-08T20:57:15.737400</ts>
    <user>Deneen</user>
    <text>So apologies if this is a silly question, but I’m trying to give some students of mine a “typical” #lang written in Racket. I’d like a language that is somewhat nontrivial but not as big as typed racket. Any tips on good #langs to give them? I found an EOPL language by David Van Horn that looks good, maybe that: &lt;https://github.com/racket/eopl&gt; (The downside here is--I think--that it’s using some nonstandard parser? I am not sure I get what’s going on there)</text>
  </message>
  <message conversation_id="100">
    <ts>2019-02-08T20:57:48.738100</ts>
    <user>Deneen</user>
    <text>this will also be a learning experience for me. I’ve only written very small #langs that build on top of #lang s-exp..</text>
  </message>
  <message conversation_id="101">
    <ts>2019-02-09T02:13:46.738200</ts>
    <user>Mai</user>
    <text>There’s also &lt;https://docs.racket-lang.org/plai-typed/index.html&gt;. I glanced at it and it seems to use the standard parser.</text>
  </message>
  <message conversation_id="100">
    <ts>2019-02-09T02:21:03.738400</ts>
    <user>Deneen</user>
    <text>whoa! This is perfect.</text>
  </message>
  <message conversation_id="101">
    <ts>2019-02-09T03:20:48.740000</ts>
    <user>Mai</user>
    <text>Is there a boolean kwarg library? Pretty much overriding `#%app` to expand `(f a #:b c #:d #:e)` to `(f a #:b c #:d #t #:e #t)`.</text>
  </message>
  <message conversation_id="101">
    <ts>2019-02-09T03:44:34.740200</ts>
    <user>Karen</user>
    <text>HTTP/2 is such a _massive_ perf improvement over 1.1 that I think it's definitely needed. Especially since HTTP/3 won't be more ubiquitous than 2 for at least a decade.</text>
  </message>
  <message conversation_id="101">
    <ts>2019-02-09T03:45:27.740400</ts>
    <user>Karen</user>
    <text>Using 2 makes "request batching" patterns in web APIs basically obsolete</text>
  </message>
  <message conversation_id="102">
    <ts>2019-02-09T06:37:32.741100</ts>
    <user>Marya</user>
    <text>another (simpler?) option is to define a new `define/kw-compact` (say) form that does the translation for all new functions defined this way</text>
  </message>
  <message conversation_id="102">
    <ts>2019-02-09T06:39:54.741300</ts>
    <user>Marya</user>
    <text>basically you first define the wrapper as a procedure using `apply` and then you define the form to wrap all this in a define form</text>
  </message>
  <message conversation_id="103">
    <ts>2019-02-09T14:04:20.741600</ts>
    <user>Lillian</user>
    <text>See also this &lt;@Clarinda&gt; article, which shows nicely the increasing steps in `#lang` sophistication  &lt;https://queue.acm.org/detail.cfm?id=2068896&gt;</text>
  </message>
  <message conversation_id="102">
    <ts>2019-02-09T14:27:40.742000</ts>
    <user>Azucena</user>
    <text>&lt;@Marya&gt; But that still wouldn't allow clients of the function to call it the way &lt;@Mai&gt; shows, or am I missing something? Are you instead thinking about easing the definition of functions with keyword arguments that default to `#false`?</text>
  </message>
  <message conversation_id="102">
    <ts>2019-02-09T14:42:45.742200</ts>
    <user>Marya</user>
    <text>you can use `syntax-parser` to do pretty much what you want with arguments</text>
  </message>
  <message conversation_id="102">
    <ts>2019-02-09T14:43:13.742400</ts>
    <user>Marya</user>
    <text>so the defined f would be a form rather than a function/procedure, that's the drawback (you can't use apply as easily)</text>
  </message>
  <message conversation_id="102">
    <ts>2019-02-09T16:40:58.742700</ts>
    <user>Mai</user>
    <text>Right. In fact I did exactly what &lt;@Marya&gt; suggests before. The problem is that `f` is now a macro, so it couldn’t be used as a higher order function (like `(apply f ...)` or `(map f ...)`), though I think there’s actually a way to make it work?</text>
  </message>
  <message conversation_id="104">
    <ts>2019-02-09T16:42:46.742900</ts>
    <user>Mai</user>
    <text>But it also depends on whether we want this to work with functions that we don’t define ourselves (which would require a change to `#%app`)</text>
  </message>
  <message conversation_id="105">
    <ts>2019-02-09T17:24:53.743200</ts>
    <user>Lavette</user>
    <text>For getting started, I would also recommend some of the languages from &lt;@Lillian&gt;'s &lt;https://beautifulracket.com&gt;</text>
  </message>
  <message conversation_id="105">
    <ts>2019-02-09T17:31:14.743400</ts>
    <user>Deneen</user>
    <text>So they’ve read that. They’re looking for something a little bigger than that</text>
  </message>
  <message conversation_id="105">
    <ts>2019-02-09T17:31:38.743600</ts>
    <user>Deneen</user>
    <text>There don’t seem to be as many examples between “small” langs and “huge” langs, but the plai typed one looks ideal for this, combined with the article</text>
  </message>
  <message conversation_id="106">
    <ts>2019-02-10T16:20:33.744600</ts>
    <user>Terry</user>
    <text>How about `#lang lindenmayer`?

&lt;http://docs.racket-lang.org/lindenmayer/A_Quick_Introduction_to_L-Systems.html&gt;</text>
  </message>
  <message conversation_id="106">
    <ts>2019-02-10T16:24:49.745300</ts>
    <user>Terry</user>
    <text>Oops my apologies I missed the replies </text>
  </message>
  <message conversation_id="106">
    <ts>2019-02-11T05:57:09.000200</ts>
    <user>Priscila</user>
    <text>&lt;https://news.ycombinator.com/item?id=19130449&gt;</text>
  </message>
  <message conversation_id="106">
    <ts>2019-02-11T05:57:13.000400</ts>
    <user>Priscila</user>
    <text>?!?</text>
  </message>
  <message conversation_id="107">
    <ts>2019-02-11T11:37:27.003400</ts>
    <user>Zada</user>
    <text>hello all,  I would like to use the `|` and `||` literals in my language, therefore I do not want the reader to read them as pairs and fail when they are "mismatched".   Is there a switch somewhere to help with this?  do I need to make a change to the readtable ?  thanks.</text>
  </message>
  <message conversation_id="107">
    <ts>2019-02-11T11:38:51.003900</ts>
    <user>Kristeen</user>
    <text>&lt;@Zada&gt; do you want them to be delimiters? or to work like normal letters? or something else?</text>
  </message>
  <message conversation_id="107">
    <ts>2019-02-11T11:39:07.004200</ts>
    <user>Elin</user>
    <text>&lt;https://docs.racket-lang.org/no-vert-bar-lang/index.html?q=no-vert-bar#%28part.__lang_no-vert-bar%29&gt;</text>
  </message>
  <message conversation_id="107">
    <ts>2019-02-11T11:39:28.004500</ts>
    <user>Zada</user>
    <text>I am using them as `datum-literals`  in some expressions</text>
  </message>
  <message conversation_id="107">
    <ts>2019-02-11T11:41:41.005200</ts>
    <user>Zada</user>
    <text>&lt;@Elin&gt; thanks, I see you are making changes to the readtable.  I will try to emulate this behavior</text>
  </message>
  <message conversation_id="107">
    <ts>2019-02-11T11:43:37.005800</ts>
    <user>Elin</user>
    <text>Or I could expose the `make-no-vert-bar-readtable` function from it, could you use that?</text>
  </message>
  <message conversation_id="107">
    <ts>2019-02-11T11:46:43.007600</ts>
    <user>Zada</user>
    <text>well, it is only a couple of lines of code in my #lang, I would rather not have a dependency for it (if that is what you were suggesting?)  I will link to your repo in the comments of course.</text>
  </message>
  <message conversation_id="107">
    <ts>2019-02-11T12:01:22.008700</ts>
    <user>Zada</user>
    <text>cool, I got it working.   you can use `||` and `|` in the lang, and in the expander layer I quote them out using `\|\|` and it is working as expected. thanks for the quick response !</text>
  </message>
  <message conversation_id="107">
    <ts>2019-02-11T12:03:20.009100</ts>
    <user>Elin</user>
    <text>I’m curious, what #lang are you working on?</text>
  </message>
  <message conversation_id="107">
    <ts>2019-02-11T12:05:51.009500</ts>
    <user>Susana</user>
    <text>prolog uses `|`</text>
  </message>
  <message conversation_id="107">
    <ts>2019-02-11T12:06:11.009800</ts>
    <user>Susana</user>
    <text>but not `||`, I think</text>
  </message>
  <message conversation_id="107">
    <ts>2019-02-11T12:09:41.011900</ts>
    <user>Zada</user>
    <text>&lt;@Elin&gt; my last one was this, a racket powered 6502 assembler.  &lt;https://github.com/pezipink/asi64&gt;    the one I am working on now is a source-to-source Verilog compiler for programming FPGAs.  it's basically Verilog with a bunch of nicer constructs, compiler help with things like exhaustive checking on enums, data truncation warnings,  and of course, racket macros.</text>
  </message>
  <message conversation_id="107">
    <ts>2019-02-11T12:09:50.012400</ts>
    <user>Zada</user>
    <text>hopefully do something with clock signals as well</text>
  </message>
  <message conversation_id="108">
    <ts>2019-02-11T13:11:30.012800</ts>
    <user>Priscila</user>
    <text>&lt;@Zada&gt; Cool!  &lt;https://docs.racket-lang.org/asi64/index.html&gt;</text>
  </message>
  <message conversation_id="108">
    <ts>2019-02-11T13:21:45.017400</ts>
    <user>Zada</user>
    <text>&lt;@Priscila&gt; thanks! check out the game I am writing here &lt;https://github.com/ChipmunkHand/TriangleCat/tree/master/src&gt; you can do all kinds of cool stuff now you have all of racket in the assembler.  it has a SID file loader,  sprite loaders using the output format of some sprite tool, a metadata tile system generator,  a state machine generator,   even an expression compiler that lets you write nested  if / then / else and compiles switch statements into lookup tables for you.  sky's the limit! it is much more fun to write 6502 with all that power behind you :wink:</text>
  </message>
  <message conversation_id="108">
    <ts>2019-02-11T13:25:33.017600</ts>
    <user>Priscila</user>
    <text>This looks great.</text>
  </message>
  <message conversation_id="108">
    <ts>2019-02-11T13:25:59.018200</ts>
    <user>Priscila</user>
    <text>Pretty easy to make, sine tables:</text>
  </message>
  <message conversation_id="108">
    <ts>2019-02-11T13:26:00.018400</ts>
    <user>Priscila</user>
    <text>:cosine
(data
(for/list ([x (in-range 0 365 5)])
  (bitwise-and (exact-round (* (cos (deg-&amp;gt;rad x)) 63)) #xFF)))</text>
  </message>
  <message conversation_id="108">
    <ts>2019-02-11T13:26:02.018600</ts>
    <user>Zada</user>
    <text>it is basically the most powerful assembler ever, not really through my own doing so much :slightly_smiling_face:</text>
  </message>
  <message conversation_id="108">
    <ts>2019-02-11T13:26:57.019100</ts>
    <user>Priscila</user>
    <text>I am struggling to remember which assembler I used back in the day.</text>
  </message>
  <message conversation_id="108">
    <ts>2019-02-11T13:28:31.019400</ts>
    <user>Zada</user>
    <text>be sure to let me know if you build anything with it! I would love to see it</text>
  </message>
  <message conversation_id="108">
    <ts>2019-02-11T13:29:06.019700</ts>
    <user>Zada</user>
    <text>it can count cycles for you as well, if you are into demo programming</text>
  </message>
  <message conversation_id="108">
    <ts>2019-02-11T13:29:13.019900</ts>
    <user>Priscila</user>
    <text>Nifty.</text>
  </message>
  <message conversation_id="108">
    <ts>2019-02-11T13:30:25.020700</ts>
    <user>Zada</user>
    <text>I am hoping to extend it to the 65816 and SNES programming later this year.  always wanted to program the SNES</text>
  </message>
  <message conversation_id="108">
    <ts>2019-02-11T13:31:42.021000</ts>
    <user>Priscila</user>
    <text>Never tried programming a SNES.</text>
  </message>
  <message conversation_id="109">
    <ts>2019-02-11T15:38:52.022600</ts>
    <user>Deneen</user>
    <text>This reminds me of this thing called “bedrock”, which was a Coq project where they were using “macros” to generate verified C code.</text>
  </message>
  <message conversation_id="109">
    <ts>2019-02-11T15:39:30.023400</ts>
    <user>Deneen</user>
    <text>Of course the macros were really Coq syntax that then compiled down using some complicated thing to theorems about a powerful separation logic, but the idea of like “macro assembly is C” was interesting to me.</text>
  </message>
  <message conversation_id="109">
    <ts>2019-02-11T15:45:33.023800</ts>
    <user>Kristeen</user>
    <text>&lt;@Deneen&gt; I think they're still doing that</text>
  </message>
  <message conversation_id="109">
    <ts>2019-02-11T15:45:53.024300</ts>
    <user>Deneen</user>
    <text>Yes, I think they are still doing this too, but I haven’t followed it at all. But it’s definitely a different thing than actual macros iirc</text>
  </message>
  <message conversation_id="109">
    <ts>2019-02-11T15:58:06.026000</ts>
    <user>Zada</user>
    <text>&lt;@Deneen&gt; I find the notion of building languages as macros over an assembler quite fascinating.    I have used this style in many of my projects now, it is great to have complete freedom to build up as many or little higher level abstractions as you like, seamlessly</text>
  </message>
  <message conversation_id="109">
    <ts>2019-02-11T15:58:53.026400</ts>
    <user>Zada</user>
    <text>I have also seen the Coq thing,  theorem provers are not really my cup of tea, though.</text>
  </message>
  <message conversation_id="110">
    <ts>2019-02-12T09:19:48.028100</ts>
    <user>Caprice</user>
    <text>Is there some fundamental reason I can't add #:methods for generics in prefab structs? I gave it a little thought and since those methods are a per-type thing, not a per-instance thing, they shouldn't interfere with the read/write-ability of prefab structs.</text>
  </message>
  <message conversation_id="110">
    <ts>2019-02-12T09:21:21.029600</ts>
    <user>Kristeen</user>
    <text>&lt;@Caprice&gt; prefab structs are defined by their printed representation, and so anything that doesn't fit in that isn't allowed</text>
  </message>
  <message conversation_id="110">
    <ts>2019-02-12T09:21:33.029900</ts>
    <user>Caprice</user>
    <text>Oh</text>
  </message>
  <message conversation_id="110">
    <ts>2019-02-12T09:21:56.030800</ts>
    <user>Kristeen</user>
    <text>for example, `(read (open-input-string "#s(x 1 2)"))` works</text>
  </message>
  <message conversation_id="110">
    <ts>2019-02-12T09:22:19.031300</ts>
    <user>Kristeen</user>
    <text>and the resulting prefab struct can't know about the methods you added to a `struct` declaration</text>
  </message>
  <message conversation_id="110">
    <ts>2019-02-12T09:22:37.031800</ts>
    <user>Caprice</user>
    <text>Ohhh</text>
  </message>
  <message conversation_id="110">
    <ts>2019-02-12T09:22:41.032100</ts>
    <user>Caprice</user>
    <text>It isn't even checked</text>
  </message>
  <message conversation_id="110">
    <ts>2019-02-12T09:22:47.032500</ts>
    <user>Kristeen</user>
    <text>especially since the struct declaration can come _after_ you do that `read`</text>
  </message>
  <message conversation_id="110">
    <ts>2019-02-12T09:22:56.032800</ts>
    <user>Caprice</user>
    <text>I thought if I defined struct x and gave it one field then that would fail but it doesn't</text>
  </message>
  <message conversation_id="110">
    <ts>2019-02-12T09:23:02.033300</ts>
    <user>Caprice</user>
    <text>Thanks</text>
  </message>
  <message conversation_id="110">
    <ts>2019-02-12T09:23:34.033500</ts>
    <user>Kristeen</user>
    <text>```
&amp;gt; (define v (read (open-input-string "#s(x 1 2)")))
&amp;gt; (struct x (y z) #:prefab)
&amp;gt; (x-y v)
1
```</text>
  </message>
  <message conversation_id="110">
    <ts>2019-02-12T09:24:20.034000</ts>
    <user>Caprice</user>
    <text>hmm but see, similar to how that struct declaration creates accessors for the struct, can it not also create methods for it?</text>
  </message>
  <message conversation_id="110">
    <ts>2019-02-12T09:24:51.034500</ts>
    <user>Caprice</user>
    <text>(All of a sudden my light-bulb moment's gone and I'm thinking "but wait...")</text>
  </message>
  <message conversation_id="110">
    <ts>2019-02-12T09:26:26.035100</ts>
    <user>Kristeen</user>
    <text>the way methods work is that they access some data on the struct type of the value provided as the argument</text>
  </message>
  <message conversation_id="110">
    <ts>2019-02-12T09:26:52.035600</ts>
    <user>Kristeen</user>
    <text>and then get the method implementation out of that data</text>
  </message>
  <message conversation_id="110">
    <ts>2019-02-12T09:27:13.036100</ts>
    <user>Kristeen</user>
    <text>that can't work here, because the struct type is created on line 1, but the methods wouldn't be declared until later</text>
  </message>
  <message conversation_id="110">
    <ts>2019-02-12T09:27:49.037000</ts>
    <user>Kristeen</user>
    <text>you could have a different implementation of methods for prefab structs but that would be very different and more like how fallbacks for methods work</text>
  </message>
  <message conversation_id="110">
    <ts>2019-02-12T09:28:21.037800</ts>
    <user>Caprice</user>
    <text>Hmmm I kiiind of see, I suppose. I dunno. So it's just really difficult to do, I guess.</text>
  </message>
  <message conversation_id="110">
    <ts>2019-02-12T09:29:04.038200</ts>
    <user>Caprice</user>
    <text>Actually yes, teh fallback thing was how I imagined it would work</text>
  </message>
  <message conversation_id="110">
    <ts>2019-02-12T09:29:16.038700</ts>
    <user>Caprice</user>
    <text>thanks</text>
  </message>
  <message conversation_id="111">
    <ts>2019-02-12T12:17:04.040200</ts>
    <user>Loma</user>
    <text>Does DrRacket provides any kind of quick traversing tool for scribble documents? Feel my eyes getting tired when I try to find a certain section : (</text>
  </message>
  <message conversation_id="111">
    <ts>2019-02-12T12:40:03.047500</ts>
    <user>Loise</user>
    <text>Can anyone point me to individual videos of the `(eighth RacketCon)` sessions? I can only seem to find "RacketCon 2018 Morning" and "RacketCon 2018 Afternoon". The video and audio quality of both leaves, well, everything to be desired. No offense intended.</text>
  </message>
  <message conversation_id="111">
    <ts>2019-02-12T12:56:39.048600</ts>
    <user>Priscila</user>
    <text>&lt;@Loma&gt;  Well, you can search for the name of a section</text>
  </message>
  <message conversation_id="111">
    <ts>2019-02-12T12:57:06.049100</ts>
    <user>Priscila</user>
    <text>&lt;@Loise&gt; I don't think they are out yet.  &lt;@Marcelina&gt; ?</text>
  </message>
  <message conversation_id="111">
    <ts>2019-02-12T13:00:15.051400</ts>
    <user>Loma</user>
    <text>&lt;@Priscila&gt; Sure I can. But this requires you to type the name of sections all the time!
Now I just try to put my sections into different files, just like the what’s being introduced in the tutorial --- that may sounds like a acceptable compromise.</text>
  </message>
  <message conversation_id="111">
    <ts>2019-02-12T13:01:33.051800</ts>
    <user>Priscila</user>
    <text>I don't think there is a bookmarking mechanism.</text>
  </message>
  <message conversation_id="111">
    <ts>2019-02-12T13:02:40.052200</ts>
    <user>Loma</user>
    <text>Maybe there will be plugin serve this in the future…</text>
  </message>
  <message conversation_id="111">
    <ts>2019-02-12T13:16:57.053500</ts>
    <user>Marya</user>
    <text>&lt;@Loma&gt;: There's some basic bookmarking in quickscript-extra, it works for slideshow and custom titles, but not yet for scribble. That should be very easy to adapt though, it's just a regexp to change.</text>
  </message>
  <message conversation_id="111">
    <ts>2019-02-12T13:17:28.053700</ts>
    <user>Marya</user>
    <text>here: &lt;https://github.com/Metaxal/quickscript-extra/blob/master/scripts/bookmarks.rkt#L84&gt;</text>
  </message>
  <message conversation_id="111">
    <ts>2019-02-12T13:17:53.054100</ts>
    <user>Marya</user>
    <text>The plugin is useful but a bit lame</text>
  </message>
  <message conversation_id="111">
    <ts>2019-02-12T13:20:38.055200</ts>
    <user>Marya</user>
    <text>(if you don't have quickscript-extra but you have the lastest version of DrRacket which includes quickscript (not extra), you can just create a new script and copy/paste the file pointed at on github, then modify it)</text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T14:41:53.056800</ts>
    <user>Penni</user>
    <text>Is there a way to get Typed Racket to do the type inference needed in continuation-passing style? When I try to compile code that calls the function below, the type-checker rejects the continuation for not returning type “a”.</text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T14:43:48.057500</ts>
    <user>Penni</user>
    <text>I tried wrapping the calling code with `inst`, but that didn’t work.</text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T14:44:42.057800</ts>
    <user>Kristeen</user>
    <text>can you show the calling code?</text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T14:47:44.058000</ts>
    <user>Penni</user>
    <text>Sure, here it is.</text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T14:48:50.058300</ts>
    <user>Penni</user>
    <text>Here’s the relevant part of the error message.</text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T14:57:48.058900</ts>
    <user>Kristeen</user>
    <text>ah, ok. you can't abstract over multiple values with a single type variable that way</text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T14:58:48.059500</ts>
    <user>Penni</user>
    <text>Oh, is the problem that the caller wants to return `(Values ...)`?</text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T15:02:23.059700</ts>
    <user>Kristeen</user>
    <text>yes</text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T15:03:56.060300</ts>
    <user>Penni</user>
    <text>Is there a correct way to type `bump-base`?</text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T15:06:04.062500</ts>
    <user>Shavon</user>
    <text>&lt;@Julia&gt; are you around? I am having a small problem with frog.</text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T15:06:45.063200</ts>
    <user>Penni</user>
    <text>Actually, this whole bit of code seems convoluted to me. I had another version written with `call-with-values` but it was also hard to follow. The complexity comes from its updating a collection and returning a new item at the same time—hence multiple values. I do this a lot in my code, though this is the only place with CPS. Is there any common idiom for doing this kind of thing?</text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T15:08:17.063500</ts>
    <user>Kristeen</user>
    <text>You could return two values with `cons`</text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T15:08:58.064000</ts>
    <user>Kristeen</user>
    <text>does the code always return two values? if so, you can just have two type variables.</text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T15:09:15.064400</ts>
    <user>Kristeen</user>
    <text>you can also make the code you originally wrote work with a bit more type complexity</text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T15:12:52.065400</ts>
    <user>Penni</user>
    <text>I was hoping to avoid cons for speed and simplicity: no memory allocation or destructuring. Perhaps not too important.</text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T15:13:17.065900</ts>
    <user>Penni</user>
    <text>How could I properly type the existing code? I’ll probably learn something valuable from that.</text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T15:14:47.067400</ts>
    <user>Penni</user>
    <text>About two type variables: I’m thinking that the function that’s passed the continuation shouldn’t care what the continuation returns. “Whatever k returns, I return.” So, it shouldn’t care whether the continuation returns one or multiple values. But, in this situation, I do know. `bump-base` is not provided externally.</text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T15:34:23.067800</ts>
    <user>Kristeen</user>
    <text>`(: bump-base (All (a ...) ((Hashof Base Suffix) Base ((Hashof Base Suffix) Id -&amp;gt; (Values a ...)) -&amp;gt; (Values a ...))))` makes the original program type check</text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T15:46:29.068900</ts>
    <user>Penni</user>
    <text>Thanks! I just did the same thing on the other function that gets called that way, and now the whole file type-checks. That definitely shows how to do it in general: I hadn’t used the `...` before.</text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T15:54:56.070000</ts>
    <user>Penni</user>
    <text>Hmm, under typed/rackunit, `check-equal?` doesn’t report the line number of the failing test (unlike untyped rackunit). Is there an easy way to get it to show the line number?</text>
  </message>
  <message conversation_id="113">
    <ts>2019-02-12T18:50:21.075600</ts>
    <user>Terry</user>
    <text>I can’t find individual videos. It’s a shame.  YouTube RacketCon views outnumber RacketCon attendees 10 to 1. 
On the bright side it should be pretty easy to scrub through each session video  to find the ones you want. Sadly, I can’t see a programme. </text>
  </message>
  <message conversation_id="112">
    <ts>2019-02-12T22:26:05.076400</ts>
    <user>Penni</user>
    <text>In typed/racket, is it possible to create a singleton type for a struct?</text>
  </message>
  <message conversation_id="114">
    <ts>2019-02-12T23:28:50.077000</ts>
    <user>Caprice</user>
    <text>What sort of singleton do you mean? Because a prefab struct is kind of like a singleton.</text>
  </message>
  <message conversation_id="114">
    <ts>2019-02-12T23:29:51.077500</ts>
    <user>Caprice</user>
    <text>If you mean "a struct that may only ever have one instance" then I dunno</text>
  </message>
  <message conversation_id="114">
    <ts>2019-02-13T01:57:34.079600</ts>
    <user>Caprice</user>
    <text>I guess one way to do it would be to make sure the module defining the struct doesn't export ("provide") the default constructor. Does typed/racket complicate that?</text>
  </message>
  <message conversation_id="115">
    <ts>2019-02-13T09:34:11.080000</ts>
    <user>Priscila</user>
    <text>(define (make-a-singleton)
  (struct singleton ())
  (singleton))

(make-a-singleton)</text>
  </message>
  <message conversation_id="115">
    <ts>2019-02-13T09:34:45.080800</ts>
    <user>Priscila</user>
    <text>This works fine - since structure definitions are "generative", which means that each new struct declaration declares a new structure type.</text>
  </message>
  <message conversation_id="115">
    <ts>2019-02-13T09:35:31.081300</ts>
    <user>Priscila</user>
    <text>Oh - misread the question. "Singleton type" not the same as a "singleton".</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T10:42:03.082600</ts>
    <user>Don</user>
    <text>macro expanding a struct--any thoughts on how to go about this? I went through the macro stepper and I can see it expands to say struct:foo, but I can’t seem to write a macro that does something with that</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T10:50:18.083100</ts>
    <user>Kristeen</user>
    <text>&lt;@Don&gt; can you say more about what you're trying to do?</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T10:51:45.084400</ts>
    <user>Don</user>
    <text>yep, building a lang and using structs to construct an abstract syntax tree so I can manipulate it and do things like type-checking and so forth, then I want to expand this when I’m done so it can be used as a #lang</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T10:53:53.086300</ts>
    <user>Don</user>
    <text>previously I had just written a function that takes the ast and converts it into a giant s-exp that is passed to the expander after the reader takes a hold of it, but I was wondering if I can avoid that step and just expand it from the structs themselves, but maybe I’m not thinking about this right</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T10:54:53.086600</ts>
    <user>Kristeen</user>
    <text>I'm still unsure what you're trying to do with structs</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T10:55:10.087000</ts>
    <user>Kristeen</user>
    <text>what do you mean by "macro expanding a struct"?</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T10:56:10.088100</ts>
    <user>Don</user>
    <text>Ah sure, say I have a few structs, one called binop and one called num, that hold the expected things, so when I’ve parsed an expression I end up with (binop ’+ (num 1) (num 2)) as my abstract syntax tree</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T10:56:45.088700</ts>
    <user>Don</user>
    <text>I want to macro expand those structs into (+ 1 2) so they can be evaluated</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T10:57:47.089900</ts>
    <user>Don</user>
    <text>normally I’d just have a function that matched on the struct types and turned it into an s-exp, like (’binop ’+ (’num 1) (’num 2)) and that’s easy to macro expand to what I want</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T10:58:15.090500</ts>
    <user>Kristeen</user>
    <text>ah, it sounds like you're wondering if there's something you can do so you just put the the structs directly in a syntax object and have the macro expander automatically convert them to other syntax</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T10:58:21.090700</ts>
    <user>Kristeen</user>
    <text>is that right?</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T10:58:31.090900</ts>
    <user>Don</user>
    <text>yep!</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T10:58:40.091200</ts>
    <user>Kristeen</user>
    <text>ok, so in general you can't do that</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T10:58:49.091500</ts>
    <user>Kristeen</user>
    <text>there isn't a hook for "macro expansion"</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T10:59:30.091900</ts>
    <user>Kristeen</user>
    <text>so you need to write some sort of conversion from structs to syntax objects</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T11:09:00.096000</ts>
    <user>Don</user>
    <text>hmmmm, I must be misunderstanding something. If I have (struct foo ()) and then do (datum-&amp;gt;syntax #f `(,(foo))) I get a syntax object that has (#(struct:foo)) in it</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T11:11:44.098400</ts>
    <user>Don</user>
    <text>ah well, I just thought that in the context of a #lang I had some control over how things were being expanded</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T11:12:07.098800</ts>
    <user>Kristeen</user>
    <text>you can certainly do that, but expanding that just produces the same thing</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T11:12:20.099200</ts>
    <user>Kristeen</user>
    <text>and evaluating it will produce that value</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T11:12:34.099500</ts>
    <user>Kristeen</user>
    <text>which sounds like it isn't what you want</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T11:14:18.100900</ts>
    <user>Don</user>
    <text>Nope, sure isn’t. I was hoping to write a macro for struct:foo in this case, but it’s clear I have to just turn it into an s-exp so the macro expander will pick it up as expected (which I was doing anyways, I was just trying to make the whole process less error prone). Thanks for your help!</text>
  </message>
  <message conversation_id="117">
    <ts>2019-02-13T14:44:43.104800</ts>
    <user>Penni</user>
    <text>&lt;@Caprice&gt; &lt;@Priscila&gt; I'm not sure this is a good or useful idea, but the idea is to have a struct that contains a "spec" for the nodes and allowable edges in a graph, and a type `(Graph spec)` where `spec` is such a struct. Then the functions that operate on the graph could also have `spec` as a type parameter, maybe something like this:
`(: add-edge (All (spec) (Graph spec) Port Port -&amp;gt; (Graph spec))`</text>
  </message>
  <message conversation_id="118">
    <ts>2019-02-13T16:18:40.105900</ts>
    <user>Loise</user>
    <text>Thanks, Stephen. The problem is that the morning/afternoon streams seem to have been shot with one camera which didn't pick up the screen contents very well. Afaict, R7 had at least two cameras and the slides were clearly visible.</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T21:46:44.109200</ts>
    <user>Madelaine</user>
    <text>&lt;@Don&gt; You might be interested in looking at the implementation of the `sql` library: &lt;https://github.com/rmculpepper/sql/&gt; It extensively uses prefab structs for an AST representation at both compile-time and run-time, and the library basically interprets the AST at run-time to emit generated SQL strings. I don't think that's exactly what you had in mind, but the technique might be relevant, depending on exactly what you're ultimately doing.</text>
  </message>
  <message conversation_id="116">
    <ts>2019-02-13T22:19:58.112700</ts>
    <user>Don</user>
    <text>Thanks &lt;@Madelaine&gt;, I’ll take a look! To be honest, my first pass at a #lang just used a reader which emitted a call to an evaluate function on my AST and that totally worked (i.e., the AST was evaluated at run-time to execute the program). To learn macros I decided to convert that evaluate function into racket code with the expansion phase after the reader parses it (if what I’m saying makes sense). In any case, I’ll take a look, sounds interesting!</text>
  </message>
  <message conversation_id="117">
    <ts>2019-02-14T02:27:50.116700</ts>
    <user>Caprice</user>
    <text>The web-server library that comes with racket doesn't seem to use the racket standard library's logging facilities. Is there any specific reason? As in, if I make my own log-and-dispatch-next dispatcher instead, any particular issues I should look out for?</text>
  </message>
  <message conversation_id="117">
    <ts>2019-02-14T02:28:49.117700</ts>
    <user>Caprice</user>
    <text>I want to use racket's logging so that I can make the server's dispatch log be logging to a topic for which I may add multiple subscribers.</text>
  </message>
  <message conversation_id="119">
    <ts>2019-02-14T08:02:07.122800</ts>
    <user>Penni</user>
    <text>&lt;@Priscila&gt; Moving to the correct channel, then… :wink: How in Turnstile can you associate a type with an identifier? All the examples I’ve seen so far are like the lambda calculus, where there’s no top-level binding (no `define`): they determine the type of a whole expression, not an identifier that has been bound to an expression or tagged with a type that it’s supposed to have. Turnstile seems to do everything via `syntax-properties`, which AFAICT can only associate values with a syntax object, i.e. it won’t resolve identifiers bound with `define`. (I’m probably misunderstanding something important here.)</text>
  </message>
  <message conversation_id="119">
    <ts>2019-02-14T09:51:36.123900</ts>
    <user>Kristeen</user>
    <text>&lt;@Penni&gt; this example will probably be helpful: &lt;https://github.com/stchang/macrotypes/blob/master/turnstile-example/turnstile/examples/simple/ext-stlc.rkt&gt;</text>
  </message>
  <message conversation_id="119">
    <ts>2019-02-14T10:16:53.124700</ts>
    <user>Penni</user>
    <text>&lt;@Kristeen&gt; Thanks! I'll check this out tonight, before I proceed any further with my (growing) DSL.</text>
  </message>
  <message conversation_id="120">
    <ts>2019-02-14T13:01:16.125500</ts>
    <user>Priscila</user>
    <text>&lt;@King&gt; &lt;@Shavon&gt;  Great initiative!   Racket News: &lt;https://racket-news.com/&gt;</text>
  </message>
  <message conversation_id="120">
    <ts>2019-02-14T14:33:33.128300</ts>
    <user>Shavon</user>
    <text>&lt;@Priscila&gt; Thanks. I have been thinking about it for awhile but been waiting for someone else to do it. :slightly_smiling_face: Last May I decided to take the plunge and register the domain. Then I took awhile to get it off the ground but here it is. :slightly_smiling_face: Hopefully will get some submissions from other people, I guess it'll be hard for me to survey everything that's happening in Racket world on a regular basis. Feel free to just create an issue with a link to a video/paper/blog you'd like featured on Racket News, or even an interesting project or library.</text>
  </message>
  <message conversation_id="121">
    <ts>2019-02-14T15:39:18.129300</ts>
    <user>Maire</user>
    <text>Cute trick on the Racket logo for V Day</text>
  </message>
  <message conversation_id="122">
    <ts>2019-02-14T17:08:26.130000</ts>
    <user>Terrence</user>
    <text>Hi everyone. I am new to scheme/lisp/racket and loving it.</text>
  </message>
  <message conversation_id="120">
    <ts>2019-02-14T17:19:32.130400</ts>
    <user>Shavon</user>
    <text>Hi Abby, welcome to Racket! You'll love it here!</text>
  </message>
  <message conversation_id="121">
    <ts>2019-02-14T17:23:29.130600</ts>
    <user>Terrence</user>
    <text>ty :slightly_smiling_face:</text>
  </message>
  <message conversation_id="122">
    <ts>2019-02-15T07:33:22.135800</ts>
    <user>Terrence</user>
    <text>I'm sure that I will hit a wall with lisp, but so far it is the most intuitive language I have come across. I'm not a smart person, I just study things intensely, but this just makes sense to me. I am reading Structure and Interpretation of Computer Programs right now and everything is making sense. Am I having a stroke?</text>
  </message>
  <message conversation_id="122">
    <ts>2019-02-15T07:36:52.137200</ts>
    <user>Herman</user>
    <text>Hi Abby, I don't think there is anything wrong. Lisp/Scheme are wonderful languages and I am sure you will enjoy every minute.</text>
  </message>
  <message conversation_id="122">
    <ts>2019-02-15T07:38:34.138100</ts>
    <user>Terrence</user>
    <text>Ty mwarren :slightly_smiling_face: It's just frustrating after trying to learn all of the objects-oriented languages and then trying to care about them. maybe I'm home finally</text>
  </message>
  <message conversation_id="122">
    <ts>2019-02-15T07:41:41.138600</ts>
    <user>Herman</user>
    <text>I certainly found it refreshing after doing Java most of my career.</text>
  </message>
  <message conversation_id="121">
    <ts>2019-02-15T08:14:53.139000</ts>
    <user>Terrence</user>
    <text>I know java the best out of the languages I have come across</text>
  </message>
  <message conversation_id="121">
    <ts>2019-02-15T08:24:20.139500</ts>
    <user>Lavette</user>
    <text>&lt;@Terrence&gt; LISP has a level of elegance which appeals to many of us. Have fun!</text>
  </message>
  <message conversation_id="121">
    <ts>2019-02-15T08:24:33.139700</ts>
    <user>Lavette</user>
    <text>XKCD has put it well: &lt;https://xkcd.com/297/&gt;</text>
  </message>
  <message conversation_id="121">
    <ts>2019-02-15T08:25:59.141400</ts>
    <user>Lavette</user>
    <text>However, in practice (in my experience) many companies have trouble using it, particularly given the large prevalence of knowledge of other languages. See also &lt;https://xkcd.com/224/&gt; :slightly_smiling_face:</text>
  </message>
  <message conversation_id="121">
    <ts>2019-02-15T08:26:38.142300</ts>
    <user>Loise</user>
    <text>The _Lisp Cycles_ one is probably my favourite XKCD.</text>
  </message>
  <message conversation_id="121">
    <ts>2019-02-15T08:27:42.143200</ts>
    <user>Terrence</user>
    <text>ty zzamboni...my background is a masters in health and life science analytics, and I saw some really sweet tools for statistical work with Racket. that's what drew me in</text>
  </message>
  <message conversation_id="121">
    <ts>2019-02-15T08:30:16.146700</ts>
    <user>Lavette</user>
    <text>Racket has a fantastic ecosystem. I only recently started learning it, but I'm enjoying it very much. I learned a bit of Clojure before. I was using Riemann (&lt;http://riemann.io&gt;) at work, which is what got me started in it. Also LISP, very elegant, also large ecosystem (thanks to the seamless Java integration), but a different "feel" altogether (maybe because of the Java integration)</text>
  </message>
  <message conversation_id="121">
    <ts>2019-02-15T08:31:16.147400</ts>
    <user>Loise</user>
    <text>I kind of like where Lisp/Scheme/Racket is right now. Of course, I'd be thrilled if Racket suddenly took off. But as it stands, it's sort of like a secret weapon, if you'll pardon my reference. I'm planning to disrupt the blockchain smart contract language space where DSLs make so much sense.</text>
  </message>
  <message conversation_id="121">
    <ts>2019-02-15T08:33:24.148900</ts>
    <user>Terrence</user>
    <text>my ultimate goal is to write another computer language and compiler/interpreter. I want to understand how languages work.</text>
  </message>
  <message conversation_id="121">
    <ts>2019-02-15T08:35:14.150600</ts>
    <user>Loise</user>
    <text>Then you've come to the right place. I'm new here as well but so far have had a great experience with the community. &lt;@Clarinda&gt; was kind enough to agree to speak with the developers at my company about Racket and DSLs a few weeks back. That's the kind of community Racket has.</text>
  </message>
  <message conversation_id="121">
    <ts>2019-02-15T08:35:45.151000</ts>
    <user>Terrence</user>
    <text>Thank you all so much for the warm welcome.</text>
  </message>
  <message conversation_id="121">
    <ts>2019-02-15T08:52:26.151100</ts>
    <user>Terrence</user>
    <text>If you don't mind me asking, what is a DSL?</text>
  </message>
  <message conversation_id="123">
    <ts>2019-02-15T08:55:12.151400</ts>
    <user>Shavon</user>
    <text>Domain Specific Language.</text>
  </message>
  <message conversation_id="123">
    <ts>2019-02-15T08:55:49.151600</ts>
    <user>Terrence</user>
    <text>tyvm</text>
  </message>
  <message conversation_id="123">
    <ts>2019-02-15T09:06:44.153800</ts>
    <user>Lavette</user>
    <text>Racket has explicit facilities for building DSLs, so it's great for your idea of writing a new language. I am precisely at the moment halfway through &lt;@Clarinda&gt;'s paper "Creating Languages in Racket" (&lt;https://queue.acm.org/detail.cfm?id=2068896&gt;), which is an easy read but gives a very good progression of how you can build more and more sophisticated/specialized languages, with concrete examples. Also very good is &lt;@Lillian&gt;'s "Beautiful Racket" (&lt;https://beautifulracket.com&gt;).</text>
  </message>
  <message conversation_id="123">
    <ts>2019-02-15T09:17:09.154600</ts>
    <user>Terrence</user>
    <text>Thanks for this. I will start reading this today. I want to finish the first chapter in SICL</text>
  </message>
  <message conversation_id="124">
    <ts>2019-02-15T12:27:31.159300</ts>
    <user>Julia</user>
    <text>I'm curious to know what people think about this:
`call-with-x` is a good name for _functions_ that take a procedure.
`with-x` is a good name for _syntax_ that sugar away the lambda of a `call-with-x`.
This is a good naming convention. (Don't follow the bad example of the `with-{input output}-from-file` functions. :smile:).
To avoid a huge bike-shedding thread, I'll add a couple reaction buttons you can just click (unless you have any commentary).</text>
  </message>
  <message conversation_id="124">
    <ts>2019-02-15T12:58:22.160300</ts>
    <user>Terrence</user>
    <text>I wish I knew enough to provide a reaction :joy:</text>
  </message>
  <message conversation_id="124">
    <ts>2019-02-15T15:09:50.161300</ts>
    <user>Herman</user>
    <text>&lt;@Terrence&gt; I agree, I cannot possibly comment.</text>
  </message>
  <message conversation_id="124">
    <ts>2019-02-15T15:25:10.161600</ts>
    <user>Terrence</user>
    <text>&lt;@Herman&gt; :slightly_smiling_face:</text>
  </message>
  <message conversation_id="125">
    <ts>2019-02-15T15:42:09.162000</ts>
    <user>Karen</user>
    <text>I think I even put this on the wiki page for Racket 2 as an inconsistency in the stdlib we should fix up</text>
  </message>
  <message conversation_id="126">
    <ts>2019-02-15T16:46:04.163200</ts>
    <user>Mitsuko</user>
    <text>&lt;@Terrence&gt; That's not generally how opinions work :open_mouth: </text>
  </message>
  <message conversation_id="127">
    <ts>2019-02-15T18:46:03.163600</ts>
    <user>Lillian</user>
    <text>`with-handlers` :face_with_monocle:</text>
  </message>
  <message conversation_id="125">
    <ts>2019-02-15T19:22:27.163800</ts>
    <user>Karen</user>
    <text>hmmm. a `call-with-handlers` that took a dict of predicates and handler functions could be useful. not sure if there’s a good way to remove the lambdas from `with-handlers` though.</text>
  </message>
  <message conversation_id="127">
    <ts>2019-02-15T20:52:40.164000</ts>
    <user>Julia</user>
    <text>&lt;@Lillian&gt; Point.
I imagine that example is: Say you wrote a simple `with-exception-handler` syntax variant of `call-with-exception-handler`. I think you'd decide something like `with-handlers` is what you'd actually find more useful?</text>
  </message>
  <message conversation_id="125">
    <ts>2019-02-15T21:38:11.167900</ts>
    <user>Karen</user>
    <text>how does using `#:escape` work with `examples`? I tried using it, but just got document building errors:
```
@(examples
   #:eval (make-evaluator) #:once
   #:escape UNSYNTAX
   (define rec
     (UNSYNTAX example-record))
   (record-ref rec '#:name)
   (record-ref rec '#:fur-color))
```
The error I get from raco setup is:
```
raco setup: error: during building docs for &amp;lt;pkgs&amp;gt;/rebellion/main.scrbl
raco setup:   examples: exception raised in example
raco setup:     error: "UNSYNTAX: undefined;\n cannot reference an identifier before its definition\n  in module: top-level"
```</text>
  </message>
  <message conversation_id="128">
    <ts>2019-02-15T21:45:44.168500</ts>
    <user>Elin</user>
    <text>I’ve only been able to use escapes for `examples` within the `show-datum` of an `eval:alts`</text>
  </message>
  <message conversation_id="125">
    <ts>2019-02-15T21:59:08.170300</ts>
    <user>Karen</user>
    <text>maybe the escape form is only meant to work with scribble parts / elements and there isn’t any way to use an escape with the code fragments being sent to the evaluator</text>
  </message>
  <message conversation_id="125">
    <ts>2019-02-15T22:12:13.170400</ts>
    <user>Lillian</user>
    <text>IIUC `with-syntax` is another that breaks this pattern (though of course it’s held over from Scheme). I remember the shape of `with-handlers` by imagining that it’s `let-handlers`. Likewise I remember `with-syntax` by imagining it’s `let-syntax`, while pretending I’ve never heard of the other thing called `let-syntax` :upside_down_face:</text>
  </message>
  <message conversation_id="125">
    <ts>2019-02-15T22:53:02.170700</ts>
    <user>Karen</user>
    <text>huh, `with-syntax` is a weird name now that you mention it</text>
  </message>
  <message conversation_id="129">
    <ts>2019-02-16T04:03:36.177300</ts>
    <user>Deeanna</user>
    <text>Looks like the package index has stopped showing build information these past couple of days (I first noticed the problem yesterday). Is this a known issue?</text>
  </message>
  <message conversation_id="125">
    <ts>2019-02-16T09:38:36.178500</ts>
    <user>Don</user>
    <text>Noticed that too, I just thought maybe it was taking a while to rebuild (there are a lot of packages), wondering if it’s a :bug: now</text>
  </message>
  <message conversation_id="130">
    <ts>2019-02-16T10:33:16.179000</ts>
    <user>Kristeen</user>
    <text>ping &lt;@Boris&gt;  re pkg build</text>
  </message>
  <message conversation_id="131">
    <ts>2019-02-16T11:02:14.179200</ts>
    <user>Priscila</user>
    <text>&lt;https://alex-hhh.github.io/2019/02/data-visualization-dashboard.html&gt;</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T09:15:58.184200</ts>
    <user>Marylin</user>
    <text>Hello!</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T09:16:24.184800</ts>
    <user>Marylin</user>
    <text>How do I make `raco test` run tests in a package `test/` folder and only there?</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T09:16:27.185000</ts>
    <user>Marylin</user>
    <text>Thanks!</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T09:49:23.185600</ts>
    <user>Penni</user>
    <text>&lt;@Marylin&gt; I’m not sure of the best way, but one way is `raco test test/*.rkt`.</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T09:51:20.186800</ts>
    <user>Marylin</user>
    <text>is there something like `npm test` where `npm test` essentially runs a few bash scripts like `tape **/*.js | tap-spec`</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T09:52:49.187700</ts>
    <user>Penni</user>
    <text>&lt;@Marylin&gt; I haven’t heard of such a thing, but I’m only a beginner myself. What doesn’t `raco test test/*.rkt` do that you need?</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T09:54:09.189100</ts>
    <user>Marylin</user>
    <text>imagine you send the message `test` to the package and then it does its things... you don't have to remember one way for each package.</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T09:54:56.189800</ts>
    <user>Marylin</user>
    <text>so, whatever the package, you just say: `$ cd pkg; raco test`</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T09:57:38.191100</ts>
    <user>Penni</user>
    <text>There may be a more Rackety way to do it, but what I do is make a Makefile. In each directory, you have a Makefile with a target called `test`, like this.  Then you can do `$ cd pkg; make test` in each directory.</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T09:58:35.191600</ts>
    <user>Marylin</user>
    <text>ok! thank you very much :slightly_smiling_face:</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T09:59:23.192500</ts>
    <user>Penni</user>
    <text>:smile: Actually, maybe this is the Rackety way to do it: it’s using a very simple DSL that perfectly fits what you’re trying to do.</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T10:00:19.193100</ts>
    <user>Penni</user>
    <text>BTW, have you used Makefiles before? Specifically, do you know that the line with `raco test *.rkt` must start with a tab?</text>
  </message>
  <message conversation_id="133">
    <ts>2019-02-17T10:40:31.194300</ts>
    <user>Julia</user>
    <text>If a package is installed you can `raco test -p &amp;lt;package-name&amp;gt;`.</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T11:21:56.197000</ts>
    <user>Marylin</user>
    <text>&lt;@Penni&gt; yes! I would rather avoid any external tool as much as possible... &lt;@Julia&gt; `$ raco test package/` seems to work good enough :slightly_smiling_face:</text>
  </message>
  <message conversation_id="133">
    <ts>2019-02-17T12:49:51.198100</ts>
    <user>Terrence</user>
    <text>Working on a problem from a textbook I found online. "define a procedure that takes three numbers as arguments and returns the sum of the squares of the two larger numbers"

I have this so far, but not all situations are correct.


(define (sum-of-squares x y z)
  (cond ((&amp;gt; x y z) (+ (* x x) (* y y)))
        ((&amp;lt; x y) (&amp;gt; x z) (&amp;gt; y z) (+ (* x x) (* y y)))
        ((&amp;lt; x y z) (+ (* y y) (* z z)))
        (else (+ (* x x) (* z z)))))
(sum-of-squares 4 5 6)
(sum-of-squares 4 6 5)
(sum-of-squares 29 14 27)
(sum-of-squares 3 4 1)
(sum-of-squares 27 14 29)</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T12:50:15.198300</ts>
    <user>Terrence</user>
    <text>the second method fails</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T12:50:50.198900</ts>
    <user>Priscila</user>
    <text>It's possible to solve the problem using your method.</text>
  </message>
  <message conversation_id="133">
    <ts>2019-02-17T12:51:06.199300</ts>
    <user>Priscila</user>
    <text>But it is hard to see if all cases have been accounted for.</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T12:51:48.200100</ts>
    <user>Priscila</user>
    <text>An alternative is to sum all squares and subtract the square of the smallest number.</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T12:52:20.200700</ts>
    <user>Priscila</user>
    <text>If you have a helper called `min` that computes the smallest number of three inputs,</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T12:52:24.201000</ts>
    <user>Priscila</user>
    <text>then you can write:</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T12:52:58.201800</ts>
    <user>Priscila</user>
    <text>(- (+ (square x) (square y) (square z)) (square (min x y z)))</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T12:53:14.202000</ts>
    <user>Terrence</user>
    <text>ah that sounds like a good plan</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T12:53:16.202200</ts>
    <user>Terrence</user>
    <text>let me try that</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T12:54:29.202900</ts>
    <user>Priscila</user>
    <text>Btw - in the line `((&amp;lt; x y) (&amp;gt; x z) (&amp;gt; y z) (+ ( *x x) (* y y)))` I think you forgot an `and`:  `((and (&amp;lt; x y) (&amp;gt; x z) (&amp;gt; y z))   (+ ( *x x) (* y y)))`</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T12:57:34.204300</ts>
    <user>Terrence</user>
    <text>I'm not sure I am logical enough to be a programmer, to be honest. I've been trying unsuccessfully for years with only frustration. I like LISP because it's fun and very different that what I've seen, but I might just go back to writing lol.</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T12:58:01.204700</ts>
    <user>Priscila</user>
    <text>For the record - that problem is notorious.</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T12:58:17.205100</ts>
    <user>Priscila</user>
    <text>Countless people gets stuck on that one.</text>
  </message>
  <message conversation_id="134">
    <ts>2019-02-17T13:34:09.211800</ts>
    <user>Penni</user>
    <text>&lt;@Terrence&gt; I hope you’ll be patient with yourself. Most of programming is getting accustomed to certain ways of mentally framing things so that good ideas usually come to mind quickly. In that respect, it’s just like playing a musical instrument, cooking, writing, and every other skill. I was a commercial programmer for about 15 years, very good at coming up with object-oriented and imperative ways of making programs. I’m now learning Racket and finding it pretty slow going even though understanding the semantics of the language is pretty easy. I’m just not accustomed to how things are done in Racket. I often have to go through several clumsy versions of even fairly elementary things before I find a way to make the program that’s simple and not error-prone.</text>
  </message>
  <message conversation_id="135">
    <ts>2019-02-17T14:09:22.212100</ts>
    <user>Mai</user>
    <text>How does `with-handlers` break  &lt;@Julia&gt;’s convention?</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T16:31:37.213000</ts>
    <user>Terrence</user>
    <text>&lt;@Priscila&gt; this problem is really an issue? Well I don't feel so bad now.</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T16:33:42.214800</ts>
    <user>Priscila</user>
    <text>&lt;@Terrence&gt; Oh yes. It's much harder than it looks. And since it is in SICP it has been discussed here multiple times.</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T16:34:12.215100</ts>
    <user>Terrence</user>
    <text>I'll look into the helper method for sure</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-17T16:56:39.215200</ts>
    <user>Karen</user>
    <text>Note that `raco test -p package` works no matter what your current directory is, and it's what the package catalog build server does for all packages</text>
  </message>
  <message conversation_id="136">
    <ts>2019-02-17T20:39:24.226200</ts>
    <user>Loma</user>
    <text>Anyone know if there is a way to use my own error report procedures if I parse use *brag* (My parser knowledge is only limited within the book _beautiful racket_, brag suit my needs but I believe I can provide better error report)?
Or maybe you guys can recommend me a parser framework which provides facilities for better parse error report? I’m trying to parse a very simple language that can be written in CFG.  Appreciate any help!

(P.S. My statement is not very clear about ‘better parse error report’, an example would be:
- not so good one: Encountered parsing error near …
- better one: only … can be written after …)</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-18T04:08:04.229100</ts>
    <user>Priscila</user>
    <text>&lt;@Loma&gt; I haven't used `brag` so I can't say how error reporting can be improved there. An alternative is to use the lexer generator `&lt;https://docs.racket-lang.org/parser-tools/Lexers.html?q=lexer&gt;` . Here you can choose whether to parse the tokens using your own recursive descent functions, or to use the parser generator (LALR(1))  `&lt;https://docs.racket-lang.org/parser-tools/LALR_1__Parsers.html?q=lexer&gt;`</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-18T04:08:59.229500</ts>
    <user>Priscila</user>
    <text>It has the same quirks as other yacc/bison style parsers.</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-18T04:09:30.229900</ts>
    <user>Priscila</user>
    <text>Yet another alternative is:  `parsack`   &lt;https://docs.racket-lang.org/parsack/index.html?q=parsec&gt;</text>
  </message>
  <message conversation_id="137">
    <ts>2019-02-18T06:15:35.232100</ts>
    <user>Marylin</user>
    <text>Dear all, i'm trying to test a thing that get a syntax-object as an input and outputs a datum as an output. Is there a way to write down the syntax object in a file ? Here is what drracket shows me :</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-18T06:16:25.233100</ts>
    <user>Priscila</user>
    <text>Click the little blue arrow at the left.</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-18T06:16:33.233600</ts>
    <user>Priscila</user>
    <text>This folds out the syntax object.</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-18T06:16:36.233900</ts>
    <user>Marylin</user>
    <text>I expected to be able to build an object like that so that they are equal like `(syntax ...)` but it's not so simple apparently</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-18T06:16:58.234400</ts>
    <user>Priscila</user>
    <text>You can now click at individual identifiers to see the associated source location etc.</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-18T06:17:45.234500</ts>
    <user>Marylin</user>
    <text>None</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-18T06:17:48.234900</ts>
    <user>Marylin</user>
    <text>ok thx!</text>
  </message>
  <message conversation_id="132">
    <ts>2019-02-18T06:18:43.235600</ts>
    <user>Priscila</user>
    <text>Also: it's difficult to use `equal?` to compare syntax objects.</text>
  </message>
  <message conversation_id="138">
    <ts>2019-02-18T06:44:42.236400</ts>
    <user>Caprice</user>
    <text>Is there any convenient way to cast a struct into it's child (providing the extra values the child struct type needs)</text>
  </message>
  <message conversation_id="138">
    <ts>2019-02-18T06:45:32.237100</ts>
    <user>Caprice</user>
    <text>I checked to see if this works, but it doesn't:
```
(struct foo (x y))
(struct kid foo (z))
(define f (foo 1 2))
(struct-copy kid f (z 3))
```</text>
  </message>
  <message conversation_id="138">
    <ts>2019-02-18T06:48:06.237500</ts>
    <user>Caprice</user>
    <text>Is this an ok idea?
```
(require racket/struct)
(apply kid (reverse (cons 3 (reverse (struct-&amp;gt;list f)))))
```</text>
  </message>
  <message conversation_id="138">
    <ts>2019-02-18T06:52:17.238100</ts>
    <user>Caprice</user>
    <text>Although the structs have to be transparent, but that's ok</text>
  </message>
  <message conversation_id="138">
    <ts>2019-02-18T07:28:47.239100</ts>
    <user>Terrence</user>
    <text>Okay I think I got it, but I followed the spirit of the chapter and the way these books usually go: "first we write clunky bad code, then we find better ways."

```#lang racket

(define (square x)
  (* x x))

(define (sum-of-squares x y z)
  (cond ((&amp;gt; x y z) (+ (square x) (square y)))
        ((&amp;lt; x y z) (+ (square y) (square z)))
        ((&amp;gt; y x z) (+ (square y) (square x)))
        ((&amp;lt; x z y) (+ (square z) (square y)))
        ((&amp;gt; x z y) (+ (square x) (square z)))
        ((&amp;gt; z x y) (+ (square z) (square x)))))

(sum-of-squares 4 5 6)
(sum-of-squares 4 6 5)
(sum-of-squares 6 5 4)
(sum-of-squares 5 6 4)
(sum-of-squares 5 4 6)
(sum-of-squares 6 4 5)

&amp;gt; 61
&amp;gt; 61
&amp;gt; 61
&amp;gt; 61
&amp;gt; 61
&amp;gt; 61```</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T07:35:36.239500</ts>
    <user>Leonila</user>
    <text>Little question: is this or IRC a better place to go?</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T07:36:40.239800</ts>
    <user>Terrence</user>
    <text>are you telling me to go to IRC instead?</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T07:48:46.240200</ts>
    <user>Shavon</user>
    <text>&lt;@Leonila&gt; both are good i guess. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T07:49:12.240700</ts>
    <user>Shavon</user>
    <text>Your preference might depend on how old you are. :wink:</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T07:49:23.240900</ts>
    <user>Shavon</user>
    <text>... or how old you feel!</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T07:49:41.241200</ts>
    <user>Terrence</user>
    <text>IRC makes me feel oooollld</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T07:53:24.241800</ts>
    <user>Mai</user>
    <text>&lt;@Terrence&gt; just a little tip. You can wrap your code with ```</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T07:53:48.242300</ts>
    <user>Mai</user>
    <text>It will make your code looks like this

```
(define (hello) 
  world)
```</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T07:53:50.242500</ts>
    <user>Terrence</user>
    <text>oh</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T07:54:41.242900</ts>
    <user>Mai</user>
    <text>It’s backtick</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T07:55:03.243700</ts>
    <user>Terrence</user>
    <text>ty lol</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T07:55:05.243800</ts>
    <user>Mai</user>
    <text>The key between `esc` and `tab`</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T07:55:09.244000</ts>
    <user>Mai</user>
    <text>Yup :slightly_smiling_face:</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T07:55:27.244400</ts>
    <user>Terrence</user>
    <text>Coffee hasn't kicked in</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:02:43.245100</ts>
    <user>Mai</user>
    <text>&lt;@Terrence&gt; also, try `(sum-of-squares 2 1 2)`. What’s the expected output?</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:03:06.245300</ts>
    <user>Terrence</user>
    <text>okay se</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:04:23.245500</ts>
    <user>Terrence</user>
    <text>```(define (sum-of-squares x y z)
  (cond ((&amp;gt;= x y z) (+ (square x) (square y))) 
        ((&amp;lt;= x y z) (+ (square y) (square z))) 
        ((&amp;gt;= y x z) (+ (square y) (square x))) 
        ((&amp;lt;= x z y) (+ (square z) (square y))) 
        ((&amp;gt;= x z y) (+ (square x) (square z))) 
        ((&amp;gt;= z x y) (+ (square z) (square x))))) ```</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:04:26.245700</ts>
    <user>Terrence</user>
    <text>oops</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:04:42.246200</ts>
    <user>Terrence</user>
    <text>ty &lt;@Mai&gt;</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:05:11.246800</ts>
    <user>Mai</user>
    <text>np!</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:05:41.247300</ts>
    <user>Terrence</user>
    <text>i tested (sum-of-squares 2 2 2) also and it dropped one like it was supposed to. :heart:</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:28:49.248000</ts>
    <user>Terrence</user>
    <text>is there an "applicative order vs. normal order' for dummies anywhere? going to make that something I learn today</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:49:05.248700</ts>
    <user>Kristeen</user>
    <text>&lt;@Terrence&gt; "applicative order" (more often known as "call by value") means that we evaluate all the arguments to a function before we do the function call</text>
  </message>
  <message conversation_id="140">
    <ts>2019-02-18T08:49:37.249500</ts>
    <user>Kristeen</user>
    <text>"normal order" (more often known as "call by name") means that we do the function call first, and only evaluate the arguments if we need them</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:52:58.249900</ts>
    <user>Terrence</user>
    <text>so in normal order, it is possible to divide by zero accidentally?</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:53:49.250100</ts>
    <user>Kristeen</user>
    <text>in both you can do that</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:53:59.250400</ts>
    <user>Kristeen</user>
    <text>but it might happen at different places</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:54:18.250900</ts>
    <user>Kristeen</user>
    <text>and with normal order, you might _not_ see the error sometimes when you would see it with applicative order</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:54:49.251600</ts>
    <user>Kristeen</user>
    <text>for example `((lambda (x) 5) (/ x 0))` produces an error in applicative order, but 5 in normal order</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:55:01.252000</ts>
    <user>Terrence</user>
    <text>oh I see!</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:55:32.252500</ts>
    <user>Kristeen</user>
    <text>you can see this by trying them both in regular `#lang racket` and in `#lang lazy`</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:55:40.252700</ts>
    <user>Terrence</user>
    <text>normal order looks for the first true evaluation of arguments?</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:56:00.253100</ts>
    <user>Kristeen</user>
    <text>it waits until it really needs the result of the argument to evaluate it</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:56:06.253500</ts>
    <user>Terrence</user>
    <text>ok</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:56:43.254600</ts>
    <user>Terrence</user>
    <text>it will be something that takes me a while to fully grasp, but it feels like it's worth it to learn</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:56:56.255000</ts>
    <user>Susana</user>
    <text>Normal order sends `(/ x 0)` as the parameter, without evaluating it first</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:57:52.255400</ts>
    <user>Terrence</user>
    <text>ohh</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:58:06.255700</ts>
    <user>Terrence</user>
    <text>that seems like it could be good and bad at the same time</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T08:58:35.255900</ts>
    <user>Kristeen</user>
    <text>yes, indeed</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T09:02:28.257100</ts>
    <user>Terrence</user>
    <text>that you both so much. If I ask too many questions, please let me know. I hit that "I never wanted to be a website developer/application developer" wall a while ago and have been investigating computer science as a sort of autodidactic pursuit.</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T09:25:55.257700</ts>
    <user>Terrence</user>
    <text>Want to make sure I understand compound expressions here: my understanding is in comments.

```(define (a-plus-abs-b a b)
  ((if (&amp;gt; b 0) + -) a b)) ; if b &amp;gt; 0, then we assign + to b, else we assign - to b, and then add to a```</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T09:27:10.258000</ts>
    <user>Elin</user>
    <text>“assign”?</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T09:29:31.258800</ts>
    <user>Terrence</user>
    <text>bad wording</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T09:30:05.260100</ts>
    <user>Susana</user>
    <text>yes, `(if (&amp;gt; b 0) + -)` evaluates to `+` if b is greater than 0 and `-` otherwise</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T09:30:16.260700</ts>
    <user>Terrence</user>
    <text>ty that's what I meant</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T09:30:17.260900</ts>
    <user>Elin</user>
    <text>Maybe you meant `(+ a (&amp;lt;something&amp;gt; b))` where that something is either an identity function or a negation function?</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T09:31:00.262300</ts>
    <user>Susana</user>
    <text>you can use the substitution method, so `((if (&amp;gt; b 0) + -) a b)` evaluates to `(+ a b)` if b &amp;gt; 0 and `(- a b)` if not</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T09:31:02.262500</ts>
    <user>Terrence</user>
    <text>no, this is a problem from SICP and the formula was provided to me. I just had to explain it</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T09:31:40.263100</ts>
    <user>Terrence</user>
    <text>i guess it was an introduction to compound expressions?</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T09:31:45.263200</ts>
    <user>Susana</user>
    <text>note that b is only involved in the last operation, you don’t change it after the `if`</text>
  </message>
  <message conversation_id="139">
    <ts>2019-02-18T09:32:00.263500</ts>
    <user>Terrence</user>
    <text>correct, I did get that :slightly_smiling_face:</text>
  </message>
  <message conversation_id="141">
    <ts>2019-02-18T10:05:48.265800</ts>
    <user>Julia</user>
    <text>&lt;https://racket.slack.com/archives/C06V96CKX/p1550490282236400&gt;
&lt;@Caprice&gt; I'd probably just pattern match? Something like `(match f [(foo x y) (kid x y z)])`?</text>
  </message>
  <message conversation_id="142">
    <ts>2019-02-18T10:36:30.268200</ts>
    <user>Herman</user>
    <text>&lt;@Susana&gt; Apparently RWops structs have a close method which can be called with `io-&amp;gt;close(io);` but I don't have a clue how you could call that from racket, any ideas? Sorry to keep bothering you.</text>
  </message>
  <message conversation_id="142">
    <ts>2019-02-18T11:28:39.268900</ts>
    <user>Susana</user>
    <text>&lt;@Herman&gt; no problem but you don’t need to call close</text>
  </message>
  <message conversation_id="142">
    <ts>2019-02-18T11:29:15.269600</ts>
    <user>Susana</user>
    <text>I defined `sdl-load-bmp` just like the `SDL_LoadBMP` macro</text>
  </message>
  <message conversation_id="142">
    <ts>2019-02-18T11:29:48.270200</ts>
    <user>Susana</user>
    <text>if the second argument to `SDL_LoadBMP_RW` is non-zero, the stream will be closed after being read</text>
  </message>
  <message conversation_id="142">
    <ts>2019-02-18T11:31:16.270800</ts>
    <user>Susana</user>
    <text>otherwise it would be weird because `SDL_LoadBMP` does not return the RWops</text>
  </message>
  <message conversation_id="143">
    <ts>2019-02-18T12:01:40.271200</ts>
    <user>Caprice</user>
    <text>&lt;@Julia&gt; yes that works, too, thanks</text>
  </message>
  <message conversation_id="144">
    <ts>2019-02-18T15:33:35.274000</ts>
    <user>Ollie</user>
    <text>I see a lot in docs on web programming, but not how to deploy. If, for example, I follow the directions to make an Instant Servlet at &lt;https://docs.racket-lang.org/web-server/run.html#%28part._insta%29&gt; then it will run in a browser on my own machine, but what do I do if I have a public html directory on a server and I want to put it there, so that anyone can run it by pointing their browser at a URL on the server?</text>
  </message>
  <message conversation_id="145">
    <ts>2019-02-18T16:13:31.276100</ts>
    <user>Prince</user>
    <text>I have a simple jargon question. Let's say that I created the following definitions `(define x '(1 2 3))` and `(define y #(4 5 6))` and I want to refer to `x` and `y` collectively. What would I call them? In R, I would call them objects but that doesn't strike me as the correct jargon for Racket.</text>
  </message>
  <message conversation_id="145">
    <ts>2019-02-18T16:17:52.276900</ts>
    <user>Shanell</user>
    <text>"objects" is fine, unless the context of the discussion implies you're talking about OO stuff</text>
  </message>
  <message conversation_id="145">
    <ts>2019-02-18T16:19:03.278400</ts>
    <user>Mai</user>
    <text>values?</text>
  </message>
  <message conversation_id="145">
    <ts>2019-02-18T16:19:20.279000</ts>
    <user>Shanell</user>
    <text>~`'(1 2 3)` is a value, but `x` is not~</text>
  </message>
  <message conversation_id="145">
    <ts>2019-02-18T16:19:20.279100</ts>
    <user>Julia</user>
    <text>As an old programmer used to things like C, I'd probably call `x` and `y` "variables". Even though, in Racket, we don't usually mutate or assign new values (using `set!`). (In other words, they don't really "vary" :smile:)</text>
  </message>
  <message conversation_id="145">
    <ts>2019-02-18T16:19:56.279900</ts>
    <user>Shanell</user>
    <text>&lt;https://docs.racket-lang.org/reference/eval-model.html?q=value#%28part._.Objects_and_.Imperative_.Update%29&gt;</text>
  </message>
  <message conversation_id="145">
    <ts>2019-02-18T16:20:07.280000</ts>
    <user>Julia</user>
    <text>More strictly, I might say that `x` and `y` are _bindings_ whose values are that list and that vector, respectively ¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="145">
    <ts>2019-02-18T16:21:08.280400</ts>
    <user>Shanell</user>
    <text>though, looking closer... I wasn't reading that quite right</text>
  </message>
  <message conversation_id="145">
    <ts>2019-02-18T16:22:19.281300</ts>
    <user>Julia</user>
    <text>I think there's some text in the docs about the evaluation model, that talks about "locations" that normally have binding names like `x` and `y`, and in each location there are values.</text>
  </message>
  <message conversation_id="145">
    <ts>2019-02-18T16:24:54.281700</ts>
    <user>Julia</user>
    <text>&lt;https://docs.racket-lang.org/reference/eval-model.htm#%28part._vars-and-locs%29&gt;</text>
  </message>
  <message conversation_id="145">
    <ts>2019-02-18T16:32:45.282900</ts>
    <user>Shanell</user>
    <text>&lt;@Prince&gt; to some degree it might matter whether you're referring to `x` and `y` themselves or to what they name. My earlier comment that "'objects' is fine" is (I think) true if you mean the latter.</text>
  </message>
  <message conversation_id="145">
    <ts>2019-02-18T16:34:13.283900</ts>
    <user>Shanell</user>
    <text>use-mention distinction stuff</text>
  </message>
  <message conversation_id="145">
    <ts>2019-02-18T16:55:40.284400</ts>
    <user>Penni</user>
    <text>&lt;@Julia&gt; In pure mathematics, they’re also called variables even though they don’t “vary”.</text>
  </message>
  <message conversation_id="146">
    <ts>2019-02-18T17:04:22.284500</ts>
    <user>Tomas</user>
    <text>I would probably run the program on the server on a specific port (say `8080`) and then have nginx proxy requests to it</text>
  </message>
  <message conversation_id="146">
    <ts>2019-02-18T17:05:04.284700</ts>
    <user>Tomas</user>
    <text>you might be interested in this &lt;https://serverracket.com/&gt;</text>
  </message>
  <message conversation_id="146">
    <ts>2019-02-18T17:05:52.285000</ts>
    <user>Tomas</user>
    <text>You would also want to do something to make sure your program keeps running on crashes, with upstart, supervisord or similar</text>
  </message>
  <message conversation_id="146">
    <ts>2019-02-18T17:10:43.285800</ts>
    <user>Julia</user>
    <text>Well I call them constables.</text>
  </message>
  <message conversation_id="147">
    <ts>2019-02-18T21:16:32.293400</ts>
    <user>Tuan</user>
    <text>Is there an idiomatic way to use a pipeline line operator `|&amp;gt;` like in Elixir? Very new to Racket and I saw this: &lt;https://docs.racket-lang.org/heresy/pipes.html&gt;</text>
  </message>
  <message conversation_id="147">
    <ts>2019-02-18T21:17:19.293800</ts>
    <user>Tuan</user>
    <text>but it seems to be a completely different language?</text>
  </message>
  <message conversation_id="146">
    <ts>2019-02-18T21:59:19.293900</ts>
    <user>Ollie</user>
    <text>Thanks &lt;@Tomas&gt;! The serveerracket thing is actually the opposite of what I want, which is not to make a more complicated website but rather to put the simplest possible website, actually any Racket code at all, *on the web*. Your "nginx proxy requests" comment may be what I want, but I have no idea what that means :disappointed:. Also, no idea what "supervisord" means. Would love some guide that assumes only knowledge of Racket and shows how to put *some* Racket thing (maybe something simple like in the Instant Servelet example) on the web, for example on an academic server in which I can already put `html` files, etc. It would be ideal if I could just put stuff there and it would run when accessed, but if I'd instead have to run a command and/or set something up to run the command after a reboot then that would also be fine *if* there were instructions for doing that that require no knowledge beyond knowing Racket. Does such a thing exist, or could it?</text>
  </message>
  <message conversation_id="147">
    <ts>2019-02-18T22:28:26.295400</ts>
    <user>Shanell</user>
    <text>&lt;@Tuan&gt; there are several packages that supply threading macros. You might be interested in this conversation from a few years back: &lt;https://groups.google.com/forum/#!msg/racket-users/uZnfMrbAE98/J-jbjxwyAgAJ&gt;</text>
  </message>
  <message conversation_id="148">
    <ts>2019-02-18T22:29:59.295800</ts>
    <user>Shanell</user>
    <text>or just go here: &lt;https://docs.racket-lang.org/threading/index.html&gt;</text>
  </message>
  <message conversation_id="149">
    <ts>2019-02-18T23:51:30.295900</ts>
    <user>Madelaine</user>
    <text>So, the word "server" is used in a lot of different ways, and there are various types of servers out there.
It sounds like you're talking about a very traditional shared hosting environment. Somewhere there is a computer (called a "server") running a program like Apache (also called a "server"). Apache looks in some directory on that computer for your files and sends them out when someone requests the corresponding URL.  (Apache can do more than this: I'm simplifying.) All of those things are "static" files, meaning that they are generated ahead of time and they don't change in response to interactions with visitors.
You can certainly use Racket to make static files (e.g. with Frog: &lt;https://docs.racket-lang.org/frog/&gt;), but that isn't what the Racket Web Server is for. The `web-server` library essentially gives you the Apache functionality (roughly) as a library that you can use from programs. It can serve static files, but it is mostly oriented to dynamic, interactive content: for example, processing input from a form and displaying some computed output. In this sense it is similar to server frameworks like node.js.
Most traditional shared hosting environments like you seem to be describing aren't really set up to run servers like Racket (or node.js, etc.). It is possible, but you would need a willing system administrator with root access. You could set up your Racket application to listen on some local port, and then use Apache as a reverse proxy to your Racket server.
The way of running a Racket server on the public internet that requires the least sysadmin knowledge is to do it on a machine (perhaps a virtual machine, like an AWS instance) that isn't already serving other web content with some other web server like Apache. In that case, you just start your Racket process as you do on your local machine, but tell it to run on port 80 (or 443) instead of 8000 or whatever.
All of this requires at least some knowledge beyond Racket (and not specific to Racket), but I'm happy to help if I can.</text>
  </message>
  <message conversation_id="150">
    <ts>2019-02-19T02:22:51.296700</ts>
    <user>Herman</user>
    <text>&lt;@Susana&gt; Ah cool. that call to close on the struct looked dodgy anyway.</text>
  </message>
  <message conversation_id="147">
    <ts>2019-02-19T06:14:15.296900</ts>
    <user>Tuan</user>
    <text>oh, awesome, that seems to be exactly what I was looking for. Thanks!</text>
  </message>
  <message conversation_id="149">
    <ts>2019-02-19T06:56:41.297100</ts>
    <user>Ollie</user>
    <text>Thank you &lt;@Madelaine&gt; for your patient and thorough explanation. I believe that the server I use is running Apache. With Clojurescript, I can compile something and move the resulting folder to the server, and then anyone can point a browser to the `index.html` file in the folder on the server and it runs. Long ago I did something similar using a combination of C++ and Common Lisp. Do I understand correctly that nothing like this is possible using Racket? If so, then I guess I would indeed need to run a command on the server to start up the Racket part of the server, and set something up so that that it runs automatically when the server is rebooted, or get my sysadmin to do those things. If this is right, then is there a concise description of the needed command/setup that can be conveyed to someone who doesn't already have much knowledge beyond Racket? I ask both for my own projects and for my teaching of new programmers, for whom I gather Racket is intended to serve as a good environment. If the student has made a thing that they want to share, by making it run on the web, and they have a `public_html` directory on a university server, what is the magic to make the thing run online, where their friends and family can check it out?</text>
  </message>
  <message conversation_id="151">
    <ts>2019-02-19T08:16:28.297300</ts>
    <user>Tomas</user>
    <text>Compiling ClojureScript makes a JS file that you can include into an html file via `script` tags, in your case `index.html`. When you were running C++/Common Lisp was this via cgi bin perchance?</text>
  </message>
  <message conversation_id="151">
    <ts>2019-02-19T08:17:35.297500</ts>
    <user>Tomas</user>
    <text>Racket does have bindings for CGI (&lt;https://docs.racket-lang.org/net/cgi.html&gt;) which is a real old school way of generating dynamic web content</text>
  </message>
  <message conversation_id="151">
    <ts>2019-02-19T08:20:09.297700</ts>
    <user>Tomas</user>
    <text>(Also, if you want to share smaller one-off scripts online, there is &lt;http://pasterack.org/&gt;)</text>
  </message>
  <message conversation_id="151">
    <ts>2019-02-19T08:21:46.297900</ts>
    <user>Ollie</user>
    <text>Yeah, my C++/Common Lisp approach did involve cgi. I don't remember the details though. Do you think this is a reasonable approach for the need I've outlined above?</text>
  </message>
  <message conversation_id="151">
    <ts>2019-02-19T08:23:23.298100</ts>
    <user>Ollie</user>
    <text>The pasterack thing does look like it could be helpful for some of my purposes, albeit awkward and limited, I'm guessing.</text>
  </message>
  <message conversation_id="151">
    <ts>2019-02-19T08:23:42.298300</ts>
    <user>Tomas</user>
    <text>I think if you want to get something simple up, and your current server environment supports CGI then it might be a good bet to experiment with.  Would ask your admin if CGI is available.</text>
  </message>
  <message conversation_id="151">
    <ts>2019-02-19T08:26:48.298500</ts>
    <user>Ollie</user>
    <text>Thanks. Do you know of simple instructions/examples that show how to take a simple thing that runs locally and use the CGI approach to put it in a public_html directory, assuming that CGI is available?</text>
  </message>
  <message conversation_id="151">
    <ts>2019-02-19T08:28:59.298700</ts>
    <user>Tomas</user>
    <text>Unfortunately I don’t. I’ve never really used CGI. My understanding from way back when I used to work with shared hosts was that there was usually a `/cgi_bin` directory to put scripts in.</text>
  </message>
  <message conversation_id="151">
    <ts>2019-02-19T09:04:48.298900</ts>
    <user>Ollie</user>
    <text>Got it. I guess the more reasonable way forward would be to run the Racket server command on the server, and set things up so that happens automatically when the server is rebooted. That being the case, is there documentation for doing this that a new Racket programmer could follow? Based on what I see of the Racket community's interest in new programmers (who will be motivated by being able to share their creations), I would think that this would be appreciated by people other than me (and me! :slightly_smiling_face:)</text>
  </message>
  <message conversation_id="152">
    <ts>2019-02-19T09:05:15.299200</ts>
    <user>Madelaine</user>
    <text>I actually used Racket for CGI programming before I learned the `web-server` library. The good part about CGI programming in Racket is that you're doing it in Racket. The bad part about it is that you're doing CGI programming and you have to live with all of its limitations, without the innovations of the `web-server` library for managing interactive programs in particular.
More practically, using CGI still means you need to have Racket installed on your server, including all of the packages you're using. (You could also compile your program into a stand-alone executable and install that on your server, but that doesn't get you much farther.) If your server administrator is willing to do that, then putting `#!/usr/bin/env racket` on the first line of your script (before the `#lang` line) and making it executable with `chmod +x` will make it work the way CGI expects, though where you have to put it depends on how Apache is configured on your specific server. But, if your server administrator is willing to do that, they're most of the way toward letting you run a Racket `web-server` program on a local port, which is much better in most circumstances.</text>
  </message>
  <message conversation_id="151">
    <ts>2019-02-19T09:07:20.299400</ts>
    <user>Ollie</user>
    <text>Thanks for the additional detail! This reinforces my impression that CGI isn't really the way to go, and running a Racket `web-server` program on a local port is better... So it'd be great to have instructions for that that could be followed by someone who doesn't know much more than how to write a simple Racket program.</text>
  </message>
  <message conversation_id="151">
    <ts>2019-02-19T09:09:45.299600</ts>
    <user>Madelaine</user>
    <text>&lt;@Ollie&gt; This is the `systemd` unit file I use to automatically run the Racket web server for &lt;https://digitalricoeur.org&gt;
```
[Unit]
Description=Digital Ricoeur portal web server

[Service]
User=ricoeurd
Group=ricoeurd
AmbientCapabilities=CAP_NET_BIND_SERVICE
WorkingDirectory=/home/ubuntu/ricoeur-portal/
ExecStart=/usr/local/bin/ricoeur-portal --production

[Install]
WantedBy=multi-user.target
```</text>
  </message>
  <message conversation_id="152">
    <ts>2019-02-19T09:10:59.299800</ts>
    <user>Madelaine</user>
    <text>The `ricoeur-portal` program is created by `raco setup`: &lt;https://docs.racket-lang.org/raco/setup-info.html#(idx._(gentag._13._(lib._scribblings%2Fraco%2Fraco..scrbl)))&gt;</text>
  </message>
  <message conversation_id="151">
    <ts>2019-02-19T09:14:30.300000</ts>
    <user>Ollie</user>
    <text>Interesting! Not least because of the Ricoeur I read back in my philosophy major days :slightly_smiling_face:. I think I would have to take a big step back, though, to figure out what to do with a `systemd` file and how/where to use the raco material to which you linked.</text>
  </message>
  <message conversation_id="152">
    <ts>2019-02-19T09:27:41.300200</ts>
    <user>Madelaine</user>
    <text>There is also some basic guidance on running behind Apache in the `web-server` documentation: &lt;https://docs.racket-lang.org/web-server-internal/Troubleshooting_and_Tips.html&gt;</text>
  </message>
  <message conversation_id="151">
    <ts>2019-02-19T09:43:25.300400</ts>
    <user>Ollie</user>
    <text>Thanks. For the moment that's going in my collection of tabs with stuff I don't yet understand, but I will try to look back at all of this and see if I can figure out how to use it.</text>
  </message>
  <message conversation_id="153">
    <ts>2019-02-19T13:38:59.302000</ts>
    <user>Terrence</user>
    <text>I watched William Byrd's lecture on interpreters in LISP. Very informative. I lost complete comprehension about 60% of the way through, but was impressed I made it that far. I had no idea LISP was so powerful.</text>
  </message>
  <message conversation_id="153">
    <ts>2019-02-19T14:06:04.302100</ts>
    <user>Lillian</user>
    <text>There’s no upper bound on the complexity of that error message.</text>
  </message>
  <message conversation_id="153">
    <ts>2019-02-19T14:14:20.302300</ts>
    <user>Lavette</user>
    <text>Is this it? &lt;https://www.youtube.com/watch?v=OyfBQmvr2Hc&gt;</text>
  </message>
  <message conversation_id="153">
    <ts>2019-02-19T14:16:41.302600</ts>
    <user>Terrence</user>
    <text>yep!</text>
  </message>
  <message conversation_id="154">
    <ts>2019-02-19T15:51:44.302800</ts>
    <user>Lavette</user>
    <text>Thanks for the recommendation, I'll watch it when I have some time.</text>
  </message>
  <message conversation_id="155">
    <ts>2019-02-19T16:52:30.304600</ts>
    <user>Marylin</user>
    <text>Hi! How to get the name of a procedure? For example: #&amp;lt;procedure:number?&amp;gt; -&amp;gt; "number?" thx!</text>
  </message>
  <message conversation_id="155">
    <ts>2019-02-19T16:54:28.305500</ts>
    <user>Marylin</user>
    <text>&lt;@Tuan&gt; You may look at the `threading` package.
```
(require threading)
...
(define (lisp input)
  (~&amp;gt; input
      success
      ((lift check_input) _)
      ((lift check_operation_code) _)
      ((lift check_arguments_length) _)
      ((lift check_arguments_types) _)
      ((lift apply_operation) _)))
```
The `~&amp;gt;` is the threading macro that kind of works like the `|&amp;gt;` elixir operator.</text>
  </message>
  <message conversation_id="155">
    <ts>2019-02-19T16:57:30.305900</ts>
    <user>Kristeen</user>
    <text>&lt;@Marylin&gt; you want `object-name`</text>
  </message>
  <message conversation_id="155">
    <ts>2019-02-19T16:58:11.306100</ts>
    <user>Marylin</user>
    <text>thank you !</text>
  </message>
  <message conversation_id="155">
    <ts>2019-02-19T18:48:08.306300</ts>
    <user>Tuan</user>
    <text>ah yeah, that was the one recommended above, it looked perfect, but I appreciate you double checking</text>
  </message>
  <message conversation_id="156">
    <ts>2019-02-20T00:16:15.306800</ts>
    <user>Terrence</user>
    <text>It's really fun and very mind-blowing.</text>
  </message>
  <message conversation_id="156">
    <ts>2019-02-20T02:05:56.307700</ts>
    <user>Terrence</user>
    <text>I am liking LISP/Racket so much I am making a blog about my learning journey lol.</text>
  </message>
  <message conversation_id="157">
    <ts>2019-02-20T02:19:30.309000</ts>
    <user>Ozie</user>
    <text>A very dumb question from a very newbie here
```
(~&amp;gt; '(1 2 3) (map writeln _)) 
;;; 1
;;; 2
;;; 3
;;; '(#&amp;lt;void&amp;gt; #&amp;lt;void&amp;gt; #&amp;lt;void&amp;gt;)
```
Where do the `#&amp;lt;void&amp;gt;`s came from?</text>
  </message>
  <message conversation_id="157">
    <ts>2019-02-20T02:25:38.309500</ts>
    <user>Mai</user>
    <text>`writeln` has a side effect, which is to write the data to the current output port (e.g., stdout), but the output of `writeln` itself is `(void)`</text>
  </message>
  <message conversation_id="157">
    <ts>2019-02-20T02:27:48.309800</ts>
    <user>Mai</user>
    <text>Perhaps what you want is `(~&amp;gt; '(1 2 3) (for-each writeln _))`</text>
  </message>
  <message conversation_id="157">
    <ts>2019-02-20T02:29:32.310000</ts>
    <user>Ozie</user>
    <text>oh!</text>
  </message>
  <message conversation_id="157">
    <ts>2019-02-20T02:29:33.310200</ts>
    <user>Mai</user>
    <text>Unlike `map`, which will collect outputs from the function together to create a list, `for-each` discards them. Hence, `for-each` is useful when the function is primarily invoked for side-effect</text>
  </message>
  <message conversation_id="157">
    <ts>2019-02-20T02:29:37.310400</ts>
    <user>Ozie</user>
    <text>got it</text>
  </message>
  <message conversation_id="157">
    <ts>2019-02-20T02:29:47.310600</ts>
    <user>Ozie</user>
    <text>:pray:</text>
  </message>
  <message conversation_id="157">
    <ts>2019-02-20T02:30:11.310900</ts>
    <user>Ozie</user>
    <text>works like a charm!</text>
  </message>
  <message conversation_id="157">
    <ts>2019-02-20T02:45:37.311400</ts>
    <user>Herman</user>
    <text>I believe `writeln` returns void</text>
  </message>
  <message conversation_id="157">
    <ts>2019-02-20T02:46:55.312400</ts>
    <user>Herman</user>
    <text>&lt;@Ozie&gt; So the return value of the map is a list of the void return values from doing each writeln.</text>
  </message>
  <message conversation_id="158">
    <ts>2019-02-20T04:19:49.312700</ts>
    <user>Shavon</user>
    <text>&lt;@Terrence&gt; that's great, url?</text>
  </message>
  <message conversation_id="159">
    <ts>2019-02-20T04:44:20.312900</ts>
    <user>Lavette</user>
    <text>URL?</text>
  </message>
  <message conversation_id="160">
    <ts>2019-02-20T05:26:36.314300</ts>
    <user>Jana</user>
    <text>:wave::skin-tone-3: racketeers</text>
  </message>
  <message conversation_id="161">
    <ts>2019-02-20T05:45:41.316600</ts>
    <user>Caprice</user>
    <text>How do I make a macro that transforms:
```
(make-thing foo self)
```
to:
```
(define foo (thing #f))
(set-thing-x! foo foo)
```
Assuming `thing` is `(struct thing (x) #:transparent #:mutable)`</text>
  </message>
  <message conversation_id="161">
    <ts>2019-02-20T05:47:31.317700</ts>
    <user>Caprice</user>
    <text>is it OK to just do syntax-&amp;gt;list, replace, and transform back? I'm trying to use syntax-parameterize and failing.</text>
  </message>
  <message conversation_id="159">
    <ts>2019-02-20T06:30:27.318100</ts>
    <user>Priscila</user>
    <text>```
#lang racket
(require (for-syntax syntax/parse))

(struct thing (x) #:transparent #:mutable)

(define-syntax (create-thing stx)
  (syntax-parse stx
    [(_create-thing id)
     (syntax/loc stx
       (begin
         (define id (thing #f))
         (set-thing-x! id id)))]))

(create-thing foo)
foo
```</text>
  </message>
  <message conversation_id="161">
    <ts>2019-02-20T06:30:42.318400</ts>
    <user>Priscila</user>
    <text>&lt;@Caprice&gt; ^</text>
  </message>
  <message conversation_id="161">
    <ts>2019-02-20T07:35:56.319100</ts>
    <user>Caprice</user>
    <text>No, it's only supposed to replace uses of "self" with itself</text>
  </message>
  <message conversation_id="159">
    <ts>2019-02-20T07:37:25.319600</ts>
    <user>Priscila</user>
    <text>So `(make-thing foo self)` is not the macro call?</text>
  </message>
  <message conversation_id="161">
    <ts>2019-02-20T07:38:09.319800</ts>
    <user>Caprice</user>
    <text>it is</text>
  </message>
  <message conversation_id="161">
    <ts>2019-02-20T07:38:21.320100</ts>
    <user>Caprice</user>
    <text>but for example if "thing" had 2 fields</text>
  </message>
  <message conversation_id="161">
    <ts>2019-02-20T07:38:30.320400</ts>
    <user>Caprice</user>
    <text>i'd do `(make-thing 1 self)`</text>
  </message>
  <message conversation_id="161">
    <ts>2019-02-20T07:38:53.321100</ts>
    <user>Caprice</user>
    <text>the first field in the struct would be 1, but the second, that says `self`, I want to set! that to itself</text>
  </message>
  <message conversation_id="161">
    <ts>2019-02-20T07:39:51.321900</ts>
    <user>Priscila</user>
    <text>I think you want `shared`:  &lt;https://docs.racket-lang.org/reference/shared.html?q=shared&gt;</text>
  </message>
  <message conversation_id="161">
    <ts>2019-02-20T07:39:57.322000</ts>
    <user>Caprice</user>
    <text>I suppose I should make a function and not a macro though so I'll just make do</text>
  </message>
  <message conversation_id="161">
    <ts>2019-02-20T07:40:35.322200</ts>
    <user>Caprice</user>
    <text>that's interesting, thanks</text>
  </message>
  <message conversation_id="162">
    <ts>2019-02-20T08:00:51.322700</ts>
    <user>Tomas</user>
    <text>well well well!</text>
  </message>
  <message conversation_id="161">
    <ts>2019-02-20T08:02:04.323300</ts>
    <user>Mai</user>
    <text>&lt;@Caprice&gt;

```
#lang racket

(require (for-syntax racket/function
                     syntax/parse))

(struct thing (x y) #:transparent #:mutable)
(define self (gensym 'self))

(define-syntax (replace stx)
  (syntax-parse stx
    [(_ field id)
     (cond
       [(and (identifier? #'field) (free-identifier=? #'self #'field)) #'id]
       [else #'field])]))

(define-syntax (make-thing stx)
  (syntax-parse stx 
    [(_ id:id field ...)
     #'(define id (shared ([id (thing (replace field id) ...)]) id))]))

(make-thing foo 10 self)
(make-thing bar self 20)
(make-thing baz self self)
(make-thing blah 10 20)

foo
bar
baz
blah

;; #0=(thing 10 #0#)
;; #0=(thing #0# 20)
;; #0=(thing #0# #0#)
;; (thing 10 20)
```</text>
  </message>
  <message conversation_id="161">
    <ts>2019-02-20T08:16:32.324200</ts>
    <user>Caprice</user>
    <text>&lt;@Mai&gt; That's neat, that does the trick. Thanks!</text>
  </message>
  <message conversation_id="163">
    <ts>2019-02-20T08:26:07.324800</ts>
    <user>Mai</user>
    <text>Actually, this allows `self` to be used outside of the macro</text>
  </message>
  <message conversation_id="163">
    <ts>2019-02-20T08:26:20.325000</ts>
    <user>Mai</user>
    <text>This is a version that prohibits it</text>
  </message>
  <message conversation_id="163">
    <ts>2019-02-20T08:26:23.325200</ts>
    <user>Mai</user>
    <text>```
#lang racket

(require racket/stxparam)

(struct thing (x y) #:transparent #:mutable)

(define-syntax-parameter self
  (λ (stx) (raise-syntax-error (syntax-e stx) "can only be used inside make-thing")))

(define-syntax-rule (make-thing id field ...)
  (define id
    (shared ([x (thing (syntax-parameterize ([self (make-rename-transformer #'x)])
                         field) ...)]) x)))

(make-thing foo 10 self)
(make-thing bar self 20)
(make-thing baz self self)
(make-thing blah 10 20)

foo
bar
baz
blah
```</text>
  </message>
  <message conversation_id="163">
    <ts>2019-02-20T08:27:24.325500</ts>
    <user>Mai</user>
    <text>Code adapted from &lt;https://www.greghendershott.com/fear-of-macros/all.html#%28part._.Syntax_parameters%29&gt;</text>
  </message>
  <message conversation_id="164">
    <ts>2019-02-20T08:53:04.326000</ts>
    <user>Terrence</user>
    <text>&lt;@Shavon&gt; &lt;https://programmingisreallyfun.wordpress.com/&gt;</text>
  </message>
  <message conversation_id="164">
    <ts>2019-02-20T08:53:16.326400</ts>
    <user>Terrence</user>
    <text>it's very remedial, but I learn slow</text>
  </message>
  <message conversation_id="164">
    <ts>2019-02-20T09:00:53.329600</ts>
    <user>Kami</user>
    <text>&lt;@Terrence&gt; Well, I'm glad you found Lisp on your path. Not every programmer stops by and try to learn such languages because they look so "weird" and "different" and "old". SICP was a fundamental read for me too. With Racket I'm home, so, welcome there!</text>
  </message>
  <message conversation_id="164">
    <ts>2019-02-20T09:02:07.329800</ts>
    <user>Terrence</user>
    <text>Ty so much :slightly_smiling_face:</text>
  </message>
  <message conversation_id="164">
    <ts>2019-02-20T09:05:13.331800</ts>
    <user>Terrence</user>
    <text>I guess the good thing about being unemployed (at least from programming) is that I don't have to divide my loyalties between what I want to learn and what I have to learn. I seriously doubt I will ever work in LISP professionally, but in this stage of my life, as I formulate research in healthcare, adding to the body of knowledge is an important, fulfilling venture in itself. I hope that I can contribute something to at some point.</text>
  </message>
  <message conversation_id="164">
    <ts>2019-02-20T10:42:08.001600</ts>
    <user>Lavette</user>
    <text>&lt;@Terrence&gt; Very nice blog so far! I look forward to more of it.</text>
  </message>
  <message conversation_id="164">
    <ts>2019-02-20T10:42:47.002400</ts>
    <user>Terrence</user>
    <text>I posted a new one today. If you get bored and want to check my work, please don't hesitate to correct me.</text>
  </message>
  <message conversation_id="164">
    <ts>2019-02-20T10:42:56.002800</ts>
    <user>Terrence</user>
    <text>and ty :slightly_smiling_face:</text>
  </message>
  <message conversation_id="164">
    <ts>2019-02-20T10:45:01.004600</ts>
    <user>Lavette</user>
    <text>I have been programming since I was 10, and although I don't do it for my job anymore (I've turned into an architect and manager, sigh), I still enjoy and do it for fun at home. One thing you might try for programming exercises: &lt;https://adventofcode.com&gt; - it's no longer "live" but the exercises (also from previous years) are available. I participated for the first time this year (didn't finish), and I made it a point of using Racket for the exercises, it's a great way to practice.</text>
  </message>
  <message conversation_id="164">
    <ts>2019-02-20T10:48:14.005800</ts>
    <user>Tuan</user>
    <text>i've been working through the &lt;http://exercism.io|exercism.io&gt; racket track, I've found it's a good way to jump into the ecosystem myself.</text>
  </message>
  <message conversation_id="164">
    <ts>2019-02-20T10:48:40.006500</ts>
    <user>Tuan</user>
    <text>Also makes it nice there is now a mentor system, there are a few people that have been really nice to point some stuff out</text>
  </message>
  <message conversation_id="164">
    <ts>2019-02-20T10:48:43.006600</ts>
    <user>Terrence</user>
    <text>I will definitely try both sites.</text>
  </message>
  <message conversation_id="164">
    <ts>2019-02-20T10:48:55.006900</ts>
    <user>Tuan</user>
    <text>(also very new to Racket, as in just started a week ago)</text>
  </message>
  <message conversation_id="164">
    <ts>2019-02-20T10:55:46.007600</ts>
    <user>Terrence</user>
    <text>I am new to Racket, LISP, and computer science in general. Little to no math background, but it is my hope to answer every question in the SICP to improve myself.</text>
  </message>
  <message conversation_id="165">
    <ts>2019-02-20T11:08:51.008600</ts>
    <user>Susana</user>
    <text>last time I’ve seen it the exercism track for Racket needed some work. I submitted a couple of PRs improving some of the exercises but they did take a long time to be merged</text>
  </message>
  <message conversation_id="164">
    <ts>2019-02-20T11:09:51.009400</ts>
    <user>Tuan</user>
    <text>Hmm, I'm only a few exercises in, we'll see once I get further along.  It does gate you a good amount now if you ask for feedback</text>
  </message>
  <message conversation_id="164">
    <ts>2019-02-20T11:10:06.009700</ts>
    <user>Susana</user>
    <text>&lt;@Tuan&gt; if you have any trouble you can ask about it here</text>
  </message>
  <message conversation_id="165">
    <ts>2019-02-20T11:10:39.009800</ts>
    <user>Tomas</user>
    <text>Fellow Apple IIe learner here. Really glad to see posts from other folks who took roundabout or non-traditional paths into computing. Keep writing!</text>
  </message>
  <message conversation_id="164">
    <ts>2019-02-20T11:12:12.010700</ts>
    <user>Tuan</user>
    <text>Much appreciated. :slightly_smiling_face: will probably be taking that offer up once I get to some of harder data manipulation ones.</text>
  </message>
  <message conversation_id="166">
    <ts>2019-02-20T12:07:35.011400</ts>
    <user>Terrence</user>
    <text>I posted blog 3 just a few minutes. As always, enjoy and rip it apart. I'm here to learn :slightly_smiling_face:</text>
  </message>
  <message conversation_id="166">
    <ts>2019-02-20T12:07:59.011600</ts>
    <user>Terrence</user>
    <text>&lt;https://programmingisreallyfun.wordpress.com/2019/02/20/part-3-lisp-syntax-procedures-and-arguments/&gt;</text>
  </message>
  <message conversation_id="167">
    <ts>2019-02-20T12:56:04.012800</ts>
    <user>Jamila</user>
    <text>Is there a scribble package akin to mathpartir, for typesetting inference rules and (fairly simple) derivation trees?  For context, I'm typesetting lecture notes that will run with MathJax, so I can use any basic LaTeX stuff but not any packages...</text>
  </message>
  <message conversation_id="166">
    <ts>2019-02-20T13:05:47.014200</ts>
    <user>Hallie</user>
    <text>&lt;@Terrence&gt; nice blog posts! Just in case - there is sicp package available that gives more support/compatibility with SICP: &lt;https://docs.racket-lang.org/sicp-manual/&gt;</text>
  </message>
  <message conversation_id="166">
    <ts>2019-02-20T13:29:38.015000</ts>
    <user>Terrence</user>
    <text>Oh my goodness, this is fantastic. Thank you &lt;@Hallie&gt;. I am still only halfway through Chapter 1, but this is so good to know and I will add this to my blogs.</text>
  </message>
  <message conversation_id="166">
    <ts>2019-02-20T13:30:51.015300</ts>
    <user>Hallie</user>
    <text>That's the power of Racket :slightly_smiling_face:</text>
  </message>
  <message conversation_id="166">
    <ts>2019-02-20T13:34:08.017100</ts>
    <user>Penni</user>
    <text>&lt;@Terrence&gt; Would you like to see my solution to the sum-of-squares problem? It might be interesting because it's very different, and it applies a couple of those often-reusable idioms that make programming require less thought.</text>
  </message>
  <message conversation_id="166">
    <ts>2019-02-20T13:51:01.017300</ts>
    <user>Terrence</user>
    <text>Sure!</text>
  </message>
  <message conversation_id="166">
    <ts>2019-02-20T13:51:29.017900</ts>
    <user>Terrence</user>
    <text>I will also be happy to include that alternate solution in my blog. I'm all about more efficient solutions.</text>
  </message>
  <message conversation_id="168">
    <ts>2019-02-20T14:06:26.018200</ts>
    <user>Penni</user>
    <text>This might look like a mess, and indeed &lt;@Priscila&gt;'s solution is much more elegant and efficient. But it popped into my head instantly, just applying habitual ways of mentally framing it that have been helpful many times before. I would not have naturally hit on this approach if it weren't for other people having shown me these tricks long ago.</text>
  </message>
  <message conversation_id="166">
    <ts>2019-02-20T14:08:12.018900</ts>
    <user>Terrence</user>
    <text>I think I need to add both of your solutions to the blog so I can learn from then. TY!</text>
  </message>
  <message conversation_id="169">
    <ts>2019-02-20T14:08:39.019700</ts>
    <user>Tomas</user>
    <text>I always love to see how other people solve things, i almost always learn something</text>
  </message>
  <message conversation_id="166">
    <ts>2019-02-20T14:10:07.021100</ts>
    <user>Penni</user>
    <text>If you're only just getting accustomed to passing arguments, this solution is probably way too much. When I first saw this sort of thing, I thought it was too tricky. I think it's pretty typical of pure-functional programming (I could be wrong: I can't speak with authority about that), and it's gets easier to read with time. But right now, it might be best to save someplace and look at again later.</text>
  </message>
  <message conversation_id="166">
    <ts>2019-02-20T14:12:52.022200</ts>
    <user>Terrence</user>
    <text>It is way out of my league, but at the moment. If it's too hard for me now, then that is good.</text>
  </message>
  <message conversation_id="166">
    <ts>2019-02-20T14:13:05.022500</ts>
    <user>Tuan</user>
    <text>heh, that was the problem I worked on last with exercism</text>
  </message>
  <message conversation_id="166">
    <ts>2019-02-20T14:15:48.022800</ts>
    <user>Tuan</user>
    <text>though, the scope was different</text>
  </message>
  <message conversation_id="166">
    <ts>2019-02-20T14:21:46.025000</ts>
    <user>Penni</user>
    <text>&lt;@Terrence&gt; OK, it's probably like looking a few chapters ahead in a book teaching a foreign language. I thought of it because of your observation that the problem was so hard, it seemed discouraging. After a while, problems like that will "light up" familiar, friendly ways of looking at them, which make them easy.</text>
  </message>
  <message conversation_id="166">
    <ts>2019-02-20T14:22:39.026000</ts>
    <user>Penni</user>
    <text>(They also create new blind spots: I totally did not see &lt;@Priscila&gt;'s solution. That one exploits algebra—the problem domain rather than programming tricks!)</text>
  </message>
  <message conversation_id="166">
    <ts>2019-02-20T14:23:03.026800</ts>
    <user>Terrence</user>
    <text>I like hard problems because it means I am learning something.</text>
  </message>
  <message conversation_id="166">
    <ts>2019-02-20T14:23:09.026900</ts>
    <user>Penni</user>
    <text>&lt;@Tuan&gt; Thanks for telling me about &lt;http://exercism.io|exercism.io&gt;! I just signed up for it; now waiting for the email...</text>
  </message>
  <message conversation_id="170">
    <ts>2019-02-20T15:08:44.027600</ts>
    <user>Terrence</user>
    <text>just downloaded Exercism lesson one.</text>
  </message>
  <message conversation_id="171">
    <ts>2019-02-20T15:36:11.027700</ts>
    <user>Jana</user>
    <text>look who’s there</text>
  </message>
  <message conversation_id="171">
    <ts>2019-02-20T15:36:21.027900</ts>
    <user>Jana</user>
    <text>I took the time to register here, at last</text>
  </message>
  <message conversation_id="172">
    <ts>2019-02-20T15:54:05.028200</ts>
    <user>Tomas</user>
    <text>:clap:</text>
  </message>
  <message conversation_id="172">
    <ts>2019-02-20T16:30:41.029000</ts>
    <user>Raul</user>
    <text>&lt;@Penni&gt; That strikes me as a very SQL-ish way of solving the problem. I hope you don't find that insulting.</text>
  </message>
  <message conversation_id="171">
    <ts>2019-02-20T16:32:37.029500</ts>
    <user>Jana</user>
    <text>is it possible to access a struct field value from its name?</text>
  </message>
  <message conversation_id="171">
    <ts>2019-02-20T16:51:50.029800</ts>
    <user>Kristeen</user>
    <text>&lt;@Jana&gt; no, not really</text>
  </message>
  <message conversation_id="173">
    <ts>2019-02-20T17:30:29.029900</ts>
    <user>Janett</user>
    <text>After some poking around (for a course on logic and computation), I just went with \frac, slightly tweaked. That's what mathpartir uses at its heart, anyway.</text>
  </message>
  <message conversation_id="173">
    <ts>2019-02-20T17:41:25.030100</ts>
    <user>Jamila</user>
    <text>true enough, but I was hoping someone had `define-syntax`'ed some nicer wrappers around that, so that it felt nicer to write in Racket :slightly_smiling_face:</text>
  </message>
  <message conversation_id="172">
    <ts>2019-02-20T19:49:14.030700</ts>
    <user>Penni</user>
    <text>&lt;@Raul&gt; Not at all. I'd love to see another solution.</text>
  </message>
  <message conversation_id="172">
    <ts>2019-02-20T20:27:01.032000</ts>
    <user>Penni</user>
    <text>&lt;@Raul&gt; Say, would it be fair to say that a lot of pure-functional programming is SQL-ish? Especially the "map–filter" style?</text>
  </message>
  <message conversation_id="174">
    <ts>2019-02-20T22:51:32.032300</ts>
    <user>Caprice</user>
    <text>Cool, thanks! When I tried this using syntax parameters, `shared` is what I was missing. I guess I still have a long way to go to get a feel of how bindings really work.</text>
  </message>
  <message conversation_id="174">
    <ts>2019-02-21T05:01:35.035800</ts>
    <user>Caprice</user>
    <text>If I have types like these:
```
(struct Foo ([x : Number]))
(struct Bar ([f : Foo]))
(struct SubFoo1 Foo ())
(struct SubFoo2 Foo ())
(struct SubFoo3 Foo ())
```
What would be a type definition that accepts `Bar` only if Bar-f is of type SubFoo2?</text>
  </message>
  <message conversation_id="174">
    <ts>2019-02-21T05:01:44.036200</ts>
    <user>Caprice</user>
    <text>I'm basically trying to translate some code from contracts to types</text>
  </message>
  <message conversation_id="174">
    <ts>2019-02-21T05:05:10.037700</ts>
    <user>Caprice</user>
    <text>I mean I understand I could say `(struct Bar (X) ([f : X]))` and then be able to say `: (Bar SubFoo2)` or something similar, but I want `Bar-f` to only be subtypes of `Foo` and not just any type</text>
  </message>
  <message conversation_id="174">
    <ts>2019-02-21T07:41:49.038300</ts>
    <user>Kristeen</user>
    <text>&lt;@Caprice&gt; what you suggest there is exactly what I would do</text>
  </message>
  <message conversation_id="175">
    <ts>2019-02-21T10:54:55.039300</ts>
    <user>Kristeen</user>
    <text>&lt;@Shavon&gt; related to your gccjit code, you might be interested in &lt;https://github.com/rjnw/sham&gt; which could presumably have a libgccjit backend</text>
  </message>
  <message conversation_id="175">
    <ts>2019-02-21T11:02:13.041300</ts>
    <user>Shavon</user>
    <text>&lt;@Kristeen&gt; thanks I took a peek at it last year and thought it was mostly a set of llvm bindings but I see it's more than that. I like the idea of the sham language. And implementing a backend for that language using gccjit sounds definitely feasible? is rjnw one of your phd students?</text>
  </message>
  <message conversation_id="175">
    <ts>2019-02-21T11:13:23.041500</ts>
    <user>Kristeen</user>
    <text>Yes, he is</text>
  </message>
  <message conversation_id="175">
    <ts>2019-02-21T11:14:00.042400</ts>
    <user>Kristeen</user>
    <text>I also think you should see if the llvm jit that already works there can do what you need</text>
  </message>
  <message conversation_id="175">
    <ts>2019-02-21T11:26:28.044200</ts>
    <user>Raul</user>
    <text>&lt;@Penni&gt; I'm not an expert in this area, but I see similarities between SQL and map-reduce. SQL seems to have some odd restrictions on applying functions to sets of data. I couldn't make a clean SQL implementation of the "square top 2" example unless I cheated by constraining the arguments to be non-negative. What struck me particularly was the use of take and sort (which also reminded me of APL).</text>
  </message>
  <message conversation_id="175">
    <ts>2019-02-21T12:07:15.044700</ts>
    <user>Shavon</user>
    <text>thanks &lt;@Kristeen&gt; i will take a more in-depth look at his code then. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T12:41:42.049700</ts>
    <user>Loma</user>
    <text>Do you prefer using shorthand style, like

```
(define (eat something)
  (printf "~a is delicious!\n" something))
```

over the explicit λ style, like

```
(define eat
  (lambda (something)
    (printf "~a is delicious!\n" something)))
```

in Racket?
I came from Scheme, been using the `explicit lambda’ style for a rather long time, but found the style guide
&lt;https://docs.racket-lang.org/style/Choosing_the_Right_Construct.html?q=style&gt;
seems to encourage the use of the former style.</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T12:46:04.052500</ts>
    <user>Gonzalo</user>
    <text>Ubiquitous, unambiguous shorthand is usually better. Even Scheme wouldn’t have the former style at all if it intended you to write the latter.</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T12:46:32.053600</ts>
    <user>Gonzalo</user>
    <text>Being taught to religiously write the latter is helpful to teach first-class functions, but it has few benefits for the working programmer.</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T12:46:53.054200</ts>
    <user>Karen</user>
    <text>&lt;@Loma&gt; the first style, by far. Introduces less indentation and makes the declaration of a function and its arguments line up visually with uses of the function, like `f(x)` and `f(3)`.</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T12:48:55.056700</ts>
    <user>Gonzalo</user>
    <text>The define/use symmetry is a good point! It’s always aesthetically pleasing when that sort of thing happens.</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T12:49:31.057800</ts>
    <user>Gonzalo</user>
    <text>I am fond of similar symmetries in pattern-matching implementations.</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T12:49:46.058200</ts>
    <user>Penni</user>
    <text>&lt;@Raul&gt; (or anyone else reading), what I'm most wondering if the SQL-ish style is typical, "first-resort" pure-functional programming—and especially, if I've cultivated a good or bad habit by looking at things that way. I still wonder if it's all that readable, and it bothers me that it tends to produce a lot of unnecessary dynamic memory allocation, especially lists that are quickly consumed.</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T12:51:23.058800</ts>
    <user>Loma</user>
    <text>&lt;@Karen&gt; &lt;@Gonzalo&gt; Got it. Cheers!</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T12:59:56.063800</ts>
    <user>Karen</user>
    <text>&lt;@Penni&gt; I think that SQL-ish style is fairly typical, and I think it’s a good approach. The two main drawbacks I see to it are:

- The memory allocation problem, which you already mentioned. This can be fixed with better approaches to streaming data transformations that don’t require you to make a bunch of temporary collections (clojure’s transducers, java 8's stream API, python’s generators / generator comprehension, haskell’s laziness, etc.)
- It’s often written “inside-out and backwards”, e.g. `(apply + (map square (take (sort xs &amp;gt;) 2)))` instead of `xs.sort(&amp;gt;).take(2).map(square).apply(+)`. That’s a purely notational problem though and can be fixed with things like threading macros: `(~&amp;gt; xs (sort _ &amp;gt;) (take _ 2) (map square _) (apply + _))`.</text>
  </message>
  <message conversation_id="177">
    <ts>2019-02-21T13:04:12.065900</ts>
    <user>Penni</user>
    <text>&lt;@Karen&gt; Thanks—it helps a lot to get confirmation or correction from people with more experience. Indeed I liked the threading macros when I was programming in Clojure, for just that reason: they made a lot of code quite readable that otherwise would have been a mess. Hmm, that's an interesting variation on the threading macro…</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:04:59.066900</ts>
    <user>Karen</user>
    <text>ah yeah I should clarify that I prefer to use something that isn’t technically what folks usually call the threading macro</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:05:43.068400</ts>
    <user>Karen</user>
    <text>I like to define `(~&amp;gt; x f ...)` as a regular function that takes a single argument and a list of functions, and then I combine that with the `fancy-app` package which lets you write anonymous functions using underscores</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:05:53.068900</ts>
    <user>Karen</user>
    <text>e.g. `add1` is the same as `(+ _ 1)`</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:06:40.070000</ts>
    <user>Penni</user>
    <text>&lt;@Karen&gt; Say, when I've looked through Racket code (admittedly not a huge amount), I haven't seen real-life use of a `~&amp;gt;` macro. Is there any particular reason why it isn't common practice in the Racket world, beyond not already being standard? Are there other common ways to avoid the inside-out problem?</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:08:20.071800</ts>
    <user>Karen</user>
    <text>&lt;@Penni&gt; I think it’s not common practice only because it’s not in the standard libraries shipped with racket out of the box, so you have to find a package implementing it. And there’s multiple packages implementing it so you have to choose one. People underestimate how much effort that is.</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:09:18.072400</ts>
    <user>Penni</user>
    <text>Yep, it's very easy to underestimate the paradox of choice.</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:09:33.073000</ts>
    <user>Karen</user>
    <text>especially when different people have different choices but need to share a codebase</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:10:07.073900</ts>
    <user>Karen</user>
    <text>like, I’m the only one I know who prefers the plain-function-plus-fancy-app approach</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:10:38.074300</ts>
    <user>Penni</user>
    <text>&lt;@Karen&gt; Say, you're Jack Firth, aren't you? I just watched your talk about `expect` on YouTube a couple days ago, and I'm sold. Is there any way to use `expect` with Typed Racket?</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:11:17.074600</ts>
    <user>Karen</user>
    <text>&lt;@Penni&gt; yup that’s me!</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:13:27.076300</ts>
    <user>Karen</user>
    <text>I think using `expect` with TR _might_ be doable with `require/typed`, or it might require something more complicated. The tricky part is that expectations are parametric - there should be some way to say that `expect/proc` has the type `(-&amp;gt; (Expectation A) (-&amp;gt; A B) (Expectation B))`.</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:14:55.078500</ts>
    <user>Karen</user>
    <text>If you come up with something that works using `require/typed`, feel free to send a PR to the expect repo that adds an `expect/typed` module that just imports stuff using `require/typed` and then exports it</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:18:17.081200</ts>
    <user>Penni</user>
    <text>I just recently moved about 1,000 lines of code to Typed Racket and found that it went pretty swimmingly and the result is better, clearer code that I can now modify with confidence. But I was disappointed to find that unit-testing doesn't yet seem to work well with it. For example, `check-equal?` in `typed/rackunit` doesn't report the line number of the failure. The error messages from `expect` are fantastic—but, it looks like I'll have to add some `require/typed` code. OK, I'll be more than happy to make that my first contribution to Racket, and no doubt I'll learn some good stuff from it, too.</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:20:09.082300</ts>
    <user>Karen</user>
    <text>some of the rackunit-TR issues are known and have been partially worked on: &lt;https://github.com/racket/rackunit/issues&gt;</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:21:05.083500</ts>
    <user>Karen</user>
    <text>the rackunit codebase is a little hairy, but if you feel up to working on the unit-testing story in TR that might be a more effective place to contribute than `expect` - a _lot_ more people use plain `rackunit` than `expect`</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:21:15.083900</ts>
    <user>Penni</user>
    <text>Ah, thanks, now skimming through the issues…</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:22:29.084500</ts>
    <user>Penni</user>
    <text>Thanks for the suggestion. Does the line number get lost in `rackunit` because of the optimizations that TR does?</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:23:36.085300</ts>
    <user>Karen</user>
    <text>nah, it’s not even because of some TR-specific thing - it’s just that the typed versions of the `check-equal?`/ `check-pred` / etc. macros don’t properly preserve source locations</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:23:53.085700</ts>
    <user>Karen</user>
    <text>I think &lt;@Kristeen&gt; wrote a PR to fix this</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:24:04.086000</ts>
    <user>Kristeen</user>
    <text>yes, but it broke some stuff so wasn't merged</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:24:07.086200</ts>
    <user>Penni</user>
    <text>OIC</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:24:17.086400</ts>
    <user>Karen</user>
    <text>&lt;https://github.com/racket/rackunit/pull/80&gt;</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:24:37.086800</ts>
    <user>Karen</user>
    <text>&lt;@Kristeen&gt; wait it did? :o</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:24:38.087000</ts>
    <user>Kristeen</user>
    <text>getting that to work generally would be nice</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:24:42.087200</ts>
    <user>Kristeen</user>
    <text>I think that's why</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T13:28:09.089100</ts>
    <user>Penni</user>
    <text>OK, that looks like it will take some work. I'm balancing "getting something to work right now" vs. reading up on and learning more Racket. When I next get to the 2nd of those two phases, I'll have a go at making a `require/typed` wrapper around `expect`; that might be easier.</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T14:43:57.090700</ts>
    <user>Lillian</user>
    <text>All my `6.0` Travis CI builds have started failing with an SSL handshake error. Anyone experience the same, or know of a workaround? Everything was working fine up till this week so I’m not sure what’s changed.
```Resolving "sugar" via &lt;http://download.racket-lang.org/releases/6.0.1/catalog/&gt;
ssl-connect: connect failed (error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure)```</text>
  </message>
  <message conversation_id="176">
    <ts>2019-02-21T15:39:14.091700</ts>
    <user>Kristeen</user>
    <text>&lt;@Lillian&gt; my guess is that it's the https redirect + 6.0 not supporting something in modern https</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:41:29.093400</ts>
    <user>Karen</user>
    <text>how many years old is 6.0 now?</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:43:13.094800</ts>
    <user>Loma</user>
    <text>Another question on style: as `racket/list` provides `first` `second` `third`, etc., to manipulate list, when do you use `car` `cdr` `cadr` `caddr`? Use them in a `mixed style’?</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:44:13.096300</ts>
    <user>Kristeen</user>
    <text>I use `car`, `cdr`, `cadr` and try to avoid anything beyond that</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:44:22.096800</ts>
    <user>Karen</user>
    <text>&lt;@Loma&gt; I'd recommend never using `car` / `cdr` / etc, if possible</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:44:38.097500</ts>
    <user>Karen</user>
    <text>they're virtually unreadable</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:44:46.097900</ts>
    <user>Elin</user>
    <text>`car`, `cdr`, etc. are confusing for beginners, and me</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:45:10.099700</ts>
    <user>Elin</user>
    <text>`first`, `rest`, `second`, etc. are a lot more readable</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:45:15.100000</ts>
    <user>Priscila</user>
    <text>If you have a data structure built using pairs that doesn't represent a list, then car and cdr makes sense.</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:45:33.101400</ts>
    <user>Karen</user>
    <text>true</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:45:35.101700</ts>
    <user>Priscila</user>
    <text>Otherwise first, second, rest signals you are working on a list.</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:45:53.103200</ts>
    <user>Karen</user>
    <text>I think it's a bad idea in general to make data structures out of raw pairs</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:46:39.105400</ts>
    <user>Lavette</user>
    <text>I also prefer `first`, `rest` etc. I always have to think twice to remember what `car` and `cdr` represent (despite learning them decades ago)</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:46:50.105600</ts>
    <user>Loise</user>
    <text>They're not unfamiliar to someone who's used Lisp for a while. One advantage is that they can be combined, as in `caddr`. Not very intuitive, no. Are there equivalent combining functions with `first`, `last`, et al.?</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:46:55.105700</ts>
    <user>Loma</user>
    <text>This thing really confuses me as, when you start as `racket/base` instead of `racket`, you do not own `first` `second` `third` things.</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:47:22.106900</ts>
    <user>Karen</user>
    <text>Even once you've memorized them, they're still no more descriptive names than random keyboard mashing</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:50:25.108600</ts>
    <user>Elin</user>
    <text>I wish there was a language in between `racket/base` and `racket`, that was just basically `racket/base` + `racket/list` and `racket/match`.</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:50:43.109100</ts>
    <user>Laverna</user>
    <text>they become their own concepts, if you use them enough. but mostly i feel like they’re left over from a time before fast &amp;amp; easy structs</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:51:19.110100</ts>
    <user>Laverna</user>
    <text>i’m still a racket beginner, so… why don’t you want to just use `racket`?</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:51:48.110900</ts>
    <user>Karen</user>
    <text>it's _huge_</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:52:13.112000</ts>
    <user>Gabriella</user>
    <text>as a relative newcomer, I do tend to use both and for the reasons above, when I am manipulating pairs I use car/cdr and when I am manipulating lists I use first/second etc. I find it does make the code more readable because it is more intentional.</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:52:41.112800</ts>
    <user>Karen</user>
    <text>which means slow load times and (more dangerously) higher chance of external libraries providing stuff that conflicts with the exports of `racket`</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:54:45.115900</ts>
    <user>Karen</user>
    <text>less of an issue for `#lang racket` than for `(require racket)` because required identifiers can shadow identifiers imported from a `#lang`</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:56:52.117700</ts>
    <user>Karen</user>
    <text>tangentially, what do you think of extending `#lang reprovide` to make it easier to make whole languages that just modify the exports of other languages? I've wanted that on several occasions</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T15:58:19.118500</ts>
    <user>Jana</user>
    <text>curious as why this is an ssl error when the url is http just above</text>
  </message>
  <message conversation_id="179">
    <ts>2019-02-21T15:59:44.120200</ts>
    <user>Elin</user>
    <text>You mean a kind of “reprovide-as-language” thing?</text>
  </message>
  <message conversation_id="179">
    <ts>2019-02-21T16:00:38.121200</ts>
    <user>Elin</user>
    <text>If I wanted to define, say, `#lang agile` as `s-exp M` where `M` provides everything from `racket/base`, `racket/list`, and `racket/match`?</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T16:00:43.121500</ts>
    <user>Loma</user>
    <text>Here is a thing: if `car` `cadr` is really harder to understand, especially for newbies, then maybe `first` `second` are good alternatives. But what about `cons`? I haven’t seen any alternate names of `cons`.</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T16:01:52.123000</ts>
    <user>Elin</user>
    <text>I guess it would have to be constrained to “reprovide-as-s-exp-language”</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T16:03:16.124500</ts>
    <user>Karen</user>
    <text>&lt;@Loma&gt; Honestly I’d prefer this:

- `pair` Constructor for pairs, e.g. `(pair 1 2)`
- `pair?` Predicate for pairs
- `pair-first`, `pair-second` Accessors for pairs</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T16:03:27.124600</ts>
    <user>Karen</user>
    <text>Yes that</text>
  </message>
  <message conversation_id="179">
    <ts>2019-02-21T16:05:24.125000</ts>
    <user>Elin</user>
    <text>Okay. I could call it `#lang reprovide/as-s-exp-language`, and have it generate the reprovides + a `reader` submodule equal to… what?
```
(module reader syntax/module-reader ???)
```</text>
  </message>
  <message conversation_id="179">
    <ts>2019-02-21T16:05:34.125200</ts>
    <user>Elin</user>
    <text>What do I put in the `???` hole?</text>
  </message>
  <message conversation_id="179">
    <ts>2019-02-21T16:06:40.125500</ts>
    <user>Elin</user>
    <text>Normally you would put a path to a module in a collection, but what if the current file isn’t installed within a collection?</text>
  </message>
  <message conversation_id="179">
    <ts>2019-02-21T16:06:47.125700</ts>
    <user>Loma</user>
    <text>Reminds me of typed/racket :racket-flat:</text>
  </message>
  <message conversation_id="178">
    <ts>2019-02-21T16:07:54.125900</ts>
    <user>Elin</user>
    <text>A relative path to the current module won’t work, because once someone uses it, that path will be relative to their usage file, not to the definition file…</text>
  </message>
  <message conversation_id="179">
    <ts>2019-02-21T16:09:10.127400</ts>
    <user>Loma</user>
    <text>Really learned from your ways. Thank you guys.</text>
  </message>
  <message conversation_id="179">
    <ts>2019-02-21T16:15:44.127600</ts>
    <user>Elin</user>
    <text>Would `define-runtime-path` help?</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:32:55.127900</ts>
    <user>Shanell</user>
    <text>I'd even just take `racket/match`.</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:35:35.128100</ts>
    <user>Elin</user>
    <text>This doesn’t seem to work:
```
(define-runtime-module-path self (submod "."))
```</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:37:27.128500</ts>
    <user>Karen</user>
    <text>Oh right, this isn't possible because readers emit module syntax objects that directly say what their language is :(</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:38:20.128700</ts>
    <user>Elin</user>
    <text>The `syntax/macro-lang` language deals with this problem by forcing the user to specify the path to the current file as an absolute collection path…</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:38:42.128900</ts>
    <user>Karen</user>
    <text>The reader of the wrapper language could be a wrapper function around the reader of the wrapped language. The wrapper reader could then postprocess the syntax object emitted by the wrapped reader and change the module's declared language</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:38:51.129100</ts>
    <user>Karen</user>
    <text>Would that work?</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:39:45.129300</ts>
    <user>Elin</user>
    <text>If we were speaking I would tell you to say it again, slower this time.</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:40:47.129500</ts>
    <user>Elin</user>
    <text>The wrapper function does what? Takes a module syntax-object and returns a module syntax-object?</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:40:53.129700</ts>
    <user>Karen</user>
    <text>I'm not sure what I'm saying either</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:41:12.129900</ts>
    <user>Elin</user>
    <text>Takes a “read” function and returns a “read” function?</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:42:27.130100</ts>
    <user>Elin</user>
    <text>Wait, are you proposing a way that this could work with non-s-expression languages?</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:44:22.130300</ts>
    <user>Karen</user>
    <text>All langs have a reader function right? The thing that the reader submodule is supposed to provide? It accepts a port and some other arguments and returns a syntax object for a module, like (module #f implementation-language). Is that all mostly correct?</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:46:17.130500</ts>
    <user>Elin</user>
    <text>Yes. However, we can’t create a new implemnation-language on the fly</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:48:28.130700</ts>
    <user>Karen</user>
    <text>brb, getting laptop so I can write examples</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:49:47.130900</ts>
    <user>Elin</user>
    <text>Wait I just had an idea. It doesn’t work in the Racket module system but what if you could write something like:
```
(module A (module B racket
            (provide (all-from-out racket)))
  (+ 1 2))
```</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:50:51.131600</ts>
    <user>Elin</user>
    <text>The language of the module `A` is `B`, and `B` is defined on-the-fly</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:52:02.131800</ts>
    <user>Elin</user>
    <text>If we had that, I think we could do the reader wrapper that wraps a wrapped reader, or whatever you said</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:52:47.132400</ts>
    <user>Karen</user>
    <text>ah yes I caught up to your thought process and now see what you mean about how to specify the path to the current file</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:53:47.133100</ts>
    <user>Karen</user>
    <text>I think embedding modules in there would not be good because it ties together the expansion process of the two modules - we definitely want a weaker link between the two than that</text>
  </message>
  <message conversation_id="181">
    <ts>2019-02-21T16:55:03.134300</ts>
    <user>Elin</user>
    <text>Hey, does anyone have any thoughts about defining module-languages “on-the-fly” like this:
```
(module A (module B racket
            (provide (all-from-out racket)))
  (+ 1 2))
```
Where the module `A` has language `B`, and the module `B` has language `racket`?</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:58:22.134400</ts>
    <user>Karen</user>
    <text>I’m imagining something like this:
```
#lang reprovide
example/foo
example/bar
#:reader-from example/foo
```
…would be equivalent to this:
```
#lang racket/base
(reprovide example/foo example/bar)
(module reader racket/base
  (require (prefix-in base: (submod example/foo reader)))
  (provide read-syntax)
  (define (read-syntax ...)
    (define mod-stx (base:read-syntax ...))
    (replace-language-module-path-in-module-syntax mod-stx absolute/path/to/file/containing/reprovide/code)))
```</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:58:35.134600</ts>
    <user>Karen</user>
    <text>but I don’t know how to figure out that `absolute/path/to/file/containing/reprovide/code` bit</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:59:00.134800</ts>
    <user>Karen</user>
    <text>and yes, I think this should work for non-s-expression languages</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T16:59:32.135000</ts>
    <user>Karen</user>
    <text>I would know exactly how this should work if module paths were just URIs. That would make everything here much simpler.</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:00:23.135200</ts>
    <user>Elin</user>
    <text>What if the `example/foo` language produces multiple different module-languages in different situations?</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:01:05.135400</ts>
    <user>Karen</user>
    <text>you mean like metalanguages? like `at-exp`?</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:01:28.135600</ts>
    <user>Clarinda</user>
    <text>We recently changed http to redirect to https, so that’s why the SSL error.
Also, it looks like Racket before v6.1.1 used SLL 2/3 by default (which is now disabled and changed to TLS), which is probably why v6.0 fails.</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:01:31.135800</ts>
    <user>Elin</user>
    <text>As in sometimes `#lang example/foo` produces `(module name example/foo/1 ...)`, and other times `#lang example/foo` produces `(module name example/foo/2 ...)`</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:02:43.136000</ts>
    <user>Elin</user>
    <text>That includes `at-exp`, and I think it also includes `pl` (a language that Eli Barzilay made for a class), and I could imagine a language similar in spirit to `pollen` that did this too</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:03:42.136200</ts>
    <user>Clarinda</user>
    <text>And v6.0 didn’t have `PLT_PKG_SSL_NO_VERIFY`, yet… so I don’t have a workaround at the moment.</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:06:00.137300</ts>
    <user>Elin</user>
    <text>It should be roughly equivalent to:
```
(module B racket
  (provide (all-from-out racket)))

(module A B
  (+ 1 2))
```
Except that `B` probably shouldn’t be visible outside.</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:06:04.137400</ts>
    <user>Karen</user>
    <text>couple of thoughts:

- maybe it would work if the user supplied a function to transform the source language module path instead of just overwriting it
- or maybe it’s enough to just support replacing a fixed finite set of languages
- when this pattern occurs _outside_ metalanguages like `at-exp`, how is the choice of language usually made in practice? one of a few fixed possible languages? something more elaborate? I could see `pollen` doing this to figure out a file path programmatically or something
- does this use case even make sense for a `reprovide`-like thing? When would you be reproviding a metalanguage? I just think of reproviding as a way to bundle together a few simple modules to make another simple module - I’d never try to use reprovide to define a modified version of a metalanguage</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:07:43.138300</ts>
    <user>Priscila</user>
    <text>&lt;https://github.com/oplS17projects/voxos&gt;</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:09:16.139700</ts>
    <user>Elin</user>
    <text>I guess the difference between your thinking and my thinking is this:
 - You’re thinking of the module-language and the reader as more separate. You can extend the module-language without messing with the reader too much.
 - I’m thinking of the module-language dependent on the reader. The reader determines which module-language to use at read-time.</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:09:38.140000</ts>
    <user>Lillian</user>
    <text>I’ve just posted the first version of “Why LOP? Why Racket?” to the Beautiful Racket site. Comments &amp;amp; corrections welcome (not here, however, out of consideration to those who don’t care — just click the left margin of any paragraph on the page to send me a comment). Thanks! &lt;https://beautifulracket.com/appendix/why-lop-why-racket.html&gt;</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:10:35.140100</ts>
    <user>Karen</user>
    <text>Right</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:14:09.140300</ts>
    <user>Lillian</user>
    <text>Ah yes, I wondered if the HTTPS switch was related. Will this afflict 6.0 users generally? (Not a huge group, I know) &lt;https://github.com/racket/racket-lang-org/issues/88#issuecomment-465697565&gt;</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:14:54.140600</ts>
    <user>Elin</user>
    <text>In order to wrap a `#lang` language to include an extra binding, you either need to:
 - determine the reader yourself separate from the `#lang` that you’re wrapping, and then wrap the module-language
 - or, wrap _only_ the reader, and not the module-language</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:16:31.140800</ts>
    <user>Elin</user>
    <text>Having `(module _ (module _ racket stuff ...) stuff ...)` would allow you to wrap the module-language as part of wrapping the reader</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:19:09.141100</ts>
    <user>Karen</user>
    <text>It would, but other ideas would also work and I think it’s really not a good idea to treat modules as _anonymous_ entities. It’s important that modules have names, and that those names are unambiguous and serializable. This property lets you separately read, expand, and compile modules.</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:19:26.141300</ts>
    <user>Karen</user>
    <text>Modules are definitely not lambdas</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:19:55.141500</ts>
    <user>Elin</user>
    <text>Lambdas allow expressions to “depend” on values that don’t come syntactically with them</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:20:19.141700</ts>
    <user>Karen</user>
    <text>Yes. So do links to named resources.</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:20:28.141900</ts>
    <user>Elin</user>
    <text>But the module-language-can-be-a-module-expression thing does not allow that</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:21:12.142100</ts>
    <user>Elin</user>
    <text>As in there’s something that would make lambdas hard, which does not apply to module-language-can-be-a-module-expression. module-lanugage-can-be-a-module-expression is not hard in the way lambdas would be</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:23:28.142500</ts>
    <user>Karen</user>
    <text>Keep in mind cacheability is a really important property to preserve here. In your example, the module expression containing the reprovides to perform must be copied and pasted into every single client module. That makes caching that work much harder (not impossible, but complex caching is often implemented wrong and its nearly impossible to test).</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:23:47.142700</ts>
    <user>Elin</user>
    <text>The module A depends on B, yes, but B is right there. The compiler can just compile B first.</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:24:30.142900</ts>
    <user>Karen</user>
    <text>Yes. But you don’t have _just_ module A. You have hundreds of modules using this reproviding language. And each client module will get a copy of B pasted into it.</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:25:15.143100</ts>
    <user>Elin</user>
    <text>Yes, but that’s necessary if the module-languages produced by the reader are all different</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:26:35.143300</ts>
    <user>Karen</user>
    <text>which I don’t think happens all that often, and definitely wouldn’t in the use cases of `#lang agile` and your request for a language that’s just `racket/base` + `racket/list` +`racket/match`.</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:26:51.143600</ts>
    <user>Karen</user>
    <text>I think languages like that would be 90% of the use cases</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:28:04.143800</ts>
    <user>Elin</user>
    <text>If I can’t do it for arbitrary readers producing arbitrary modules, then I’ll do it only for s-exp readers. Which is still 90% of the use cases</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:28:17.144000</ts>
    <user>Karen</user>
    <text>I’d do it for `scribble/manual` pretty often</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:28:33.144200</ts>
    <user>Karen</user>
    <text>That’s a non-s-exp reader that doesn’t produce arbitrary modules (I think)</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:31:44.144500</ts>
    <user>Clarinda</user>
    <text>This change certainly affects v6.0 users who try to install packages from the default configured catalog, which is an even smaller group than v6.0 users generally. I’m not sure it’s reason enough to turn the global HTTP-&amp;gt;HTTPS forwarding back off, but it’s a point in that direction.</text>
  </message>
  <message conversation_id="182">
    <ts>2019-02-21T17:37:53.146800</ts>
    <user>Mai</user>
    <text>&lt;@Clarinda&gt; I’m trying to use `free-identifier=?` to test if an id refers to another id from another file. It works perfectly _before_ `expand-syntax`, but after I `expand-syntax` somehow the function returns `#f`. Do you know a solution to this?</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:43:01.149100</ts>
    <user>Mai</user>
    <text>To demonstrate:

```
;; a.rkt

#lang racket

(define a 1)

a
```

```
;; compile.rkt

#lang racket

(define my-a #f)
(define my-b #f)

(define (annotate stx)
  (let ([stx (expand-syntax stx)])
    (println (syntax-&amp;gt;datum stx))
    (syntax-case stx ()
      [(module _ _ (mb _ (define-vals (b) _) (app _ (lam () a) _)))
       (set! my-a #'a)
       (set! my-b #'b)]
      [_ (void)])
    stx))

(define orig (current-compile))
(current-compile
 (lambda (e immediate-eval?)
   (orig (annotate
          (if (syntax? e)
              e
              (namespace-syntax-introduce
               (datum-&amp;gt;syntax #f e))))
         immediate-eval?)))

(dynamic-require "a.rkt" #f)

(println my-a)
(println my-b)

(free-identifier=? my-a my-b)
```

This returns `#t`.

But if now I have:

```
;; a.rkt
#lang racket

(require "b.rkt")

a
```

```
;; b.rkt
#lang racket

(provide a)
(define a 42)
```

```
;; compile.rkt

...
      [(module _ _ (mb _ _ (define-vals (a) _)))
       (set! my-b #'a)]
      [(module _ _ (mb _ _ (app _ (lam () a) _)))
       (set! my-a #'a)]
...
```

now it returns `#f`.</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:44:57.149200</ts>
    <user>Clarinda</user>
    <text>We’ve turned off HTTP-&amp;gt;HTTPS for now. Part of the idea is to check whether that fixes the package server, as you have suggested.</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:47:08.150700</ts>
    <user>Mai</user>
    <text>I also test the scenario where I have two submodules in a file, and that one works as expected. The only case that it doesn’t work is when they are in different files</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:48:58.152700</ts>
    <user>Clarinda</user>
    <text>From the module system’s perspective, those are not the same binding. The one in “b.rkt”’s expansion is “in the current module”. The one in “a.rkt”’s expansion is “from a module b.rkt relative to the current module”. There’s nothing that ties one module’s “current module” to the other module’s “b.rkt relative to the current module”. When you have submodules, there is something that ties them together, since they’re at once relative to the enclosing module.</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:51:06.154100</ts>
    <user>Clarinda</user>
    <text>For the multi-module case, you could use `identifier-binding` and related tools to inspect binding information and impose rules about the relationship of “current modules”s, but I don’t know whether that’s the right direction for your purposes.</text>
  </message>
  <message conversation_id="180">
    <ts>2019-02-21T17:51:55.155000</ts>
    <user>Mai</user>
    <text>I see. Let me try `identifier-binding` then. Thank you very much for your help :slightly_smiling_face:</text>
  </message>
  <message conversation_id="183">
    <ts>2019-02-21T18:08:29.155200</ts>
    <user>Karen</user>
    <text>This was a fantastic read, thank you</text>
  </message>
  <message conversation_id="184">
    <ts>2019-02-21T18:47:11.155900</ts>
    <user>Elin</user>
    <text>Is there a way to generate a module-path, like `define-runtime-path`, that points to the current module?</text>
  </message>
  <message conversation_id="184">
    <ts>2019-02-21T18:47:29.156400</ts>
    <user>Elin</user>
    <text>I tried `(define-runtime-module-path self (submod "."))`</text>
  </message>
  <message conversation_id="184">
    <ts>2019-02-21T18:47:41.156800</ts>
    <user>Elin</user>
    <text>but that gave me an error about a cycle in the loading path</text>
  </message>
  <message conversation_id="184">
    <ts>2019-02-21T18:48:27.157700</ts>
    <user>Clarinda</user>
    <text>`(variable-reference-&amp;gt;module-path-index (#%variable-reference))`?</text>
  </message>
  <message conversation_id="184">
    <ts>2019-02-21T18:48:40.158000</ts>
    <user>Karen</user>
    <text>is this for the reader submodule reprovide problem?</text>
  </message>
  <message conversation_id="184">
    <ts>2019-02-21T18:49:13.158700</ts>
    <user>Karen</user>
    <text>&lt;@Clarinda&gt; can a module path index go in the module-path part of a top-level `module` expression? like `(module foo &amp;lt;mpi&amp;gt; body ...)`</text>
  </message>
  <message conversation_id="184">
    <ts>2019-02-21T18:49:37.159000</ts>
    <user>Clarinda</user>
    <text>No, it can’t</text>
  </message>
  <message conversation_id="184">
    <ts>2019-02-21T18:51:06.160500</ts>
    <user>Karen</user>
    <text>&lt;@Clarinda&gt; what can? context: alex and I were discussing how to make something like `#lang reprovide` that generates a read-syntax procedure that returns a module syntax object pointing to the reprovide module</text>
  </message>
  <message conversation_id="184">
    <ts>2019-02-21T18:51:20.160800</ts>
    <user>Elin</user>
    <text>Can the result of
```
(require syntax/modresolve)
(resolve-module-path-index
  (variable-reference-&amp;gt;module-path-index
    (#%variable-reference)))
```
go there?</text>
  </message>
  <message conversation_id="184">
    <ts>2019-02-21T18:59:54.163500</ts>
    <user>Elin</user>
    <text>In other words, does the following make sense, or sound completely wrong?
```
#lang racket/base

(provide (all-from-out racket/base))

(require syntax/modresolve)

;(define-runtime-module-path self-module-path (submod "."))
(define self-module-path
  (resolve-module-path-index
   (variable-reference-&amp;gt;module-path-index
    (#%variable-reference))))

(module* self-module-path #f
  (provide self-module-path))

(module* reader syntax/module-reader
  #:language self-module-path
  (require (submod ".." self-module-path)))
```</text>
  </message>
  <message conversation_id="184">
    <ts>2019-02-21T19:01:56.165000</ts>
    <user>Julia</user>
    <text>&lt;@Mai&gt; I don't know if it would be helpful -- or even if it's a good example to follow -- but I've done some things with `identifier-binding` to support `visit-definition` in racket-mode. There are some edge cases like identifiers that are both `contract-out` and `rename-out`. AFAICT in such cases `identifier-binding` can tell you the id came from a module, but not necessarily the original id. For that you have to walk the syntax. This may not matter for what you're doing but just a heads-up. &lt;https://github.com/greghendershott/racket-mode/blob/master/racket/find.rkt&gt;</text>
  </message>
  <message conversation_id="184">
    <ts>2019-02-21T19:03:15.165300</ts>
    <user>Mai</user>
    <text>Thank you!!!</text>
  </message>
  <message conversation_id="184">
    <ts>2019-02-21T19:12:48.165500</ts>
    <user>Clarinda</user>
    <text>I’m not sure I follow, but maybe you want to use `#:language` with a 5-argument procedure, where the second argument to the procedure is how the reader module was referenced. Then, you can build on that reference to access a module relative to the reader module.</text>
  </message>
  <message conversation_id="184">
    <ts>2019-02-21T19:19:18.165700</ts>
    <user>Elin</user>
    <text>Oh, so I could take `(submod stuff stuff reader)` and extract just `(submod stuff stuff)`</text>
  </message>
  <message conversation_id="184">
    <ts>2019-02-21T19:21:50.165900</ts>
    <user>Elin</user>
    <text>Though I supposed one disadvantage of that is that someone could reprovide the `read` and `read-syntax` functions from a different module, and then that “how the reader module was referenced” argument might be different</text>
  </message>
  <message conversation_id="184">
    <ts>2019-02-21T19:53:46.166100</ts>
    <user>Elin</user>
    <text>I’ve finished making the `s-exp`-only version on a branch here:
&lt;https://github.com/AlexKnauth/reprovide-lang/tree/as-s-exp-language&gt;</text>
  </message>
  <message conversation_id="185">
    <ts>2019-02-21T20:59:23.166300</ts>
    <user>Loise</user>
    <text>That was probably the best explanation of why LOP is significant. Well done, sir!</text>
  </message>
  <message conversation_id="186">
    <ts>2019-02-21T21:32:25.166600</ts>
    <user>Clarinda</user>
    <text>&lt;@Lillian&gt; Do you need v6.0 support, or would supporting/testing only v6.2 and later be ok?</text>
  </message>
  <message conversation_id="187">
    <ts>2019-02-22T02:17:03.167100</ts>
    <user>Terrence</user>
    <text>Thank you for this link. Reading it now.</text>
  </message>
  <message conversation_id="187">
    <ts>2019-02-22T03:07:56.168400</ts>
    <user>Terrence</user>
    <text>This is a fantastic article, and it asked and answered questions I didn't know how to ask.</text>
  </message>
  <message conversation_id="188">
    <ts>2019-02-22T04:21:26.169000</ts>
    <user>Kami</user>
    <text>I've been asked the question "What are the practical uses for DSLs?" a lot when doing Racket presentations. Thank you so much for that, Matthew!</text>
  </message>
  <message conversation_id="188">
    <ts>2019-02-22T04:38:34.169500</ts>
    <user>Kami</user>
    <text>By the way, the videos of my presentations at FOSDEM 2019 on How to make languages in Racket are available here: &lt;https://fosdem.org/2019/schedule/event/jsonwhendsl/&gt; &lt;https://fosdem.org/2019/schedule/event/makeownlangracket/&gt;</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T06:12:33.170400</ts>
    <user>Shavon</user>
    <text>thanks &lt;@Kristeen&gt; i will take a more in-depth look at his code then.</text>
  </message>
  <message conversation_id="190">
    <ts>2019-02-22T07:12:32.170600</ts>
    <user>Loise</user>
    <text>Thank you, Jérôme!</text>
  </message>
  <message conversation_id="191">
    <ts>2019-02-22T07:52:26.172100</ts>
    <user>Jana</user>
    <text>is there a way to support `response` from `(require web-server/http/response-structs)` in typed/racket? I tried wrapping the struct in an opaque `require/typed` using `can-be-response?` but this fails:
```
can-be-response?: contract violation
  any-wrap/c: Unable to protect opaque value passed as `Any`
  value: #&amp;lt;response&amp;gt;
  This warning will become an error in a future release.
  in: the 1st argument of
      a part of the or/c of
      (or/c
       struct-predicate-procedure?/c
       (-&amp;gt; Any boolean?))
  contract from: 
      (interface for can-be-response?)
```</text>
  </message>
  <message conversation_id="192">
    <ts>2019-02-22T08:31:16.172500</ts>
    <user>Terrence</user>
    <text>Thank you, Jerome!</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T08:32:00.173400</ts>
    <user>Kristeen</user>
    <text>I think you will need to use a more specific predicate. Can you use response?</text>
  </message>
  <message conversation_id="192">
    <ts>2019-02-22T08:33:47.173800</ts>
    <user>Terrence</user>
    <text>&lt;@Kami&gt; I am also exploring minimalism, and living meaningfully</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:07:19.174200</ts>
    <user>Kristeen</user>
    <text>&lt;@Lillian&gt; two thoughts on the presentation:
1. I think the lindemayer example language would fit nicely in this document, especially since it generates cute pictures and comes with a tutorial paper
2. I think an example earlier on would helpful, perhaps even in the first few paragarphs.</text>
  </message>
  <message conversation_id="192">
    <ts>2019-02-22T09:09:24.174900</ts>
    <user>Terrence</user>
    <text>Oh neat, I live right next to Indiana University, so if Daniel Friedman is still there, I could theoretically go say hi.</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:11:00.175500</ts>
    <user>Kristeen</user>
    <text>&lt;@Terrence&gt; Dan is indeed still here, and if you're into Racket there's lots of us here and you should definitely come say hi</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:11:40.175700</ts>
    <user>Terrence</user>
    <text>Perhaps I will :slightly_smiling_face:</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:12:27.176500</ts>
    <user>Terrence</user>
    <text>I've thought about applying to the PhD program at the public health school, but I am not motivated lol</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:12:29.176700</ts>
    <user>Kristeen</user>
    <text>Luddy hall is very fancy, and you're welcome to drop by my office anytime</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:12:37.176900</ts>
    <user>Terrence</user>
    <text>ty samth :slightly_smiling_face:</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:15:21.177600</ts>
    <user>Lavette</user>
    <text>So, it's Hoosier time here? I went to Purdue University :slightly_smiling_face:</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:15:28.177800</ts>
    <user>Terrence</user>
    <text>I went there for a year</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:16:20.178400</ts>
    <user>Terrence</user>
    <text>At age 38, I felt like I was 20 years late for the prom, but Dr. Cover was my favorite instructor. Philosophy :slightly_smiling_face:</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:17:04.178700</ts>
    <user>Mauro</user>
    <text>never too late for some good college classes!</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:17:39.179500</ts>
    <user>Terrence</user>
    <text>lol</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:17:53.180000</ts>
    <user>Mauro</user>
    <text>I'm 36 and I've debated whether I should consider masters or PhD in PL or computational science topics, it would be wonderful but it's debatable whether it's a wise course of action these days...</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:17:58.180200</ts>
    <user>Terrence</user>
    <text>I kept it going, but at other schools.</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:18:40.180900</ts>
    <user>Terrence</user>
    <text>&lt;@Mauro&gt; I was 44 when I started my masters and 45 when I finished. Hasn't produced anything in the way of work, but I feel accomplished</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:19:07.181300</ts>
    <user>Mauro</user>
    <text>that's what counts! and congratulations on your masters</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:19:12.181500</ts>
    <user>Terrence</user>
    <text>why ty!</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:21:03.183300</ts>
    <user>Terrence</user>
    <text>Question: If anyone is familiar with the SICP Exercise 1.5, we are analyzing this:

```(define (p) (p))
(define (test x y)
  (if (= x 0) 0 y))

(test 0 (p))```

But I am not sure what is happening here. Should the first line be (define (p (p)) if we are defining a procedure p that takes procedure p?</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:22:55.184600</ts>
    <user>Mauro</user>
    <text>It's been a long time since I've looked at SICP. The first line is defining a procedure `p`. In the body of `p`, `p` is being applied, since it's surrounded by parentheses, so it is basically calling itself</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:23:14.185100</ts>
    <user>Terrence</user>
    <text>oh</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:23:15.185200</ts>
    <user>Mauro</user>
    <text>if you tried it out, it would recur forever since it's calling itself</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:23:22.185400</ts>
    <user>Terrence</user>
    <text>yes</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:23:27.185700</ts>
    <user>Terrence</user>
    <text>I saw that lol</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:23:42.186200</ts>
    <user>Terrence</user>
    <text>would this be an example of recursion without a base case?</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:23:50.186500</ts>
    <user>Mauro</user>
    <text>it seems that `(test 0 (p))` will never return</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:24:13.187100</ts>
    <user>Mauro</user>
    <text>yes, that would a good example, it doesn't have any base case so it never terminates</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:24:26.187400</ts>
    <user>Terrence</user>
    <text>okay, that helps me understand it. tyvm!</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:25:32.188400</ts>
    <user>Kami</user>
    <text>it's equivalent to writing `(define p (lambda () (p)))`, which reveals that p is called inside the lambda</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:28:45.188600</ts>
    <user>Terrence</user>
    <text>okay i will need to think about that</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:28:58.188900</ts>
    <user>Terrence</user>
    <text>I haven't studied lambda yet at all</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:35:33.193100</ts>
    <user>Kami</user>
    <text>It's the minimal unit in Scheme languages. It's unique role is to create a new procedure.
I won't spoil SICP, but keep in a corner of your mind that lambda is a bit magical. It's one of the rare keywords (usually) defined directly in Scheme interpreters (so not written in scheme, but in the base language used to implement Scheme) because it's the keyword that allows every other part of Scheme to exist. You could basically reduce any program to only `lambda` calls.</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:36:18.193300</ts>
    <user>Terrence</user>
    <text>oooh I like magical stuff :slightly_smiling_face:</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:37:35.194500</ts>
    <user>Kami</user>
    <text>I guess that's also why Racket, and a lot of other Lisp languages, use lambda as a logo :racket:</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:40:11.197100</ts>
    <user>Mauro</user>
    <text>the idea of `lambda` is borrowed from Alonzo Church's lambda calculus, it can be thought of an abstract description of how a function is made of parameters and a body. The function is used by giving it arguments which are evaluated and bounded to corresponding variables in the body. Scheme allows you to directly work with `lambda`s so you can build complicated things with just `lambda`s</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:42:44.199400</ts>
    <user>Mauro</user>
    <text>The interesting thing is a `lambda` can be evaluated different ways, which is why you see discussion about applicative and normal evaluation in SICP, though my understanding is those terms are not standard in current programming language literature, they use different names. SICP was written a long time ago so things have moved long way since then</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:44:07.200100</ts>
    <user>Terrence</user>
    <text>oh...I was devoting an entire blog entry to Applicative/Normal and hesitating...maybe I should just move on and get to the meaty stuff</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:44:27.200700</ts>
    <user>Terrence</user>
    <text>are there more current explanations I can read?</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:44:39.201000</ts>
    <user>Kami</user>
    <text>it's not really an issue nowadays, apart from research fields</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:44:47.201300</ts>
    <user>Terrence</user>
    <text>okay</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:45:23.202000</ts>
    <user>Mauro</user>
    <text>I won't worry too much about it, I'll look for a decent explanation for you though</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:47:15.204000</ts>
    <user>Mauro</user>
    <text>&lt;@Terrence&gt; this is not bad overview, &lt;https://en.wikipedia.org/wiki/Evaluation_strategy&gt;</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:47:39.204600</ts>
    <user>Kami</user>
    <text>But there's one interesting thing you could talk about when you'll be finished with SICP and will try macros (it's not for now!): In Racket, procedures are applied in the classic order (arguments first, procedure after), but macros are applied in reverse (transformation first, arguments after). But it's a bit complicated for a beginner.</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:47:58.205100</ts>
    <user>Terrence</user>
    <text>&lt;@Mauro&gt; I quoted your explanation on my blog if that is okay</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:49:31.205900</ts>
    <user>Mauro</user>
    <text>it's fine with me &lt;@Terrence&gt;</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:49:35.206200</ts>
    <user>Terrence</user>
    <text>ty</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:53:19.206800</ts>
    <user>Hallie</user>
    <text>Re. 1 IMHO lindenmayer as cool as it is has too much of an academic vibe so it really depends on the desired audience of BR</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T09:56:04.207400</ts>
    <user>Kristeen</user>
    <text>&lt;@Hallie&gt; do you think the language has an academic vibe (drawing trees for biology) or the paper/racket presentation of it has an academic vibe?</text>
  </message>
  <message conversation_id="189">
    <ts>2019-02-22T10:03:45.207600</ts>
    <user>Hallie</user>
    <text>mostly the former - and nothing wrong with that! But reading Matthew's "why lop..." post I feel it is mostly targeted at the industry (html, riposte, etc.)</text>
  </message>
  <message conversation_id="193">
    <ts>2019-02-22T10:21:23.209200</ts>
    <user>Tuan</user>
    <text>So I've been working on the classic perfect/abundant/deficient aliquot sum problem a bit and was experimenting with a couple of ways of completing it.
```
(require racket/stream)
(require threading)
(require memoize)

(define (evenly-divisible? num denom)
  (equal? 0 (remainder num denom)))

(define/memo (factors n)
  (stream-filter (curry evenly-divisible? n)
    (in-range 1 n)))

(define (aliquot-2-all n)
  (stream-fold + 0 
    (factors n)))

; this one seems to run significantly faster than
; the two step filter/reduce
(define (aliquot-sum-1 n)
  (stream-fold (curry aliquot-foldl n) 0 (in-range 1 n)))

(define (aliquot-foldl max acc n)
  (cond
    [(evenly-divisible? max n) (+ acc n)]
    [else acc]))

(provide classify)
(define (classify n)
  (define al-sum (aliquot-sum-1 (abs n)))
  (cond
    [(equal? al-sum n) 'perfect]
    [(&amp;lt; al-sum n)      'deficient]
    [(&amp;gt; al-sum n)      'abundant]))
```</text>
  </message>
  <message conversation_id="193">
    <ts>2019-02-22T10:21:50.209800</ts>
    <user>Tuan</user>
    <text>I'm wondering why the filter/foldl is so much slower than the flat `foldl` when I'm using a stream</text>
  </message>
  <message conversation_id="193">
    <ts>2019-02-22T10:22:15.210400</ts>
    <user>Tuan</user>
    <text>It's ~twice as slow to filter/foldl</text>
  </message>
  <message conversation_id="194">
    <ts>2019-02-22T10:37:37.211300</ts>
    <user>Amira</user>
    <text>if anyone knows about `make-screen-bitmap` vs. `make-bitmap`, please take a look at this pull request: &lt;https://github.com/racket/plot/pull/51&gt;</text>
  </message>
  <message conversation_id="194">
    <ts>2019-02-22T11:56:53.211900</ts>
    <user>Kristeen</user>
    <text>&lt;@Amira&gt; I think &lt;@Clarinda&gt; is likely to know the most there</text>
  </message>
  <message conversation_id="194">
    <ts>2019-02-22T11:57:41.212400</ts>
    <user>Amira</user>
    <text>he commented a few minutes ago :)</text>
  </message>
  <message conversation_id="195">
    <ts>2019-02-22T12:39:35.213400</ts>
    <user>Shavon</user>
    <text>Does anyone know if there is anything out there in Racket to do face recognition? If not, is there anything that could be a stepping stone to that?</text>
  </message>
  <message conversation_id="195">
    <ts>2019-02-22T12:49:24.214100</ts>
    <user>Kristeen</user>
    <text>I agree about the focus. I was mostly thinking of it as one of many examples but I can certainly see how it might come off the wrong way</text>
  </message>
  <message conversation_id="195">
    <ts>2019-02-22T12:49:51.214400</ts>
    <user>Hallie</user>
    <text>your best bet would be probably with tensorflow binding that apparently few people have started working on recently: &lt;https://groups.google.com/forum/#!searchin/racket-users/tensorflow%7Csort:date/racket-users/SM83PPLlEL4/loe1i8FZAwAJ&gt;</text>
  </message>
  <message conversation_id="195">
    <ts>2019-02-22T12:50:24.214700</ts>
    <user>Hallie</user>
    <text>and then &lt;https://github.com/davidsandberg/facenet&gt;</text>
  </message>
  <message conversation_id="195">
    <ts>2019-02-22T12:52:54.214900</ts>
    <user>Lillian</user>
    <text>Thanks for the reminder about lindenmayer. I like that one. I just forgot about it. Let me see what I can do …</text>
  </message>
  <message conversation_id="195">
    <ts>2019-02-22T13:08:18.215600</ts>
    <user>Terrence</user>
    <text>There is a playground you can use for Tensorflow.

&lt;https://playground.tensorflow.org/#activation=tanh&amp;amp;batchSize=10&amp;amp;dataset=circle&amp;amp;regDataset=reg-plane&amp;amp;learningRate=0.03&amp;amp;regularizationRate=0&amp;amp;noise=0&amp;amp;networkShape=4,2&amp;amp;seed=0.42675&amp;amp;showTestData=false&amp;amp;discretize=false&amp;amp;percTrainData=50&amp;amp;x=true&amp;amp;y=true&amp;amp;xTimesY=false&amp;amp;xSquared=false&amp;amp;ySquared=false&amp;amp;cosX=false&amp;amp;sinX=false&amp;amp;cosY=false&amp;amp;sinY=false&amp;amp;collectStats=false&amp;amp;problem=classification&amp;amp;initZero=false&amp;amp;hideText=false&gt;</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T13:33:09.215900</ts>
    <user>Lillian</user>
    <text>OK, added the lindenmayer example. Thanks</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T13:38:34.216100</ts>
    <user>Lillian</user>
    <text>(and also moved examples at the beginning)</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:29:40.217700</ts>
    <user>Deneen</user>
    <text>I’ve been making some dirt-simple #langs that walk over modules and add bindings to them manipulating the AST rather than just defining macros to expand. We needed to do this because in one of the languages we’re planning to write, we need to replace identifiers (they have to be changed to applications of a lookup form to respect a security property of the language). Tiny progress here: &lt;https://github.com/kmicinski/tinylangs/blob/master/tinylang1.rkt&gt; :slightly_smiling_face:</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:30:18.218500</ts>
    <user>Deneen</user>
    <text>Any input or more examples is always appreciated, but this taught me a lot. I’ve only ever written macros that expand forms using things like syntax-case, never manipulating the AST directly, so playing around with the expander was really  helpful..</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:38:19.220300</ts>
    <user>Deneen</user>
    <text>One thing I don’t really “get” is how when you use `with-syntax`, it introduces a binding that you can then use in quote-syntax. So for example, if you define `x` using `with-syntax`, then `#'x` is valid (where  ' is backtick but making slack-friendly).  This is different  than if I just did a regular quasiquote, where (quasiquote x) would just be the symbol x.  Why isn’t it the  case that `#'x` for quote-syntax is just the identifier x?</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:40:18.221600</ts>
    <user>Kristeen</user>
    <text>&lt;@Deneen&gt; is your question "why did they design `syntax-case`/`syntax` that way", or "how does that work"?</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:40:48.222300</ts>
    <user>Deneen</user>
    <text>I guess I’m trying to reconcile the differences between syntax-quote and regular quasiquoting, since I feel like I’m misunderstanding</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:41:04.222700</ts>
    <user>Deneen</user>
    <text>so I suppose a bit of both, largely the second.</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:41:27.223400</ts>
    <user>Priscila</user>
    <text>Wait - `syntax` and `syntax-quote` is different. Do you mean `syntax` ?</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:41:38.223700</ts>
    <user>Kristeen</user>
    <text>First, one thing to know is that there's `quote-syntax` which does what `quote` does</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:41:59.224100</ts>
    <user>Kristeen</user>
    <text>ie, `(quote-syntax x)` is exactly the identifier `x`</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:42:05.224400</ts>
    <user>Deneen</user>
    <text>right, ok</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:42:10.224700</ts>
    <user>Deneen</user>
    <text>So to be precise about it, on this line here: &lt;https://github.com/kmicinski/tinylangs/blob/master/tinylang1.rkt#L26&gt;</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:42:32.225500</ts>
    <user>Deneen</user>
    <text>I am surprised this expands to the syntax for `transformed` rather than the identifier `transformed`</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:43:03.226100</ts>
    <user>Kristeen</user>
    <text>Second, the basic idea is that "pattern variables" bound by `syntax-case` are used in the "template" created by the `syntax` form</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:43:25.226600</ts>
    <user>Kristeen</user>
    <text>this is to support "macro by example", as you see in `syntax-rules` as well</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:43:45.227200</ts>
    <user>Kristeen</user>
    <text>Further, `with-syntax` is just a trivial wrapper around `syntax-case`</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:43:55.227500</ts>
    <user>Deneen</user>
    <text>ah, ok, that last thing you  said makes it make more sense</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:44:11.228200</ts>
    <user>Deneen</user>
    <text>So it looks for pattern variables first and then defaults to an identifier if not found?</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:44:15.228500</ts>
    <user>Deneen</user>
    <text>something like that?</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:44:50.229000</ts>
    <user>Kristeen</user>
    <text>but really `syntax-case` is just a combination of a pattern matcher and binding pattern variables, which are then available in things constructed with `syntax`</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:45:17.229600</ts>
    <user>Deneen</user>
    <text>I see, that does make more sense.</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:45:31.229900</ts>
    <user>Kristeen</user>
    <text>you could have a pattern matcher that worked more like `match`, and then have to use `quasisyntax` to construct the output</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:45:47.230300</ts>
    <user>Kristeen</user>
    <text>this is what Common Lisp macros look like, somewhat</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:46:29.230700</ts>
    <user>Deneen</user>
    <text>I see. I feel like I’ve got not a ton of intuition for this yet, but that helps!</text>
  </message>
  <message conversation_id="196">
    <ts>2019-02-22T15:46:39.231000</ts>
    <user>Deneen</user>
    <text>sounds like I should mostly read more about syntax-case</text>
  </message>
  <message conversation_id="197">
    <ts>2019-02-22T17:22:13.232300</ts>
    <user>Priscila</user>
    <text>&lt;https://datastudio.google.com/u/0/reporting/1UUTtohIB1fBH7e8An-6AhEn4AyU3eMjd/page/QwNg?config=%7B%22df11%22:%22include%25EE%2580%25800%25EE%2580%2580IN%25EE%2580%2580racket%22%7D&gt;</text>
  </message>
  <message conversation_id="197">
    <ts>2019-02-22T17:22:28.232800</ts>
    <user>Priscila</user>
    <text>We need a beginners guide to lists in Racket.</text>
  </message>
  <message conversation_id="198">
    <ts>2019-02-22T17:50:39.233200</ts>
    <user>Terrence</user>
    <text>What do you all do to combat those "why should I bother with this?" moments?</text>
  </message>
  <message conversation_id="199">
    <ts>2019-02-22T18:46:35.234900</ts>
    <user>Loma</user>
    <text>Do you use `scribble/srcdoc` for in-source documentation?
Or do you always use a new file for documentation?</text>
  </message>
  <message conversation_id="199">
    <ts>2019-02-22T19:02:08.236700</ts>
    <user>Julia</user>
    <text>I always make a `&amp;lt;package-name&amp;gt;.scrbl`.
I only sometimes use `scribble/srcdoc` in `.rkt` files, to create doc submods that I include in the main `.scrbl` using `@include-extracted`.</text>
  </message>
  <message conversation_id="198">
    <ts>2019-02-22T19:26:53.238000</ts>
    <user>Karen</user>
    <text>&lt;@Terrence&gt; say "good point" and not bother with it, usually</text>
  </message>
  <message conversation_id="198">
    <ts>2019-02-22T19:28:57.238400</ts>
    <user>Karen</user>
    <text>I do that probably more often than I should</text>
  </message>
  <message conversation_id="198">
    <ts>2019-02-22T20:29:22.239400</ts>
    <user>Janett</user>
    <text>&lt;@Terrence&gt; It might be important to figure out who thinks you should bother and what their reasons are. Sometimes the reasons are hidden. Sometimes there aren't really good reasons, it's just inertia.</text>
  </message>
  <message conversation_id="200">
    <ts>2019-02-22T20:52:17.244400</ts>
    <user>Katharine</user>
    <text>Is it specifically something you're trying to learn that seems to be pointless? I think in that situation, I skim it so I can recall the terminology involved, and if someday I realize it would help, I look it up then.</text>
  </message>
  <message conversation_id="198">
    <ts>2019-02-22T23:46:37.247400</ts>
    <user>Terrence</user>
    <text>&lt;@Janett&gt; I completely understand the inertia part of this. I have been pushing every day to work through it, and also work through the difficult concepts. It is worth it, even if I never work as a programmer again. I need to deprogram myself into thinking this is a way into the 20 somethings rat race. I love this language, and LOP, the more I read about it.

Thanks for asking the question, because it made me think.</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:13:05.248100</ts>
    <user>Caprice</user>
    <text>I'm trying and failing to get this to type-check:
```
#lang typed/racket/base

(struct (A) Prefix ([x : A]))

(struct (A) Term
  ([qual : (Prefix A)]
   [base : (U (Term A) A)]))

(: get-base (All (A) (-&amp;gt; (Term A) A)))
(define (get-base term)
  (let ([maybe-base (Term-base term)])
    (cond [(Term? maybe-base)
           (get-base maybe-base)]
          [else
           maybe-base])))
```
Does anyone know how to do this?</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:13:45.248500</ts>
    <user>Karen</user>
    <text>&lt;@Caprice&gt; I’m guessing the problem is the `(U (Term A) A)` part</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:14:09.249100</ts>
    <user>Caprice</user>
    <text>I think so</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:14:16.249400</ts>
    <user>Caprice</user>
    <text>the error I get is:
```
Type Checker: Polymorphic function `get-base' could not be applied to arguments:
Argument 1:
  Expected: (Term A)
  Given:    (U (Term A) (∩ #(struct:Term ((Prefix Any) Any)) A))

Result type:     A
Expected result: A
 in: (get-base maybe-base)
```</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:14:59.249900</ts>
    <user>Karen</user>
    <text>as a general rule, avoid unions between polymorphic types that aren’t disjoint</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:15:10.250200</ts>
    <user>Karen</user>
    <text>they almost never work the way you want them to</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:16:46.251300</ts>
    <user>Caprice</user>
    <text>Hmm I thought this would work since it's kind of similar to what a list looks like.</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:17:59.252100</ts>
    <user>Karen</user>
    <text>lists use a special singleton null value as the end-of-list marker, but the `(U (Term A) A)` type is a union between two sets, not between a set and a singleton</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:18:58.253800</ts>
    <user>Karen</user>
    <text>someone could instantiate `A` to `(Term Foo)`, with a resulting union type of `(U (Term (Term Foo)) (Term Foo))` - and then it’s ambiguous which case it is</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:19:48.254600</ts>
    <user>Caprice</user>
    <text>Oh! I knew I must be missing something, and yes, you're right.</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:19:55.254900</ts>
    <user>Caprice</user>
    <text>So I think I got my workaround: All I have to do is wrap the base in a struct</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:20:19.255500</ts>
    <user>Karen</user>
    <text>Yup!</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:20:19.255700</ts>
    <user>Caprice</user>
    <text>So `(U (Term A) (Base A)` works, my function now returns `(Base A)`</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:20:27.256000</ts>
    <user>Karen</user>
    <text>I got a working version of your thing:</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:20:27.256300</ts>
    <user>Caprice</user>
    <text>thanks!</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:20:33.256400</ts>
    <user>Karen</user>
    <text>```
#lang typed/racket/base

(struct (A) Prefix ([x : A]))

(struct (A) Primitive-Term
  ([value : A]))

(struct (A) Compound-Term
  ([qual : (Prefix A)]
   [base : (Term A)]))

(define-type (Term A)
  (U (Primitive-Term A) (Compound-Term A)))

(: get-base (All (A) (-&amp;gt; (Term A) A)))
(define (get-base term)
  (cond [(Primitive-Term? term)
         (Primitive-Term-value term)]
        [(Compound-Term? term)
         (get-base (Compound-Term-base term))]))
```</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:21:35.257000</ts>
    <user>Karen</user>
    <text>as a rule of thumb: be suspicious of `(U ... type-variable ...)`</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:21:41.257200</ts>
    <user>Caprice</user>
    <text>haha</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:22:01.257700</ts>
    <user>Caprice</user>
    <text>my version right now's a bit simpler so I'm going with it:
```
#lang typed/racket/base

(struct (A) Prefix ([x : A]))

(struct (A) Term
  ([qual : (Prefix A)]
   [base : (U (Term A) (Base A))]))

(struct (A) Base ([val : A]))

(: get-base (All (A) (-&amp;gt; (Term A) (Base A))))
(define (get-base term)
  (let ([maybe-base (Term-base term)])
    (cond [(Term? maybe-base)
           (get-base maybe-base)]
          [else
           maybe-base])))
```</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:22:23.257900</ts>
    <user>Karen</user>
    <text>oh yup that’s a better way</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:36:41.263500</ts>
    <user>Caprice</user>
    <text>By the way the reason this happened was because I meant `A` to actually be "one of several subtypes of a struct", but if I just use the parent struct in the type, I don't get to say "function X works with a term of only a subtype of the struct". So I just put type variables everywhere :smile:</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:37:22.263900</ts>
    <user>Caprice</user>
    <text>rather, "a parent struct or any subtype"</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T01:40:51.264100</ts>
    <user>Karen</user>
    <text>oh that makes sense :p</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T10:53:39.265300</ts>
    <user>Caprice</user>
    <text>What's the meaning of the error I'm getting? For this code:
```
#lang typed/racket/base

(require typed/racket/class)

(define-type Foo&amp;lt;%&amp;gt; (All (A) (Class (field [bar A]))))
(define-type Foo (All (A) (Instance (Foo&amp;lt;%&amp;gt; A))))

(define (baz [f : (All (A) (Foo A))])
  (get-field bar f))
```</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T10:53:51.265700</ts>
    <user>Caprice</user>
    <text>I get
```
Type Checker: type mismatch;
 expected an object value for get-field
  given: Foo in: (get-field bar f)
```</text>
  </message>
  <message conversation_id="201">
    <ts>2019-02-23T10:54:41.266400</ts>
    <user>Caprice</user>
    <text>My understanding is that since type `Foo` stands for an `Instance` of some class, get-field should be fine with it, no?</text>
  </message>
  <message conversation_id="202">
    <ts>2019-02-23T11:44:38.268500</ts>
    <user>Janett</user>
    <text>&lt;@Terrence&gt; While SICP is an important and influential book, there are ways in which it is more difficult than it needs to be. Racket's roots include, in part, the goal to improve on it. You might be interested in the paper "The Structure and Interpretation of the Computer Science Curriculum", by Felleisen et al., which goes into more detail. &lt;https://www2.ccs.neu.edu/racket/pubs/jfp2004-fffk.pdf&gt;</text>
  </message>
  <message conversation_id="202">
    <ts>2019-02-23T11:56:23.268900</ts>
    <user>Terrence</user>
    <text>&lt;@Janett&gt; thank you for this. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="202">
    <ts>2019-02-23T11:59:10.269600</ts>
    <user>Susana</user>
    <text>How to Design Programs is another free book, and is written by some of the people behind Racket</text>
  </message>
  <message conversation_id="202">
    <ts>2019-02-23T12:13:11.270400</ts>
    <user>Terrence</user>
    <text>Inertia is my friend here. I start my new job on Monday so I will have less time to write code, but I will have a few hours before sleep to do some reading.</text>
  </message>
  <message conversation_id="202">
    <ts>2019-02-23T12:33:20.271700</ts>
    <user>Terrence</user>
    <text>Yeah, reading this paper it's clear that the SICP is great, but what I'm doing is the equivalent of studying C to become better at C++. Two different things. I'll switch to HTDP/2e this weekend to give that a look.</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T13:33:05.273400</ts>
    <user>Deneen</user>
    <text>I think HtDP will give the general concepts and ergonomics for Racket, though. The methodology is what’s important. The particulars (knowing which `for` variant to use) aren’t quite as important. I think C/C++ isn’t quite the right comparison, since really HtDP is a subset of Racket that you could use thoughtfully very productively,  while if you  wrote K&amp;amp;R-style C in C++ it would be a terrible  idea :stuck_out_tongue:</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T13:34:56.274200</ts>
    <user>Deneen</user>
    <text>That being said, I can empathize with the feeling that Racket is just a really big language that seemingly goes on forever, and it feels uneasy to use a subset that isn’t the “whole thing.” I felt that way when learning Racket from Scheme.</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T13:35:27.274900</ts>
    <user>Deneen</user>
    <text>The part of Racket that’s hard to learn as a beginner is the extensible features of the language, treating the language as a compiler and language building framework, rather than a static thing (the way we’re used to learning languages) .</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:08:11.276400</ts>
    <user>Deneen</user>
    <text>&lt;@Kristeen&gt; you mentioned that `with-syntax` was just a macro on top of `syntax-case`, which makes sense after reading more about syntax case and `syntax`. Any pointers on places--short of the actual Racket source--that would help build more fine-grained intuition about the macro system in this way? I presume I just need to dig through some papers on it.</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:09:24.276700</ts>
    <user>Deneen</user>
    <text>the documentation has some good bits of insight scattered throughout.</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:11:27.277100</ts>
    <user>Deneen</user>
    <text>I suspect I won’t really get this until I write a hygienic macro expander myself..</text>
  </message>
  <message conversation_id="204">
    <ts>2019-02-23T18:12:34.278700</ts>
    <user>Karen</user>
    <text>For me, understanding how to pass values between macros using `define-syntax` and `syntax-local-value` made a lot of other stuff click into place</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:12:54.279000</ts>
    <user>Deneen</user>
    <text>ok, that’s good advice</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:13:03.279400</ts>
    <user>Deneen</user>
    <text>How did you learn how to do that, just play around  with a bunch of examples?</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:13:18.279900</ts>
    <user>Deneen</user>
    <text>I haven’t seen  `syntax-local-value`, is that something  that messes with the scope sets on syntax objects?</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:17:18.285000</ts>
    <user>Deneen</user>
    <text>okay, I see what’s going on here. I also feel like I’d get what’s going on if I could see how it all expands down to fully-expanded racket. Looks like all of this ends up expanding down to `define-syntaxes` and such.</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:17:34.285300</ts>
    <user>Karen</user>
    <text>Playing with examples, as well as learning that it's used to implement these things:

- match expanders
- struct transformers (the static info about a struct)
- syntax-parse pattern expanders (and probably syntax classes)</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:19:36.287100</ts>
    <user>Karen</user>
    <text>Basically, whenever you need a way to pass around data at compile time between macros, `syntax-local-value` should be involved somewhere</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:20:11.287300</ts>
    <user>Deneen</user>
    <text>that makes sense</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:27:12.288700</ts>
    <user>Mai</user>
    <text>The best tutorial for `syntax-local-value` is &lt;https://www.cs.utah.edu/plt/publications/jfp12-draft-fcdf.pdf&gt;, section 2.1, IMO</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:27:39.289600</ts>
    <user>Karen</user>
    <text>Also there's a really really good chapter somewhere in the racket guide about how modules, phases, and `define-syntax` interact</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:27:50.289800</ts>
    <user>Deneen</user>
    <text>great, this  is really helpful.</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:33:06.296800</ts>
    <user>Karen</user>
    <text>Oh! One more thing that really helped me: the macros as sets of scopes paper and model. Specifically, it helped me a lot to think of identifiers as just strings plus sets of scopes. All of the information for keeping two identifiers with the same name distinct is encoded only in scopes. You don't actually need `gensym` at all, and if you find yourself using it in a macro what you probably want to do instead is to create a new scope. You can make your own scopes using `make-syntax-introducer`, which is named that because the API existed before the set-of-scopes model. A more modern API would probably be something like `make-scope` combined with `identifier-add-scope`.</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:33:32.297100</ts>
    <user>Deneen</user>
    <text>Yeah, I watched a video  by Matt Flatt a few times about this</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:33:43.297300</ts>
    <user>Deneen</user>
    <text>&lt;https://www.youtube.com/watch?v=Or_yKiI3Ha4&gt;</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:33:49.297700</ts>
    <user>Karen</user>
    <text>Yup that one!</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:33:51.297800</ts>
    <user>Deneen</user>
    <text>watched this 3-4 times and then read examples..</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:34:21.298400</ts>
    <user>Deneen</user>
    <text>the scope sets idea is great, but  I don’t have a clear idea about how scope sets relate back to what will  get expanded using which  set of bindings, etc..</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:34:53.299300</ts>
    <user>Karen</user>
    <text>yeah I think it's hard to connect the scope set ideas to the current racket syntax APIs</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:35:33.300300</ts>
    <user>Karen</user>
    <text>The APIs would probably look a lot different if they were developed after scope sets were figured out</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:36:06.300800</ts>
    <user>Deneen</user>
    <text>yeah, this is one challenge I have. There are a few different layers here that all interact in fairly  subtle ways</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T18:37:44.302100</ts>
    <user>Karen</user>
    <text>It's not just you. There's a lot of things that could be done to make the macro system more accessible.</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T20:13:11.302500</ts>
    <user>Deneen</user>
    <text>Yes, this “macros that work together” paper is pretty good</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T20:13:27.303000</ts>
    <user>Deneen</user>
    <text>It’s much more uniform in its economy of using the macro API.</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T20:20:06.304100</ts>
    <user>Deneen</user>
    <text>I also get confused here because  papers often use the term “compile-time”, but I realize this is just an approximation of what really happens: racket has multiple phases that expand various  things, and so reconciling that high-level notion with the actual implementation is sometimes a bit tricky.</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T20:29:51.306200</ts>
    <user>Kristeen</user>
    <text>&lt;@Deneen&gt; I find your comment a bit confusing, because there are a few different things in play here (1) the basics of Dybvig-style procedural macros, using `define-syntax`, `syntax-case` and `syntax` (2) Racket's extensions to those (3) how hygiene works at a non-slogan level (4) the pragmatics of sophisticated metaprogramming in Racket</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T20:30:24.306900</ts>
    <user>Kristeen</user>
    <text>your confusion about `with-syntax` and `syntax-case` seems to be mostly in (1) but you've gotten answers mostly about the others</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T20:31:11.307700</ts>
    <user>Kristeen</user>
    <text>I would recommend Dybvig's "writing hygenic macros in Scheme with syntax-case" as a great macro-writing tutorial</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T20:31:43.308300</ts>
    <user>Kristeen</user>
    <text>perhaps especially because it doesn't treat any of the other more complex topics</text>
  </message>
  <message conversation_id="205">
    <ts>2019-02-23T22:07:01.309300</ts>
    <user>Karen</user>
    <text>Has anyone else ever wanted an alternative to `make-struct-type` that uses keyword arguments?</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T23:05:57.310600</ts>
    <user>Deneen</user>
    <text>&lt;@Kristeen&gt; yes, thanks for the pointers. I read through this over the past few hours and it has been a great reference. My apologies, I’ve never properly “learned” macro-based programming, only superficially hacked around it..</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-23T23:09:46.311500</ts>
    <user>Deneen</user>
    <text>I’ll think over this for a few days and work through the examples and see if I have more questions after that..!</text>
  </message>
  <message conversation_id="206">
    <ts>2019-02-24T06:25:54.311600</ts>
    <user>Katharine</user>
    <text>I recently pretended it had keyword arguments by using `#;` instead of `#:` for the "keywords," so I think that makes me a fan of this idea. :) &lt;https://github.com/lathe/lathe-comforts-for-racket/blob/04bc5e24a54f9e6717970586cefc624fbcc400d7/lathe-comforts-lib/struct.rkt#L475&gt;</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-24T06:54:52.312900</ts>
    <user>Terrence</user>
    <text>&lt;@Deneen&gt; compilers and languages is what drew me to LISP in the first place, and then to Racket. But yes, I've been "learning" this rather statically. Maybe I'll change that approach.</text>
  </message>
  <message conversation_id="207">
    <ts>2019-02-24T13:31:15.315600</ts>
    <user>Marylin</user>
    <text>Hello! I have a racket file that points to an other file in the same directory like: `"./help.txt"` but... the relative path doesn't work i.e. how to build a relative path w.r.t. the current file? thx !</text>
  </message>
  <message conversation_id="207">
    <ts>2019-02-24T13:38:39.316200</ts>
    <user>Marylin</user>
    <text>Well, apparently, this will do the trick:
```
(define-runtime-path data-dir ".")
(build-path data-dir "help.txt")
```</text>
  </message>
  <message conversation_id="203">
    <ts>2019-02-24T13:56:48.317300</ts>
    <user>Kristeen</user>
    <text>Yes, that's the correct solution, although you can just put the path you want directly in the define-runtime-path also. </text>
  </message>
  <message conversation_id="207">
    <ts>2019-02-24T14:31:45.319300</ts>
    <user>Julia</user>
    <text>&lt;@Marylin&gt; Note that `help.txt` or even `../path/to/foo.txt` are perfectly valid identifiers in Racket. So if you want you can do things like:
```
(require racket/runtime-path)
(define-runtime-path help.txt "help.txt")
(define-runtime-path ../path/to/foo.txt (build-path 'up "path" "to" "foo.txt"))
``` ¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="208">
    <ts>2019-02-24T14:42:15.320300</ts>
    <user>Priscila</user>
    <text>Is there a shortcut for typing that man in the last line?</text>
  </message>
  <message conversation_id="208">
    <ts>2019-02-24T14:45:21.321400</ts>
    <user>Julia</user>
    <text>Well that is my trademark but I will share how to do it anyway. It's the `shrug` command in slack. Just start the line(s) with `/shrug`.</text>
  </message>
  <message conversation_id="208">
    <ts>2019-02-24T14:45:50.321500</ts>
    <user>Julia</user>
    <text>or not ¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="208">
    <ts>2019-02-24T14:45:54.321700</ts>
    <user>Julia</user>
    <text>:smile:</text>
  </message>
  <message conversation_id="208">
    <ts>2019-02-24T14:57:32.322000</ts>
    <user>Priscila</user>
    <text>Thanks!</text>
  </message>
  <message conversation_id="208">
    <ts>2019-02-24T14:59:55.322400</ts>
    <user>Priscila</user>
    <text>Strange. It's the only command of that type.</text>
  </message>
  <message conversation_id="208">
    <ts>2019-02-24T14:59:58.322700</ts>
    <user>Priscila</user>
    <text>Ah Well.</text>
  </message>
  <message conversation_id="208">
    <ts>2019-02-24T15:00:02.322800</ts>
    <user>Priscila</user>
    <text>¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="208">
    <ts>2019-02-24T15:11:05.323200</ts>
    <user>Marylin</user>
    <text>/shrug Ok thx !</text>
  </message>
  <message conversation_id="208">
    <ts>2019-02-24T15:17:42.324900</ts>
    <user>Priscila</user>
    <text>&lt;@Mai&gt; Hi. Hopefully sorbits (Allan) will pull the PR monday, but if not how about this plan: We set up a Github team (say scheme-team) or reuse sicp-team. Then fork the grammar, and then take up pchaigo on his offer. &lt;https://github.com/github/linguist/issues/3089#issuecomment-462360585&gt;</text>
  </message>
  <message conversation_id="209">
    <ts>2019-02-24T21:05:34.325500</ts>
    <user>Karen</user>
    <text>nice!!</text>
  </message>
  <message conversation_id="209">
    <ts>2019-02-24T21:07:13.325700</ts>
    <user>Karen</user>
    <text>if you’re interested in more details, the docs for this function are online now: &lt;http://docs.racket-lang.org/rebellion/Struct_Descriptors.html|docs.racket-lang.org/rebellion/Struct_Descriptors.html&gt;</text>
  </message>
  <message conversation_id="209">
    <ts>2019-02-24T21:07:23.325900</ts>
    <user>Karen</user>
    <text>(it’s part of my utils package)</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-24T21:58:57.328800</ts>
    <user>Jule</user>
    <text>Back when I was at Uni I had to use Java all the time. I didn’t understand that it was a problem, but I was slowly starting to hate programming. I was considering changing majors actually. However, when I discovered PLT-Scheme and SICP, it reignited my passion for programming. So, for that, I wanted thank all of you for your hard work. It made a big difference for me. Who knows what I would be doing now if I had quit CS?</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T01:28:11.330300</ts>
    <user>Caprice</user>
    <text>Often typed/rackunit for me goes into an infinite loop kinda thing (the tests terminate after a while when drracket says it's gone out of memory)</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T01:28:14.330500</ts>
    <user>Caprice</user>
    <text>is that a known bug?</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T01:37:01.331000</ts>
    <user>Caprice</user>
    <text>Btw it only happens on test failures</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T01:38:38.332500</ts>
    <user>Caprice</user>
    <text>I get this much displayed on screen:
```
--------------------
. ../../../../../../usr/share/racket/pkgs/rackunit-typed/rackunit/main.rkt:22:2: FAILURE
```
And nothing after that, the interaction window stays like that for a while, and then DrRacket asks to kill the program as it's gone over memory limit.</text>
  </message>
  <message conversation_id="211">
    <ts>2019-02-25T05:19:51.332700</ts>
    <user>Mitsuko</user>
    <text>I discovered Racket through Exercism, and now I'm using it at work, so I can definitely recommend it.</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T07:53:02.334700</ts>
    <user>Caprice</user>
    <text>Is there anything in Racket that's like Python's OrderedDict? An OrderedDict in Python is a dictionary that preserves insertion order when iterating. In Python3.6 onwards, they made the standard library's dictionary behave that way by default, it was faster for them. I don't care much for the speed, but I find the behavior quite useful.</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T07:54:02.335100</ts>
    <user>Caprice</user>
    <text>As in, for/hash would receive the keys/values in the same order as insertion</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T08:11:32.335600</ts>
    <user>Caprice</user>
    <text>In the meanwhile, a list of pairs works for me, it's fairly simple to write functions to work on that.</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T08:38:59.337300</ts>
    <user>Kristeen</user>
    <text>&lt;@Caprice&gt; there's a pkg for that</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T08:39:34.338200</ts>
    <user>Kristeen</user>
    <text>I think it's called ordered-hash</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T08:39:56.338500</ts>
    <user>Caprice</user>
    <text>Switching from contracts to types make types feel clunky (contracts were amazing! satisfying the type checker is so much work), switching from types to contracts make contracts seem so primitive (all my dear guarantees are gone! what's with all these runtime checks), but switching from having nothing to any one of those feels soooooo empowering :smile:</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T08:40:42.338900</ts>
    <user>Caprice</user>
    <text>&lt;@Kristeen&gt; nope must be something else</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T08:42:04.339400</ts>
    <user>Kristeen</user>
    <text>It's called ddict</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T08:42:11.339700</ts>
    <user>Caprice</user>
    <text>&lt;@Kristeen&gt; thank you so much for typed racket btw</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T08:42:19.340000</ts>
    <user>Kristeen</user>
    <text>And there's also dset</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T08:42:52.340400</ts>
    <user>Caprice</user>
    <text>found ddict, thanks!</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T08:49:08.340800</ts>
    <user>Caprice</user>
    <text>How does the package server tag packages?</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T09:06:16.341900</ts>
    <user>Julia</user>
    <text>&lt;@Kristeen&gt; Oh I thought you were going to suggest `data/splay-tree` &lt;https://docs.racket-lang.org/data/Splay_Trees.html&gt; or or `data/skip-list` &lt;https://docs.racket-lang.org/data/skip-list.html&gt;</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T09:06:48.342500</ts>
    <user>Kristeen</user>
    <text>&lt;@Caprice&gt; tags are added by package authors</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T09:33:35.343800</ts>
    <user>Caprice</user>
    <text>Right, basically I was looking for a place to add a suggestion/pull-request kinda thing, saying "it would be nice if this package is searchable by terms like dictionary, ordered dictionary, hash". Anyway that's fine.</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T09:58:13.345500</ts>
    <user>Julia</user>
    <text>&lt;@Caprice&gt; I think you could email the package author; I think most or all pkgs have email addresses?
(But I agree a PR or "suggest tag" UI in the pkg web site would be nice.)</text>
  </message>
  <message conversation_id="212">
    <ts>2019-02-25T10:00:44.347800</ts>
    <user>Julia</user>
    <text>BTW I mentioned `splay-tree` and `skip-list` because it looks like `ddict` is ordered LIFO, in case that matters?
(Maybe you want LIFO. Or maybe it's sufficient to have _some_ order, e.g. when writing unit tests.)</text>
  </message>
  <message conversation_id="212">
    <ts>2019-02-25T10:02:07.348600</ts>
    <user>Julia</user>
    <text>Having said all that I am super ignorant of, say, the pros and cons of splay trees and skip lists and so on.
I'm not recommending, just pointing out. :smile:</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T10:17:37.349700</ts>
    <user>Caprice</user>
    <text>For now I've just powered on with my assoc-list and not used any package :blush: I hope to have this thing I'm working on submitted to the package server in a few days, so I'll feel less bad about asking so many things here :smile:</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T10:18:40.350300</ts>
    <user>Caprice</user>
    <text>I did note the LIFO part but I figured as long as I know the order it's fine, I can always reverse in the end</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T15:25:08.351700</ts>
    <user>Karen</user>
    <text>&lt;@Caprice&gt; out of curiosity, what are you working on that requires an insertion-ordered dict?</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T16:08:31.351800</ts>
    <user>Lillian</user>
    <text>FWIW it took me a least a couple years to notice that all the functions in `racket/dict` will work with a list of pairs</text>
  </message>
  <message conversation_id="212">
    <ts>2019-02-25T22:47:18.352900</ts>
    <user>Mai</user>
    <text>&lt;@Priscila&gt; let’s go with your plan. I don’t think Textmate people are going to merge that PR soon.</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-25T23:44:08.361200</ts>
    <user>Caprice</user>
    <text>&lt;@Karen&gt; Sooo what I do is I maintain a data structure that allows me to present an interface for "query"-ing data, and holds enough information to be able to rendered to SQL later on. Part of that information is a "list of join-graphs". I can ask my query to include columns. These included things are "qualified columns", as in, they're prefixed by either a table or a list of relations from that table leading to another. Whenever I ask my query to "include" something across multiple relations, I check if the path represented by those lists of relations exists in one of the join-graphs and if it does, it just adds the column, and if it doesn't, it also adds the missing tail of the path into the relevant graph. When I actually get around to rendering the SQL, I iterate my list of graphs breadth-first and map each path-to-node to a string. This way when rendering columns I always know how to refer to the name of the relation-path that is the column's prefix. When I render the joins, instead of iterating my list of graphs again, I simply iterate over this map, because the map was made via iterating breadth-first, which means that as long as I iterate in insertion order, previous relations won't refer to future relations that haven't been rendered yet.</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-26T01:00:26.364000</ts>
    <user>Karen</user>
    <text>&lt;@Caprice&gt; I don’t follow the details, but I think I get the general idea you’re going for. Would it help you if you had a library for dealing specifically with directed acyclic graphs? It sounds like that kind of logic is embedded in a lot of that domain.</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-26T01:02:35.365600</ts>
    <user>Caprice</user>
    <text>I dunno, really. Overall what I'm trying to do is have a "language" to allow client programs to query relations more naturally. Relations do form graphs. But I think the graph part is done now.</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-26T01:04:12.366800</ts>
    <user>Caprice</user>
    <text>A lot of the difficulty is simply translating to sql without losing expressive power on either side.</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-26T01:07:53.369200</ts>
    <user>Karen</user>
    <text>That makes sense</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-26T01:08:34.370700</ts>
    <user>Karen</user>
    <text>there’s a `sql` package for writing sql queries with s-expressions, you might find that useful</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-26T01:08:41.371100</ts>
    <user>Karen</user>
    <text>but it sounds like you’re making something that’s more dynamic</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-26T01:12:45.374900</ts>
    <user>Caprice</user>
    <text>Umm, "losing expressive power" is misleading. What I don't want to lose is the ability to let the client specify related columns, and/or filter based on related columns, while providing pretty much all of sql as far as filters go, but doing the right thing in terms of getting joins, optimizing, etc. so that the result is the one I want. And what I want is pretty unambiguous. The closest thing I had before this was in Python/Django/Django-ORM, where I leveraged django's relation lookups to do much of the heavy lifting. That worked brilliantly, but there were some pretty solid walls I hit that didn't allow me to do the additional things I wanted for future projects. Before that I'd done similar work in Python/SQLAlchemy, which has a more robust and flexible query builder, so it didn't have the same limitations as the django version, but it still had some fairly fundamental limitations, and didn't have the auto-relation-lookup thing done as comprehensively as django so there was less to leverage.</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-26T01:13:56.376200</ts>
    <user>Caprice</user>
    <text>&lt;@Karen&gt; yeah I saw the `sql` package, but for now I don't need it. I do think I'll want to switch to it later, but that will be easy.</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-26T01:14:33.377000</ts>
    <user>Caprice</user>
    <text>Another package that seems to have goals similar to mine is `plisqin` but my approach is different. I'll see where we end up.</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-26T01:14:56.377600</ts>
    <user>Karen</user>
    <text>I’ve done a little sqlalchemy muddling so this is an interesting space to me, but I don’t have much experience with it</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-26T01:15:07.378000</ts>
    <user>Karen</user>
    <text>is any of your project’s code open source?</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-26T01:16:26.379400</ts>
    <user>Caprice</user>
    <text>Not yet. I will open source all of this sql/relations part, and I thought I'd do so this week, but this week is looking less likely. Maybe on the weekend, or next week. Though I don't expect it to be very useful until some more work's done.</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-26T01:17:40.379800</ts>
    <user>Caprice</user>
    <text>... I find it funny how I can use "open source" as a verb.</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-26T01:18:27.380600</ts>
    <user>Karen</user>
    <text>no rush, though whenever you get around to it feel free to let me know :)</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-26T01:18:37.380800</ts>
    <user>Caprice</user>
    <text>Sure, will do</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-26T01:29:06.383000</ts>
    <user>Caprice</user>
    <text>&lt;@Karen&gt; btw what I mean by not "need"-ing the sql package was precisely this: what I'm making is more dynamic, and the reason it ought to be "easy" to switch to the package later on is that it'll only be there to pass through at the very end, so that (a) I can be more certain of the well-formed-ness of my sql across more than one database and (b) my tests no longer have to run against strings.</text>
  </message>
  <message conversation_id="210">
    <ts>2019-02-26T01:49:35.384700</ts>
    <user>Caprice</user>
    <text>The `db` package's `groupings`/`group-rows` functionality is gonna be a bit of a lifesaver though :phew: It's technically a workaround for what I originally wanted, but what I originally wanted isn't implemented anywhere else except postgresql's own client (psql) so this is about as good as it gets.</text>
  </message>
  <message conversation_id="213">
    <ts>2019-02-26T03:46:51.386100</ts>
    <user>Priscila</user>
    <text>&lt;@Mai&gt; I have forked the repository to the sicp-lang team (it turned out a new Team required a Github account associated with a business(?)). &lt;https://github.com/sicp-lang/scheme.tmbundle/issues/1&gt;</text>
  </message>
  <message conversation_id="213">
    <ts>2019-02-26T03:48:47.386900</ts>
    <user>Mai</user>
    <text>I will try merging the PR</text>
  </message>
  <message conversation_id="213">
    <ts>2019-02-26T03:49:44.387600</ts>
    <user>Priscila</user>
    <text>Great.</text>
  </message>
  <message conversation_id="213">
    <ts>2019-02-26T03:58:45.388300</ts>
    <user>Mai</user>
    <text>&lt;@Priscila&gt; I don’t have a permission to push to the fork, apparently</text>
  </message>
  <message conversation_id="213">
    <ts>2019-02-26T03:59:02.388700</ts>
    <user>Priscila</user>
    <text>&lt;@Mai&gt; I'll check again.</text>
  </message>
  <message conversation_id="213">
    <ts>2019-02-26T04:00:23.389200</ts>
    <user>Priscila</user>
    <text>Ah! I teams are per repos - not per organisations.</text>
  </message>
  <message conversation_id="213">
    <ts>2019-02-26T04:02:51.389600</ts>
    <user>Priscila</user>
    <text>&lt;@Mai&gt; I have made a "scheme-team" and given you admin access.</text>
  </message>
  <message conversation_id="213">
    <ts>2019-02-26T04:03:23.389800</ts>
    <user>Mai</user>
    <text>Done!</text>
  </message>
  <message conversation_id="213">
    <ts>2019-02-26T04:03:55.390100</ts>
    <user>Priscila</user>
    <text>Great - now we only need to test it.</text>
  </message>
  <message conversation_id="213">
    <ts>2019-02-26T04:04:10.390500</ts>
    <user>Priscila</user>
    <text>I remember there is a page, where one can try out a new grammar definition.</text>
  </message>
  <message conversation_id="213">
    <ts>2019-02-26T04:04:13.390700</ts>
    <user>Priscila</user>
    <text>But where...</text>
  </message>
  <message conversation_id="213">
    <ts>2019-02-26T04:05:11.391400</ts>
    <user>Mai</user>
    <text>A simpler thing to do might be to test it using TextMate directly (supposing that GitHub is compatible with TextMate)</text>
  </message>
  <message conversation_id="213">
    <ts>2019-02-26T04:09:15.391700</ts>
    <user>Priscila</user>
    <text>&lt;@Mai&gt; &lt;https://github-lightshow.herokuapp.com/?utf8=%E2%9C%93&amp;amp;scope=from-url&amp;amp;grammar_format=auto&amp;amp;grammar_url=https%3A%2F%2Fgithub.com%2Fsicp-lang%2Fscheme.tmbundle%2Fblob%2Fmaster%2FSyntaxes%2FScheme.plist&amp;amp;grammar_text=&amp;amp;code_source=from-url&amp;amp;code_url=https%3A%2F%2Fgithub.com%2Fnitinchandrol%2FBackgammon%2Fblob%2Fmaster%2Fproject%2Fproject.rkt&amp;amp;code=&gt;</text>
  </message>
  <message conversation_id="213">
    <ts>2019-02-26T04:10:06.391900</ts>
    <user>Mai</user>
    <text>Looks correct to me!</text>
  </message>
  <message conversation_id="213">
    <ts>2019-02-26T04:12:46.392300</ts>
    <user>Priscila</user>
    <text>Great. Wrote to pchaigno. Cross your fingers.</text>
  </message>
  <message conversation_id="213">
    <ts>2019-02-26T04:14:54.392700</ts>
    <user>Mai</user>
    <text>Meanwhile, I will look into &lt;https://github.com/textmate/scheme.tmbundle/issues/7&gt;</text>
  </message>
  <message conversation_id="214">
    <ts>2019-02-26T06:36:18.393600</ts>
    <user>Nova</user>
    <text>morning all, got a dtalog question, would this be an ok place to ask for some advise / guideance ?</text>
  </message>
  <message conversation_id="214">
    <ts>2019-02-26T06:38:22.394200</ts>
    <user>Herman</user>
    <text>Either here or the beginners channel is appropriate.</text>
  </message>
  <message conversation_id="214">
    <ts>2019-02-26T06:39:16.394600</ts>
    <user>Nova</user>
    <text>actually with fresh eyes i might havejust solved it …. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="214">
    <ts>2019-02-26T06:39:22.394900</ts>
    <user>Nova</user>
    <text>but annother quick one though …</text>
  </message>
  <message conversation_id="214">
    <ts>2019-02-26T06:39:54.395300</ts>
    <user>Nova</user>
    <text>i cant seem to reference “built in” type ??
```#lang typed/racket

(require typed/racket/gui)

(define (exit-editor button event) (exit 0))

(define (setup-shortcuts [e : Keymap])
  (define mapping (send e get-keymap))
  (send mapping add-function "quit" exit-editor)
  (send mapping map-function "d:d" "quit"))

(define (log-it-out button event)
  (display "hey\n"))

(define f (new frame% [label "Simple Edit"]
                      [width 1024]
                      [height 768]))
(define c (new editor-canvas% [parent f]))
(define t (new text%))
(send c set-editor t)
(new button% [parent f]
     [label "quit"]
     [callback exit-editor])

(new button% [parent f]
     [label "clear"]
     [callback (lambda (button event) (send t erase))])

(new button% [parent f]
     [label "log"]
     [callback log-it-out])

(setup-shortcuts t)


(define mb (new menu-bar% [parent f]))
(define the-edit-menu (new menu% [label "Edit"] [parent mb]))
(define the-font-menu (new menu% [label "Font"] [parent mb]))
(send t set-max-undo-history 100)

(send f show #t)

```</text>
  </message>
  <message conversation_id="214">
    <ts>2019-02-26T06:40:06.395700</ts>
    <user>Nova</user>
    <text>where would i import the type `Keymap` from ??</text>
  </message>
  <message conversation_id="214">
    <ts>2019-02-26T06:45:12.396700</ts>
    <user>Herman</user>
    <text>That's beyond me I'm afraid. The people you need are in a different time zone. They usually appear later. A few hours maybe.</text>
  </message>
  <message conversation_id="214">
    <ts>2019-02-26T06:46:24.397000</ts>
    <user>Nova</user>
    <text>Coolio, thanks anywho :)</text>
  </message>
  <message conversation_id="214">
    <ts>2019-02-26T07:00:44.397600</ts>
    <user>Mai</user>
    <text>&lt;@Nova&gt;

```
(define (setup-shortcuts [e : (Instance Text%)])
  (define mapping (send e get-keymap))
  (when mapping
    (send mapping add-function "quit" exit-editor)
    (send mapping map-function "d:d" "quit")))
```</text>
  </message>
  <message conversation_id="214">
    <ts>2019-02-26T07:01:39.398500</ts>
    <user>Mai</user>
    <text>The thing that has method `get-keymap` is `text%`, not `keymap%`.</text>
  </message>
  <message conversation_id="214">
    <ts>2019-02-26T07:02:38.399600</ts>
    <user>Mai</user>
    <text>And `mapping` could be `#f`. Typed Racket catches this mistake and reports a type error. By guarding `(send mapping ...)` with `(when mapping ...)`, the code now works.</text>
  </message>
  <message conversation_id="215">
    <ts>2019-02-26T08:04:19.401400</ts>
    <user>Nova</user>
    <text>So the “type” is keymap% but actually that was wrong for my specific usage here?</text>
  </message>
  <message conversation_id="215">
    <ts>2019-02-26T08:05:38.402700</ts>
    <user>Nova</user>
    <text>Ahhh sorry (Instance text% ) is the typedef :) got it</text>
  </message>
  <message conversation_id="215">
    <ts>2019-02-26T10:55:35.403900</ts>
    <user>Mai</user>
    <text>&lt;@Nova&gt; right, it’s `mapping` that has type `(U (Instance Keymap%) #f)`</text>
  </message>
  <message conversation_id="214">
    <ts>2019-02-26T10:55:40.404100</ts>
    <user>Mai</user>
    <text>```
(define (setup-shortcuts [e : (Instance Text%)])
  (: mapping (U (Instance Keymap%) #f))
  (define mapping (send e get-keymap))
  (when mapping
    (send mapping add-function "quit" exit-editor)
    (send mapping map-function "d:d" "quit")))
```</text>
  </message>
  <message conversation_id="215">
    <ts>2019-02-26T10:57:24.404700</ts>
    <user>Nova</user>
    <text>thanks &lt;@Mai&gt;</text>
  </message>
  <message conversation_id="215">
    <ts>2019-02-26T10:57:54.405400</ts>
    <user>Nova</user>
    <text>just posted another wierd one too &lt;#C09L257PY|beginners&gt; if you feel like being a super human and helping me on that one too :wink:</text>
  </message>
  <message conversation_id="215">
    <ts>2019-02-26T11:57:25.405500</ts>
    <user>Nova</user>
    <text>Thanks a ton :)</text>
  </message>
  <message conversation_id="216">
    <ts>2019-02-26T12:52:50.409000</ts>
    <user>Loma</user>
    <text>How to use `scribble/srcdoc` like JavaDoc? :thinking_face:
Is it supposed to look like this? :
```
(provide 
 (proc-doc/names
  (any/c . -&amp;gt; . boolean?)
  (v)
  @{Test if something @racket[v] is fun.}))
(define (fun? v)
  #f)
```</text>
  </message>
  <message conversation_id="217">
    <ts>2019-02-26T18:13:19.409500</ts>
    <user>Sang</user>
    <text>```
(require srfi/19)
(string-&amp;gt;date "2019-02-26" "~Y-~m-~d")  ; (date* 0 0 0 26 2 2019 ...)
(string-&amp;gt;date "2019-02-26" "~1")        ; TIME-ERROR type bad-date-format-string: "~1"
```</text>
  </message>
  <message conversation_id="217">
    <ts>2019-02-26T18:13:49.409900</ts>
    <user>Sang</user>
    <text>can anyone confirm that this is a bug before I dig further?</text>
  </message>
  <message conversation_id="217">
    <ts>2019-02-26T18:17:08.410200</ts>
    <user>Sang</user>
    <text>huh… yeah. they’re just missing</text>
  </message>
  <message conversation_id="217">
    <ts>2019-02-26T18:17:24.410600</ts>
    <user>Sang</user>
    <text>all of the `~#` specifiers that are documented</text>
  </message>
  <message conversation_id="217">
    <ts>2019-02-26T18:41:57.410800</ts>
    <user>Sang</user>
    <text>&lt;https://github.com/racket/srfi/issues/9&gt;</text>
  </message>
  <message conversation_id="218">
    <ts>2019-02-26T18:47:44.411300</ts>
    <user>Shanell</user>
    <text>An alternative:
```
&amp;gt; (require gregor)
&amp;gt; (iso8601-&amp;gt;date "2019-02-26")
#&amp;lt;date 2019-02-26&amp;gt;
```</text>
  </message>
  <message conversation_id="217">
    <ts>2019-02-27T00:11:11.411900</ts>
    <user>Sang</user>
    <text>Yes… but. I think the built-in libraries should be as usable/useful as possible.</text>
  </message>
  <message conversation_id="217">
    <ts>2019-02-27T00:16:07.412900</ts>
    <user>Gonzalo</user>
    <text>The SRFIs aren’t really the same as the “built-in libraries”, though, they are implementations of standards. If the standard isn’t what you want, you can’t just do something differently from the standard.</text>
  </message>
  <message conversation_id="219">
    <ts>2019-02-27T01:05:39.413400</ts>
    <user>Karen</user>
    <text>and those standards are scheme standards, not racket standards - there’s a reason the language changed its name from PLT scheme to racket</text>
  </message>
  <message conversation_id="219">
    <ts>2019-02-27T01:06:07.413800</ts>
    <user>Karen</user>
    <text>So I wouldn’t consider them built-in libraries _of racket_</text>
  </message>
  <message conversation_id="220">
    <ts>2019-02-27T02:28:50.415500</ts>
    <user>Caprice</user>
    <text>How do I make this typecheck?
```
#lang typed/racket

(define-type StringOrNum (U String Number))

(define stuff '(1 "asd" 2 "qwe"))

(: foo (-&amp;gt; (Listof StringOrNum) Number))
(define (foo lst)
  (let-values
      ([(strs nums)
        (partition
         (λ([x : StringOrNum]) (string? x))
         lst)])
    (+ (length strs)
       (apply + nums))))
```

I can see from the documentation that what I need seems to be a "negative proposition", but I'm not sure where/how</text>
  </message>
  <message conversation_id="219">
    <ts>2019-02-27T02:29:30.416200</ts>
    <user>Caprice</user>
    <text>The problem is in `(apply + nums)` where the typechecker doesn't know that nums is definitely a list of numbers.</text>
  </message>
  <message conversation_id="219">
    <ts>2019-02-27T02:46:07.416900</ts>
    <user>Caprice</user>
    <text>At least in a minimal example, this does the trick:
```
#lang typed/racket

(define-type StringOrNum (U String Number))

(define stuff '(1 "asd" 2 "qwe"))

(: foo (-&amp;gt; (Listof StringOrNum) Number))
(define (foo lst)
  (let-values
      ([(strs nums)
        ((inst my-partition String Number StringOrNum)
         (λ([x : StringOrNum]) (string? x))
         lst)])
    (+ (length strs)
       (apply + nums))))

(: my-partition
   (All (a b c)
        (-&amp;gt; (-&amp;gt; c Any : #:+ a #:- b)
            (Listof c)
            (Values (Listof a) (Listof b)))))
(define (my-partition fun lst)
  (for/fold
   : (Values (Listof a) (Listof b))
    ([tru : (Listof a) '()]
     [fal : (Listof b) '()])
    ([x : c (in-list lst)])
    (if (fun x)
        (values (cons x tru) fal)
        (values tru (cons x fal)))))
```</text>
  </message>
  <message conversation_id="221">
    <ts>2019-02-27T03:31:42.417600</ts>
    <user>Sang</user>
    <text>&lt;@Gonzalo&gt; I also mean `racket/date`, which doesn’t even have an equivalent of `string-&amp;gt;date`</text>
  </message>
  <message conversation_id="219">
    <ts>2019-02-27T04:34:01.418600</ts>
    <user>Caprice</user>
    <text>Should I make an issue on github for the partition thing? Or is it something non-trivial to solve properly.. I checked the repo and the relevant part looks like this:
```
[partition
 (-poly (a b) (cl-&amp;gt;*
               (-&amp;gt; (asym-pred b Univ (-PS (-is-type 0 a) -tt)) (-lst b) (-values (list (-lst a) (-lst b))))
(-&amp;gt; (-&amp;gt; a Univ) (-lst a) (-values (list (-lst a) (-lst a))))))]
```
And I've no idea what to make of that.</text>
  </message>
  <message conversation_id="221">
    <ts>2019-02-27T08:48:35.420600</ts>
    <user>Gonzalo</user>
    <text>&lt;@Sang&gt; Indeed, but given that `racket/date` is essentially nonexistent, turning it into a good datetime API would essentially mean reimplementing gregor. So just use gregor! But maybe it should be more clearly advertised.</text>
  </message>
  <message conversation_id="219">
    <ts>2019-02-27T08:49:24.421000</ts>
    <user>Kaley</user>
    <text>&lt;@Caprice&gt; I've only briefly thought about it, but I'm pretty sure it would be a non-trivial fix</text>
  </message>
  <message conversation_id="221">
    <ts>2019-02-27T08:50:53.422800</ts>
    <user>Kaley</user>
    <text>Currently Typed Racket can see that the `string?` predicate does indeed recognize strings, but it fails to completely capture the notion of "not a string" in a type, which would likely be necessary to support `partition` completely. A possible workaround would be to use `filter` twice (once with `string?` and once with `number?`).</text>
  </message>
  <message conversation_id="219">
    <ts>2019-02-27T09:19:10.425600</ts>
    <user>Caprice</user>
    <text>&lt;@Kaley&gt; I'm using the `my-partition` function I wrote above, as a workaround, works out for me. Anyway, I suppose you're right, but Typed Racket sure does _seem_ like it can do the thing you're talking about, like how it understands what to expect in the `else` branch of a `cond` expression when using union types.</text>
  </message>
  <message conversation_id="219">
    <ts>2019-02-27T09:21:46.427600</ts>
    <user>Kaley</user>
    <text>&lt;@Caprice&gt; random notes: on the `for/fold` function, there's a `#:result` keyword you can use to reverse the lists as the final step if you want to maintain order (see the docs) or you could use `for/lists`. And yes, Typed Racket can reason about negative type information generally, but not within a single type currently. I'm not sure if that's clear enough... I'm essentially saying you're right it seems like it should but it just falls short (because it does not feature negation types I believe).</text>
  </message>
  <message conversation_id="219">
    <ts>2019-02-27T09:23:58.428900</ts>
    <user>Caprice</user>
    <text>Yes, the `#:result` keyword is super handy, I sorely missed that one before it was introduced. Back then I only used to do things like adventofcode in Racket.</text>
  </message>
  <message conversation_id="219">
    <ts>2019-02-27T09:24:31.429700</ts>
    <user>Kaley</user>
    <text>(I added it because I was losing my mind doing it after so many `for/fold`s, lol)</text>
  </message>
  <message conversation_id="219">
    <ts>2019-02-27T09:24:57.430000</ts>
    <user>Caprice</user>
    <text>haha, thanks! :smile:</text>
  </message>
  <message conversation_id="219">
    <ts>2019-02-27T09:26:07.431000</ts>
    <user>Caprice</user>
    <text>Anyway, maybe some day I'll understand types, racket and typed racket well enough to contribute. Until then, I'll keep bugging people here :blush:</text>
  </message>
  <message conversation_id="219">
    <ts>2019-02-27T09:26:41.431200</ts>
    <user>Caprice</user>
    <text>Rather a kind lot, you people are.</text>
  </message>
  <message conversation_id="222">
    <ts>2019-02-27T09:50:23.431400</ts>
    <user>Lauryn</user>
    <text>None</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T13:09:06.433700</ts>
    <user>Kami</user>
    <text>Hey, I'm trying to write scribble documentation for a language, but the language can be used both as a `#lang` and by `(require)`. I tried using @defmodule and @defmodulelang, but I get an error saying tags are duplicated...
I'd like to have a section of the doc about the `#lang` usage, and one about the `(require)` usage.</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T13:10:46.434000</ts>
    <user>Kami</user>
    <text>Any idea how to do that?</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T13:11:22.434400</ts>
    <user>Kami</user>
    <text>(I have a hard time understanding the documentation for defmodule &amp;amp; co)</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T13:26:43.435100</ts>
    <user>Kristeen</user>
    <text>&lt;@Kami&gt; most languages like that do use the `#lang` version (see slideshow, racket/gui, etc)</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T13:28:22.435800</ts>
    <user>Kami</user>
    <text>&lt;@Kristeen&gt; Then, is there a way to render the module block without redefining a module in scribble?</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T13:28:38.436100</ts>
    <user>Kristeen</user>
    <text>not sure what you mean</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T13:29:10.436800</ts>
    <user>Kami</user>
    <text>well, when you define a module with @defmodule, it renders a block showing `(require module-name)                  package: package-name`</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T13:29:49.437300</ts>
    <user>Kami</user>
    <text>I'd like to be able to show that again and again when I'm in a section of the documentation requiring that module</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T13:30:25.437600</ts>
    <user>Kristeen</user>
    <text>you might need the `no-declare` versions</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T13:30:33.437900</ts>
    <user>Kristeen</user>
    <text>see for example &lt;https://github.com/racket/slideshow/blob/master/slideshow-doc/scribblings/slideshow/slideshow.scrbl&gt;</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T13:34:05.438400</ts>
    <user>Kami</user>
    <text>mmmh, I still get the issue if I use no-declare multiple times</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T13:36:41.438700</ts>
    <user>Kami</user>
    <text>I get "WARNING: collected information for key multiple times"</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T13:38:17.439800</ts>
    <user>Kami</user>
    <text>in slideshow, the modules are slightly different :
```
@defmodulelang*/no-declare[(slideshow/widescreen)]
@defmodule*/no-declare[(slideshow/widescreen/base)]
```</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T13:38:36.440100</ts>
    <user>Kami</user>
    <text>in my case, they have exactly the same name</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T13:53:27.441500</ts>
    <user>Kami</user>
    <text>I almost got it to work by using `@defmodule[@racketmodname[rilouworld/quest] #:no-declare #:packages ("rilouworld")]` but I still get something weird. It renders as:
```
 (require (racketmodname rilouworld/quest))                package: rilouworld
```
The inner expression is not interpreted :disappointed:</text>
  </message>
  <message conversation_id="224">
    <ts>2019-02-27T14:00:31.441900</ts>
    <user>Kristeen</user>
    <text>can you just put `rilouworld/quest` there?</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T14:05:29.442100</ts>
    <user>Kami</user>
    <text>WARNING: collected information for key multiple times</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T14:05:35.442300</ts>
    <user>Kami</user>
    <text>:confused:</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T14:06:25.443000</ts>
    <user>Kami</user>
    <text>the no-declare argument looks like it's not taken into account when specifying an actual module</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T14:07:13.443800</ts>
    <user>Kami</user>
    <text>the only way I get it to work is by using a "content-expr" (word from the doc: &lt;https://docs.racket-lang.org/scribble/doc-modules.html?q=no-decalre#%28form._%28%28lib._scribble%2Fmanual..rkt%29._defmodule%29%29&gt;)</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T14:07:54.444500</ts>
    <user>Kami</user>
    <text>The syntax usage looks really weird to me, because depending on the type of what you pass to the first argument, it behaves differently</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T14:22:00.444800</ts>
    <user>Kami</user>
    <text>Ok, I'm starting to think it's not possible :disappointed:</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T14:32:18.445500</ts>
    <user>Kami</user>
    <text>Ok, I checked the output using the macro-stepper. It seems the macro is working fine, but the bug happens later on when trying to generate links</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T14:42:24.446000</ts>
    <user>Kami</user>
    <text>YES, I GOT IT!</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T14:43:05.446600</ts>
    <user>Kami</user>
    <text>I had to add `#:link-target? #f` to prevent generating another link</text>
  </message>
  <message conversation_id="223">
    <ts>2019-02-27T14:43:28.446800</ts>
    <user>Kami</user>
    <text>:tada:</text>
  </message>
  <message conversation_id="225">
    <ts>2019-02-27T15:21:43.449800</ts>
    <user>Mauro</user>
    <text>when doing `raco pkg install` on a BSD system I'm getting `SSL not available, check 'ssl-load-fail-reason` is there a way to access and print that variable in REPL without needing to run the internal `mzssl.rkt` module directly? I was hoping the variable would be printed to the debug logger but am not finding anything in the logger's output.</text>
  </message>
  <message conversation_id="225">
    <ts>2019-02-27T15:32:32.450300</ts>
    <user>Priscila</user>
    <text>&lt;@Mauro&gt; Which version of Racket are you using?</text>
  </message>
  <message conversation_id="225">
    <ts>2019-02-27T15:32:42.450500</ts>
    <user>Mauro</user>
    <text>Racket 7.2</text>
  </message>
  <message conversation_id="225">
    <ts>2019-02-27T15:33:09.451300</ts>
    <user>Priscila</user>
    <text>Okay. Ought to be fine.</text>
  </message>
  <message conversation_id="225">
    <ts>2019-02-27T15:33:27.451700</ts>
    <user>Mauro</user>
    <text>I'm thinking possible something is misconfigured on this FreeBSD system related to SSL but don't have much to go on to figure out possible causes</text>
  </message>
  <message conversation_id="225">
    <ts>2019-02-27T15:34:14.452200</ts>
    <user>Priscila</user>
    <text>The only similar error I find on Google, is: &lt;https://github.com/mbutterick/pollen/issues/52&gt;</text>
  </message>
  <message conversation_id="225">
    <ts>2019-02-27T15:34:37.452900</ts>
    <user>Priscila</user>
    <text>Here the issue was "I have checked the difference between my previous working installation and the new one. I chose the wrong platform in the racket download page. I am in _x86_64_ and installed the _i386_ version. Re-installing the right one solves the issue."</text>
  </message>
  <message conversation_id="225">
    <ts>2019-02-27T15:35:07.453500</ts>
    <user>Mauro</user>
    <text>hmm, this Racket was installed from the ports</text>
  </message>
  <message conversation_id="225">
    <ts>2019-02-27T15:35:27.453900</ts>
    <user>Mauro</user>
    <text>if it's some version mismatch issue, might need to contact the port maintainer</text>
  </message>
  <message conversation_id="225">
    <ts>2019-02-27T15:35:46.454300</ts>
    <user>Priscila</user>
    <text>I would try the official installer from: &lt;https://download.racket-lang.org/&gt;</text>
  </message>
  <message conversation_id="225">
    <ts>2019-02-27T15:36:03.454700</ts>
    <user>Priscila</user>
    <text>Then if that works, contact the port maintainer.</text>
  </message>
  <message conversation_id="225">
    <ts>2019-02-27T15:37:58.456200</ts>
    <user>Priscila</user>
    <text>But - full disclosure - I have never tried Racket on FreeBSD. Using the official installer have solved other problems in the past though.</text>
  </message>
  <message conversation_id="225">
    <ts>2019-02-27T15:47:01.458500</ts>
    <user>Mauro</user>
    <text>just FYI there is no installer available for Unix variants, compile from source is the only possible option. I haven't had this particular issue before though. The pollen issue page told me how to find `ssl-load-fail-reason` and I see the problem is it's not able to find `libcrypto.so` and `libcrypto.so.5` is the installed version on this system. Hmm wondering if adding a symlink for `libcrypto.so` will resolve it</text>
  </message>
  <message conversation_id="225">
    <ts>2019-02-27T15:47:26.459200</ts>
    <user>Kristeen</user>
    <text>&lt;@Mauro&gt; it's possible that this is a new error because we just made https unconditional (as in earlier today)</text>
  </message>
  <message conversation_id="225">
    <ts>2019-02-27T15:47:33.459500</ts>
    <user>Priscila</user>
    <text>The compile from source with prebuilt packages is the one I am thinking of.</text>
  </message>
  <message conversation_id="225">
    <ts>2019-02-27T15:47:45.459900</ts>
    <user>Mauro</user>
    <text>oh that could explain why this error is only now just popping up</text>
  </message>
  <message conversation_id="225">
    <ts>2019-02-27T15:47:45.460000</ts>
    <user>Kristeen</user>
    <text>see &lt;https://github.com/racket/racket-lang-org/issues/88&gt;</text>
  </message>
  <message conversation_id="225">
    <ts>2019-02-27T15:47:57.460600</ts>
    <user>Kristeen</user>
    <text>if you can comment there that would be helpful</text>
  </message>
  <message conversation_id="225">
    <ts>2019-02-27T15:48:01.460800</ts>
    <user>Priscila</user>
    <text>(That's why I asked about the version number)</text>
  </message>
  <message conversation_id="226">
    <ts>2019-02-27T23:37:15.461900</ts>
    <user>Caprice</user>
    <text>Does anyone know how `shared` interacts with typed/racket? I need to make this kind of an expression work:
```
#lang typed/racket

(struct Foo ([a : Number]
             [b : Foo])
  #:mutable #:transparent)

(shared ([#{a : Foo} (Foo 1 b)]
         [#{b : Foo} (Foo 2 a)])
  a)
```</text>
  </message>
  <message conversation_id="227">
    <ts>2019-02-28T10:08:14.005200</ts>
    <user>Julia</user>
    <text>&lt;@Clarinda&gt; Both `ssl-accept` &lt;https://docs.racket-lang.org/openssl/index.html#%28def._%28%28lib._openssl%2Fmain..rkt%29._ssl-accept%29%29&gt; and `ports-&amp;gt;ssl-ports` &lt;https://docs.racket-lang.org/openssl/index.html#%28def._%28%28lib._openssl%2Fmain..rkt%29._ports-~3essl-ports%29%29&gt; have this same note:

&amp;gt; See also `ssl-connect` about the limitations of reading and writing to an SSL connection (i.e., one direction at a time).

But, `ssl-connect` &lt;https://docs.racket-lang.org/openssl/index.html#%28def._%28%28lib._openssl%2Fmain..rkt%29._ssl-connect%29%29&gt; doesn't seem to discuss this AFAICT.

Maybe the limitation was resolved and the `ssl-connect` doc got updated -- and it's just the "see also" notes needed to be deleted but weren't?  Or, is there some discussion that needs to be added to `ssl-connect`?</text>
  </message>
  <message conversation_id="227">
    <ts>2019-02-28T10:08:58.005600</ts>
    <user>Clarinda</user>
    <text>Yes, I think that note is referring to a limitation that was removed.</text>
  </message>
  <message conversation_id="227">
    <ts>2019-02-28T10:10:20.007000</ts>
    <user>Julia</user>
    <text>Thanks. That makes sense given my limited understanding of the `mzssl.rkt` code I looked at. It seems to be doing an awful lot of work to handle openssl where you want to write, but it needs to read, presumably during the handshake phase but idk really.  So maybe that work was to remove the limitation.</text>
  </message>
  <message conversation_id="227">
    <ts>2019-02-28T10:15:04.010600</ts>
    <user>Julia</user>
    <text>&lt;@Clarinda&gt; While I have you. I tried using `ports-&amp;gt;ssl-ports` to "upgrade" a Racket pipe. The other end of the pipe is talking to UDP.
I'm seeing the throughput get about 8X slower, which doesn't seem right. The CPU usage isn't super high, for instance.
So it feels like something is blocking longer than it needs to... but I'm not really sure.
I'm still trying to understand what's happening, and unfortunately don't have simple example code to share (yet).
But I wanted to mention it in case it tickled something, some general advice to look at X, you might have?
If not of course no worries and sorry to distract you!</text>
  </message>
  <message conversation_id="227">
    <ts>2019-02-28T10:18:46.011600</ts>
    <user>Clarinda</user>
    <text>Maybe buffering? Looking breifly at the implementation of SSL output ports, I don’t see a buffer for writes. Every individual write seems to go to `SSL_write`.</text>
  </message>
  <message conversation_id="227">
    <ts>2019-02-28T10:20:52.012900</ts>
    <user>Julia</user>
    <text>OK thank you, I'll think on that.</text>
  </message>
  <message conversation_id="227">
    <ts>2019-02-28T13:50:57.015500</ts>
    <user>Julia</user>
    <text>&lt;@Clarinda&gt; Did you mean, my app should try to write in bigger chunks to the TLS output-port, or, the implementation in mzssl.rkt would need to change?
I ask b/c a single `write-bytes` many many bytes still elicits this.
Also it seems like gc is 40-60% of the real time, depending on OS.
Simple example, with timings in comments at the end: &lt;https://gist.github.com/greghendershott/c610fc2e6f74466a5e0d198115d6e5d2&gt;</text>
  </message>
  <message conversation_id="227">
    <ts>2019-02-28T13:52:00.016300</ts>
    <user>Julia</user>
    <text>(That example is just the TLS ports wrapping pipes -- like from one of the tests I noticed. Nothing to-do with UDP or whatever else.)</text>
  </message>
  <message conversation_id="227">
    <ts>2019-02-28T14:01:47.018800</ts>
    <user>Clarinda</user>
    <text>I can see why that example goes disasterously wrong. The output port has a buffer of 8000, so it’s writing 8000 of the N bytes passed by `write`, and then `write` ends up copying N-8000 bytes for the next request, and so on, which makes it quadratic.</text>
  </message>
  <message conversation_id="227">
    <ts>2019-02-28T14:03:28.020700</ts>
    <user>Mauro</user>
    <text>Sorry about adding more noise to the channel, while troubleshooting the missing `libcrypto.so` issue when using racket on a TrueOS system which is a FreeBSD variant using LibreSSL, I ran into an entirely new problem after successfully resolving the `libcrypto.so` issue. The error every time I try to  install a package is now telling me `tcp-write: error writing system error: Socket is not connected; errno=57` This error is the same one as reported in &lt;https://github.com/racket/racket/issues/1812&gt;

Not sure if this is possibly a bug in LIbreSSL, don't know how to start debugging this. I'm seeing if there are any LibreSSL environment variables that could help to print more details</text>
  </message>
  <message conversation_id="227">
    <ts>2019-02-28T14:03:43.020900</ts>
    <user>Clarinda</user>
    <text>Chunks much smaller than 8000, meanwhile, will be individually flushed. But maybe the SSL layer has its own buffering, because I don’t see much difference in relative performance between 7000 bytes and  70 bytes.</text>
  </message>
  <message conversation_id="227">
    <ts>2019-02-28T14:04:33.021100</ts>
    <user>Clarinda</user>
    <text>Oh, one write isn’t going to be a good comparison…</text>
  </message>
  <message conversation_id="227">
    <ts>2019-02-28T14:05:51.021300</ts>
    <user>Clarinda</user>
    <text>The gap does seem to narrow with 70 versus 700 written 1000 times, but it doesn’t close much.</text>
  </message>
  <message conversation_id="227">
    <ts>2019-02-28T14:06:59.021500</ts>
    <user>Clarinda</user>
    <text>So, it looks like the overhead of `make-output-port` is larger than the buffering effect.</text>
  </message>
  <message conversation_id="227">
    <ts>2019-02-28T14:08:22.022000</ts>
    <user>Kristeen</user>
    <text>&lt;@Mauro&gt; can you try 6.9, which that report says works?</text>
  </message>
  <message conversation_id="228">
    <ts>2019-02-28T14:14:02.022700</ts>
    <user>Mauro</user>
    <text>I found the download for the 6.9 source code, will compile and report back</text>
  </message>
  <message conversation_id="228">
    <ts>2019-02-28T14:14:56.023200</ts>
    <user>Priscila</user>
    <text>&lt;@Mauro&gt; Did you solve the problem you had yesterday (or is it the same one)</text>
  </message>
  <message conversation_id="228">
    <ts>2019-02-28T14:15:29.023800</ts>
    <user>Mauro</user>
    <text>&lt;@Priscila&gt; yes the problem I had yesterday have been solved, by adding appropriate entry to the versions list in `libcrypto.rkt`</text>
  </message>
  <message conversation_id="227">
    <ts>2019-02-28T14:16:11.024700</ts>
    <user>Mauro</user>
    <text>I now have an entirely new problem, if 6.9 works then it should be possible to compare the relevant code between 6.9 and 7.2 to see what changed</text>
  </message>
  <message conversation_id="228">
    <ts>2019-02-28T14:16:26.024900</ts>
    <user>Priscila</user>
    <text>Ok.</text>
  </message>
  <message conversation_id="227">
    <ts>2019-02-28T14:17:57.025000</ts>
    <user>Julia</user>
    <text>Hmm OK it looks like writing in smaller chunks (&amp;lt; 8000) does make the TLS version be only 20X instead of 100X slower.</text>
  </message>
  <message conversation_id="227">
    <ts>2019-02-28T14:19:07.025200</ts>
    <user>Julia</user>
    <text>I don't have a good intuition for how much slower it "should" be, except reading things about how using TLS only uses single digit % more CPU when Google did it. Which is handy-wavy.</text>
  </message>
  <message conversation_id="228">
    <ts>2019-02-28T14:20:44.025700</ts>
    <user>Kristeen</user>
    <text>&lt;@Mauro&gt; there are binaries for 6.9 here: &lt;https://download.racket-lang.org/racket-v6.9.html&gt;</text>
  </message>
  <message conversation_id="227">
    <ts>2019-02-28T15:33:07.025800</ts>
    <user>Julia</user>
    <text>To me, `make-{output input}-port` seems kind of scary and complicated; I feel I'd get it wrong. I'd probably try to use pipes. Even if that would work (?), would it be less performant?</text>
  </message>
  <message conversation_id="229">
    <ts>2019-02-28T16:03:38.027300</ts>
    <user>Mauro</user>
    <text>&lt;@Kristeen&gt; I can verify that 6.9 works while 6.10 fails with the socket not connected error, looking at 6.10 announcements, I see that it was in 6.10 when the new rktio layer came into use so I suspect that's where the failure can be narrowed down</text>
  </message>
  <message conversation_id="229">
    <ts>2019-02-28T16:04:15.027700</ts>
    <user>Kristeen</user>
    <text>At this point probably &lt;@Clarinda&gt; needs to suggest further debugging steps.</text>
  </message>
  <message conversation_id="229">
    <ts>2019-02-28T16:53:48.027800</ts>
    <user>Clarinda</user>
    <text>I don’t know. The longer-term solution may be an unsafe API for implementing lower-overhead ports.</text>
  </message>
  <message conversation_id="229">
    <ts>2019-02-28T16:59:39.028000</ts>
    <user>Clarinda</user>
    <text>Do you get the same error with just
```
(define-values (i o) (tcp-connect "&lt;http://pkgs.racket-lang.org|pkgs.racket-lang.org&gt;" 443))
(write-byte 0 o)
```</text>
  </message>
  <message conversation_id="229">
    <ts>2019-02-28T16:59:57.028200</ts>
    <user>Clarinda</user>
    <text>May need a `(flush-output o)`.</text>
  </message>
  <message conversation_id="230">
    <ts>2019-02-28T19:04:50.030900</ts>
    <user>Mauro</user>
    <text>I ran the above under 7.2 and it returns

```
tcp-write: error writing
    system error: Socket is not connected; errno=57
```</text>
  </message>
  <message conversation_id="229">
    <ts>2019-02-28T22:44:51.031100</ts>
    <user>Clarinda</user>
    <text>Does it make any difference to add `#  define USE_FNDELAY_O_NONBLOCK` to the FreeBSD section of “rktio_platform.h”?</text>
  </message>
  <message conversation_id="230">
    <ts>2019-03-01T09:16:53.046000</ts>
    <user>Keturah</user>
    <text>I have written a racket program that solves a problem on &lt;http://exercism.io|exercism.io&gt;. It is called "meetup", and the problem it is suppose to solve is to return a date object containing the specific date, given a `year` `month` `day-of-week` and an occurance (i.e. `2019` `4` `Monday` `'first` for the first Monday of April 2019 -&amp;gt; return the day of the month)

`first`, `second`, `third`, `fourth` are all possible occurrences, which are also functions in racket. `teenth` is the only other possible occurrence (which would just be a day between 12 and 20).

I have the function `all-dow-month` that returns a list of days (integers) for a given year, month, and day of week, i.e. when I run `(all-dow-month 2019 3 'Tuesday)` it returns `'(5 12 19 26)`

From here, I can simply evaluate `first`, `second`, `third`, or `fourth` on the list. I wrote a custom `teenth` function to cover that use-case.

The problem I am having is that `eval` outside of DrRacket (and Emacs racket-mode) does not recognize any of these functions.

My code can be found here: &lt;https://github.com/timotheosh/exercism-exercises/blob/master/racket/meetup/meetup.rkt&gt;

The tests file here: &lt;https://github.com/timotheosh/exercism-exercises/blob/master/racket/meetup/meetup-test.rkt&gt;

The error I am getting is
```
raco test: (submod "meetup-test.rkt" test)
teenth: unbound identifier;
 also, no #%top syntax transformer is bound
  in: teenth
  context...:
   do-raise-syntax-error
   expand-capturing-lifts
   temp118_0
   temp91_0
   compile15
   temp85_0
   /home/thawes/exercism/racket/meetup/meetup.rkt:36:0: meetup-day
   /usr/share/racket/pkgs/rackunit-lib/rackunit/private/test-suite.rkt:86:13: the-tests
   /usr/share/racket/pkgs/rackunit-lib/rackunit/private/test-suite.rkt:61:0: apply-test-suite
   /usr/share/racket/pkgs/rackunit-lib/rackunit/text-ui.rkt:91:0: run-tests5
   (submod "/home/thawes/exercism/racket/meetup/meetup-test.rkt" test): [running body]
   temp37_0
   for-loop
   run-module-instance!125
   /usr/share/racket/pkgs/compiler-lib/compiler/commands/test.rkt:179:16
meetup-test.rkt: raco test: test raised an exception
```

I tried commenting out the tests for `teenth`, and found that I was getting the same error for `first`, `second`, etc.

From what I gathered from the docs, `eval` used inside a module needs a namespace to reference. It was not at all clear how to give it the intended reference (the file it was called from).

Any help is greatly appreciated!</text>
  </message>
  <message conversation_id="230">
    <ts>2019-03-01T09:19:51.046700</ts>
    <user>Kristeen</user>
    <text>&lt;@Keturah&gt; generally, you want to avoid using `eval`</text>
  </message>
  <message conversation_id="230">
    <ts>2019-03-01T09:20:29.047400</ts>
    <user>Kristeen</user>
    <text>but to solve the particular problem of "the namespace for this file" see `define-namespace-anchor` and `namespace-anchor-&amp;gt;namespace`</text>
  </message>
  <message conversation_id="230">
    <ts>2019-03-01T09:21:14.047900</ts>
    <user>Kristeen</user>
    <text>I would just change your program to use the value `first` instead of the symbol `'first`, and get rid of `eval`</text>
  </message>
  <message conversation_id="230">
    <ts>2019-03-01T09:22:02.048100</ts>
    <user>Julia</user>
    <text>&lt;https://blog.racket-lang.org/2011/10/on-eval-in-dynamic-languages-generally.html&gt;</text>
  </message>
  <message conversation_id="230">
    <ts>2019-03-01T09:25:11.049200</ts>
    <user>Lavette</user>
    <text>&lt;@Keturah&gt; one additional minor comment in your `teenth` function: remember that `&amp;lt;` (and all other comparison functions in Racket) can take more than two arguments. So instead of `(and (&amp;gt; x 12) (&amp;lt; x 20))` you can simply say `(&amp;lt; 12 x 20)`</text>
  </message>
  <message conversation_id="231">
    <ts>2019-03-01T10:06:41.049300</ts>
    <user>Mauro</user>
    <text>I'm making the change though to clarify, is the single O a capitalized letter o or a zero?</text>
  </message>
  <message conversation_id="231">
    <ts>2019-03-01T10:07:32.049500</ts>
    <user>Kristeen</user>
    <text>That's the letter o not zero</text>
  </message>
  <message conversation_id="231">
    <ts>2019-03-01T10:07:42.049700</ts>
    <user>Mauro</user>
    <text>ok thank you</text>
  </message>
  <message conversation_id="231">
    <ts>2019-03-01T10:07:46.049900</ts>
    <user>Kristeen</user>
    <text>I think it stands for "option"</text>
  </message>
  <message conversation_id="231">
    <ts>2019-03-01T10:08:10.050100</ts>
    <user>Kristeen</user>
    <text>also I don't think numerals are allowed in preprocessor definition names</text>
  </message>
  <message conversation_id="231">
    <ts>2019-03-01T10:09:01.050300</ts>
    <user>Mauro</user>
    <text>that's good to know</text>
  </message>
  <message conversation_id="232">
    <ts>2019-03-01T10:55:37.053300</ts>
    <user>Mauro</user>
    <text>adding the `#  define USE_FNDELAY_O_NONBLOCK` to the `rktio_platform.h` file in the 7.2 codebase didn't resolve the error, am still getting the same socket not connected error when doing `raco pkg install`</text>
  </message>
  <message conversation_id="232">
    <ts>2019-03-01T10:56:10.053500</ts>
    <user>Mauro</user>
    <text>here's a screenshot of the FreeBSD section in `rktio_platform.h`</text>
  </message>
  <message conversation_id="232">
    <ts>2019-03-01T10:57:40.053900</ts>
    <user>Clarinda</user>
    <text>When you run the example with `write-byte`, what that in a file so that the `write-byte` was tried immediately? If so, if you sleep for 1 second in between `tcp-connect` and `write-byte`, do you still get the same answer?</text>
  </message>
  <message conversation_id="232">
    <ts>2019-03-01T10:59:15.054300</ts>
    <user>Mauro</user>
    <text>if I understood your question correctly, no I tried the example in the REPL and manually typed in the lines, and also I had to do `(flush-output o)` before the error appeared</text>
  </message>
  <message conversation_id="232">
    <ts>2019-03-01T11:00:21.054700</ts>
    <user>Mauro</user>
    <text>I'm trying the example again in a file and inserting a sleep line as requested</text>
  </message>
  <message conversation_id="232">
    <ts>2019-03-01T11:00:53.054900</ts>
    <user>Clarinda</user>
    <text>It seems unlikely that adding a sleep with affect the result, then.</text>
  </message>
  <message conversation_id="232">
    <ts>2019-03-01T11:02:28.055100</ts>
    <user>Clarinda</user>
    <text>What if you comment out the `fcntl(s, F_SETFL, RKTIO_NONBLOCKING);` on line 1187 of “rktio_network.c”?</text>
  </message>
  <message conversation_id="232">
    <ts>2019-03-01T11:03:30.055300</ts>
    <user>Mauro</user>
    <text>ok, trying that, btw, the file example with the `(sleep 1)` inserted produced the same error as you expected</text>
  </message>
  <message conversation_id="232">
    <ts>2019-03-01T11:07:56.055500</ts>
    <user>Mauro</user>
    <text>it looks like the file in 7.2 is now different from the one in the repo's HEAD, so I'm switching to the HEAD codebase now</text>
  </message>
  <message conversation_id="232">
    <ts>2019-03-01T11:08:14.055700</ts>
    <user>Mauro</user>
    <text>I had been using the 7.2 code from the installers on the website, sorry if that wasn't clear earlier</text>
  </message>
  <message conversation_id="232">
    <ts>2019-03-01T11:20:20.056100</ts>
    <user>Keturah</user>
    <text>Doh! Now that should have been obvious. I've been making the same mistake in Common Lisp, and Clojure as well! Thanks for pointing that out.</text>
  </message>
  <message conversation_id="232">
    <ts>2019-03-01T11:23:36.058100</ts>
    <user>Keturah</user>
    <text>Thanks for the comments! If this were production code, I would get rid of `eval`. Since this is a learning exercise, I am just going to rewrite it with hygienicized inputs, and define the needed namespace-anchor.</text>
  </message>
  <message conversation_id="233">
    <ts>2019-03-01T11:24:36.059100</ts>
    <user>Priscila</user>
    <text>The general tip is *always* to use two arguments with `eval`.   (well - besides only using `eval` if absolutely necessary)</text>
  </message>
  <message conversation_id="234">
    <ts>2019-03-01T12:05:47.059300</ts>
    <user>Clarinda</user>
    <text>I don’t think 7.2 vs. HEAD will matter</text>
  </message>
  <message conversation_id="234">
    <ts>2019-03-01T12:21:48.059500</ts>
    <user>Lavette</user>
    <text>I've found myself doing the same many times. At least in my brain, I think it's the decades of using other languages that force two operands per operator :slightly_smiling_face:</text>
  </message>
  <message conversation_id="234">
    <ts>2019-03-01T12:26:25.059800</ts>
    <user>Mauro</user>
    <text>I agree, looks like some of difference between 7.2 and HEAD probably don't matter much, it's just more of a matter of making sure your line numbers match what I see</text>
  </message>
  <message conversation_id="234">
    <ts>2019-03-01T12:26:39.060000</ts>
    <user>Mauro</user>
    <text>so far commenting out line 1187 doesn't resolve the error</text>
  </message>
  <message conversation_id="234">
    <ts>2019-03-01T12:26:51.060200</ts>
    <user>Mauro</user>
    <text>None</text>
  </message>
  <message conversation_id="234">
    <ts>2019-03-01T12:27:18.060600</ts>
    <user>Mauro</user>
    <text>here's a screenshot of the git diff showing changes made so far and result of `./raco pkg install gregor` using the built HEAD</text>
  </message>
  <message conversation_id="234">
    <ts>2019-03-01T12:27:47.060800</ts>
    <user>Mauro</user>
    <text>also here's the defined macros for the OS ```gcc -dM -E - &amp;lt; /dev/null | grep FreeBSD

#define __FreeBSD__ 13
```

I checked the defines just in case it was something unexpected</text>
  </message>
  <message conversation_id="235">
    <ts>2019-03-01T13:00:39.063200</ts>
    <user>Keturah</user>
    <text>Just to update for posterity's sake, the code I linked to above is now working. I've added a contract to ensure nothing unexpected gets sent to eval (yes, it would be better to just manually handle each case in a `cond` statement).</text>
  </message>
  <message conversation_id="234">
    <ts>2019-03-01T16:49:22.063500</ts>
    <user>Clarinda</user>
    <text>I finally installed TrueOS, and now I’ve pushed a change intended to fix this problem</text>
  </message>
  <message conversation_id="234">
    <ts>2019-03-02T05:59:34.065600</ts>
    <user>Caprice</user>
    <text>Is there any way of saying in typed racket "This function returns a String if the first argument is #t and Symbol if it's #f"</text>
  </message>
  <message conversation_id="234">
    <ts>2019-03-02T06:45:19.066500</ts>
    <user>Caprice</user>
    <text>... though I've started to think that kind of a function is usually a bad idea anyway. Better to have two functions. No reason not to make them especially when macros make it so easy to do so.</text>
  </message>
  <message conversation_id="234">
    <ts>2019-03-02T06:47:02.067500</ts>
    <user>Karen</user>
    <text>&lt;@Caprice&gt; definitely agree that kind of function sounds not so useful</text>
  </message>
  <message conversation_id="234">
    <ts>2019-03-02T06:47:34.068100</ts>
    <user>Karen</user>
    <text>difficult to use</text>
  </message>
  <message conversation_id="234">
    <ts>2019-03-02T09:33:15.068800</ts>
    <user>Kristeen</user>
    <text>&lt;@Caprice&gt; yes, you can use case-&amp;gt; for that</text>
  </message>
  <message conversation_id="234">
    <ts>2019-03-02T11:52:48.069700</ts>
    <user>Caprice</user>
    <text>&lt;@Kristeen&gt; you're right, thanks... I did check for that before asking but at the time I must've been doing something wrong, I tried making a minimal example again just now and it works just fine</text>
  </message>
  <message conversation_id="236">
    <ts>2019-03-02T15:19:53.070700</ts>
    <user>Priscila</user>
    <text>I don't get this. Sorting racket language repositories at Github after "Recently Updated" gets this:</text>
  </message>
  <message conversation_id="236">
    <ts>2019-03-02T15:19:54.070900</ts>
    <user>Priscila</user>
    <text>&lt;https://github.com/search?o=desc&amp;amp;q=language%3ARacket&amp;amp;s=updated&amp;amp;type=Repositories&gt;</text>
  </message>
  <message conversation_id="236">
    <ts>2019-03-02T15:20:23.071300</ts>
    <user>Priscila</user>
    <text>The first on the list was updated sep 2018.</text>
  </message>
  <message conversation_id="237">
    <ts>2019-03-02T15:49:23.071900</ts>
    <user>Azucena</user>
    <text>click the little circled "?" : there were too many results so some are not included</text>
  </message>
  <message conversation_id="236">
    <ts>2019-03-02T15:54:19.072500</ts>
    <user>Priscila</user>
    <text>I suppose that's positive (too many recent updates), but horrible user experience.</text>
  </message>
  <message conversation_id="236">
    <ts>2019-03-02T16:30:58.073300</ts>
    <user>Hallie</user>
    <text>&lt;@Priscila&gt; true, I personally use `pushed:&amp;gt;2018-12-31` like so &lt;https://github.com/search?q=language%3ARacket+pushed%3A%3E2018-12-31&amp;amp;type=Repositories&gt;</text>
  </message>
  <message conversation_id="236">
    <ts>2019-03-02T17:17:20.073600</ts>
    <user>Priscila</user>
    <text>&lt;@Hallie&gt; Nice tip.</text>
  </message>
  <message conversation_id="238">
    <ts>2019-03-03T11:11:53.074500</ts>
    <user>Caprice</user>
    <text>If I'm making a package that depends on another package, I'm supposed to add the dependency in `info.rkt`, right? In `(define deps ...)`, I guess?</text>
  </message>
  <message conversation_id="238">
    <ts>2019-03-03T11:12:35.074900</ts>
    <user>Caprice</user>
    <text>Is there a way to automatically figure out what should go in `deps`?</text>
  </message>
  <message conversation_id="238">
    <ts>2019-03-03T12:09:13.075900</ts>
    <user>Julia</user>
    <text>&lt;@Caprice&gt; `raco setup` has `--check-pkg-deps` or you could even use `--fix-pkg-deps` &lt;https://docs.racket-lang.org/raco/running.html&gt;</text>
  </message>
  <message conversation_id="239">
    <ts>2019-03-03T12:12:24.076600</ts>
    <user>Julia</user>
    <text>What I tend to do for these things, either manually or via a `Makefile`: &lt;https://www.greghendershott.com/2017/04/racket-makefiles.html&gt;</text>
  </message>
  <message conversation_id="239">
    <ts>2019-03-03T14:46:04.077600</ts>
    <user>Karen</user>
    <text>There's also `--unused-pkg-deps` but I don't think it works correctly</text>
  </message>
  <message conversation_id="240">
    <ts>2019-03-03T20:23:53.079300</ts>
    <user>Leticia</user>
    <text>Thread cells and parameters seem very similar. What is the motivation behind having them be separate constructs?</text>
  </message>
  <message conversation_id="240">
    <ts>2019-03-03T20:31:20.081000</ts>
    <user>Kristeen</user>
    <text>&lt;@Leticia&gt; roughly, thread cells have the same value everywhere in a thread, while parameters can be dynamically bound with parameterize for just a small period</text>
  </message>
  <message conversation_id="240">
    <ts>2019-03-03T20:39:41.081500</ts>
    <user>Leticia</user>
    <text>&lt;@Kristeen&gt; ah ok, right. So presumably thread cells came first?</text>
  </message>
  <message conversation_id="240">
    <ts>2019-03-03T20:58:44.081900</ts>
    <user>Kristeen</user>
    <text>No, parameters are older by a lot</text>
  </message>
  <message conversation_id="240">
    <ts>2019-03-03T21:38:09.083600</ts>
    <user>Karen</user>
    <text>&lt;@Kristeen&gt; wait, what makes dynamically binding a parameter for a small period different from setting and unsetting a thread cell?</text>
  </message>
  <message conversation_id="240">
    <ts>2019-03-03T21:38:41.084100</ts>
    <user>Kristeen</user>
    <text>Tail call preservation, for one</text>
  </message>
  <message conversation_id="240">
    <ts>2019-03-03T21:41:04.085000</ts>
    <user>Karen</user>
    <text>are there other differences? I’ve usually thought of the main difference between the two being how parameters interact with code that spawns new threads</text>
  </message>
  <message conversation_id="240">
    <ts>2019-03-03T21:42:39.086400</ts>
    <user>Karen</user>
    <text>thread cell implementations seem to choose the same initial cell value regardless of how the thread was created, whereas parameters use the value the parameter had in the code that spawned the thread</text>
  </message>
  <message conversation_id="240">
    <ts>2019-03-03T21:48:40.087000</ts>
    <user>Gonzalo</user>
    <text>Not if the thread cell is preserved. Parameters correspond to _preserved_ thread cells.</text>
  </message>
  <message conversation_id="240">
    <ts>2019-03-03T21:48:57.087300</ts>
    <user>Karen</user>
    <text>No, I mean thread cell implementations in other languages</text>
  </message>
  <message conversation_id="240">
    <ts>2019-03-03T21:49:06.087500</ts>
    <user>Gonzalo</user>
    <text>Ah, sure.</text>
  </message>
  <message conversation_id="240">
    <ts>2019-03-03T21:50:28.088500</ts>
    <user>Gonzalo</user>
    <text>The approach parameters take—namely, using continuation marks to store parameterizations—“just works” in the context of delimited continuations. You could do the same thing with `dynamic-wind`, though, so it’s not really a fundamental difference.</text>
  </message>
  <message conversation_id="240">
    <ts>2019-03-03T21:52:54.089500</ts>
    <user>Karen</user>
    <text>does recursively parameterizing the same parameter to different values have constant space usage? (I think there was a racket-users thread about this)</text>
  </message>
  <message conversation_id="240">
    <ts>2019-03-03T21:53:44.090100</ts>
    <user>Gonzalo</user>
    <text>If the inner use of `parameterize` is in tail position with respect to the outer use, then yes.</text>
  </message>
  <message conversation_id="240">
    <ts>2019-03-03T21:53:53.090400</ts>
    <user>Karen</user>
    <text>seems like it could if the recursion is a tail call- oh wait you beat me</text>
  </message>
  <message conversation_id="240">
    <ts>2019-03-03T21:54:04.090600</ts>
    <user>Karen</user>
    <text>neat</text>
  </message>
  <message conversation_id="240">
    <ts>2019-03-03T21:55:29.091200</ts>
    <user>Karen</user>
    <text>it’s kind of magic how well that works</text>
  </message>
  <message conversation_id="241">
    <ts>2019-03-03T23:52:59.091400</ts>
    <user>Caprice</user>
    <text>&lt;@Julia&gt; thanks!</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T11:49:26.096500</ts>
    <user>Deneen</user>
    <text>Are there any women / poc that are historically notable in the development of lisp/scheme?</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T11:49:30.096700</ts>
    <user>Deneen</user>
    <text>I am having trouble thinking of any.</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T11:49:43.097000</ts>
    <user>Deneen</user>
    <text>(I can think of current ones, of course)</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T11:51:15.097700</ts>
    <user>Priscila</user>
    <text>&lt;@Deneen&gt; watch (skim) this one: &lt;https://www.youtube.com/watch?v=hGY3uBHVVr4&gt;</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T11:51:23.098000</ts>
    <user>Deneen</user>
    <text>ok, will do.</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T11:52:33.099400</ts>
    <user>Priscila</user>
    <text>He tells about human "computers" which were women. The editor of the Lisp 1.5 manual (I think it was that one) was a woman. He implies that she deserves more credit.</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T11:52:37.099600</ts>
    <user>Priscila</user>
    <text>(than given)</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T11:53:09.099900</ts>
    <user>Priscila</user>
    <text>Can't remember where in the video.</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T14:41:26.100500</ts>
    <user>Priscila</user>
    <text>Does anyone know a Racket package/library that allows something like this:</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T14:41:33.100700</ts>
    <user>Priscila</user>
    <text>```
#lang racket

(:= a  0)
(:= b  2)
(:= c  0)
(:= d (- (expt b 2) (* 4 a c)))

d ; evaluates to 4

(:= a 1)
(:= c 1)

d ; evaluates to 0
```</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T14:42:13.101600</ts>
    <user>Priscila</user>
    <text>The variables defined with `:=` can depend on each other in the same manner cells in a spread sheet can. I.e. no circular references.</text>
  </message>
  <message conversation_id="243">
    <ts>2019-03-04T15:36:52.102200</ts>
    <user>Nova</user>
    <text>would that be possible with racklog ?</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T15:47:53.106600</ts>
    <user>Elin</user>
    <text>&lt;@Priscila&gt; This reminds me of something one of my friends at Northeastern University did at one point maybe 1 or 2 years ago. It didn’t need to use logic-programming, just mutable state combined with “recomputing” values every time you wanted to use something. It wasn’t very useful as it was though, because it didn’t have a notion of “when” it would need to recompute the values (because a dependency has changed) and when it could use a cached value (because no dependencies have changed between then and now).</text>
  </message>
  <message conversation_id="243">
    <ts>2019-03-04T15:51:34.107700</ts>
    <user>Mauro</user>
    <text>it sounds like what you're talking about is dataflow programming</text>
  </message>
  <message conversation_id="243">
    <ts>2019-03-04T15:58:13.108300</ts>
    <user>Priscila</user>
    <text>Suprisingly long list of dataflow programming languages.</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T15:58:48.108900</ts>
    <user>Priscila</user>
    <text>The section on SICP on simulation of digital circuits might fall into this category?</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T16:03:48.110500</ts>
    <user>Tambra</user>
    <text>&lt;@Priscila&gt; yes, digital circuits are a kind of dataflow language. You can get similar things with FRP, so `new-cell`/`set-cell!` in `frtime` might give you what you want</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T16:04:27.110700</ts>
    <user>Priscila</user>
    <text>ftime still works?</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T16:04:34.110900</ts>
    <user>Tambra</user>
    <text>last i used it!</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T16:04:47.111300</ts>
    <user>Tambra</user>
    <text>(which was two years ago or so admitedly)</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T16:05:06.111800</ts>
    <user>Tambra</user>
    <text>but I think its tests are still part of the release process since its in the main distro so it probably does</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T16:05:30.112300</ts>
    <user>Priscila</user>
    <text>I vaguely recall having problems with the examples from the paper.</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T16:05:39.112500</ts>
    <user>Priscila</user>
    <text>(A long, long time ago)</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T16:06:15.113200</ts>
    <user>Hallie</user>
    <text>last time I tried I was able to run the frtime examples but most with memory leaks</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T16:06:29.113500</ts>
    <user>Tambra</user>
    <text>ISTR there was some issue with rendering behaviors in drracket at some point…</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T16:09:03.114700</ts>
    <user>Tambra</user>
    <text>Yeah FRP is notorious for data leaks…</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T16:10:19.115500</ts>
    <user>Priscila</user>
    <text>new-cell, set-cell! sounds useable - but I need to read up on signals.</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T16:16:58.116600</ts>
    <user>Lavette</user>
    <text>&lt;@Priscila&gt; Your example reminds me also of one of the languages in &lt;@Lillian&gt;'s Beautiful Racket: &lt;https://beautifulracket.com/wires/intro.html&gt;, maybe some useful ideas there?</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T16:19:12.117000</ts>
    <user>Susana</user>
    <text>&lt;@Priscila&gt; maybe relevant: &lt;http://adapton.org/&gt;</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T16:20:31.117700</ts>
    <user>Priscila</user>
    <text>&lt;@Susana&gt; thanks for the point</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T16:20:34.117900</ts>
    <user>Priscila</user>
    <text>pointer</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T16:21:04.118200</ts>
    <user>Priscila</user>
    <text>There is even an adapton for Racket: &lt;https://github.com/plum-umd/adapton.racket&gt;</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T16:24:32.118700</ts>
    <user>Priscila</user>
    <text>I think, adapton, might be it: &lt;https://docs.racket-lang.org/adapton/index.html?q=adapton&gt;</text>
  </message>
  <message conversation_id="242">
    <ts>2019-03-04T16:25:05.119300</ts>
    <user>Susana</user>
    <text>yeah, I was always meaning to try the racket version of adapton, but didn’t get around to it</text>
  </message>
  <message conversation_id="244">
    <ts>2019-03-04T21:34:17.120900</ts>
    <user>Caprice</user>
    <text>What does `Ring` mean in the package server's package details page? It has a value of 2 for my package.</text>
  </message>
  <message conversation_id="244">
    <ts>2019-03-04T21:36:55.122700</ts>
    <user>Mai</user>
    <text>&lt;https://docs.racket-lang.org/pkg/Future_Plans.html&gt;</text>
  </message>
  <message conversation_id="244">
    <ts>2019-03-04T21:39:39.123000</ts>
    <user>Caprice</user>
    <text>&lt;@Mai&gt; got it, thanks</text>
  </message>
  <message conversation_id="245">
    <ts>2019-03-05T01:51:21.124700</ts>
    <user>Caprice</user>
    <text>&lt;@Jeanine&gt; would it be a good idea to change `sql-null` from the `db` package into a prefab struct? I think that gives the same "singleton" kinda behavior that you would look for. The struct constructor would need to have a different name for backward compatibility, I suppose.</text>
  </message>
  <message conversation_id="245">
    <ts>2019-03-05T01:53:59.127800</ts>
    <user>Caprice</user>
    <text>I'm having an issue that's tangentially related: checking for `SQL-Null` from `require typed/db` causes problems I don't really understand. What I do understand is that if I `require/typed` a `#:struct` form, eg `#:struct sql-timestamp` and then typecheck based on that, everything works fine. I tried the same trick with `sql-null` and found that since `sql-null` is an instantiated version of the struct, I don't get the same result.</text>
  </message>
  <message conversation_id="246">
    <ts>2019-03-05T02:31:39.128700</ts>
    <user>Karen</user>
    <text>Most common first words of identifiers exported by `racket/base`, where words are split on hyphens:
```
make      98
syntax    64
current   54
string    44
in        37
read      35
hash      35
bytes     24
regexp    24
char      24
```</text>
  </message>
  <message conversation_id="246">
    <ts>2019-03-05T03:12:10.129300</ts>
    <user>Karen</user>
    <text>Here’s the most common words, first or otherwise:
```
make      102
syntax    89
hash      62
string    60
module    58
current   56
bytes     56
in        46
path      42
read      38
```</text>
  </message>
  <message conversation_id="245">
    <ts>2019-03-05T04:09:50.131000</ts>
    <user>Terry</user>
    <text>Half refer to a data-type
Care to share your script?</text>
  </message>
  <message conversation_id="245">
    <ts>2019-03-05T04:13:37.131300</ts>
    <user>Karen</user>
    <text>Will try to share tomorrow, heading to bed for now</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T06:35:01.133600</ts>
    <user>Caprice</user>
    <text>I'm trying to pass a result of `query-rows` from untyped racket to a function in my typed package. This functions takes a `(Listof (Vectorof Any))` and processes it. But I get this error:
```
any-wrap/c: Unable to protect opaque value passed as `Any`
```
Anyone knows how I should work around this?</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T06:44:41.134300</ts>
    <user>Caprice</user>
    <text>My case is very similar to the one mentioned here: &lt;https://www.mail-archive.com/racket-users@googlegroups.com/msg32201.html&gt;</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T08:49:45.134900</ts>
    <user>Kristeen</user>
    <text>&lt;@Caprice&gt; in general using `Any` is problematic -- can you use a more specific type?</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T11:57:36.139300</ts>
    <user>Elin</user>
    <text>&lt;@Caprice&gt; The `Any` inside the vector produced by `query-rows` represents the things that could be in the database. Are those simple values like numbers or strings? Are they existing _immutable_ racket data structures like lists? Are they existing _mutable_ racket data structures like vectors or boxes? Or are they your own datatype that you’re defining to put in the database?</text>
  </message>
  <message conversation_id="248">
    <ts>2019-03-05T12:01:36.139800</ts>
    <user>Elin</user>
    <text>Or is it `sql-null` that’s giving you the problem?</text>
  </message>
  <message conversation_id="249">
    <ts>2019-03-05T12:26:47.140300</ts>
    <user>Priscila</user>
    <text>This is pretty clever: "Racket ABNF implementation (interpreter &amp;amp; compiler), for directly cutting-and-pasting from RFCs."</text>
  </message>
  <message conversation_id="249">
    <ts>2019-03-05T12:26:53.140500</ts>
    <user>Priscila</user>
    <text>&lt;https://github.com/tonyg/racket-abnf&gt;</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T12:54:56.142100</ts>
    <user>Gonzalo</user>
    <text>&lt;@Kristeen&gt; can you make it so that people who aren’t admins can’t use @ everyone?</text>
  </message>
  <message conversation_id="250">
    <ts>2019-03-05T12:55:27.142400</ts>
    <user>Verlie</user>
    <text>+1</text>
  </message>
  <message conversation_id="250">
    <ts>2019-03-05T12:57:39.143600</ts>
    <user>Kristeen</user>
    <text>I'll see what I can do but slack moderation tools are not very good</text>
  </message>
  <message conversation_id="250">
    <ts>2019-03-05T12:57:59.143900</ts>
    <user>Gonzalo</user>
    <text>I know, but I do know you can disable @ everyone</text>
  </message>
  <message conversation_id="250">
    <ts>2019-03-05T13:11:59.148100</ts>
    <user>Caprice</user>
    <text>&lt;@Kristeen&gt; &lt;@Elin&gt; I suppose I'll post on the mailing list; slack doesn't seem like a very good place for writing any amount of detail.</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T13:12:43.148700</ts>
    <user>Kristeen</user>
    <text>&lt;@Caprice&gt; it's easier to discuss in real time here, though</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T13:12:57.149000</ts>
    <user>Caprice</user>
    <text>oh ok</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T13:13:06.149300</ts>
    <user>Caprice</user>
    <text>So yeah mostly the problem is `sql-null`</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T13:13:31.150100</ts>
    <user>Caprice</user>
    <text>What started all this was, I had a type, mostly a union of primitives that I expected to deal with from the database. `(U String Number Boolean Char Bytes)`. Two things that I wanted The moment I added `SQL-Null`, all functions that dealt with these values started failing.</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T13:13:39.150500</ts>
    <user>Elin</user>
    <text>Though I think if it was an immutable vector instead of a mutable vector it would be fine</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T13:14:19.151700</ts>
    <user>Elin</user>
    <text>Because a mutable vector’s “contents” contract is used for both “typed -&amp;gt; untyped” crossings and “untyped -&amp;gt; typed” crossings</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T13:16:02.153700</ts>
    <user>Caprice</user>
    <text>So what I did was this:
```
(define-type RawResults (Listof (Vectorof Any)))
(define-type ResultRow (Vectorof AnyVal))
(define-type Results (Listof ResultRow))
(struct LocalSQLNull () #:prefab)

(define-type AnyVal
  (U String
     Number
     Boolean
     Char
     Bytes
     sql-timestamp
     LocalSQLNull))

(: pre-process-results (-&amp;gt; RawResults Results))
(define (pre-process-results raw-res)
  (map (λ([row-vec : (Vectorof Any)])
         (vector-map (λ([val : Any])
                       (cond [(sql-null? val)
                              (LocalSQLNull)]
                             [else
                              (cast val AnyVal)]))
                     row-vec))
       raw-res))
```

... And this works just fine in my test.
My tests are in `#lang typed/racket/base`, they use `typed/rackunit`, and `typed/db`, and I do *not* use `query-rows`, I simply construct a list of vectors by hand, insert `sql-null` values, and it all works.</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T13:16:22.154000</ts>
    <user>Caprice</user>
    <text>But when I import this into an untyped module</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T13:16:29.154300</ts>
    <user>Caprice</user>
    <text>and pass a result from `query-rows`</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T13:16:36.154500</ts>
    <user>Caprice</user>
    <text>It complains about `sql-null`</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T13:28:03.155500</ts>
    <user>Caprice</user>
    <text>This is a minimal, runnable example of the thing I'm trying to get around</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T13:38:52.156800</ts>
    <user>Caprice</user>
    <text>I think you people are right and I should stop using `Any`, ditch the `LocalSQLNull` thing, remove `RawResults`, use `(Listof (Vectorof AnyVal))`, and use `SQL-Null` from `typed/db`, and try and fix the resulting type errors.</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T13:39:37.157300</ts>
    <user>Kristeen</user>
    <text>&lt;@Caprice&gt; I think that's the right approach, but if it doesn't work out let me know</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T13:39:54.157700</ts>
    <user>Kristeen</user>
    <text>and we should change `sql-null` to be something that plays better with typed racket</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T13:49:55.158200</ts>
    <user>Kristeen</user>
    <text>&lt;@Gonzalo&gt; I changed that setting</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T13:50:17.158400</ts>
    <user>Gonzalo</user>
    <text>Thank you!</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T14:09:52.166100</ts>
    <user>Caprice</user>
    <text>&lt;@Kristeen&gt; Right, thanks, I just powered through all the type errors I was getting. The thing was, I had a lot of functions that relied on occurrence typing and they were all getting messed up. They were mostly working on a union of list, a custom struct, and an `AnyVal`, where the `else` case always applied to `AnyVal`. And the list or custom struct could contain any of those 3 inside. But the moment I introduce `SQL-Null` in the union type for `AnyVal` they would all get messed up because the actual struct for `sql-null` is hidden.

The way to work around this is to add a branch that checks for `sql-null` before all the other branches, and simply copy whatever I was doing in the `else` branches.

The code's all here, in a very work-in-progress kinda package I'm making: &lt;https://gitlab.com/hashimmm/remap/blob/master/private/grouping-v2.rkt&gt; (though at the time of writing this, it doesn't have the fixes/changes I'm making right now)

So when I was doing this, I did understand that, and I figured that if I can use the `#:struct` form of `require/typed`, it would work, and indeed, for `sql-timestamp`, it all works, because if something is a list or a different struct it isn't a `sql-timestamp` and TR knows that. So it all works as expected.

At the time I looked up the code for `sql-null` and found this had been done to make it a singleton. Wouldn't a prefab struct achieve the same result, plus allow better interaction with TR?</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T14:10:43.166500</ts>
    <user>Kristeen</user>
    <text>A prefab struct wouldn't make it a singleton</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T14:11:19.167100</ts>
    <user>Kristeen</user>
    <text>```
&amp;gt; (eq? #s(sql-null) #s(sql-null))
#f
```</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T14:11:40.167800</ts>
    <user>Caprice</user>
    <text>Oh! totally did not expect that. My intuition failed me :disappointed:</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T14:11:43.167900</ts>
    <user>Kristeen</user>
    <text>the right thing from typed racket's perspective would be to make it a transparent struct</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T14:12:02.168300</ts>
    <user>Caprice</user>
    <text>I see</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T14:12:07.168500</ts>
    <user>Kristeen</user>
    <text>but that would allow people to violate the singleton invariant, maybe</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T14:12:19.168800</ts>
    <user>Kristeen</user>
    <text>I think I have a way to fix it, but I have to test it out</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T14:12:44.169300</ts>
    <user>Caprice</user>
    <text>cool, I'll check it out if I notice the change</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T14:17:16.170100</ts>
    <user>Caprice</user>
    <text>Things mostly work now, but now my tests fail because `check-equal?` complains for the exact same reason!
```
check-equal?: contract violation
  any-wrap/c: Unable to protect opaque value passed as `Any`
  value: #&amp;lt;sql-null&amp;gt;
  in: the 2nd argument of
      (-&amp;gt;* (Any Any) (any/c) any/c)
```</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T14:20:07.170800</ts>
    <user>Gonzalo</user>
    <text>I think you want to import `sql-null?` with `#:opaque` to create a new type `Sql-Null`, then import `sql-null` with the type `Sql-Null`.</text>
  </message>
  <message conversation_id="251">
    <ts>2019-03-05T14:20:50.171200</ts>
    <user>Gonzalo</user>
    <text>(I haven’t read all the above context, so if that was already discussed, sorry.)</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T14:21:53.171700</ts>
    <user>Kristeen</user>
    <text>&lt;@Caprice&gt; unfortunately that's a less-fixable problem with `check-equal?`</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T14:23:02.172000</ts>
    <user>Kristeen</user>
    <text>I think using `check` and `equal?` will work better</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T14:30:31.173100</ts>
    <user>Gonzalo</user>
    <text>&lt;@Kristeen&gt; Why does `check-equal?` explode the `any-wrap/c` contract? I don’t totally understand, but I’m curious. I thought `any-wrap/c` just caused problems if you tried to use mutable state or call procedures or things like that.</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T14:31:26.173900</ts>
    <user>Kristeen</user>
    <text>&lt;@Gonzalo&gt; it tries to wrap `sql-null` with a chaperone that does the exploding, but it can't (because it's an opqaue struct) and so it errors</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T14:31:53.174300</ts>
    <user>Gonzalo</user>
    <text>Ah, I see, that makes sense. Hence the “opaque” in the error message.</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T14:33:08.175300</ts>
    <user>Caprice</user>
    <text>&lt;@Kristeen&gt; oh, yes, that works. I'd given up for the time being, but, coool :blush:</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T14:58:27.175700</ts>
    <user>Kristeen</user>
    <text>&lt;@Caprice&gt; &lt;https://github.com/racket/racket/pull/2515&gt;</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T15:10:38.178500</ts>
    <user>Caprice</user>
    <text>&lt;@Kristeen&gt; thanks!</text>
  </message>
  <message conversation_id="252">
    <ts>2019-03-05T15:11:05.179000</ts>
    <user>Elin</user>
    <text>Another thing we could do is improve vector contracts. Typed Racket relies on different contracts for `Any` depending on whether its doing from “typed -&amp;gt; untyped” or “unyped -&amp;gt; typed”. The [`box/c`](&lt;https://docs.racket-lang.org/reference/data-structure-contracts.html#(def._((lib._racket%2Fcontract%2Fprivate%2Fbox..rkt)._box%2Fc))&gt;) contract allows those to be different, so that different contracts can be applied depending on which direction its crossing the boundary in. If the `vectorof` contract (and probably all the contracts for mutable data structures) allowed that in the same way, then `any-wrap/c` would not be an issue in places like this.</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T15:12:10.179900</ts>
    <user>Elin</user>
    <text>(By that I mean, `any-wrap/c` would only become an issue if you mutated it, but not if you only read from it)</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T15:12:10.180000</ts>
    <user>Kristeen</user>
    <text>&lt;@Elin&gt; I don't really see how that would change things</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T15:12:25.180400</ts>
    <user>Kristeen</user>
    <text>`any-wrap/c` doesn't use `box/c` or `vectorof`</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T15:12:50.180900</ts>
    <user>Elin</user>
    <text>I know, but the `Vectorof` type uses the `vectorof` contract</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T15:13:01.181200</ts>
    <user>Elin</user>
    <text>and the argument to `vectorof` needs to be `any-wrap/c` because of this</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T15:13:36.182100</ts>
    <user>Kristeen</user>
    <text>I'm confused</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T15:13:44.182400</ts>
    <user>Elin</user>
    <text>But if `vectorof` took two contracts, one for “getting” and one for “setting”, then the “getting” one could be `any/c` and only the “setting” one would have to be `any-wrap/c`</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T15:13:53.182700</ts>
    <user>Kristeen</user>
    <text>is the issue about _using_ `vectorof` in typed code?</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T15:14:17.183300</ts>
    <user>Elin</user>
    <text>Typed Racket’s contract-generation needs to be conservative to protect typed values</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T15:14:47.184000</ts>
    <user>Kristeen</user>
    <text>can you point to where in the code you're talking about?</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T15:15:10.184500</ts>
    <user>Elin</user>
    <text>This distinction between getting and setting would allow Typed Racket to be more liberal on the getting side</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T15:15:46.185100</ts>
    <user>Kristeen</user>
    <text>I still don't understand</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T15:15:50.185300</ts>
    <user>Gonzalo</user>
    <text>I think Alex is talking about the place where untyped code calls `pre-process-results` with a vector in &lt;@Caprice&gt;’s original example.</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T15:16:21.185900</ts>
    <user>Gonzalo</user>
    <text>It wouldn’t solve the `check-equal?` problem, but it would avoid the initial issue, if I understand what Alex is saying.</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T15:16:44.186100</ts>
    <user>Elin</user>
    <text>&lt;https://github.com/racket/typed-racket/blob/master/typed-racket-lib/typed-racket/static-contracts/combinators/structural.rkt#L162&gt;</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T15:17:29.187000</ts>
    <user>Kristeen</user>
    <text>ah, I understand. You're saying that `(Vectorof Any)` could get translated to `(vectorof any/c any-wrap/c)`</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T15:17:41.187300</ts>
    <user>Elin</user>
    <text>Yes</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T15:18:06.187800</ts>
    <user>Elin</user>
    <text>Yes, where the “getting” side is `#:covariant` and the “setting” side is `#:contravariant`</text>
  </message>
  <message conversation_id="253">
    <ts>2019-03-05T21:58:25.189500</ts>
    <user>Caprice</user>
    <text>What's `any-wrap/c`? I sort of can't find it</text>
  </message>
  <message conversation_id="253">
    <ts>2019-03-05T21:58:51.189800</ts>
    <user>Caprice</user>
    <text>Is it an impersonator contract?</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T22:16:44.190400</ts>
    <user>Gonzalo</user>
    <text>It’s sadly undocumented, I think… but it’s the contract TR uses for `Any` (not `any/c`).</text>
  </message>
  <message conversation_id="253">
    <ts>2019-03-05T22:37:08.191700</ts>
    <user>Caprice</user>
    <text>Yes, it's undocumented; first I looked in the docs, then I searched the github repo (racket/racket) and then I posted here. Is it an impersonator contract?</text>
  </message>
  <message conversation_id="247">
    <ts>2019-03-05T22:38:59.191900</ts>
    <user>Gonzalo</user>
    <text>It’s a chaperone contract, I think.</text>
  </message>
  <message conversation_id="253">
    <ts>2019-03-05T22:41:44.192100</ts>
    <user>Caprice</user>
    <text>hmm ok</text>
  </message>
  <message conversation_id="253">
    <ts>2019-03-05T22:45:35.194500</ts>
    <user>Pok</user>
    <text>I think this is the implementation if you’re interested, &lt;https://github.com/racket/typed-racket/blob/master/typed-racket-lib/typed-racket/utils/any-wrap.rkt&gt;</text>
  </message>
  <message conversation_id="253">
    <ts>2019-03-05T22:49:22.197500</ts>
    <user>Caprice</user>
    <text>I'm basically trying to develop better intuition around what the error meant when it said "unable to protect opaque value passed as any". Would it be correct to say that the error occurred because of all these things: (a) the function accepts a type name that TR doesn't know about, (b) we gave TR a predicate, saying "this is how you check the type", (c) in an untyped module, a value is given to that function that MAY be of the accepted type, (d) because the value is opaque, and the contract isn't flat, TR cannot deduce whether the contract has modified the value, (e) as in, TR can't tell that maybe the value was of the accepted type but the contract messed with it, or maybe the value was not of the accepted type but the contract may have made it so</text>
  </message>
  <message conversation_id="253">
    <ts>2019-03-05T22:50:54.198600</ts>
    <user>Caprice</user>
    <text>(f) as in, the predicate may return true or false on that value, but that may not be the same value as the one originally passed, so the result of the predicate would be invalid</text>
  </message>
  <message conversation_id="253">
    <ts>2019-03-05T22:52:47.199800</ts>
    <user>Caprice</user>
    <text>In which case, there _seems_ to be a way out: because if the predicate is an "eq?" check, then the result of the predicate is always valid, no?</text>
  </message>
  <message conversation_id="253">
    <ts>2019-03-05T22:55:05.200800</ts>
    <user>Caprice</user>
    <text>thanks! Silly me, I ought to have thought to search in the typed racket repo</text>
  </message>
  <message conversation_id="254">
    <ts>2019-03-06T08:55:11.201500</ts>
    <user>Terry</user>
    <text>Hi, 

Would anyone be interested in an informal Racket meetup in London? 

Any preference for date/time?

For a location I’m thinking about  ‘The Microsoft Reactor London - 70 Wilson St, London EC2A 2DB’ as it appears to be free and relatively central.

&lt;https://developer.microsoft.com/en-us/reactor/Form/5&gt; 

Kind regards, 

Stephen

&lt;mailto:spdegabrielle@gmail.com|spdegabrielle@gmail.com&gt;

</text>
  </message>
  <message conversation_id="254">
    <ts>2019-03-06T08:59:35.203400</ts>
    <user>Kami</user>
    <text>&lt;@Terry&gt; Yeah why not! I live in the north of France so I can easily get there (if the train tickets are not so expensive at the time). I don't know about the date. How many people are you planning to host?</text>
  </message>
  <message conversation_id="254">
    <ts>2019-03-06T09:00:53.204400</ts>
    <user>Terry</user>
    <text>Depends on how many are interested.</text>
  </message>
  <message conversation_id="255">
    <ts>2019-03-06T11:45:37.207000</ts>
    <user>Shavon</user>
    <text>&lt;@Clarinda&gt; &lt;@Kristeen&gt; I am trying to get CI done for cross compilation/testing. I have a script doing this automatically for arch X (where X is a variable). I am setting up jobs and wondering which archs to test. s390x seems to be one supported arch. Which archs are officially supported? `x86_64`, `arm`, `s390x` and I think `ppc`?</text>
  </message>
  <message conversation_id="255">
    <ts>2019-03-06T11:47:41.207300</ts>
    <user>Clarinda</user>
    <text>All architectures are supposed to be supported for traditional Racket, but that seems like a fine set if you add `i386`. All of those have JIT support except `s390x`.</text>
  </message>
  <message conversation_id="255">
    <ts>2019-03-06T11:49:15.207500</ts>
    <user>Shavon</user>
    <text>OK, so for `s390x` I need `--disable-jit`, for `ppc` I need `--disable-places --disable-futures`. I will give these a try. Thanks.</text>
  </message>
  <message conversation_id="255">
    <ts>2019-03-06T11:50:10.207700</ts>
    <user>Shavon</user>
    <text>And for completeness, CS is only supported in `x86_64` for now?</text>
  </message>
  <message conversation_id="255">
    <ts>2019-03-06T11:52:22.207900</ts>
    <user>Shavon</user>
    <text>Just recalled that `mips` is supported in traditional racket too, right?</text>
  </message>
  <message conversation_id="255">
    <ts>2019-03-06T12:01:44.208100</ts>
    <user>Clarinda</user>
    <text>Yes, `mips`. You don’t have to use `--disable-jit` or other flags; the `configure` script is supposed to figure out which things are supported. CS should work for `i386`. (It should also work for `arm` and `ppc`, eventually, but there are currently no pre-built Chez Scheme boot files.)</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T12:10:39.208300</ts>
    <user>Penni</user>
    <text>Here's a question about Typed Racket and calling functions generated by a macro.

I've got a macro, currently in untyped Racket, that "compiles" a little DSL that lets you define nodes in a graph as illustrated by `tagclass` below.

The node class being defined is called `needs` and it takes one argument, `need-type`.  Attributes of the node, like `name`, are defined in terms of expressions that can include that argument. The `applies-to` clause adds further arguments, indicating what nodes of this class should link to and how.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T12:12:08.208700</ts>
    <user>Penni</user>
    <text>The current version of the macro generates functions to evaluate those expressions. The number of arguments varies according to the node class, of course. The line marked "THIS LINE HERE" calls those functions. The function shown below is called by a function called `make-node` to make a new node of a given class. You pass `make-node` the arguments for the node class—which vary by node class—like this: `(make-node g 'needs 'source)`. To make, say, a node class without arguments, you would write `(make-node g 'plus)`.

My question: How can I call these generated functions so that Typed Racket won't complain?

I expect complaints because of the varying function signatures in the generated code. Better yet, is there a (not too hard) way to make Typed Racket complain if I try to instantiate a node class with inappropriate arguments?</text>
  </message>
  <message conversation_id="255">
    <ts>2019-03-06T12:12:52.209100</ts>
    <user>Shavon</user>
    <text>OK. I will trigger the initial builds and then we'll see what to add. Thanks for the information.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T12:15:01.210000</ts>
    <user>Gonzalo</user>
    <text>&lt;@Penni&gt; I think the answer to your question depends on what `f` can be in `apply-f` if it’s not a procedure. Can it be anything?</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T12:15:52.210800</ts>
    <user>Penni</user>
    <text>Currently it can be anything. But since I'm now overhauling the whole system as I move it to Typed Racket, I could change that or anything else.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T12:16:44.211600</ts>
    <user>Gonzalo</user>
    <text>I’ll give two answers: one that just focuses on the specific sort of thing you do in `apply-f` and one that takes the rest of the context you gave into account.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T12:20:51.216200</ts>
    <user>Gonzalo</user>
    <text>The problem with functions like `apply-f` in Typed Racket is that `(procedure? f)` succeeding tells the typechecker very little about `f`. It knows it’s a function, but it has no idea how that function can be called. It could demand no arguments, it could demand exactly 12 arguments, it could demand keyword arguments. TR just can’t know. So even if `(procedure? f)` produces `#t`, absent of other information, the typechecker won’t let you call `f` at all, under any circumstances.

_But_ this is only true if the typechecker doesn’t know anything about `f` already. If `f`’s type is not `Any`, but is instead something like `(U (-&amp;gt; String Integer) Integer)`, then if `(procedure? f)` returns `#t`, TR can be certain that `f` _isn’t_ an `Integer`, so it knows it must have type `(-&amp;gt; String Integer)`. In that case, you can invoke the function if you take that branch.

So: `procedure?` is useless on something that you don’t know very much about statically. But it could be useful if you can give it a more constrained type.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T12:31:19.225400</ts>
    <user>Gonzalo</user>
    <text>Now, the bigger-picture answer. It seems like it might be easier to make all this machinery work if you restructure things in a more significant way besides just changing something local to `apply-class-attr`. I am not totally sure I understand what evaluating a `tagclass` form does—does it insert an entry in a global hash table? does it evaluate to some value? does it define some variable?—but your description of `make-node` would seem to imply that whatever `tagclass` does, the information is eventually looked up symbolically, perhaps being stored in a hash table somewhere.

That seems hard to statically type. Typed Racket doesn’t support heterogenous hash tables (i.e. hash tables used as records instead of as dictionaries), so you can’t have a hash table where the values associated with specific keys have different types. This means your hash table would have to have some very vague type like `(HashTable Symbol Tagclass-Info)`, and it wouldn’t be able to encapsulate how certain keys in the hash table are associated with tagclasses that take different types of arguments.

A better approach, more conducive to static typing, would probably be to skip the hash table and the symbolic lookup, and instead make the `tagclass` form produce a value or definition with a rich type. So, for example, you could make `(tagclass (needs [need-type : Foo]) ....)` actually expand to `(define (needs [need-type : Foo]) : Tagclass ....)`, and you could pass the `needs` function directly to `make-node`, instead of passing the symbol `'needs`. If you need more information than just a function, you could make `needs` a struct that combines a function with some extra information.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T12:32:15.226100</ts>
    <user>Penni</user>
    <text>Your guess is right: the node classes are stored as structs and looked up in a hash table somewhere.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T12:32:57.226900</ts>
    <user>Gonzalo</user>
    <text>I think you’ll have a much easier time if you avoid the indirection through the hash table and instead define variables (which can each have distinct types) and refer to those directly. Is there a reason you need the indirection?</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T12:37:43.228500</ts>
    <user>Penni</user>
    <text>No particular reason; it's just what I hacked out as a semi-beginning Racket coder. Well, one reason: I've got code like this, which decides at run-time which class of node to make. Sometimes I want to say, "Of these tag classes, which could validly be instantiated and linked to these nodes?"</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T12:41:08.231900</ts>
    <user>Gonzalo</user>
    <text>I’m trying to understand, but I’m missing some context: does that code select a _class_ dynamically from the hash table, or does it just look iterate through the predefined list `problem-tags`? If it’s the latter, I think you could just define `problem-tags` to be `(list (needs 'source) (needs 'result))`. If it’s the former, it’s much more interesting.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T12:41:18.232100</ts>
    <user>Penni</user>
    <text>I definitely like the idea of generating typed functions inside the macro. It's a little scary, since as you rightly just guessed, some of the main code does indirection on node classes, so that would need to be rewritten from scratch. But I don't think there's too much of that code. And really, I'd like to move that code inside the DSL; I just haven't figured out a way yet.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T12:42:31.233100</ts>
    <user>Gonzalo</user>
    <text>If you legitimately use the indirection for some purpose, I think there are ways of encoding that in a way that TR would be happy about. But if you don’t need the indirection, then it’s probably much easier to just get rid of it.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T12:44:26.233700</ts>
    <user>Penni</user>
    <text>Here's the function that looks through `problem-tags`. It's the second way—the non-interesting way, which is likely a good thing.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T12:45:48.235100</ts>
    <user>Penni</user>
    <text>OK, this might be the idea that I needed to hear: just get rid of the indirection. I've been taking the need for indirection so much for granted, I've never really examined whether I can just do without it.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T12:48:10.237400</ts>
    <user>Penni</user>
    <text>I've been trying to write some code for "auto-tagging"—generically saying "If any tags could apply to these nodes, build them and link them." That sounds like it needs indirection, but now I wonder if the macro could just generate code to do that.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T12:56:27.246300</ts>
    <user>Gonzalo</user>
    <text>Well, here’s another way to think about the things: when you are choosing a _specific_ tag—whether via the indirection or not—you know in your head exactly what arguments it needs to be supplied with. For example, when you write `(make-node g 'needs 'source)`, you know that `'needs` is a class that takes one argument, so you give it one.

If you were instead iterating through the hash table of tags without a specific tag already in mind, now you have a problem, even in untyped Racket: you don’t know how to actually build the node class because you don’t know anything about which arguments should be supplied. For any particular `key`, `value` pair, the `value` might need two arguments, four, or none at all. And since your code is just looping through all of them, it can’t even know how many arguments to provide, much less which arguments they should be.

TR is not quite as “smart” as you are, since you _know_ that `(hash-ref all-the-tags 'needs)` will give you something that needs one argument (a symbol), but TR doesn’t. On the other hand, TR’s “stupidity” is actually somewhat insightful here, from another point of view: it rightfully points out that, when you view the hash table as a dictionary mapping arbitrary keys to arbitrary values, the values are pretty useless. You have no way of using them without some kind of extra, prior knowledge.

The “auto-tagging” function you describe would presumably have to dig through the hash table of tags to find “applicable” tags, but if some of those tags take arguments, your “auto-tagger” would be screwed, even in untyped Racket. On the other hand, your `problem-tags` list provides precisely the right information: it couples tags with their arguments, making it possible for some tool to understand how to get the actual node class from the tag.

This suggests a slightly different way of viewing things: tags that take arguments aren’t really tags at all, they’re _tag constructors_, aka functions that produce tags. So if you built a hash table full of tags, without the tag constructors (or, perhaps more usefully, with the tag constructors already applied to produce tags), you could do interesting things with it. But as you are right now, your hash table contains a jumble of tags and tag constructors, and that just isn’t very helpful.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:07:05.249000</ts>
    <user>Penni</user>
    <text>I agree: the "stupidity" would be useful. I've had a couple long, painful debugging sessions due to passing wrong arguments to tag constructors. Node classes inherit from other node classes, as in OO, and currently there's nothing to ensure that "super-class" constructors get called with the correct arguments.

BTW, what sort of thing did you have in mind as an "interesting thing" that I could do if I structured the hash table differently?</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:10:13.253400</ts>
    <user>Penni</user>
    <text>One other thing: the main idea here is to make it easy to try out different ideas for tagging, responding to tags, etc. There's no one exact thing, like `find-node-with-problems`, that I'm trying to implement. I'm hoping to be able to just say, in the DSL, "Here are some node classes—let's see what happens!", rather than hard-coding too much in plain Racket. IOW, this program overall is tool for experimenting with graphs whose contents tell how to modify themselves—a wild, mostly unexplored domain, which I'm writing this program to explore.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:11:17.254600</ts>
    <user>Gonzalo</user>
    <text>Well, the “auto-tagging” application is interesting, and that’s one that could be solved in a simple enough way by what I just described: build a list or hash table of tags that have already been fully-applied to arguments, which is what your `problem-tags` list is already morally doing. If you were doing something even _more_ interesting, though, where you had a scheme by which arguments to tags could somehow be inferred, at runtime, and your code was selecting tag constructors and somehow automatically figuring out how to plug their arguments, you’d need to do something fancier. But it’s always _possible_ to get fancier in some direction or another, so that isn’t saying much. :)</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:12:14.256000</ts>
    <user>Gonzalo</user>
    <text>I do understand not wanting to hardcode too much. I think skipping the indirection doesn’t cost you anything there, though, since my above point was basically that it wasn’t actually getting you _any_ expressive power over just having direct variable references.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:15:06.258900</ts>
    <user>Penni</user>
    <text>Ah, now I see: so the "tags" that you have in mind wouldn't be actual nodes in the graph, but complete sets of attributes that could be put into new nodes?

The need for "tags" that aren't really nodes turned into a headache in the first version of the program. I often want to ask the question "Could a tag of this class apply to these nodes?" The current system, where attributes are stored in the `nodeclass` struct as functions if you need to call them to get the real attribute value, led to … you guessed it, some painful debugging sessions.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:16:31.260700</ts>
    <user>Gonzalo</user>
    <text>I see… I’m admittedly a little confused about the nomenclature, so I might be mixing concepts up. (Is a “tag” different from a “tag class”, and is that different from a “node class”? Is a “node” different from a “tag”? I don’t actually really know.)</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:18:57.262900</ts>
    <user>Penni</user>
    <text>Yes: a "tag" is just a kind of "node" (one that's meant to describe other nodes); a "tag class" is just a kind of "node class", and the "classes" are unchanging, abstract definitions whereas actual "tags" and "nodes" are elements of the graph, which can be removed or have their attributes modified as the program runs.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:21:01.263600</ts>
    <user>Penni</user>
    <text>Excellent point that indirection actually hasn't been helping. Now that I think about it, the main value of the indirection has been convenience in writing code to add nodes to graphs. Here's a crude example:</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:21:07.264000</ts>
    <user>Gonzalo</user>
    <text>What is a “node class”, and how is a “tag class” different from a generic “node class”?</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:26:08.269000</ts>
    <user>Penni</user>
    <text>A "node class" is just a definition of a category of node: what attributes it contains, what "ports" it has, and how it's supposed to link to other nodes. The difference between a "node class" and a "tag class" is mostly their purpose: the latter describe the former. For example, you might have two nodes of class `number`, like `(number 4)` and `(number 17)`, and they might be "tagged" by a node of class `greater-than`, indicating that the program "noticed" that relationship, and possibly triggering actions based on that relationship.

There is one "real" difference between a tag and a node, but it's not a big deal: a tag gets automatically removed when the nodes that it tags are removed. For example, if `(number 4) got removed, then the `greater-than` tag would also get removed, but if the `greater-than` got removed, the `(number 4) would stay in the graph.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:28:16.270000</ts>
    <user>Gonzalo</user>
    <text>Okay… so do you have a `nodeclass` form that is basically the same as a `tagclass` form except that the latter generates “tag nodes” instead of ordinary nodes?</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:29:16.270100</ts>
    <user>Penni</user>
    <text>Hmm, there is one other place that uses indirection, and it's actually important, even though its only function is convenience. There's a little DSL that lets you tell how to make a graph without writing lots of explicit calls to `make-node`. The code is an interpreter for lists that look like this:</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:32:21.271500</ts>
    <user>Penni</user>
    <text>Re `nodeclass`/`tagclass`: yep. `nodeclass-body` is the macro that does all the work. (I think this is a bit ugly. As I'm moving to Typed Racket, I'm currently rewriting this so there is only one main macro, `farg-model-spec`, which does everything.)</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:32:35.272000</ts>
    <user>Gonzalo</user>
    <text>It seems like you could make that DSL work without the indirection by just doing something like
```
`(:in slipnet
      (:in (equation)
           (:let ([15 ,(number 15)]
                  [+ ,(+)]
                  [9 ,(number 9)]
                  [6 ,(number 6)])
                 (:edge 15 source + result)
                 (:edge 9 result + operands))))
```
though I’m not sure, since I don’t totally understand all the features of the DSL. If the quoting/unquoting became too unwieldy, it might be easier to just do it with a macro, or set of macros.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:32:54.272200</ts>
    <user>Gonzalo</user>
    <text>And yeah, that makes sense.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:35:37.276900</ts>
    <user>Gonzalo</user>
    <text>I think what I said above is still true, though maybe now I can state it more precisely and not confuse terms. When you define a node class or tag class with arguments, you aren’t defining a node or a tag. You’re defining a node or tag _constructor_, a function that evaluates to a node. In fact, you might even be able to get away with skipping argument support in nodes/tags entirely and just writing:
```
(define (needs need-type)
  (tagclass needs ....))
```
I.e. literally just writing functions that produce tags/nodes when invoked.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:35:56.277300</ts>
    <user>Penni</user>
    <text>About `,(number 15)`, that brings up a source of messiness in the program. Maybe you know of a way to avoid this. When you make a new node, you get two values back: the new node's id, and the updated graph. So, `(number 15)` would have to return two values, messing up the use of unquoting. Much of the code right now is long `let*-values` statements like the one a few code snippets above.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:37:15.278500</ts>
    <user>Penni</user>
    <text>Yeah, I think viewing the class definitions as constructor definitions makes a lot of sense.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:38:03.279300</ts>
    <user>Gonzalo</user>
    <text>I see, yes. It does seem like maybe it would be better to do this with a macro rather than a runtime interpreter. It’s what macros are for, after all. :) Beside the obvious advantages of being able to do the work at compile-time and being able to reuse all of Racket’s macro-writing machinery, you get the very potent advantage of not having to reimplement scope yourself, since the macro system will handle that for you.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:38:51.280700</ts>
    <user>Gonzalo</user>
    <text>It seems like you could probably define `:in`, `:let`, and `:edge` as macros. Or maybe `:edge` wouldn’t be its own macro but would be part of the syntax of `:let`, I don’t know.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:39:06.281100</ts>
    <user>Penni</user>
    <text>Good point about not reimplementing scope! That was a bit of a nuisance, though I was able to exploit it to do stuff like make `:in` cause all the new nodes created inside it link automatically as "members" of the outer node.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:40:24.283000</ts>
    <user>Gonzalo</user>
    <text>Yes, I don’t know the details about all the things your DSL does, but I’d bet it’d be possible to replicate all the functionality and convenience via a macro or set of cooperating macros, and that’d _definitely_ play nicer with Typed Racket. But it might involve some more advanced macro machinery to do everything the same way.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:42:41.285400</ts>
    <user>Penni</user>
    <text>Regarding `:edge`, the current version is pretty ugly. In an old version of that DSL, written in Clojure, I had it look up the "port classes" (oh no, another kind of class!—nah, it's really not so bad) in the node-class definitions, and infer which ports were appropriate to link by. So, you could just say `(+ -&amp;gt; 15)` and it would infer that the edge must go from port `(+ result)` to port `(15 source)`.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:43:41.286000</ts>
    <user>Penni</user>
    <text>So, that's yet another place where code needs to "reflect" on the class definitions—a sort of indirection.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:45:32.287800</ts>
    <user>Penni</user>
    <text>The more I've worked on this, and the more I've learned about `syntax/parse`, the more I've come to think that it would be a big improvement to add more to the DSL. That could simplify the plain-Racket code quite a bit. It may be a little beyond my current `syntax/parse`-fu, but I'm learning…</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:46:13.288600</ts>
    <user>Gonzalo</user>
    <text>Is that a reflection on the class definitions, or a reflection on the nodes themselves? It sounded to me from what you said that the “classes” are just the syntax, they don’t exist at runtime (and at runtime there are only nodes).</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:49:28.290400</ts>
    <user>Penni</user>
    <text>It's a reflection on the class definitions. At run-time, in the current implementation, the classes still exist as structs that can be queried for various things, like "What port-labels do you link by?", "Does this class inherit from you?", etc.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:49:59.290900</ts>
    <user>Penni</user>
    <text>Right now I'm thinking that it would be better to just make the big macro generate functions to answer those questions.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:55:22.291800</ts>
    <user>Gonzalo</user>
    <text>I see. Yes, I think that’s right. So a class definition does exist as a separate thing from an “instantiation” of the class?</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:55:31.292000</ts>
    <user>Penni</user>
    <text>Yes.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:57:15.294900</ts>
    <user>Gonzalo</user>
    <text>Yes, it seems like then it would make sense to define variables bound to the class definitions, then make the macro expand to functions that inspect the class definitions at runtime to do the appropriate things. The macro can probably handle things like binding in `:let` at compile-time, though (although it’s certainly possible that `:let` could have extra runtime effects, too).</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:57:57.296300</ts>
    <user>Penni</user>
    <text>In fact, the nodes themselves (the "instantiations") are not represented in one place, like as a struct. There is a big struct for the graph as a whole, which contains hash tables for node ids, `(,node-id ,port-label)` -&amp;gt; incident ports, and looking up a node's attributes by the node's id and the attribute name.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:58:16.296400</ts>
    <user>Tambra</user>
    <text>&lt;@Priscila&gt; i made a little dataflow language similar to what you were asking about: &lt;https://pkgd.racket-lang.org/pkgn/package/datacell&gt;

(I literally wrote it this morning, no garuntees that its actually good :P)</text>
  </message>
  <message conversation_id="257">
    <ts>2019-03-06T13:59:08.296600</ts>
    <user>Priscila</user>
    <text>&lt;@Tambra&gt; cool!</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T13:59:57.297000</ts>
    <user>Priscila</user>
    <text>The example looks just right.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:00:14.297300</ts>
    <user>Tambra</user>
    <text>I can’t imagine where I got that example from…. :stuck_out_tongue:</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:02:36.297900</ts>
    <user>Priscila</user>
    <text>And you even check that there are no cycles between cells.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:04:46.298400</ts>
    <user>Priscila</user>
    <text>What's the idea behind the continuation marks?</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:05:41.299000</ts>
    <user>Tambra</user>
    <text>the idea is to do the cycle detection dynamically: if we every try to evaluate a cell *while* evaluating that same cell, we ran accross a cycle</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:06:11.299700</ts>
    <user>Tambra</user>
    <text>to tell if we are currently evaluating some cell the can look at the continuation marks an see if the stack is marked by that cells identity</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:06:26.300100</ts>
    <user>Priscila</user>
    <text>Oooh! That's clever.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:06:39.300400</ts>
    <user>Tambra</user>
    <text>I thing promices do basically the same thing</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:07:17.300800</ts>
    <user>Priscila</user>
    <text>I think I got confused by the name  `identity`.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:07:29.301200</ts>
    <user>Priscila</user>
    <text>I was thinking of the identity function.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:07:59.301900</ts>
    <user>Tambra</user>
    <text>oooh… yeah no I just wanted a seperate notion of `eq` in case the cells get chaperoned some day</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:08:06.302200</ts>
    <user>Tambra</user>
    <text>because like contracts are good, right?</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:08:18.302500</ts>
    <user>Priscila</user>
    <text>But rereading, I see identity is bound two lines above its use...</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:08:59.303100</ts>
    <user>Tambra</user>
    <text>right its just a fieldless struct stored in the cell</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:09:18.303600</ts>
    <user>Tambra</user>
    <text>thats used to track `eq?`ness since the cell identity is generated with each cell</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:10:17.304500</ts>
    <user>Tambra</user>
    <text>(also i was wrong looks like promices use semaphores and thread-eqness to track re-entrance, so that its thread safe. which i didn’t even think of… meh sounds like a later problem)</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:12:03.305200</ts>
    <user>Priscila</user>
    <text>I like your implementation. It's a nice example of something that's hard to do without macros.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:13:36.306200</ts>
    <user>Tambra</user>
    <text>So I had a first pass that didn’t need macros actually</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:14:29.307300</ts>
    <user>Tambra</user>
    <text>Basically cells were built out of constants and functions could be `lift`ed to work on cells, but that felt kinda ugly to me (and also `lift`ing involved `make-keyword-procedure` which always feels gross to me)</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:15:15.308100</ts>
    <user>Tambra</user>
    <text>It also meant that cells values had to be extracted by function, which meant that it was possible to accidentally lose track of a dependency which isn’t great</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:16:29.309000</ts>
    <user>Tambra</user>
    <text>(so…  thank you for giving me an excuse to avoid my real work/Agda for a morning and work in racket for a while :P)</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T14:16:41.309200</ts>
    <user>Priscila</user>
    <text>:wink:</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T14:48:03.315200</ts>
    <user>Penni</user>
    <text>&lt;@Gonzalo&gt; Thanks for your time and advice. The last time you helped me out, you helped me get the first version of the macro for this DSL working when I was completely stumped about how to use `syntax/parse`. Thinking about what you said today, it's hit me that the node-constructor function shouldn't take the graph as an argument nor return an updated graph. It should just return a hash table of the node's attributes except for the node's `id`. That can then get passed to the function that makes the new node (i.e. puts it in the graph) and assigns it an id. Failure to keep those ideas separate has probably cost the program some unnecessary complexity and bug-proneness up to this point. In other words, just change from `(make-node g 'number 17)` to `(make-node g (number 17))`. I'm still not sure how inference of the right port-labels for an edge could be done, but that can wait.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T15:46:47.316700</ts>
    <user>Karen</user>
    <text>&lt;@Tambra&gt; oh hey your `identity` struct is the same as my `generative-token` struct: &lt;https://docs.racket-lang.org/rebellion/Generative_Tokens.html&gt;</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T15:56:11.317600</ts>
    <user>Tambra</user>
    <text>There is something similar too in `reactor` using `signal-name`, although thats using uninterned symbols since I also want the actual name there:

&lt;https://github.com/florence/reactor/blob/master/data.rkt#L46&gt;</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:03:57.318000</ts>
    <user>Penni</user>
    <text>Does anyone know why the variables defined in the outer `begin` don't get defined? The functions defined in the inner `begin` do get defined.</text>
  </message>
  <message conversation_id="256">
    <ts>2019-03-06T16:06:04.318900</ts>
    <user>Priscila</user>
    <text>Most likely they are defined - but maybe in a different scope than you are expecting?</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:07:43.319200</ts>
    <user>Penni</user>
    <text>Any idea how I could track down that scope?</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:08:52.319700</ts>
    <user>Priscila</user>
    <text>The context is missing. Is this the body of a define-syntax?</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:09:18.319800</ts>
    <user>Penni</user>
    <text>Here's a little test that invokes the macro. The last line gets `hey: unbound identifier in: hey`. `(number 17)` works fine.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:09:22.320200</ts>
    <user>Penni</user>
    <text>Yes.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:10:20.320300</ts>
    <user>Penni</user>
    <text>Even this gets `hey: unbound identifier in: hey`.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:10:49.321000</ts>
    <user>Priscila</user>
    <text>The `hey` in `(define hey 'h)` needs to have the same scope as stx.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:11:10.321400</ts>
    <user>Priscila</user>
    <text>Wrap your #` with a with-syntax.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:11:24.321800</ts>
    <user>Penni</user>
    <text>Ohhhhh…</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:12:20.322400</ts>
    <user>Priscila</user>
    <text>(with-syntax ([hey (format-id stx "hey"))  ...your syntax...)</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:13:26.323800</ts>
    <user>Penni</user>
    <text>Is `with-syntax` the idiomatic way to do it with `syntax/parse` or does `syntax/parse` have its own natural way, maybe involving a keyword like `#:with`?</text>
  </message>
  <message conversation_id="259">
    <ts>2019-03-06T16:15:25.326300</ts>
    <user>Julia</user>
    <text>So, another way to fix this is to have things like `hey` and `ht/class-&amp;gt;is-a` be supplied by the user/invoker of the macro.
So maybe the `spec` macro takes these from the user.
When a macro `define`s things, and starts introducing names, that's often friendlier.
It's usually OK to bend the rules and form identifiers using `format-id` that add to a name supplied by the macro user.
Much like how `struct` and `define-struct` take the struct name from you, then make accessors from that base name.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:15:35.326500</ts>
    <user>Karen</user>
    <text>&lt;@Penni&gt; There’s a `#:with` keyword, and I usually write `syntax/parse` macros using `define-simple-macro`, `#:with`, and `#:do` instead of directly calling `syntax-parse` or using `with-syntax`</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:17:39.328600</ts>
    <user>Penni</user>
    <text>Indeed I don't like defining a bunch of magic variables. This was a quick test to see if I could generate the hash table. On the other hand, I also don't want to burden the user (me) with having to supply a list of all the various things like this that are going to be defined.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:17:51.328800</ts>
    <user>Karen</user>
    <text>```
(define-simple-macro (dtest)
  #:with hey (some expr returning a syntax object ...)
  (begin (define hey 'h)))
```</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:19:17.330500</ts>
    <user>Julia</user>
    <text>&lt;@Penni&gt; Fair enough. I just learned that rule of thumb, and so for me the lazy thing to do is follow that rule of thumb, rather than worry too much about scope if possible. :smile:</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:20:05.331500</ts>
    <user>Penni</user>
    <text>Oh, I like that rule of thumb, though! I'll keep it in mind as I try to finish this thing today.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:20:55.332900</ts>
    <user>Penni</user>
    <text>I'm all for simple rules of thumb and standard programming idioms so you don't have to consider lots of alternatives, you can just code!</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:21:43.333800</ts>
    <user>Karen</user>
    <text>I really wish the standard racket libraries had a nice wrapper around `format-id` that took care of the whole `'sub-range-binders` thing</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:22:17.334900</ts>
    <user>Penni</user>
    <text>&lt;@Karen&gt; Indeed I wrote my own wrapper like that once. Today I totally forgot about the need for `format-id`.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:22:28.335200</ts>
    <user>Priscila</user>
    <text>The `with-syntax` and `syntax` aka `#'` works everywhere. It's independent of `syntax-parse`, `syntax-case` etc. It even works in Scheme.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:22:45.335700</ts>
    <user>Karen</user>
    <text>There’s a couple of wrappers in the package catalog too I think</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:23:19.336600</ts>
    <user>Priscila</user>
    <text>It's good advice not to introduce a new identifier into an outer scope though.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:23:58.337600</ts>
    <user>Gonzalo</user>
    <text>Very much not in the standard library (yet), but I have an implementation of such a function here: &lt;https://github.com/lexi-lambda/mini-ml/blob/e8e0b62d294293bce343c77ac21c1ecb69d6f6a9/mini-ml-lib/mini-ml/private/util/syntax/misc.rkt#L143-L151&gt;</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:24:03.338000</ts>
    <user>Gonzalo</user>
    <text>Maybe it should be put somewhere.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:24:18.338700</ts>
    <user>Priscila</user>
    <text>Doesn't `#:source` (of `format-id` handle sub-ranges?</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:24:28.338900</ts>
    <user>Penni</user>
    <text>&lt;@Priscila&gt; Thanks. I'm just seeking one of those standard, idiomatic things so the code is easy to read (and write). I'm going to try it with `#:with` and if that doesn't work, go back to `with-syntax`. (A little grepping shows that I've been doing `with-syntax` + `format-id` throughout other code. Weird that I forgot about it today!)</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:26:21.340900</ts>
    <user>Penni</user>
    <text>Ah, maybe it would be better to have the `spec` macro _return_ that hash table—or some struct that contains all the stuff that it needs to generate, apart from the various functions (named by the user) inside the spec.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:26:25.341100</ts>
    <user>Karen</user>
    <text>&lt;@Priscila&gt; I don’t think so, I think that’s just the source location of the whole identifier. Not for any specific portions of the identifier.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:27:17.341900</ts>
    <user>Priscila</user>
    <text>I see. Why not extend `format-id` then. No need to have a wrapper if we can avoid it.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:27:17.342000</ts>
    <user>Karen</user>
    <text>a list of everyone’s implementations of this would be a compelling argument for a `racket/syntax` PR :p</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:29:31.343600</ts>
    <user>Penni</user>
    <text>It worked with `#:with` and `format-id`. Hooray! Thanks for saving me an hour of stupidly trying stuff until it hit me. :wink:</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:30:43.344800</ts>
    <user>Karen</user>
    <text>&lt;@Priscila&gt; That would also be fine with me, and probably won’t break anything</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:34:49.345000</ts>
    <user>Penni</user>
    <text>&lt;@Julia&gt; This requires passing an additional argument to the function, but at least there's no mess of "magic" or "implicit" identifiers being defined.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:41:56.346900</ts>
    <user>Priscila</user>
    <text>&lt;@Gonzalo&gt; Put in `format-id` using a new keyword.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:42:04.347100</ts>
    <user>Penni</user>
    <text>Hmm, `(define sp (spec . . .))` can't define functions in addition to returning a `FARGishSpec` struct. Looks like it'll have to be `(define-fargish-spec specname (nodeclass blah blah . . .) . . .)`.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:45:18.347300</ts>
    <user>Gonzalo</user>
    <text>&lt;@Priscila&gt; Doing it in `format-id` would be more work, since you’d have to parse the pattern to figure out where the insertions begin and end. `format-id` currently just ultimately turns into `format`, but making it do the smarter thing would require doing more itself.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:45:43.347500</ts>
    <user>Gonzalo</user>
    <text>Still, it’s probably the right thing to do.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:45:55.347700</ts>
    <user>Karen</user>
    <text>something like this?
```
(format-id #'foo "~a-~a" #'foo #'bar #:sub-range-binders? #t)
```</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:46:53.348600</ts>
    <user>Penni</user>
    <text>Now it works without `#:with` or `format-id`. Hooray! Thanks again, this time for guiding me along a saner design path.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:47:34.348800</ts>
    <user>Gonzalo</user>
    <text>I wonder if it would cause any actual backwards-compatibility problems to make `#:sub-range-binders?` default to `#t`. It would probably make some existing programs magically more cooperative with Check Syntax. But maybe that’s too magical and not worth it.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:47:37.349000</ts>
    <user>Priscila</user>
    <text>I need to read up on sub-range-binders.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:48:40.349200</ts>
    <user>Gonzalo</user>
    <text>&lt;@Priscila&gt; `sub-range-binders` is what lets `posn-x` have different binding arrows for the `posn` and `x` parts.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:48:43.349400</ts>
    <user>Karen</user>
    <text>Maybe it can default to `#f` initially and then change to defaulting to `#t` after a release or two.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:49:03.349600</ts>
    <user>Karen</user>
    <text>And it’s what lets DrRacket’s “renaming” tool work on struct fields</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:49:28.349800</ts>
    <user>Karen</user>
    <text>if you rename the `x` field of a `posn` struct to `foo`, drracket will rename `posn-x` to `posn-foo`</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:50:06.350000</ts>
    <user>Priscila</user>
    <text>Yes. I just can't remember the details. For example. Is it possible for format-id to infer from "~a-~a" what to do? In other situation it might be "~a/~a" or something different.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:50:53.350200</ts>
    <user>Priscila</user>
    <text>I begin to see what you meant with "it is more work in format-id".</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:51:09.350400</ts>
    <user>Priscila</user>
    <text>For simple cases it might not be too bad though.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:52:39.350600</ts>
    <user>Karen</user>
    <text>in my utils package I’ll probably just replace the whole `format-id` shebang with something where format strings are actual structured data and not just strings, so it’s much less magic how `format-id` works</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:54:00.350800</ts>
    <user>Gonzalo</user>
    <text>It’s not _too_ hard. It just involves manually expanding the format string.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:54:57.351000</ts>
    <user>Karen</user>
    <text>what should `(format-id #'foo "~a-~a" #'bar "not an identifier" #:sub-range-binders? #t)` do?</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:55:35.351200</ts>
    <user>Gonzalo</user>
    <text>Non-identifier arguments just don’t cause any entries in the `'sub-range-binders` value.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:56:17.351400</ts>
    <user>Karen</user>
    <text>which means `(format-id #'foo "~a-~a" #'bar (expression-that-should-return-identifier-but-doesnt) #:sub-range-binders? #t)` will be a silent bug</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:56:43.351600</ts>
    <user>Karen</user>
    <text>that will pretty much never get caught, since this is the kind of thing that people don’t test for (and it’s hard to test for)</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:57:28.351800</ts>
    <user>Gonzalo</user>
    <text>I can’t imagine very many cases where a sub-range-binder is actually useful but someone would somehow accidentally return a stringified version.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:57:57.352100</ts>
    <user>Gonzalo</user>
    <text>If you _ever_ see that happen in the wild, let me know. :)</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:58:31.352300</ts>
    <user>Karen</user>
    <text>it’s very common that I use `format-id` with `map`, and I’ve been known to get myself confused over what I’m mapping over or whether I’m getting a syntax object or a symbol as an argument</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:58:46.352500</ts>
    <user>Karen</user>
    <text>that would be a case where a lenient `format-id` would go unnoticed by me</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T16:59:42.352700</ts>
    <user>Karen</user>
    <text>….when does `format-id` get used with arguments that _aren’t_ identifiers anyway?</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:00:39.352900</ts>
    <user>Gonzalo</user>
    <text>I guess I could theoretically see people using `syntax-&amp;gt;datum` instead of `syntax-&amp;gt;list` and dropping properties. But I don’t really care enough to worry about it.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:01:07.353100</ts>
    <user>Gonzalo</user>
    <text>What’s far more likely is that people won’t specify `#:props`, the resulting syntax object won’t be `syntax-original?`, and Check Syntax will ignore it anyway.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:01:31.353300</ts>
    <user>Karen</user>
    <text>oh yeah I didn’t even realize that would be necessary</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:02:11.353500</ts>
    <user>Karen</user>
    <text>so `(format-id #'foo "~a-~a" #'foo #'bar #:sub-range-binders? #t)` is broken on its own, it needs a `#:props` argument with…. what?</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:02:48.353700</ts>
    <user>Karen</user>
    <text>just copying the props of `#'foo` or `#'bar` doesn’t seem right</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:02:53.353900</ts>
    <user>Gonzalo</user>
    <text>Good question. Syntax properties are goofy. I don’t think they’re actually a very good solution to very many things, but that’s not a fight for anytime soon.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:03:22.354100</ts>
    <user>Gonzalo</user>
    <text>But think about it another way: you’re copying lexical context from `#'foo` or `#'bar`. That doesn’t really seem right, either.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:04:02.354300</ts>
    <user>Karen</user>
    <text>No the lexical context copying _does_ seem right, since that’s how I introduce the identifier into the same scope as either `#'foo` or `#'bar` (like struct field accessors)</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:04:06.354500</ts>
    <user>Gonzalo</user>
    <text>If a macro generates `(struct foo (x))`, and `foo` has totally different lexical context from `x`, what lexical context should `foo-x` be in? Who knows?</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:04:21.354700</ts>
    <user>Karen</user>
    <text>for field accessors it should be the context of the field name</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:04:39.354900</ts>
    <user>Gonzalo</user>
    <text>Then you should copy the properties from the field name.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:05:13.355100</ts>
    <user>Karen</user>
    <text>I don’t think that follows</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:05:30.355300</ts>
    <user>Gonzalo</user>
    <text>IME, when using `format-id`, you _usually_ want the lctx, srcloc, and props arguments to all be the same.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:07:01.355500</ts>
    <user>Karen</user>
    <text>yeah and that’s what I do by default but I don’t feel like I have a good enough argument for _why_ I do that, and I don’t know if it actually works the way I want it to all the time. It just seems like the simplest thing to do that isn’t obviously broken somehow.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:07:44.355700</ts>
    <user>Gonzalo</user>
    <text>Think of it this way. When you write `format-id`, you’re usually generating an identifier derived from one or more other identifiers. Sometimes, it isn’t clear which of the identifiers is the “primary” identifier. That case is hard. But when you _can_ designate one of them as a “primary” identifier, then you’re basically morally saying that the resulting identifier _is the same identifier_ as the original one, the user just wrote it in an abbreviated form. So everything about the original identifier should be copied onto the new one; they’re the “same” identifier.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:09:16.355900</ts>
    <user>Karen</user>
    <text>That’s definitely not what I want to say though, because sometimes I’m deriving multiple different identifiers from the same one. Like struct lenses. I want to say that these identifiers are all derived from this other one, and should have the same scope, but I _don’t_ want to say that they’re the same because I don’t think of them all as the same identifier at all. Like, what if the field name _already had_ a sub range binders property?</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:10:16.356100</ts>
    <user>Karen</user>
    <text>use case: macro for nested struct definitions that did something magic to generate field names by stringing together lots of other field names</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:11:06.356300</ts>
    <user>Gonzalo</user>
    <text>Sure, that case is trickier. But keep in mind that just because the binding site has a sub-range-binders property doesn’t mean its uses do. It’s actually extremely unlikely for an identifier with a sub-range-binders property on it to ever show up in the input to a macro.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:11:09.356500</ts>
    <user>Karen</user>
    <text>(there’s a couple of interface description languages that do this, most notably google’s protobuffer language)</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:12:36.356700</ts>
    <user>Gonzalo</user>
    <text>In any case, I think if you’re doing something that fancy, you’re probably going to get weird behavior, anyway, with any automatic scheme.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:12:51.356900</ts>
    <user>Gonzalo</user>
    <text>So you might just have to be careful and do it by hand.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:12:53.357100</ts>
    <user>Karen</user>
    <text>I think I want a list of what common syntax properties there are and to understand how they’re affected by copying onto derived ids like this</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:13:08.357300</ts>
    <user>Karen</user>
    <text>I only know of the ones used by check syntax</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:14:07.357500</ts>
    <user>Gonzalo</user>
    <text>Yeah, me too. I think the fact that all syntax properties are automatically copied by the expander was probably a mistake, but it’s also unclear what a better solution is. So I don’t know. I don’t think syntax properties are “the right thing”, I think they’re sort of a hack, so I try not to worry about them that much.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:14:50.357700</ts>
    <user>Karen</user>
    <text>They seem alright for use-site metadata. Anything related to the binding of the id though…. not so much. Like type information.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:15:32.357900</ts>
    <user>Gonzalo</user>
    <text>I think they work okay for things like `'disappeared-use`, but not for lots of other kinds of metadata, like `'paren-shape`.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:15:46.358100</ts>
    <user>Gonzalo</user>
    <text>Since it really doesn’t make very much sense for `'paren-shape` to get copied onto the expansion of a macro.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:16:08.358300</ts>
    <user>Karen</user>
    <text>Yeah `'paren-shape` _definitely_ doesn’t make sense</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:16:30.358500</ts>
    <user>Gonzalo</user>
    <text>But that’s just the problem: syntax properties are used for a half dozen different things, but they’re a one-size-fits-all solution. Which doesn’t work.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:16:45.358700</ts>
    <user>Gonzalo</user>
    <text>But, to be fair, I doubt most of those use cases were known when syntax properties were first added.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:17:28.358900</ts>
    <user>Karen</user>
    <text>Yup</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:17:40.359100</ts>
    <user>Karen</user>
    <text>I’m gonna make a gist listing syntax properties</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T17:23:47.359900</ts>
    <user>Marcelina</user>
    <text>&lt;@Priscila&gt; &amp;amp; &lt;@Loise&gt; Sorry, I was out sick for the past month, so no, they aren't. :disappointed:</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T17:24:12.360100</ts>
    <user>Priscila</user>
    <text>No worries.</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:27:07.360200</ts>
    <user>Karen</user>
    <text>&lt;https://gist.github.com/jackfirth/09270f3334f9069bea817e3ab9cff11f&gt;</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:28:01.360400</ts>
    <user>Karen</user>
    <text>looking at that list, `'mouse-over-tooltips` jumps out at me as something I would plausibly want on a struct field name, an accessor, and a setter, and I’d want them all different</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T17:29:10.360600</ts>
    <user>Penni</user>
    <text>Is this just something that hasn't been migrated to Typed Racket yet, or am I misusing `~or*`?</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T17:30:46.361300</ts>
    <user>Elin</user>
    <text>A lot of `syntax-parse` internal functions just haven’t been put into Typed Racket yet</text>
  </message>
  <message conversation_id="258">
    <ts>2019-03-06T17:32:15.361800</ts>
    <user>Penni</user>
    <text>I see. Further REPLing suggests that the problem has something to do with literals.</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T17:39:39.361900</ts>
    <user>Penni</user>
    <text>Any suggestion for how to get around this?</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T17:48:14.367200</ts>
    <user>Penni</user>
    <text>I'm surprised that this doesn't work. It makes me suspect that I'm probably making some elementary error rather than pushing `syntax-parse` beyond what's been migrated to Typed Racket. Does anything look wrong there?</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T17:55:25.373600</ts>
    <user>Elin</user>
    <text>I hate to tell you this bad news, but no amount of `required/typed` will fix this. The `normalize-context` identifier produced by the `syntax-parse` macro doesn’t have a type, and `require/typed` (and `unsafe-require/typed` too) produces a new binding, which the output of `syntax-parse` will never refer to because it’s not in scope.

The only thing that might fix this is a super unsafe, undocumented, internal, super not-meant-to-be-used-by-users thing called `#lang s-exp typed-racket/base-env/extra-env-lang`.

It’s weird and dangerous, more dangerous than `unsafe-require/typed/provide`. You can think of it sort of like compile-time mutation on Typed Racket’s internal type table. It doesn’t just define a new identifier that might be unsafe to use like `unsafe-require/typed/provide` would; mutates the table for existing identifiers without creating a new binding. So code `X` using it can make code `Y` unsafe even if `Y` has nothing to do with it.

So maybe _someone_ should use that to provide types for internal `syntax-parse` functions, but it should be part of the official `typed-racket-more` package, reviewed for type safety, and it will have to update whenever the _internal implementation details_ of `syntax-parse` update, not just when the interface updates.</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T17:56:38.374500</ts>
    <user>Penni</user>
    <text>OK, that does indeed sound scary, especially for a Typed Racket _and_ `syntax-parse` newbie.</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T17:57:11.375100</ts>
    <user>Penni</user>
    <text>I'm now seeing if defining syntax-classes will work. That's how, purely by chance, I've been doing it in other code so far.</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T18:00:21.375200</ts>
    <user>Penni</user>
    <text>Well, this works!</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T18:01:19.375900</ts>
    <user>Elin</user>
    <text>So `define-syntax-class` just avoids using the `normalize-context` identifier here?</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T18:03:18.376300</ts>
    <user>Elin</user>
    <text>Wait, when I try that I get a similar error about `es-add-thing` instead.</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T18:03:53.376900</ts>
    <user>Gonzalo</user>
    <text>&lt;@Penni&gt; I think you probably want to use untyped Racket at phase 1 (that is, for all your compile-time code) and just use Typed Racket at phase 0.</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T18:04:17.377500</ts>
    <user>Gonzalo</user>
    <text>I don’t think it’s theoretically impossible to use TR for phase 1 code, but I don’t think it’s easy, either.</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T18:05:45.379200</ts>
    <user>Penni</user>
    <text>Ohhhhhh, that might explain it. The error messages are all from me typing into the REPL. The code that worked was in a source file that I ran. The source file has `#lang typed/racket`, so so does the REPL. But as you say, phase 1 should be run with Untyped Racket.</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T18:07:01.379700</ts>
    <user>Gonzalo</user>
    <text>Yes… I think `#lang typed/racket` provides ordinary `racket/base` at phase 1?</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T18:07:19.380200</ts>
    <user>Gonzalo</user>
    <text>If you write your code in the REPL under a `begin-for-syntax`, you might have better luck.</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T18:08:16.380600</ts>
    <user>Penni</user>
    <text>Yes. Or at least I'm pretty sure that's what's happening.</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T18:09:20.382000</ts>
    <user>Penni</user>
    <text>And thanks for the REPL suggestion! I'd been grooving on how easy it is to try even `syntax-parse` stuff at the REPL, but OK, it's not quite as easy as I imagined, but that's still fine for quickly trying stuff out to see if I'm doing it right.</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T18:12:27.383100</ts>
    <user>Elin</user>
    <text>If you want a REPL that’s consistently at compile-time, you can start one with `(begin-for-syntax (read-eval-print-loop))` or something like that:
```
&amp;gt; (begin-for-syntax (read-eval-print-loop))
&amp;gt; (define-syntax-class nodeclass-head
    #:datum-literals [nodeclass tagclass]
    #:attributes [tagclass?]
    (pattern nodeclass
      #:with tagclass? #'#f)
    (pattern tagclass
      #:with tagclass? #'#t))
&amp;gt; (syntax-parse #'nodeclass [x:nodeclass-head #'x.tagclass?])
.#&amp;lt;syntax:interactions from an unsaved editor::156 #f&amp;gt;
```</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T18:13:24.383400</ts>
    <user>Gonzalo</user>
    <text>Wow, I had no idea that would work.</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T18:13:27.383500</ts>
    <user>Penni</user>
    <text>Excellent!</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T18:13:53.384000</ts>
    <user>Gonzalo</user>
    <text>It seems to be maybe less than ideal in DrRacket.</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T18:14:09.384400</ts>
    <user>Penni</user>
    <text>Indeed when I'm experimenting like this, I usually try many, many variations until I get it right.</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T18:15:16.385200</ts>
    <user>Penni</user>
    <text>Ah, I see. It's got that "eof" box. &lt;@Elin&gt;, are you running with something like XREPL?</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T18:16:27.385900</ts>
    <user>Elin</user>
    <text>No, I’m running it in DrRacket, I’ve just gotten used working with that “eof” box in the way</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T18:17:23.386300</ts>
    <user>Penni</user>
    <text>I see. Life is filled with trade-offs. :wink:</text>
  </message>
  <message conversation_id="260">
    <ts>2019-03-06T18:20:33.387200</ts>
    <user>Penni</user>
    <text>Anyway, thanks. Now I'm no longer making workarounds for things that aren't problems, and now I've got a way to experiment with `syntax-parse` in the REPL.</text>
  </message>
  <message conversation_id="261">
    <ts>2019-03-06T18:29:22.387400</ts>
    <user>Karen</user>
    <text>&lt;@Elin&gt; wait, _what_</text>
  </message>
  <message conversation_id="261">
    <ts>2019-03-06T18:29:25.387600</ts>
    <user>Karen</user>
    <text>that _works_?</text>
  </message>
  <message conversation_id="262">
    <ts>2019-03-06T19:38:21.389200</ts>
    <user>Julia</user>
    <text>Switching between `sleep` and `alarm-evt`, if I had a nickel for every time I mixed up seconds and milliseconds, I'd have either 100 or 100,000 nickels.</text>
  </message>
  <message conversation_id="262">
    <ts>2019-03-06T20:33:24.390000</ts>
    <user>Kristeen</user>
    <text>&lt;@Julia&gt; I had 100000 nickels but then I divided by 1000</text>
  </message>
  <message conversation_id="262">
    <ts>2019-03-06T20:41:12.394000</ts>
    <user>Karen</user>
    <text>&lt;@Julia&gt; &lt;@Kristeen&gt; fun fact: inside Google, functions that accept / return a number of seconds / milliseconds / days / etc. are required by policy to include the unit in the function name and tools check for this automatically during code reviews</text>
  </message>
  <message conversation_id="262">
    <ts>2019-03-06T20:41:57.394400</ts>
    <user>Kristeen</user>
    <text>What do you do for function arguments (as in &lt;@Julia&gt;'s examples)?</text>
  </message>
  <message conversation_id="262">
    <ts>2019-03-06T20:42:51.395400</ts>
    <user>Karen</user>
    <text>Either include the unit in the function name or (better) accept a structured type like `Duration` instead of a plain number</text>
  </message>
  <message conversation_id="262">
    <ts>2019-03-06T20:43:56.397100</ts>
    <user>Karen</user>
    <text>so like, either `(sleep-seconds 200)` or `(sleep (seconds 200))`</text>
  </message>
  <message conversation_id="262">
    <ts>2019-03-06T20:44:48.398200</ts>
    <user>Karen</user>
    <text>The former approach tends to get used when you can't use a structured type easily, like for a command line flag.</text>
  </message>
  <message conversation_id="262">
    <ts>2019-03-06T21:32:03.403400</ts>
    <user>Julia</user>
    <text>For my own function definitions I tend to do a keyword argument that says the units.
e.g. For a "Racket2" I'd suggest `(sleep #:seconds n)` and `(alarm-evt #:milliseconds n)`.
In my own code I tend to abbreviate `#:msec`.
Although, real talk: If I haven't burned my hand on the stove recently, I sometimes still define them ambiguously. hash tag do as I say not as I do. ¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="263">
    <ts>2019-03-06T21:41:11.404100</ts>
    <user>Ashlea</user>
    <text>Hello, I'm making some autocomplete plugins from drracket: &lt;https://github.com/yjqww6/drcomplete&gt;</text>
  </message>
  <message conversation_id="262">
    <ts>2019-03-06T22:51:20.404300</ts>
    <user>Karen</user>
    <text>That works pretty well in a pinch. I assume it makes it difficult to document such a function though.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:26:34.407100</ts>
    <user>Caprice</user>
    <text>Cool!</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:28:36.408500</ts>
    <user>Penni</user>
    <text>How can you do a topological sort on things defined within a `syntax-parse` macro? The topological sort itself hasn't been an obstacle for me (there's a library function that does it, for one thing). The difficulty has been pulling the syntax objects out of pattern variables to pass to the topological-sort function. I'd need to make a closure or something that accepts one pattern variable and returns its "parent" attribute(s). But is that even possible?</text>
  </message>
  <message conversation_id="262">
    <ts>2019-03-07T01:29:27.409200</ts>
    <user>Karen</user>
    <text>&lt;@Penni&gt; I’d expect something like `(topological-sort (syntax-&amp;gt;list #'(foo ...)))`</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:29:40.409600</ts>
    <user>Karen</user>
    <text>but I suspect you’re having issues because you want to do something like `foo.attr`?</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:29:47.409800</ts>
    <user>Penni</user>
    <text>Yes, exactly.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:30:12.410300</ts>
    <user>Karen</user>
    <text>I think a reasonable way to do that would be to make a syntax class that does the sorting</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:30:48.410600</ts>
    <user>Penni</user>
    <text>Hmm. So how could a syntax class do that?</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:31:48.411700</ts>
    <user>Penni</user>
    <text>Just a sec, I'll paste some code…</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:33:14.413100</ts>
    <user>Karen</user>
    <text>```
(define-syntax-class foo
  #:attributes (attr1 attr2)
  (pattern ...))

(define-syntax-class foos
  #:attributes ([sorted 1] [sorted.attr1 1] [sorted.attr2 1])
  (pattern (unsorted:foo ...) #:with (sorted:foo ...) (topological-sort-ids #'(unsorted ...))))
```</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:33:28.413400</ts>
    <user>Karen</user>
    <text>beware, I have only written this code, not compiled it</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:34:14.414300</ts>
    <user>Karen</user>
    <text>in particular I’m not sure if that `#:with (sorted:foo ...)` part will correctly expose `sorted.attr1` and `sorted.attr2`</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:34:41.414800</ts>
    <user>Penni</user>
    <text>So how do you write the function, passed to the topo-sort function, that accepts an element and returns its  neighbors?</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:36:34.415800</ts>
    <user>Karen</user>
    <text>hmm. I wouldn’t topo-sort that way, I’d use a partial order (a function of two args that returns `(or/c '&amp;lt; '&amp;gt; '= '≠)`)</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:36:59.416200</ts>
    <user>Karen</user>
    <text>is there an implementation of topological sort somewhere in the stdlibs?</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:39:32.416300</ts>
    <user>Penni</user>
    <text>This is way more than the minimal code to illustrate the problem, but hopefully the comments make the relevant bits salient.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:39:59.416900</ts>
    <user>Penni</user>
    <text>Yes, there's a topo sort right here: &lt;https://docs.racket-lang.org/mischief/sort.html&gt;</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:43:57.419600</ts>
    <user>Karen</user>
    <text>if it were me I’d probably make my own implementation that accepted a partial order, since that way it’s impossible to accidentally have cycles</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:44:17.420100</ts>
    <user>Penni</user>
    <text>The main problem, though, is just how to extract info from the syntax objects to process by arbitrary Racket code, as suggested here: &lt;https://docs.racket-lang.org/syntax/varied-meanings.html?q=~optional#%28part._.Non-syntax-valued_.Attributes%29&gt;  I figure this must be a pretty fundamental technique. I've been experimenting with functions like `stx-&amp;gt;list`, but I haven't found how to pass data between the `syntax-parse` world and the Racket world yet.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:45:26.421900</ts>
    <user>Karen</user>
    <text>ah, right - I think the issue there is that an expression like `#'(foo …)` throws away all the syntax attributes of `foo`, since those aren’t really something connected to the `foo` identifier</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:45:34.422300</ts>
    <user>Penni</user>
    <text>I hazily remember implementing a topo sort via partial order once, a long time ago. I'll think about applying it here. I do want to raise an error if there is a cycle.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:45:50.422800</ts>
    <user>Karen</user>
    <text>the `syntax/parse` library just binds related identifiers like `foo.attr` using `with-syntax`</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:46:00.423300</ts>
    <user>Penni</user>
    <text>I was wondering how attributes were connected to pattern variables. :wink:</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:46:06.423500</ts>
    <user>Karen</user>
    <text>but the `(syntax ...)` form and `with-syntax` don’t know anything at all about that connection</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:48:13.424400</ts>
    <user>Penni</user>
    <text>One idea I've been exploring, so far without success, is to make a list in `syntax-parse` that places each name next to its parents, like this:</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:50:08.425000</ts>
    <user>Karen</user>
    <text>so, what’s a nodeclass anyway?</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:54:19.425100</ts>
    <user>Penni</user>
    <text>A nodeclass is a definition of a kind of node that can go into the graph that this program operates on. A nodeclass specifies values for attributes and rules for what kind of linking is allowed. Here are a couple illustrations. (A "tagclass" is just a nodeclass for nodes that describe other nodes.)</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T01:54:47.425700</ts>
    <user>Penni</user>
    <text>The reason for the topological sort is to implement inheritance for nodeclasses.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:21:55.427000</ts>
    <user>Karen</user>
    <text>&lt;@Penni&gt; You might have more luck making actual structs for your nodeclass and tagclass concepts and defining functions that construct and manipulate them. Then you could have macros that create those structs at compile time. That would be easier to do complex transformations on than raw syntax objects.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:29:00.429800</ts>
    <user>Penni</user>
    <text>Hmm, that's what the current version (the one I'm now rewriting) does, actually. (It keeps the nodeclass structs around during run-time and consults them for various things, which is probably not what you have in mind.) I was wondering if people do complex transformations right within `syntax-parse`, or, if not, how they generate code that does non-trivial rewriting of parts of the program like what happens in inheritance.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:32:15.432100</ts>
    <user>Karen</user>
    <text>I think there’s a wide variety of ways people do it. Macrology is far from a refined science. For especially complex compile-time transformations, I personally would create structs holding the pieces of syntax I’m transforming so I can implement the transformations with functions that are documented, tested, and provided from their own module that I import at compile time when I need it.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:33:55.433500</ts>
    <user>Penni</user>
    <text>Hmm, so are you thinking to structure the program something like this?
1. `syntax-parse` to read the source code and generate structs.
2. Racket code to operate on the structs to do stuff like inheritance.
3. Another round of `syntax-parse` to read the structs and generate code.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:34:26.433900</ts>
    <user>Karen</user>
    <text>I’m honestly not sure</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:34:39.434400</ts>
    <user>Karen</user>
    <text>I suspect a good place to unify the structs and `syntax-parse` would be syntax classes though</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:35:08.435000</ts>
    <user>Karen</user>
    <text>since you can put the struct instances in a syntax class’s attributes</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:35:24.435400</ts>
    <user>Penni</user>
    <text>I keep hearing how `syntax-parse` makes it easy to whip out DSLs. I figure it's a matter of seeing how it's done on a variety of non-trivial examples.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:35:52.436100</ts>
    <user>Karen</user>
    <text>Yeah there is not a lot of guidance for complex DSLs</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:36:29.436700</ts>
    <user>Penni</user>
    <text>Yeah, I've been having some success using syntax classes as "subroutines" that return "multiple values" through their attributes.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:36:54.437000</ts>
    <user>Penni</user>
    <text>Oh well, I was hoping that this was a simple DSL!</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:37:47.437900</ts>
    <user>Penni</user>
    <text>I suppose that inheritance adds some non-trivial complexity. It's given me a headache in each version of this DSL that I've implemented. (Some were in Clojure before I switched to Racket.)</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:38:39.438900</ts>
    <user>Karen</user>
    <text>hmm, maybe the nodeclass and tagclass things don’t need to be macros at all</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:38:47.439200</ts>
    <user>Karen</user>
    <text>what is your program using them for?</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:41:51.441000</ts>
    <user>Penni</user>
    <text>To unravel the mysteries of the mind. More precisely, to simulate human analogy-making in solving an arithmetic puzzle. But I'd like the same DSL to easily implement other, related computer models—called "FARG models" (for Fluid Analogy Research Group).</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:42:47.441500</ts>
    <user>Karen</user>
    <text>this thing? &lt;https://cogsci.indiana.edu/research.html&gt;</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:42:59.441800</ts>
    <user>Penni</user>
    <text>Yes.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:45:04.444000</ts>
    <user>Penni</user>
    <text>A better answer to your question is: to automate various kinds of matching of subgraphs and editing of the graph. For example, if the program "notices" that there's a `(number 4)` node and a `(number 17)` node, it might "tag" them with a `greater-than` tag, which in turn could help trigger some other kind of match, eventually leading to solving the puzzle.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:45:46.444300</ts>
    <user>Karen</user>
    <text>huh, that kinda reminds me of RDF and OWL</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:47:53.446300</ts>
    <user>Karen</user>
    <text>anyways, so this program is working with a graph and the program is allowed to add edges it thinks are interesting / useful to the graph - when is the program done? what’s the success state?</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:48:55.447300</ts>
    <user>Penni</user>
    <text>FARG models try to simulate thought at a "subcognitive" level: psychological pressures pushing the system to explore this way or that way, somewhat different than the formal-logic style of semantic-web stuff. But in practice, sometimes the difference is not all that great. Anyway…</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:49:17.447900</ts>
    <user>Karen</user>
    <text>Yeah it sounds much less directed</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:49:27.448200</ts>
    <user>Karen</user>
    <text>(not a bad thing!)</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:50:46.449700</ts>
    <user>Penni</user>
    <text>The program has to detect when it has solved the puzzle. Some versions just have some code that checks if there is a solution after every timestep. I think it's better to have detecting the solution be yet another thought process to simulate. Probably not too important, though. My main concern right now is just to get the DSL into good-enough shape that it's easy to try ideas.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:51:58.450500</ts>
    <user>Karen</user>
    <text>what’s the puzzle?</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:52:29.451300</ts>
    <user>Penni</user>
    <text>If the nodeclasses weren't defined by macros, how might that work? (Tagclasses are nodeclasses with a `tag?` attribute set to `#t`.)</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:53:10.452600</ts>
    <user>Karen</user>
    <text>I’m guessing the program is supposed to solve the puzzle in a very generic way that involves guessing at graphs of concepts of stuff, instead of some sort of algorithmic solution that’s very specialized to the kind of puzzle being solved</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:55:16.454200</ts>
    <user>Penni</user>
    <text>In this FARG model, the puzzle is to figure out how to add, subtract, and/or multiply some given numbers to produce a target number. For example, given 6, 3, 4, and 5, make 32. Yes, the program is supposed to follow human-like heuristics, guessing at what looks promising, applying mathematical insight, maybe gaining some mathematical insight during the process.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T02:59:29.457000</ts>
    <user>Penni</user>
    <text>Something that I want to add pretty soon is some sort of logarithmic representation of the number line, to judge, say, that 32 is "much bigger" than the other numbers, which are all "pretty close together". This needs to be easy to add in the DSL. But right now, the main thing is just to get the linking right, so that code can look around to see what tags apply to what nodes, search its memory for similar situations, make adjustments to those memories to guide the current search—that sort of thing.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:00:52.457800</ts>
    <user>Karen</user>
    <text>is the idea of the `tagclass` and `nodeclass` DSL to allow people to make their own models and puzzles? or is the DSL you’re making specialized to this arithmetic puzzle?</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:03:57.460800</ts>
    <user>Penni</user>
    <text>I definitely want other people to be able to make their own FARG models with this DSL. Another grad student here has occasionally been pair-programming with me on it, hoping to apply it to model that he's planning to make. Also, there is a neat theoretical idea, where different parts of the graph form coalitions and compete or steal each other's nodes, which I want to try out. Really, the best way to think of this thing is that it's a test bench for experimenting with ideas for FARG models—hopefully without writing huge amounts of code. (Past FARG models have been 15,000 lines of Lisp or more.)</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:05:06.461700</ts>
    <user>Penni</user>
    <text>Also, _I_ want to model some things aside from this puzzle, especially parsing of natural language and making simple mathematical proofs.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:06:09.461800</ts>
    <user>Karen</user>
    <text>I dunno what I’d do ¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:06:30.462500</ts>
    <user>Penni</user>
    <text>Oh well! So, inheritance doesn't come up often in Racket DSLs?</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:06:45.462900</ts>
    <user>Karen</user>
    <text>it sounds like a very complex domain that I have very little experience with so really any advice I can give would be based on generic practices I tend to follow, rather than stuff specialized to your use case</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:08:23.464600</ts>
    <user>Penni</user>
    <text>Yeah, I don't think knowledge of the domain is really necessary. I'm just gunning for how to add inheritance to nodeclasses. Or more generally, how to extract info from syntax objects (like attributes of pattern variables), run it through Racket functions, and then generate code.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:13:40.469200</ts>
    <user>Karen</user>
    <text>A generic principle of mine that might be relevant: if I’m describing something with nouns, I like to reflect that language in code by defining a data type for that noun and then defining a library of operations on that noun. For example, if I’m working with things I’m calling graphs then there ought to be a `graph?` predicate and a library of `graph-_` functions. So since you’re describing tools to build FARG models, I ask you: what’s a `farg-model?` value? What can you do to it? Is there a `(farg-model-query model query)` function? A `(farg-model ...)` expression that makes a model? If it were me, I’d think about those questions and then create a `(require farg-model)` collection with Scribble docs. Any DSLs I make ought to be things built _on top_ of this collection.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:14:12.469600</ts>
    <user>Karen</user>
    <text>so for inheritance and nodeclasses, I’d have to think about what a `nodeclass?` object is</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:15:10.470200</ts>
    <user>Karen</user>
    <text>no idea if that’s at all helpful to you though</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:20:08.474700</ts>
    <user>Penni</user>
    <text>It sounds like we approach this the same way. I've got a `graph` struct (in the new version now under construction, it's `Graph` since I just moved it to Typed Racket) with a whole bunch of functions to operate on it: making and removing nodes, finding neighbors, etc. Then there's `model.rkt`, which provides a layer on top of `graph`. `model.rkt` knows about nodeclasses and other elements of the spec. You can tell it to "tag" some nodes, ask it if some nodes have been tagged, ask if a node could be tagged with a certain (not yet created) tag, etc. There are some other things, too, involving a spreading-activation network and a network by which nodes support the continued existence of other nodes.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:20:51.475500</ts>
    <user>Karen</user>
    <text>So, tags</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:21:01.475900</ts>
    <user>Karen</user>
    <text>what’s a `tag?` value?</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:24:46.479400</ts>
    <user>Penni</user>
    <text>Each node has a bunch of attributes: just an arbitrary hash table. The nodeclass determines what those attributes are when the node is first created. If one of those attributes is `'tag?` and its value is `#t`, then the node is a tag. The node/tag distinction is mostly how we think about them: tags describe other nodes (including other tags). A node's nodeclass also determines what it can link to, and its "desiderata": other elements of the graph that it wants to see built or maintained.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:28:27.483800</ts>
    <user>Penni</user>
    <text>Lexi.lambda led me to an idea earlier today: to make the spec macro generate a "constructor" function for each nodeclass. So, if the spec defined a nodeclass `(number n)`, you would get a function `number`, that you could call, e.g. `(number 17)`, and it would return something—the initial hash table of attributes, I think. That's very different from the current working version, where I've been threading the graph as the first argument through practically every function, and there's a general `make-node` function to which you pass the name of the class and its arguments (e.g. `(make-node g 'number 17)`), and it consults the nodeclass struct to figure out how to make the node's initial attributes.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:28:55.484000</ts>
    <user>Karen</user>
    <text>so this graph has hashes for nodes - what are edges? Are edges between nodes directed or labeled?</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:31:19.485900</ts>
    <user>Penni</user>
    <text>Edges in this graph are unordered pairs of `(,node ,port-label)`. That is, you don't simply have an edge between two nodes, you have an edge between specific "ports" of two nodes. For example, a "group" node (a node that "contains" other nodes, like an equation) has a port called `members`, and each of its members has a port called `member-of`, and there is an edge connecting them.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:32:49.487400</ts>
    <user>Karen</user>
    <text>ah, I get that</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:33:32.488900</ts>
    <user>Karen</user>
    <text>I think that’s equivalent to a graph with undirected labeled edges where an edge label is a `(pair/c port-label? port-label?)`</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:33:53.489400</ts>
    <user>Penni</user>
    <text>The spec also has some clauses that provide rules for which ports can link to which other ports. In previous versions, I've often had operator nodes, like `+`, which have `result` and `operand` ports. The `result` port can link to the `source` port of a number; a number's `result` port can link to an `operand` port.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:34:10.489600</ts>
    <user>Penni</user>
    <text>Yes.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:35:17.490600</ts>
    <user>Karen</user>
    <text>So, `(multigraph/c node? (pair/c port-label? port-label?) #:directed? #f)` in the hypothetical graph API I’ve been meaning to create</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:35:36.490800</ts>
    <user>Penni</user>
    <text>I believe so, yes.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:36:09.491400</ts>
    <user>Penni</user>
    <text>I've struggled with graph APIs a bunch myself! It's hard to be fully general without making everything painful.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:37:04.492200</ts>
    <user>Karen</user>
    <text>Strongly agreed</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:37:19.492500</ts>
    <user>Penni</user>
    <text>Tags usually have a port called `tagged` and link to a port called `tags`, but not all tags work that way.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:38:04.493500</ts>
    <user>Karen</user>
    <text>so these nodes, I imagine there’s different node types and that the type determines what ports there are?</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:38:22.493800</ts>
    <user>Penni</user>
    <text>Another lesson learned from experience in many programming languages: programming involving graphs is hard! Much harder than it seems like it ought to be.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:39:09.495200</ts>
    <user>Penni</user>
    <text>I've played a bit with making a tiny DSL to walk around a graph starting at a given node and collect nodes to operate on and maybe do something to them, but it's never been satisfactory.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:39:12.495300</ts>
    <user>Karen</user>
    <text>Yeah. I’ve really wanted to see a good immutable graphs library for racket that used the algebraic approach described in this blog post: &lt;https://blogs.ncl.ac.uk/andreymokhov/an-algebra-of-graphs/&gt;</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:41:30.497500</ts>
    <user>Karen</user>
    <text>specifically, there’s an algebra of graphs described by the following components:

- an _empty graph_
- the _overlay_ operator, which combines two graphs into a single graph with the nodes and edges of each but doesn’t add any edges
- the _connect_ operator, which combines two graphs into a single graph and adds an edge from every node of the left graph to every node of the right graph
- _singleton graphs_ which can be constructed from regular values by turning the value into a one-node graph with no edges</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:42:11.498100</ts>
    <user>Karen</user>
    <text>the operators have some nice math properties and they’re a decent way to express how to build up an immutable graph</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:45:36.499200</ts>
    <user>Penni</user>
    <text>The graphs in this program are immutable but the API has none of that algebraic elegance. It's mostly lots of code that looks like this:</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:48:02.501300</ts>
    <user>Penni</user>
    <text>There's got to be a better way to do it,  but at least for now, the graph representation is not the pain point. Right now, all the pain is in defining searching and matching—and, for the moment, converting the spec macro to generate Typed Racket.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:48:13.501500</ts>
    <user>Karen</user>
    <text>yup I’d definitely need scribble docs to make more sense of this :p</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:48:38.502400</ts>
    <user>Penni</user>
    <text>Oh well, there goes my dream of writing readable, self-explanatory Racket code. :wink:</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:49:00.503100</ts>
    <user>Karen</user>
    <text>the most readable Racket code is the code you never have to read because the API docs were enough :P</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:49:21.503700</ts>
    <user>Penni</user>
    <text>I'm glad to hear that from someone with experience! I'd been getting that impression.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:49:34.504000</ts>
    <user>Karen</user>
    <text>(don’t worry that’s quite nice code, it’s just there’s lots of concepts involved that I’m totally unfamiliar with)</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:50:07.504200</ts>
    <user>Karen</user>
    <text>So, searching and matching</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:50:20.504500</ts>
    <user>Karen</user>
    <text>sounds like the domain of a `graph-query?` type</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:51:16.505500</ts>
    <user>Penni</user>
    <text>Could be. I've got some hacked-up, hand-coded stuff that will probably get me to my next demo—if, that is, I can get my spec macro working again, now that I'm moving to Typed Racket.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:52:36.506800</ts>
    <user>Penni</user>
    <text>A lot of the matching should be done by the `applies-to` clauses in the nodeclasses. We often just want to ask "If we made a tag of class such-and-such, could it apply to these nodes? Yes? Then build it."</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:55:40.509700</ts>
    <user>Penni</user>
    <text>The current working version has lots of rather bug-prone code that looks at `nodeclass` structs (and `applies-to` structs and `taggee-info` structs and `by-ports` structs …) to answer that question. Now that I know `syntax-parse` a little better, I'm thinking that the macro should just generate a single function to answer it for each nodeclass. At compile-time, we already have all the information at hand, so hopefully that will be easier—and faster and less bug-prone.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T03:57:12.510500</ts>
    <user>Penni</user>
    <text>Now that I've come to see a little of the enormous power of `syntax-parse`, I'm a little surprised that it's not easy to do something like whip up a compile-time hash table of computed info or sort some doodads topologically for inheritance. Are we missing some easy way to operate on syntax objects?</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:03:16.510800</ts>
    <user>Karen</user>
    <text>¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:04:12.511800</ts>
    <user>Karen</user>
    <text>There’s probably an easy way to do it but I’m not gonna be able to figure it out at 1AM with a distracted mind</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:04:43.512400</ts>
    <user>Penni</user>
    <text>I know what you mean. My brain was out earlier tonight, though miraculously it seems to have woken up again.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:06:10.513400</ts>
    <user>Penni</user>
    <text>I think I'll experiment some more with the approach of making structs, sorting the structs, and then generating code from the structs. That seems to be what's hinted at on this page: &lt;https://docs.racket-lang.org/syntax/varied-meanings.html&gt;</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:06:41.513600</ts>
    <user>Karen</user>
    <text>Good idea</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:07:10.514700</ts>
    <user>Karen</user>
    <text>I think I’ll mess around with making a total / partial orders library and some graph and multiset APIs</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:07:41.515300</ts>
    <user>Penni</user>
    <text>Is there some documentation somewhere that explains how those attributes of pattern variables are stored? That seems to be the main obstacle: the syntax objects don't actually contain their attributes, is that right?</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:08:23.515900</ts>
    <user>Karen</user>
    <text>Right. But I do know you can extract the value of an attribute you know the name of using `(attribute foo.attr)`</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:09:35.516600</ts>
    <user>Penni</user>
    <text>Ohhhh. I didn't know you could do that. I'd been wondering how you can use `attribute` to get at something outside the current syntax class.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:11:09.517700</ts>
    <user>Penni</user>
    <text>Just had a thought: long ago, in Chez Scheme, I did icky stuff in `syntax-case` macros by calling `syntax-&amp;gt;datum` and `datum-&amp;gt;syntax` all over the place. So, that's always available as a fallback.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:12:38.518300</ts>
    <user>Karen</user>
    <text>when in doubt, destroy everything but the data inside the syntax object :p</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:12:56.518700</ts>
    <user>Karen</user>
    <text>works every time (note: does not actually work every time)</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:13:49.518900</ts>
    <user>Penni</user>
    <text>:wink:</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:14:18.519200</ts>
    <user>Penni</user>
    <text>Yeah, I remember that code was painfully bug-prone.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:21:28.519300</ts>
    <user>Penni</user>
    <text>OK, here's something new. I made a new attribute for nodeclass: a struct called `sortable`. I put this test code in the "top level" (the `syntax-parse` rather than a syntax class), and it makes this error message. How do you apply an ellipsis when you have a non-syntax-object attribute?</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:24:54.519700</ts>
    <user>Karen</user>
    <text>ah, you can’t</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:25:16.520400</ts>
    <user>Karen</user>
    <text>non-syntax attributes are _only_ useful with the `(attribute nc.sortable)` mechanism of extracting the attribute value</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:26:00.520800</ts>
    <user>Karen</user>
    <text>in your case the `topo` attribute is a list of syntax objects, but it is not itself a syntax object</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:26:25.521200</ts>
    <user>Karen</user>
    <text>wait no I misread</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:26:37.521500</ts>
    <user>Karen</user>
    <text>ah, now I see what you want</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:26:52.521900</ts>
    <user>Penni</user>
    <text>OMG this seems to work:</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:26:58.522300</ts>
    <user>Karen</user>
    <text>`(attribute nc.sortable)` works even if `nc.sortable` is a repeated attribute</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:27:00.522600</ts>
    <user>Karen</user>
    <text>yeah like that</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:27:08.523000</ts>
    <user>Karen</user>
    <text>it gives you a list of attribute values</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:27:17.523300</ts>
    <user>Penni</user>
    <text>This might be the answer!</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:27:31.523600</ts>
    <user>Karen</user>
    <text>it works for arbitrary elipses depths too</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:27:48.524200</ts>
    <user>Karen</user>
    <text>e.g. if you needed two elipses, then `(attribute foo.attr)` would give you a list of lists</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:28:15.524700</ts>
    <user>Penni</user>
    <text>Hallelujah! I've gotten lots of bruises fighting with `syntax-parse` over how many ellipses I need.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:28:39.525100</ts>
    <user>Penni</user>
    <text>"Just gimme a list of lists, will ya??" Well, there it is. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:29:16.525600</ts>
    <user>Karen</user>
    <text>finally, the magic easy approach is discovered :p</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:36:55.526400</ts>
    <user>Caprice</user>
    <text>Is there any way I can get this to work without resorting to `(inst ident-class Number)` ?</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T04:48:42.527900</ts>
    <user>Penni</user>
    <text>&lt;@Caprice&gt; I'm still pretty new to Typed Racket, but the example of `cons%` on this page makes me think that the `inst` is necessary.</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T05:06:56.528300</ts>
    <user>Caprice</user>
    <text>&lt;@Penni&gt; I think you're right</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T05:08:49.528400</ts>
    <user>Penni</user>
    <text>&lt;@Karen&gt; Well, I got the topological sort to work. It remains to be seen if I can exploit that to actually inherit things while generating code. But now I'm taking a break!</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T05:10:40.529000</ts>
    <user>Karen</user>
    <text>:tada: :tada: :tada:</text>
  </message>
  <message conversation_id="264">
    <ts>2019-03-07T05:10:51.529300</ts>
    <user>Karen</user>
    <text>and for me it’s definitely time for sleep</text>
  </message>
  <message conversation_id="265">
    <ts>2019-03-07T06:57:26.529900</ts>
    <user>Leonila</user>
    <text>Hey! I'm trying to update the wrapper for libsodium (the crypto library)</text>
  </message>
  <message conversation_id="265">
    <ts>2019-03-07T06:57:37.530300</ts>
    <user>Leonila</user>
    <text>and I'm seeing a consistent issue with the return code being -1</text>
  </message>
  <message conversation_id="265">
    <ts>2019-03-07T06:57:54.530700</ts>
    <user>Leonila</user>
    <text>And I'm trying to track down if it's in the FFI  or if it's in my usage of libsodium</text>
  </message>
  <message conversation_id="265">
    <ts>2019-03-07T06:58:01.531100</ts>
    <user>Leonila</user>
    <text>Can someone eyeball this definition for generichash</text>
  </message>
  <message conversation_id="265">
    <ts>2019-03-07T06:58:23.531500</ts>
    <user>Leonila</user>
    <text>```
(define sodium-ffi (ffi-lib "/usr/local/lib/libsodium.so"))

(define-ffi-definer define-sodium sodium-ffi)
(define-sodium crypto_generichash (_fun (output : (_bytes o crypto_generichash_bytes))
                                        (_size = crypto_generichash_bytes)
                                        (input : _bytes)
                                        (_llong = (bytes-length input))
                                        (key : _bytes)
                                        (_size = (if (not key) 0 (bytes-length key))) -&amp;gt; (r : _int) -&amp;gt; (values r output)))
```</text>
  </message>
  <message conversation_id="265">
    <ts>2019-03-07T09:19:25.535300</ts>
    <user>Jeanine</user>
    <text>&lt;@Leonila&gt; libsodium defines `crypto_generichash_bytes` as a function, not a constant, so you need to apply it in the two places it appears above (or use the constant `crypto_generichash_BYTES`, if you've defined it). But I also recommend looking at the `crypto` package, which provides access to much of libsodium, including BLAKE2b (the algorithm implemented by `crypto_generichash`).</text>
  </message>
  <message conversation_id="266">
    <ts>2019-03-07T09:36:50.537400</ts>
    <user>Kami</user>
    <text>Hello everyone! I sent a question on SO about a somehow complex macro question: &lt;https://stackoverflow.com/questions/55045447/how-to-access-syntax-class-attributes-in-optional-that-contains-ellipsis&gt;
I found a solution, but I wonder if there's a better way to do what I'm doing (correctly handling syntax-classes used in ~optional).
Do you mind taking a look? :slightly_smiling_face:</text>
  </message>
  <message conversation_id="266">
    <ts>2019-03-07T10:29:27.538000</ts>
    <user>Kami</user>
    <text>&lt;@Elin&gt; Thanks for your awesome answer :slightly_smiling_face:</text>
  </message>
  <message conversation_id="265">
    <ts>2019-03-07T11:06:22.538800</ts>
    <user>Leonila</user>
    <text>&lt;@Jeanine&gt; interesting, the lower cased version worked for me but the uppercase version didn't.</text>
  </message>
  <message conversation_id="265">
    <ts>2019-03-07T11:06:27.539000</ts>
    <user>Leonila</user>
    <text>```
&amp;gt; crypto_generichash_bytes
8376
&amp;gt; 
```</text>
  </message>
  <message conversation_id="265">
    <ts>2019-03-07T11:08:38.539800</ts>
    <user>Jeanine</user>
    <text>That's a pretty implausible hash output length. How was crypto_generichash_bytes defined?</text>
  </message>
  <message conversation_id="265">
    <ts>2019-03-07T12:02:07.540100</ts>
    <user>Leonila</user>
    <text>(define-sodium crypto_generichash_bytes _int)</text>
  </message>
  <message conversation_id="265">
    <ts>2019-03-07T12:03:54.540300</ts>
    <user>Leonila</user>
    <text>You're right though... that's weird</text>
  </message>
  <message conversation_id="265">
    <ts>2019-03-07T12:06:54.541900</ts>
    <user>Jeanine</user>
    <text>The declaration in `sodium/crypto_generichash.h` is `size_t  crypto_generichash_bytes(void);`. So the wrapper should define it as a function: `(define-sodium crypto_generichash_bytes (_fun -&amp;gt; _size))`. Defining it with `_int` just takes the lower 32 bits of the function's address.</text>
  </message>
  <message conversation_id="265">
    <ts>2019-03-07T12:08:02.542200</ts>
    <user>Leonila</user>
    <text>:+1::+1:</text>
  </message>
  <message conversation_id="265">
    <ts>2019-03-07T12:08:13.542500</ts>
    <user>Leonila</user>
    <text>Thank you, that makes sense, I thought it was being exported as a context.</text>
  </message>
  <message conversation_id="265">
    <ts>2019-03-07T12:08:16.542700</ts>
    <user>Leonila</user>
    <text>*constant</text>
  </message>
  <message conversation_id="265">
    <ts>2019-03-07T12:08:23.542900</ts>
    <user>Leonila</user>
    <text>Cheers!</text>
  </message>
  <message conversation_id="265">
    <ts>2019-03-07T13:31:44.544800</ts>
    <user>Mai</user>
    <text>Just want to be sure. Is `kernel-syntax-case/phase stx i ...` equivalent to `syntax-parse` with literal-sets being `([kernel-literals #:phase i])`?</text>
  </message>
  <message conversation_id="265">
    <ts>2019-03-07T13:33:37.545600</ts>
    <user>Julia</user>
    <text>&lt;@Leonila&gt; I wasn't sure if you noticed &lt;@Jeanine&gt; had pointed out the `crypto` Racket package? &lt;https://docs.racket-lang.org/crypto/index.html&gt;</text>
  </message>
  <message conversation_id="267">
    <ts>2019-03-07T13:35:08.546800</ts>
    <user>Julia</user>
    <text>Not necessarily to discourage you from making your own wrapper, and perhaps another package.
Well... maybe to discourage you a _little_ bit. :smile:
I wonder if it's a domain where we'd all benefit from more eyeballs on one thing. ¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="267">
    <ts>2019-03-07T14:29:05.547700</ts>
    <user>Marcelina</user>
    <text>&lt;@Clarinda&gt; Is there any reason that Racket's opengl context (the one for `canvas%`) doesn't use glew at all?</text>
  </message>
  <message conversation_id="267">
    <ts>2019-03-07T14:29:27.548200</ts>
    <user>Marcelina</user>
    <text>I was asked this and I didn't really have an answer.</text>
  </message>
  <message conversation_id="267">
    <ts>2019-03-07T14:30:04.548800</ts>
    <user>Marcelina</user>
    <text>(Basically, the opengl context doesn't seem to work on windows 64 bit with an intel graphics card)</text>
  </message>
  <message conversation_id="268">
    <ts>2019-03-07T15:33:44.549400</ts>
    <user>Clarinda</user>
    <text>No reason, other than me not knowing about GLEW</text>
  </message>
  <message conversation_id="269">
    <ts>2019-03-07T20:00:47.553800</ts>
    <user>Leticia</user>
    <text>Why does HTML generated by scribble look like the old-timey racket documentation and not the lovely current version?</text>
  </message>
  <message conversation_id="269">
    <ts>2019-03-07T21:47:13.554000</ts>
    <user>Loma</user>
    <text>I guess you are using `scribble/base` now and the ‘lovely current version’ you mean probably refers to the style used by current Racket documentation:
&lt;https://docs.racket-lang.org/index.html&gt;
Use `scribble/manual` to get the same L&amp;amp;F used by Racket Documentation.</text>
  </message>
  <message conversation_id="269">
    <ts>2019-03-07T22:22:30.554500</ts>
    <user>Leticia</user>
    <text>actually I’m using `scribble/lp2`</text>
  </message>
  <message conversation_id="269">
    <ts>2019-03-07T22:40:28.555200</ts>
    <user>Loma</user>
    <text>```
#lang scribble/manual
@(require scribble/lp2)
```
may work for you. However, since you just want a better css style, I feel replacing the content of `scribble.css` is the best way to do this.</text>
  </message>
  <message conversation_id="270">
    <ts>2019-03-09T22:35:54.558800</ts>
    <user>Karen</user>
    <text>&lt;@Terry&gt; So it’s not in any sort of refined state, but this is the code I used to get the most common words in `racket/base` identifiers: &lt;https://github.com/jackfirth/rebellion/pull/54&gt;</text>
  </message>
  <message conversation_id="269">
    <ts>2019-03-09T22:37:40.559100</ts>
    <user>Karen</user>
    <text>alas I no longer have the code I used to restrict it to the first words only</text>
  </message>
  <message conversation_id="271">
    <ts>2019-03-10T11:32:07.560700</ts>
    <user>Penni</user>
    <text>Is there a way in XREPL to say "Recompile and reload all source files that have changed since they were last loaded," the same as Ctrl-E, Ctrl-R in DrRacket?</text>
  </message>
  <message conversation_id="272">
    <ts>2019-03-10T13:43:23.561000</ts>
    <user>Priscila</user>
    <text>In the terminal - or in emacs?</text>
  </message>
  <message conversation_id="272">
    <ts>2019-03-10T19:32:41.561400</ts>
    <user>Penni</user>
    <text>&lt;@Priscila&gt; In the terminal.</text>
  </message>
  <message conversation_id="271">
    <ts>2019-03-10T21:06:53.563500</ts>
    <user>Julia</user>
    <text>&lt;@Penni&gt; I believe if you `,enter` one of the files, it will reload all of the files directly or transitively `require`d by the first one?</text>
  </message>
  <message conversation_id="271">
    <ts>2019-03-10T21:08:27.564100</ts>
    <user>Julia</user>
    <text>I think `,enter` is the closest thing to the *Run* command in DrRacket.</text>
  </message>
  <message conversation_id="273">
    <ts>2019-03-10T23:11:10.564300</ts>
    <user>Lillian</user>
    <text>This will work
```
#lang scribble/lp2
@(require scribble/manual)
```</text>
  </message>
  <message conversation_id="273">
    <ts>2019-03-10T23:11:30.564500</ts>
    <user>Lillian</user>
    <text>That’s how I made &lt;https://docs.racket-lang.org/pollen-tfl/&gt;</text>
  </message>
  <message conversation_id="271">
    <ts>2019-03-11T00:17:02.565000</ts>
    <user>Penni</user>
    <text>&lt;@Julia&gt; Ah, thanks! I didn't know that.</text>
  </message>
  <message conversation_id="271">
    <ts>2019-03-11T00:26:26.565600</ts>
    <user>Penni</user>
    <text>Hooray! The errortrace in XREPL shows the line number of the rackunit test that failed.</text>
  </message>
  <message conversation_id="274">
    <ts>2019-03-11T19:13:41.568600</ts>
    <user>Leticia</user>
    <text>is it possible to define metafunctions and judgement forms in `redex` that work in any language?</text>
  </message>
  <message conversation_id="275">
    <ts>2019-03-11T21:20:17.569800</ts>
    <user>Loma</user>
    <text>is it possible to produce pdf version of slides using `#lang slideshow`, like _scribble_?:thinking_face:</text>
  </message>
  <message conversation_id="275">
    <ts>2019-03-11T21:24:49.570200</ts>
    <user>Kristeen</user>
    <text>&lt;@Loma&gt;, see the various printing options to the `slideshow` command</text>
  </message>
  <message conversation_id="275">
    <ts>2019-03-11T21:26:59.570900</ts>
    <user>Loma</user>
    <text>Oh sure! Sorry for not reading the full manual before asking :grimacing:</text>
  </message>
  <message conversation_id="276">
    <ts>2019-03-12T07:14:26.573800</ts>
    <user>Sean</user>
    <text>&lt;@Loma&gt;, I had to laugh. The Scribble manual is not too long, true, but sometimes docs are Bible-length, and I was imagining someone asking a Bible-related question and then apologizing, “Sorry for not reading the full Bible before asking.”  I’m sure your question helped someone who did not already know the answer.  The Racket community is by far the friendliest and most helpful technology community I’ve encountered.</text>
  </message>
  <message conversation_id="277">
    <ts>2019-03-12T08:20:39.574600</ts>
    <user>Priscila</user>
    <text>These days the question isn't "can I" but "how do I".</text>
  </message>
  <message conversation_id="277">
    <ts>2019-03-12T08:33:40.578100</ts>
    <user>Lauryn</user>
    <text>A quick question here and thanks in advance for possible help!

Is there any way in DrRacket that `FunctionName` and `InputName` could be distinguished in different colors?  Like in Elixir or any other languages.

Thank you!</text>
  </message>
  <message conversation_id="277">
    <ts>2019-03-12T08:37:07.579400</ts>
    <user>Priscila</user>
    <text>I don't think so. In DrRacket find "Preferences..." in the "DrRacket" menu. Then click the tab "Colors".</text>
  </message>
  <message conversation_id="277">
    <ts>2019-03-12T08:37:27.579700</ts>
    <user>Priscila</user>
    <text>You can now see what's possible to change.</text>
  </message>
  <message conversation_id="277">
    <ts>2019-03-12T08:38:01.580400</ts>
    <user>Priscila</user>
    <text>Note also that colors change after clicking the "Check Syntax" icon (upper right corner: check mark+looking glass).</text>
  </message>
  <message conversation_id="277">
    <ts>2019-03-12T08:38:21.580900</ts>
    <user>Priscila</user>
    <text>Then you can hover over an identifier and see arrows that show the binding.</text>
  </message>
  <message conversation_id="277">
    <ts>2019-03-12T08:39:27.581000</ts>
    <user>Clarinda</user>
    <text>I don’t think so. A common strategy (which you’ve probably already considered) is to parameterize over the language with a macro.</text>
  </message>
  <message conversation_id="277">
    <ts>2019-03-12T09:06:00.581800</ts>
    <user>Lauryn</user>
    <text>Hah! This is actually cool &lt;@Priscila&gt; Thanks a lot!</text>
  </message>
  <message conversation_id="278">
    <ts>2019-03-12T12:03:08.584600</ts>
    <user>Mauro</user>
    <text>I'm curious about why `struct` doesn't support individually defined defaults for struct fields? As far as I can tell the only option is to use `#:auto` and the corresponding `#:auto-value` which unfortunately doesn't quite do what I want to be able to do.

I'd like to be able to do something like

```(struct a (b c [d #:default 'hi]) #:transparent)

(define test1 (a 1 2)) -&amp;gt; (a 1 2 'hi)
(define test2 (a 1 2 'hello)) -&amp;gt; (a 1 2 'hello)```

Am I completely out of luck?</text>
  </message>
  <message conversation_id="278">
    <ts>2019-03-12T12:04:20.585100</ts>
    <user>Kristeen</user>
    <text>&lt;@Mauro&gt; you can use one of several packages that provide abstractions over `struct`</text>
  </message>
  <message conversation_id="278">
    <ts>2019-03-12T12:05:08.585900</ts>
    <user>Mauro</user>
    <text>ok, my issue now is that I'm constrained to using just pre-base and available modules in `racket/private` I'll think of something</text>
  </message>
  <message conversation_id="278">
    <ts>2019-03-12T12:05:53.586400</ts>
    <user>Kristeen</user>
    <text>in that case you're out of luck -- the underlying `make-struct-type` is constrained that way</text>
  </message>
  <message conversation_id="278">
    <ts>2019-03-12T12:06:02.586700</ts>
    <user>Kristeen</user>
    <text>I would just write a constructor that does what you want</text>
  </message>
  <message conversation_id="278">
    <ts>2019-03-12T12:06:16.587000</ts>
    <user>Mauro</user>
    <text>yeah that's what I'm thinking as well, thanks</text>
  </message>
  <message conversation_id="278">
    <ts>2019-03-12T12:59:45.589100</ts>
    <user>Karen</user>
    <text>&lt;@Kristeen&gt; why was the `#:auto` feature originally introduced? the feature seems kind of bizarre</text>
  </message>
  <message conversation_id="279">
    <ts>2019-03-12T13:03:21.589700</ts>
    <user>Priscila</user>
    <text>It's an old feature. It's present in PLT Scheme 372: &lt;http://download.plt-scheme.org/doc/372/pdf/mzscheme.pdf&gt; (page 30)</text>
  </message>
  <message conversation_id="279">
    <ts>2019-03-12T13:04:16.590000</ts>
    <user>Karen</user>
    <text>how old is that? </text>
  </message>
  <message conversation_id="279">
    <ts>2019-03-12T13:04:47.590500</ts>
    <user>Priscila</user>
    <text>It's not present in PLT Scheme 103 (from year 2000).</text>
  </message>
  <message conversation_id="279">
    <ts>2019-03-12T13:05:35.591000</ts>
    <user>Priscila</user>
    <text>It's in PLT Scheme 200 from 2002. &lt;http://download.plt-scheme.org/doc/200/html/mzscheme/mzscheme-Z-H-4.html#%_sec_4.3&gt;</text>
  </message>
  <message conversation_id="279">
    <ts>2019-03-12T13:06:25.591200</ts>
    <user>Priscila</user>
    <text>To the archives! &lt;http://www.cs.utah.edu/plt/mailarch/&gt;</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:02:42.592300</ts>
    <user>Marcelina</user>
    <text>&lt;@Clarinda&gt; &amp;amp; &lt;@Alden&gt;, I think that &lt;@Danny&gt; and I found a bug in either `syntax-local-lift-expression` or the contract library: &lt;https://gist.github.com/LeifAndersen/5edd52dd2a6e4b1d5a116790ddf1add2&gt;</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:02:43.592400</ts>
    <user>Marcelina</user>
    <text>None</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:03:07.593100</ts>
    <user>Marcelina</user>
    <text>(It doesn't have to be `pict`, anything that uses `contra t-out` seems to have the same bug.</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:04:58.593400</ts>
    <user>Alden</user>
    <text>Not sure what’s going on, but this one doesn’t do it:</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:05:01.593700</ts>
    <user>Alden</user>
    <text>```#lang racket

(module m racket/base
  (require racket/contract)
  (provide (contract-out [x any/c]))
  (define x 1))

(require (submod "." m))
(define-syntax (m stx)  
  #`(list #,(syntax-local-lift-expression #'x)))
(#%expression (m))
```</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:07:05.594300</ts>
    <user>Marcelina</user>
    <text>The `x` needs to be in both the lift and directly in the macro. So this one does do it:</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:07:16.594500</ts>
    <user>Marcelina</user>
    <text>```
#lang racket

(module m racket/base
  (require racket/contract)
  (provide (contract-out [x any/c]))
  (define x 1))

(require (submod "." m))
(define-syntax (m stx)  
  #`(list x #,(syntax-local-lift-expression #'x)))
(#%expression (m))
```</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:07:44.595000</ts>
    <user>Marcelina</user>
    <text>(The difference being the second to last line: ```  #`(list x #,(syntax-local-lift-expression #'x)))```)</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:08:00.595300</ts>
    <user>Alden</user>
    <text>I see.</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:08:58.596400</ts>
    <user>Alden</user>
    <text>might be a bug in this function:</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:08:59.596600</ts>
    <user>Alden</user>
    <text>&lt;https://github.com/racket/racket/blob/master/racket/collects/racket/contract/private/provide.rkt#L156&gt;</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:09:47.597100</ts>
    <user>Danny</user>
    <text>The direct output gets expanded first and lifts something to do variable-reference-&amp;gt;module-source; the lifted output is expanded later and uses a cached reference to that same lift, but to a definition that ends up appearing lower in the module.</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:10:21.597500</ts>
    <user>Alden</user>
    <text>that does indeed sound like a bug in the linked function.</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:10:30.597700</ts>
    <user>Alden</user>
    <text>maybe</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:11:35.598300</ts>
    <user>Alden</user>
    <text>in any case, the code I linked to is what is managing the cache you mention</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:12:15.599300</ts>
    <user>Marcelina</user>
    <text>&lt;@Alden&gt; YUp, and looks like it converts the identifiers in the source to the lifted varients, yes?</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:12:18.599500</ts>
    <user>Marcelina</user>
    <text>variants*</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:14:32.600600</ts>
    <user>Alden</user>
    <text>Oh, I think I get it. Maybe. But I don’t see how to fix it.</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:15:28.601200</ts>
    <user>Danny</user>
    <text>I’m not sure how to fix it without either 1. giving up on caching or 2. changing the rules for lifts. The basic assumption that lifts introduced by expressions that expand earlier will execute earlier is wrong.</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:16:12.602000</ts>
    <user>Danny</user>
    <text>I could imagine the expansion of lifts being different, such that the lifted expression is expanded immediately instead of delayed, but I don’t know how much other code that might break.</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:16:30.602200</ts>
    <user>Alden</user>
    <text>that sounds like a scary change</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:16:54.602800</ts>
    <user>Alden</user>
    <text>I think it would be okay if the macro just got a little more information and then used two different entries in the cache for these two situations (lifted vs not) somehow</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:17:45.603700</ts>
    <user>Alden</user>
    <text>The goal of this lifting is to avoid creating wrappers multiple times for some given export (say `circle`) that is used many times in a single module.</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:18:33.604900</ts>
    <user>Alden</user>
    <text>So having some number of wrappers proportional to the number of times lifts are invoked inside lifts would be fine, I presume</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:18:42.605100</ts>
    <user>Marcelina</user>
    <text>Honestly, it seems to me like caching 'should' be fine. Is there any reason why `syntax-local-lift-expression` can't do a binding dependency walk to see what order things should go in?</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:19:00.605400</ts>
    <user>Alden</user>
    <text>that’d be easier for me. :wink:</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:19:04.605700</ts>
    <user>Marcelina</user>
    <text>lol</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:19:24.606700</ts>
    <user>Alden</user>
    <text>But it doesn’t sound like the kind of thing we might expect the macro system to do.</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:19:29.607000</ts>
    <user>Alden</user>
    <text>Not that I’m an expert here</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:19:46.607400</ts>
    <user>Marcelina</user>
    <text>Although honestly &lt;@Alden&gt; I would much prefer to have a cache lift. Making a new lift whenever an identifier that uses a contract is used is....well seems inefficient.</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:20:10.607800</ts>
    <user>Marcelina</user>
    <text>Fair. I would probably defer to &lt;@Danny&gt; or &lt;@Clarinda&gt; here, as they know way more than me. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:21:35.609300</ts>
    <user>Alden</user>
    <text>I don’t think that this particular inefficiency is going to matter in practice. But if you see somewhere where people are lifting inside lifts that lift inside lifts etc etc etc and use contracts and those contracts are creating too many wrappers, then lets figure out a better way. (Or if it isn’t possible to communicate something that could be used as suitable key.)</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:26:00.609900</ts>
    <user>Danny</user>
    <text>Looks like the expansion of lifts is delayed so that `local-expand/capture-lifts` can exist.</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:28:02.610400</ts>
    <user>Marcelina</user>
    <text>Err...I have been known to write macros that are hairy enough to do that. :confused:</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:28:20.610900</ts>
    <user>Marcelina</user>
    <text>(I mean, I don't want to write lifts in lifts....But sometimes there isn't any other way)</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:29:32.611400</ts>
    <user>Danny</user>
    <text>And I don’t see a way for the contract macros to figure out whether they’re inside a syntax-local-lift-expression or not.</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:29:39.611700</ts>
    <user>Danny</user>
    <text>The syntax-local-context is ’expression.</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:29:54.612100</ts>
    <user>Danny</user>
    <text>The syntax-local-lift-context isn’t changed.</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:30:27.612700</ts>
    <user>Alden</user>
    <text>Add `syntax-local-context/including-number-of-lifts` that is like `syntax-local-context` but might return something with a natural inside?</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:30:47.613400</ts>
    <user>Alden</user>
    <text>(well, the name is a bit on the short side for my taste, so maybe that’s not a good idea :wink:)</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:31:00.613600</ts>
    <user>Marcelina</user>
    <text>lol....also eww.....but mostly lol.</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:31:14.614000</ts>
    <user>Marcelina</user>
    <text>You're right, the problem is that the name needs to be roughly 10x longer.</text>
  </message>
  <message conversation_id="280">
    <ts>2019-03-12T15:31:35.614300</ts>
    <user>Marcelina</user>
    <text>That is certainly an interesting idea though.</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:00:17.617700</ts>
    <user>Jeanine</user>
    <text>What if `syntax-local-lift-context` returned an element in a partial order instead of an equivalence class, where ctx1 &amp;lt;= ctx2 meant that all of the lifts of ctx1 are available in ctx2?</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:00:19.617800</ts>
    <user>Danny</user>
    <text>The only use of `local-expand/capture-lifts` in the standard distribution collections appears to be in Typed Racket. It could be adapted to work with a modification of the expander that expands as it lifts, instead of delaying. I don’t have an easy way of searching the rest of the universe of Racket code…</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:00:43.618200</ts>
    <user>Danny</user>
    <text>&lt;@Jeanine&gt; do you see a good reason expansion of lifted expressions is delayed?</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:02:39.620400</ts>
    <user>Alden</user>
    <text>&lt;@Jeanine&gt; depending what you answer to MB: the partial order thing isn't as amenable to the cache. </text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:03:31.621400</ts>
    <user>Jeanine</user>
    <text>&lt;@Danny&gt; If it's not delayed, then the context needs to be fixed up before expansion. Consider syntax-parameters, for example, and maybe other things defined in Racket that the macro expander doesn't know about. I don't know how much of an issue that is, but that's what I would worry about.</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:03:59.621800</ts>
    <user>Danny</user>
    <text>What do you mean about the context needing to be fixed up? Scopes? Environment?</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:04:23.622300</ts>
    <user>Danny</user>
    <text>Ah. Environment, like syntax parameters.</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:04:31.622600</ts>
    <user>Danny</user>
    <text>I see.</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:05:04.623400</ts>
    <user>Danny</user>
    <text>It’s an algebraic effects problem! The effect of lifted expansion needs to happen outside the scope of local effects like syntax parameterize.</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:07:46.623900</ts>
    <user>Danny</user>
    <text>If only the expander didn’t install a continuation barrier. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:08:16.624400</ts>
    <user>Jeanine</user>
    <text>&lt;@Danny&gt; sorry, my fault :slightly_smiling_face:</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:08:54.625500</ts>
    <user>Danny</user>
    <text>(I’ve run into other places where I really want to save off things like the current introduction scope in a continuation and restore it later)</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:12:02.628000</ts>
    <user>Gonzalo</user>
    <text>(You could stash an introduction scope somewhere easily enough, but obviously the other things are much harder—like the binding context.)</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:12:49.628700</ts>
    <user>Danny</user>
    <text>The problem is I can’t restore the introduction scope.</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:12:57.629000</ts>
    <user>Gonzalo</user>
    <text>Ah, right.</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:13:32.629900</ts>
    <user>Gonzalo</user>
    <text>What are the use cases for `local-expand/capture-lifts`? Aside from basically “Typed Racket”.</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:14:07.631300</ts>
    <user>Karen</user>
    <text>wondering that myself</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:14:15.631700</ts>
    <user>Jeanine</user>
    <text>&lt;@Alden&gt; It seems like this would work with caching, it would just move some of the responsibility to the macro expander. Instead of a target meaning both "this is where lifts go" and "this is what's available" (which this bug demonstrates is not true), it would only mean the latter.  So the cache would be a `Key =&amp;gt; (listof (pair Ctx Id))` and before lifting you would have to check if the current context extended any of the existing ones. Would that work?</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:14:16.631900</ts>
    <user>Danny</user>
    <text>Typed Racket uses it to typecheck the lifted expression, I think. Other contexts where you’re re-writing fully expanded Racket might do something similar.</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:14:52.633400</ts>
    <user>Alden</user>
    <text>I can do that</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:14:54.633500</ts>
    <user>Kristeen</user>
    <text>I think the use case in TR is more specific/general than that -- just wanting to expand something and put all the relevant pieces in one place</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:15:20.634600</ts>
    <user>Gonzalo</user>
    <text>It seems like you could imagine situations where capturing lifts in a more local context could be theoretically useful, but I imagine a lot of macros that use `syntax-local-lift-expression` assume the result is going to end up at a module top level, and I don’t know if that would be an easy invariant to maintain unless you’re doing a TR-like thing in `#%module-begin`.</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:15:33.634700</ts>
    <user>Karen</user>
    <text>in general, would “`local-expand` from a module context that wants to do whole-module transformations” be a good place to use it?</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:15:54.635300</ts>
    <user>Kristeen</user>
    <text>that isn't really where Typed Racket uses it</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:16:08.635600</ts>
    <user>Karen</user>
    <text>oh, where does TR use it?</text>
  </message>
  <message conversation_id="281">
    <ts>2019-03-12T16:18:05.636600</ts>
    <user>Kristeen</user>
    <text>it's used in `require/contract` (part of the implementation of `require/typed` but needed to implement `require/contract` as an abstraction), in how the toplevel works, and in `with-types`</text>
  </message>
  <message conversation_id="282">
    <ts>2019-03-12T16:49:33.637600</ts>
    <user>Marcelina</user>
    <text>&lt;@Jeanine&gt; I don't see how changing `syntax-local-lift-context` would help with caching in `syntax-local-lift-expression`?</text>
  </message>
  <message conversation_id="282">
    <ts>2019-03-12T16:59:24.642100</ts>
    <user>Jeanine</user>
    <text>&lt;@Marcelina&gt; The idea is to change `syntax-local-lift-context` to return something that represents whether a previously lifted identifier is actually available here and now. Thinking about it some more, my idea of a partial order isn't quite right, or at least it would be a little awkward---you'd have to get the context, check it, lift, and then get the new context and save that in the cache. Perhaps it would be better to have a predicate that takes a lift context and an identifier and returns true if the identifier is available (previously lifted to that context or a parent and defined *above* the current expansion point).</text>
  </message>
  <message conversation_id="282">
    <ts>2019-03-12T17:05:26.646600</ts>
    <user>Jeanine</user>
    <text>In other words, the contract library currently assumes that if an expression was previously *sent* to the current lift context, the resulting id is available. Your example shows that the order of sends doesn't always correspond to the order of receives (that is, the order that lifted definitions occur in the expanded module). So hopefully a fix would be to check whether the lifted expression was previously *received* (that is, its definition occurs above the current expansion position).</text>
  </message>
  <message conversation_id="282">
    <ts>2019-03-12T17:06:50.646800</ts>
    <user>Marcelina</user>
    <text>Ah, okay, that makes sense.</text>
  </message>
  <message conversation_id="282">
    <ts>2019-03-12T17:11:52.648300</ts>
    <user>Jeanine</user>
    <text>Thanks for the question; writing the answer helped clarify my thoughts. I (currently?) think the new predicate on identifiers would be the easiest solution.</text>
  </message>
  <message conversation_id="282">
    <ts>2019-03-12T17:15:01.649900</ts>
    <user>Jeanine</user>
    <text>It's a little like a degenerate version of the letrec/undefined analysis exposed as part of the macro API.</text>
  </message>
  <message conversation_id="282">
    <ts>2019-03-12T17:16:37.650600</ts>
    <user>Marcelina</user>
    <text>Mmmm...so it seems like it would technically break backwards compatibility. But not in any meaningful way, is that correct?</text>
  </message>
  <message conversation_id="282">
    <ts>2019-03-12T17:24:51.655000</ts>
    <user>Jeanine</user>
    <text>Sorry, forget what I said about changing `syntax-local-lift-context`. Let's say we add a new thing, like `syntax-local-defined-above? : Identifier -&amp;gt; Boolean`. The contract cache would maintain a mapping `Key =&amp;gt; (Listof Identifier)`. Each time you lift the expression corresponding to a key, you add the resulting identifier to the key's associated list. But before doing a new lift, you check the key and see if any of the identifiers are `syntax-local-defined-above?`; if so, it's safe to just use that identifier as a reference.</text>
  </message>
  <message conversation_id="283">
    <ts>2019-03-12T18:17:25.655300</ts>
    <user>Alden</user>
    <text>Sounds straightforward!</text>
  </message>
  <message conversation_id="284">
    <ts>2019-03-12T20:37:45.655400</ts>
    <user>Tambra</user>
    <text>`pop-pl` uses it because to expands into a unit and some of its lift’s bind state that should be local to each unit instantiation. (Not that I ever claim that pop-pl does *anything* the right way)</text>
  </message>
  <message conversation_id="285">
    <ts>2019-03-13T07:16:31.656700</ts>
    <user>Leonila</user>
    <text>Hey, my company bought a couple extra diversity tickets for racketfest, if you know anyone who's in an underrepresented group and would be interested, please have them reach out!</text>
  </message>
  <message conversation_id="285">
    <ts>2019-03-13T07:43:03.657200</ts>
    <user>Shavon</user>
    <text>&lt;@Leonila&gt; Awesome. Have you tweetted about it?</text>
  </message>
  <message conversation_id="285">
    <ts>2019-03-13T08:03:31.657900</ts>
    <user>Leonila</user>
    <text>&lt;@Shavon&gt; not yet, I have all of ~300 twitter followers so not sure it's going to move the needle a ton.</text>
  </message>
  <message conversation_id="285">
    <ts>2019-03-13T08:04:09.658500</ts>
    <user>Shavon</user>
    <text>but it will allow others to retweet you. :slightly_smiling_face: Not that I have that many followers myself though.</text>
  </message>
  <message conversation_id="285">
    <ts>2019-03-13T08:07:37.658700</ts>
    <user>Leonila</user>
    <text>&lt;@Shavon&gt; &lt;https://twitter.com/estsauver/status/1105802267473645571&gt;</text>
  </message>
  <message conversation_id="285">
    <ts>2019-03-13T08:11:05.659900</ts>
    <user>Leonila</user>
    <text>If you do follow me, you can get my best take on Amsterdam, Scala, running an Agtech startup in the developing world... and customer service issues and complaining about american politics which is what I really use it for.</text>
  </message>
  <message conversation_id="285">
    <ts>2019-03-13T08:12:12.660300</ts>
    <user>Leonila</user>
    <text>Anyone who's going to racketfest in berlin interested in doing a long bike ride on Sunday?</text>
  </message>
  <message conversation_id="286">
    <ts>2019-03-13T11:07:53.661500</ts>
    <user>Mai</user>
    <text>Is there any difference between `stx-&amp;gt;list` and `syntax-&amp;gt;list`? The documentation seems to imply that `stx-&amp;gt;list` uses `syntax-&amp;gt;list`, but it seems to be identical on all inputs I tried so far</text>
  </message>
  <message conversation_id="286">
    <ts>2019-03-13T11:09:04.661900</ts>
    <user>Kristeen</user>
    <text>&lt;@Mai&gt; `stx-&amp;gt;list` has a much bigger domain:
```
&amp;gt; (stx-&amp;gt;list (list 1 2 3))
'(1 2 3)
&amp;gt; (syntax-&amp;gt;list (list 1 2 3))
; syntax-&amp;gt;list: contract violation
;   expected: syntax?
;   given: '(1 2 3)
; [,bt for context]
```</text>
  </message>
  <message conversation_id="286">
    <ts>2019-03-13T11:09:26.662100</ts>
    <user>Mai</user>
    <text>Ah, I see</text>
  </message>
  <message conversation_id="286">
    <ts>2019-03-13T11:09:34.662300</ts>
    <user>Mai</user>
    <text>Thanks</text>
  </message>
  <message conversation_id="286">
    <ts>2019-03-13T11:11:32.663000</ts>
    <user>Mai</user>
    <text>Perhaps the examples at &lt;https://docs.racket-lang.org/syntax/syntax-helpers.html#%28def._%28%28lib._syntax%2Fstx..rkt%29._stx-list~3f%29%29&gt; should include a list that doesn’t have any syntax object inside?</text>
  </message>
  <message conversation_id="286">
    <ts>2019-03-13T11:16:05.664600</ts>
    <user>Elin</user>
    <text>It also includes things that are neither proper lists nor syntax objects, but chains of `cons` pairs that might have syntax-lists in the `rest` instead of normal lists:
```
&amp;gt; (stx-&amp;gt;list (cons 1 (cons 2 #'(5 3))))
'(1 2 #&amp;lt;syntax 5&amp;gt; #&amp;lt;syntax 3&amp;gt;)
&amp;gt; (syntax-&amp;gt;list (cons 1 (cons 2 #'(5 3))))
syntax-&amp;gt;list: contract violation
  expected: syntax?
  given: '(1 2 . #&amp;lt;syntax (5 3)&amp;gt;)
```</text>
  </message>
  <message conversation_id="287">
    <ts>2019-03-13T11:38:15.666300</ts>
    <user>Herman</user>
    <text>Does anyone know if there is a package for doing transactions (NOT database transactions)?</text>
  </message>
  <message conversation_id="288">
    <ts>2019-03-13T11:47:33.666900</ts>
    <user>Kristeen</user>
    <text>&lt;@Shavon&gt; can you change the gitlab notifications to not email me? and even better, to post to the &lt;#C3P4M37H7|notifications&gt; channel here?</text>
  </message>
  <message conversation_id="288">
    <ts>2019-03-13T12:26:50.667800</ts>
    <user>Shavon</user>
    <text>&lt;@Kristeen&gt; Sure. I am out today but will do that today as soon as I return. </text>
  </message>
  <message conversation_id="287">
    <ts>2019-03-13T14:58:49.674600</ts>
    <user>Karen</user>
    <text>&lt;@Herman&gt; like, transactions in the sense of software transactional memory (STM)?</text>
  </message>
  <message conversation_id="289">
    <ts>2019-03-13T15:37:07.675200</ts>
    <user>Gonzalo</user>
    <text>Good heavens:
```
#lang racket

(define (println/c v)
  (make-contract
   #:projection (λ (blame) (λ (val) (println v) val))))

(define/contract foo%
  (class/c (override [m (println/c #f)]))
  (class object%
    (super-new)
    (define/public (m) #f)))

(define/contract foo+c1%
  (class/c (override [m (println/c 1)]))
  foo%)

(define/contract foo+c2%
  (class/c (override [m (println/c 2)]))
  foo%)

(class foo+c2%
  (super-new)
  (define/override (m) #f))
```
outputs
```
2
1
#f
#&amp;lt;class:/tmp/test.rkt:21:0&amp;gt;
```
:scream:</text>
  </message>
  <message conversation_id="289">
    <ts>2019-03-13T15:41:53.675600</ts>
    <user>Gonzalo</user>
    <text>&lt;https://github.com/racket/racket/issues/2533&gt;</text>
  </message>
  <message conversation_id="290">
    <ts>2019-03-13T15:53:34.676000</ts>
    <user>Julia</user>
    <text>Is it bad for me to prefer
```
(for ([_ (in-producer void)])
  __)
```
over
```
(let id ()
  _
  (id))
```
or the equivalent
```
(define (id)
  _
  (id))
```
?</text>
  </message>
  <message conversation_id="290">
    <ts>2019-03-13T15:54:24.676700</ts>
    <user>Julia</user>
    <text>Is there some other idiom for "forever" that is too clever for its own good? :grin:</text>
  </message>
  <message conversation_id="290">
    <ts>2019-03-13T16:04:17.677200</ts>
    <user>Priscila</user>
    <text>So you want a `for-ever` !    :wink:</text>
  </message>
  <message conversation_id="290">
    <ts>2019-03-13T16:04:52.677600</ts>
    <user>Shanell</user>
    <text>... and corresponding `for*/ever`</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:15:24.678700</ts>
    <user>Mai</user>
    <text>The documentation says that `define-struct` is deprecated and `struct` is more preferable. However, there’s only `define-struct/contract` and no `struct/contract`. Is `define-struct/contract` considered deprecated too? And what should we use instead?</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:17:22.679500</ts>
    <user>Mai</user>
    <text>(I’m aware of `contract-out` with `struct/c`, but that’s not what I want to do)</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:29:11.681600</ts>
    <user>Julia</user>
    <text>&lt;@Mai&gt; I've wondered the same thing, then just used `define-struct/contract`, assuming it hadn't been worth getting around to renaming or aliasing that, yet.</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:30:25.683100</ts>
    <user>Mauro</user>
    <text>&lt;@Mai&gt; If you want to be able to protect your struct inside a module, you could define the struct inside a sub module then provide the struct bindings via `contract-out` and `struct/c` so they’re protected and available for use in the parent module.</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:35:42.683700</ts>
    <user>Gonzalo</user>
    <text>There’s a thing called `struct-guard/c` on HEAD that will be in 7.3 that might be interesting to you.</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:36:09.684500</ts>
    <user>Gonzalo</user>
    <text>It lets you write this:
```
&amp;gt; (struct snake (weight hungry?)
    #:guard (struct-guard/c real? boolean?))
&amp;gt; (snake 1.5 "yep")
snake, field 2: contract violation
  expected: boolean?
  given: "yep"
  in: boolean?
  contract from: top-level
  blaming: top-level
   (assuming the contract is correct)
  at: eval:2.0
```</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:36:20.684700</ts>
    <user>Julia</user>
    <text>I've also done `(module foo typed/racket/base __)` and a TR struct b/c I prefer its syntax ¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:37:35.685700</ts>
    <user>Julia</user>
    <text>I meant that in response to &lt;@Mauro&gt;, another variation on defining the struct in a submod.
I didn't mean I prefer this to what &lt;@Gonzalo&gt; suggested; I'd never heard of that until now. :smile:</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:38:19.686000</ts>
    <user>Gonzalo</user>
    <text>It’s very new! It isn’t even in 7.2.</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:38:39.686800</ts>
    <user>Gonzalo</user>
    <text>Robby added it about a month ago.</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:38:41.686900</ts>
    <user>Mauro</user>
    <text>That looks very nice! I’m looking forward to 7.3</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:39:50.687300</ts>
    <user>Alden</user>
    <text>It is in a nightly build I believe. </text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:40:05.687800</ts>
    <user>Alden</user>
    <text>Feedback is easier to respond to before it gets into a release. :)</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:41:22.689400</ts>
    <user>Julia</user>
    <text>So comparing things, I'm guessing the `#:guard (struct-guard/c __)` approach is only checking contracts when updating the struct -- not when reading it.
(Which if that's the case, is either a drawback or a huge perf advantage, depending on what you want.)
?</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:41:54.691100</ts>
    <user>Alden</user>
    <text>It guards the constructor. Doesn't work for mutable struct</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:41:57.691400</ts>
    <user>Alden</user>
    <text>S</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:42:01.691600</ts>
    <user>Mauro</user>
    <text>Is `struct-guard/c` only available in `racket/contract` and `racket`?</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:43:12.692900</ts>
    <user>Karen</user>
    <text>If you use immutable structs, `struct-guard/c` is the safest way to enforce things</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:43:14.693000</ts>
    <user>Julia</user>
    <text>I meant, with `define-struct/contract`, I thought the contract is applied/checked even when using read accessors. No?</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:44:31.694100</ts>
    <user>Karen</user>
    <text>&lt;@Julia&gt; I don't know, but for immutable structs you probably don't want to check the reads anyway</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:45:41.695300</ts>
    <user>Julia</user>
    <text>That's why I thought, "Oh, maybe part of the motivation for `struct-guard/c` was it intentionally only guards the construction, not the read accesses, as contrasted with `d-s/c`."  Just curious.</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:46:43.696500</ts>
    <user>Karen</user>
    <text>&lt;@Julia&gt; out of curiosity, what sort of places do you usually find yourself using mutable structs?</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:47:11.696700</ts>
    <user>Julia</user>
    <text>Almost never.</text>
  </message>
  <message conversation_id="291">
    <ts>2019-03-13T18:48:09.697600</ts>
    <user>Julia</user>
    <text>I don't like mutability. And when I have to use it, the struct setters are super verbose and it's usually easier to `set!` local variables in a closure.</text>
  </message>
  <message conversation_id="292">
    <ts>2019-03-14T01:08:11.700100</ts>
    <user>Mai</user>
    <text>I’m looking forward to using `struct-guard/c`!</text>
  </message>
  <message conversation_id="292">
    <ts>2019-03-14T01:11:26.702100</ts>
    <user>Mai</user>
    <text>&lt;@Clarinda&gt; what guarantee does Racket give when I mess with `current-compile`? In particular, my buggy code results in the following error:

```
hash-ref: no value found for key
  key: 'foo
  context...:
   compile-identifier22
   compile5
   [repeats 1 more time]
   compile-let13
   compile5
   [repeats 4 more times]
   compile-let13
   compile5
   [repeats 5 more times]
   for-loop
   compile-let13
   compile5
   for-loop
   loop!
   compile-forms33
   compile-module-from-parsed34
   ...
```

Is this considered a Racket bug? Or all bets are off when I mess with the compiler?</text>
  </message>
  <message conversation_id="293">
    <ts>2019-03-14T03:33:25.702800</ts>
    <user>Herman</user>
    <text>&lt;@Karen&gt; Yes sort of like STM.</text>
  </message>
  <message conversation_id="294">
    <ts>2019-03-14T08:43:52.702900</ts>
    <user>Clarinda</user>
    <text>That looks like the bug fixed recently for this issue: &lt;https://github.com/racket/racket/issues/2458&gt;
Are you using v7.2, or at least a pre-release version that’s more than 17 days old?</text>
  </message>
  <message conversation_id="292">
    <ts>2019-03-14T10:50:11.703200</ts>
    <user>Mai</user>
    <text>Yep, I am using 7.2</text>
  </message>
  <message conversation_id="295">
    <ts>2019-03-14T16:19:19.707000</ts>
    <user>Kami</user>
    <text>Hello Racketeers! I wanna check for the presence of some keywords in a syntax-class (but the keyword themselves don't have any value following them, they are just stand-alone keywords).
I make a pattern to match them, but how do I retrieve the information about whether one of them is present or not if there's no syntax binding?
`(~optional #:my-keyword &amp;lt;a-value&amp;gt;:expr)` can be checked with `(~? &amp;lt;a-value&amp;gt;)`, but what about `(~optional #:my-keyword)`?</text>
  </message>
  <message conversation_id="295">
    <ts>2019-03-14T16:21:32.707600</ts>
    <user>Kristeen</user>
    <text>&lt;@Kami&gt; try `(~and p ...)` around that</text>
  </message>
  <message conversation_id="295">
    <ts>2019-03-14T16:21:47.707900</ts>
    <user>Kami</user>
    <text>oh, right!</text>
  </message>
  <message conversation_id="295">
    <ts>2019-03-14T16:22:02.708200</ts>
    <user>Kami</user>
    <text>thanks a lot, I forgot this trick!</text>
  </message>
  <message conversation_id="295">
    <ts>2019-03-14T16:59:42.708900</ts>
    <user>Kami</user>
    <text>I made a SO question to document that: &lt;https://stackoverflow.com/questions/55171895/how-do-i-check-for-the-presence-of-a-keyword-in-a-racket-syntax&gt;
You are welcome to suggest a better answer than mine :slightly_smiling_face:</text>
  </message>
  <message conversation_id="296">
    <ts>2019-03-14T17:07:15.709700</ts>
    <user>Elin</user>
    <text>Maybe a better place would be in the `syntax/parse` examples section on optional keyword arguments:</text>
  </message>
  <message conversation_id="296">
    <ts>2019-03-14T17:07:16.709900</ts>
    <user>Elin</user>
    <text>&lt;https://docs.racket-lang.org/syntax/Optional_Keyword_Arguments.html&gt;</text>
  </message>
  <message conversation_id="295">
    <ts>2019-03-14T17:47:49.710600</ts>
    <user>Kami</user>
    <text>&lt;@Elin&gt; Yeah, why not! I'll do a PR too :slightly_smiling_face:</text>
  </message>
  <message conversation_id="295">
    <ts>2019-03-14T17:48:13.711000</ts>
    <user>Kami</user>
    <text>SO and this page of the doc were the two places where I looked for an answer</text>
  </message>
  <message conversation_id="297">
    <ts>2019-03-14T19:52:03.713400</ts>
    <user>Loma</user>
    <text>How do you match a single line comment using `lexer`? Is there a way to match (eof) as the end of a single line comment? :disappointed_relieved:</text>
  </message>
  <message conversation_id="296">
    <ts>2019-03-14T20:17:46.713900</ts>
    <user>Elin</user>
    <text>`(:: ";" (:* (:~ #\newline)))`
&lt;https://github.com/racket/syntax-color/blob/603c1f7746e7108b3186daa2b30898a8416400d6/syntax-color-lib/syntax-color/racket-lexer.rkt#L54&gt;</text>
  </message>
  <message conversation_id="297">
    <ts>2019-03-14T20:18:52.714100</ts>
    <user>Loma</user>
    <text>Almost forgot racket source is a good place to learn! Thanks :pray:</text>
  </message>
  <message conversation_id="297">
    <ts>2019-03-14T20:22:32.716400</ts>
    <user>Elin</user>
    <text>The important part is that it doesn’t need to include a newline at the end, it just greedily consumes all characters that are not newlines.</text>
  </message>
  <message conversation_id="297">
    <ts>2019-03-14T20:26:30.716600</ts>
    <user>Loma</user>
    <text>Yes I see. &lt;@Lillian&gt; I guess your jsonic lexer tutorial probably needs an update on matching single line comment.</text>
  </message>
  <message conversation_id="297">
    <ts>2019-03-14T22:41:13.716800</ts>
    <user>Leticia</user>
    <text>That’s unfortunate. I did consider a macro, I was just a little unsure if that would mess things up in some way. I guess I’ll do that then.</text>
  </message>
  <message conversation_id="298">
    <ts>2019-03-14T22:41:19.717000</ts>
    <user>Leticia</user>
    <text>Thanks!</text>
  </message>
  <message conversation_id="297">
    <ts>2019-03-15T00:10:33.717200</ts>
    <user>Lillian</user>
    <text>I cover that technique in the `basic` tutorial</text>
  </message>
  <message conversation_id="297">
    <ts>2019-03-15T00:10:48.717400</ts>
    <user>Lillian</user>
    <text>See the lexer macro called `from/stop-before`</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:18:41.718400</ts>
    <user>Kami</user>
    <text>I made the change: &lt;https://github.com/racket/racket/pull/2537&gt; Feel free to review it :slightly_smiling_face:</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:26:53.719700</ts>
    <user>Kami</user>
    <text>&lt;@Mai&gt; Hey! Thanks for reviewing. I don't know how to use `~bind`, care to explain further?</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:28:45.719900</ts>
    <user>Mai</user>
    <text>```
(define-syntax (mycond stx)
  (syntax-parse stx
    [(mycond (~optional (~and (~bind [fallthrough
                                      #'[else
                                         (error 'failure
                                                "no clause matched")]])
                              #:error-on-fallthrough))
             clause ...)
     #'(cond clause ... (~? fallthrough))]))
```</text>
  </message>
  <message conversation_id="297">
    <ts>2019-03-15T16:28:49.720100</ts>
    <user>Mai</user>
    <text>Like this, I think</text>
  </message>
  <message conversation_id="297">
    <ts>2019-03-15T16:29:51.720300</ts>
    <user>Elin</user>
    <text>For the purposes of the `syntax-parse` example though, maybe it should be something simpler, that doesn’t require `~bind` or `~?`.</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:31:14.720500</ts>
    <user>Mai</user>
    <text>I see. That’s a good point.</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:31:37.720700</ts>
    <user>Kami</user>
    <text>&lt;@Mai&gt; Oh, I see, thanks!
I agree with &lt;@Elin&gt;, that would be cool to find a simpler example.</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:32:52.720900</ts>
    <user>Elin</user>
    <text>The first thing that comes to mind is a `struct`-like macro with a `#:transparent` flag that determines whether the “inspector” argument is `#f` or `(current-inspector)`, but that might also be more complicated than neccessary.</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:33:39.721100</ts>
    <user>Kami</user>
    <text>Yep, I was thinking about something with structs too, because that's one of the "standalone keywords" in the wild that are widely used</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:34:24.721300</ts>
    <user>Kami</user>
    <text>But as all other examples were about this `mycond` thing, I tried to stay consistent</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:42:01.721600</ts>
    <user>Elin</user>
    <text>The “More Keyword Arguments” section of the syntax-parse examples uses the `struct` options as examples: &lt;https://docs.racket-lang.org/syntax/More_Keyword_Arguments.html?q=Optional%20Keyword&gt;</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:42:54.721800</ts>
    <user>Elin</user>
    <text>However, it uses it to explain ellipsis-head patterns, which is also more complicated than necessary when there’s only one flag.</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:43:42.722000</ts>
    <user>Elin</user>
    <text>But maybe a simplified version of that `struct` example with only one flag would make sense in the first “Optional Keyword Arguments” section.</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:44:51.722200</ts>
    <user>Kami</user>
    <text>Wow, yes, my solution was already buried in that big example, and I definitely couldn't see it when I skimmed over the doc.</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:45:12.722400</ts>
    <user>Kami</user>
    <text>I guess it's a good reason for making a simpler example</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:46:34.722600</ts>
    <user>Elin</user>
    <text>&amp;gt; There are two main problems with the pattern above:
&amp;gt; • There’s no way to tell whether a zero-argument keyword like `#:mutable` was seen.
&amp;gt; • Some options, like `#:mutable`, should appear at most once.
&amp;gt;
&amp;gt; The first problem can be remedied using ~and patterns to bind a pattern variable to the keyword itself, as in this sub-pattern:
&amp;gt; `(~seq (~and #:mutable mutable-kw))`</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:47:08.722800</ts>
    <user>Kami</user>
    <text>It happens a lot when Iearn new tricks in Racket: I read the doc, I don't understand a thing, I try stuff by myself, I check on stackoverflow, I ask here, then days later, when I finally get it, I read the doc again, and now it makes sense.</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:48:06.723000</ts>
    <user>Elin</user>
    <text>The problem is the doc example in “Other Keyword Arguments” tried to address both of those two bullet points at once, and the solution to the first ended up washed out by the solution to the second.</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:48:34.723200</ts>
    <user>Kami</user>
    <text>yep</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:49:32.723400</ts>
    <user>Kami</user>
    <text>I'd add that none of the examples in that page shows up the template part</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:49:47.723600</ts>
    <user>Kami</user>
    <text>which means as a reader you don't know how to use what you just matched</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:51:37.723800</ts>
    <user>Kami</user>
    <text>By reading those example, as a beginner, I still don't get why (~and) was used and what it did (create an attribute bound to the keyword)</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:52:45.724000</ts>
    <user>Kami</user>
    <text>while the example I suggest shows precisely that, and nothing else</text>
  </message>
  <message conversation_id="299">
    <ts>2019-03-15T16:53:08.724200</ts>
    <user>Kami</user>
    <text>(except from the ~@ usage which I find clumsy)</text>
  </message>
  <message conversation_id="300">
    <ts>2019-03-15T18:35:09.726900</ts>
    <user>Mai</user>
    <text>Sorry for a dumb question, but why is, for example, `define-syntaxes` a part of Racket core form? Ideally I think that after fully expand Racket code, I would have code in phase 0, and all `define-syntaxes` could be safely removed.</text>
  </message>
  <message conversation_id="300">
    <ts>2019-03-15T19:49:27.729900</ts>
    <user>Karen</user>
    <text>&lt;@Mai&gt; I think it's because fully expanded modules can still export syntax definitions for other modules to import</text>
  </message>
  <message conversation_id="300">
    <ts>2019-03-15T19:50:14.730300</ts>
    <user>Karen</user>
    <text>There may be other reasons too</text>
  </message>
  <message conversation_id="301">
    <ts>2019-03-15T20:41:41.730700</ts>
    <user>Vicki</user>
    <text>It's possible that they will be used by some other module
for example, the expansion time of another module could depend on those transformers
and even the runtime of another module could depend on them if the module is `require for-template`</text>
  </message>
  <message conversation_id="301">
    <ts>2019-03-15T20:44:53.731800</ts>
    <user>Vicki</user>
    <text>if a module would only by instantiated at 0, then those `define-syntaxes` won't be used
but the module itself cannot determine that</text>
  </message>
  <message conversation_id="300">
    <ts>2019-03-15T20:47:18.732600</ts>
    <user>Kristeen</user>
    <text>&lt;@Mai&gt; what &lt;@Karen&gt; says is right -- if you are turning something into a single executable and you'll never require the module, then `define-syntax` could be removed</text>
  </message>
  <message conversation_id="300">
    <ts>2019-03-15T23:25:07.734300</ts>
    <user>Mai</user>
    <text>I see. Thanks!</text>
  </message>
  <message conversation_id="301">
    <ts>2019-03-16T11:23:03.735900</ts>
    <user>Gonzalo</user>
    <text>&lt;@Mai&gt; It’s worth noting that `define-syntaxes` can only show up in fully-expanded code at the module top level—`define-syntax` used as an internal definition is guaranteed to go away after expansion. And that makes sense, when considered together with the things others have already pointed out.</text>
  </message>
  <message conversation_id="302">
    <ts>2019-03-16T15:57:32.737100</ts>
    <user>Lillian</user>
    <text>Is there a way to extract the numerator and denominator of an `exact?` number, similar to how `real-part` and `imag-part` destructure a complex number?</text>
  </message>
  <message conversation_id="302">
    <ts>2019-03-16T16:02:24.738500</ts>
    <user>Franklin</user>
    <text>&lt;@Lillian&gt; does this work? &lt;https://docs.racket-lang.org/reference/generic-numbers.html?q=denominator#%28def._%28%28quote._~23~25kernel%29._numerator%29%29&gt;</text>
  </message>
  <message conversation_id="302">
    <ts>2019-03-16T16:11:55.738700</ts>
    <user>Lillian</user>
    <text>Duh</text>
  </message>
  <message conversation_id="302">
    <ts>2019-03-16T16:12:17.739000</ts>
    <user>Lillian</user>
    <text>Thanks I should’ve noticed that</text>
  </message>
  <message conversation_id="303">
    <ts>2019-03-16T16:47:23.742100</ts>
    <user>Kami</user>
    <text>Hey, I got a somewhat complicated question for syntax experts around here. I'm trying to attach meta-information to a syntax identifier at compile-time, by overriding the identifier defined by struct with my own (and keeping the old identifier somewhere for future reference). But once an identifier has been defined with `define-syntax`, it seems impossible to override it (I get an "already defined" error). Is there a better way to embed more info into a struct identifier at compile-time?</text>
  </message>
  <message conversation_id="303">
    <ts>2019-03-16T16:51:35.743300</ts>
    <user>Kami</user>
    <text>I'm doing all this because I need struct's field names (and parent's field names recursively), and they are not provided by `extract-struct-info` (only the final getters and setters)</text>
  </message>
  <message conversation_id="303">
    <ts>2019-03-16T16:54:14.744700</ts>
    <user>Kami</user>
    <text>I'd like to do something similar to what struct does: creating a `struct:id` and keeping it inside a syntax variable so that other structs can use it when inheriting. But as the identifier for my struct is already taken, I can't use the exact same name.</text>
  </message>
  <message conversation_id="303">
    <ts>2019-03-16T16:55:15.745000</ts>
    <user>Kami</user>
    <text>Does all that make sense?</text>
  </message>
  <message conversation_id="303">
    <ts>2019-03-16T17:12:42.747900</ts>
    <user>Karen</user>
    <text>&lt;@Kami&gt;  usually doing this requires that there's a struct-type-property you can use like `prop:match-expander`. I think there's a similar property for structs</text>
  </message>
  <message conversation_id="303">
    <ts>2019-03-16T17:16:07.749000</ts>
    <user>Karen</user>
    <text>I think `prop:struct-info` is what you want</text>
  </message>
  <message conversation_id="303">
    <ts>2019-03-16T17:38:51.750100</ts>
    <user>Kami</user>
    <text>but aren't struct properties used at run-time?</text>
  </message>
  <message conversation_id="303">
    <ts>2019-03-16T17:42:03.751600</ts>
    <user>Kami</user>
    <text>maybe I could just... use `make-struct-type` and keep my own wrapper around that, or something... my head hurts</text>
  </message>
  <message conversation_id="304">
    <ts>2019-03-16T17:57:35.753500</ts>
    <user>Elin</user>
    <text>I have some questions. Do you want to attach the meta-information to existing structs defined by other libraries, or would you be fine with a macro that defines new structs with meta-information attached?</text>
  </message>
  <message conversation_id="304">
    <ts>2019-03-16T17:57:51.753800</ts>
    <user>Kami</user>
    <text>the later :slightly_smiling_face:</text>
  </message>
  <message conversation_id="304">
    <ts>2019-03-16T17:58:05.754200</ts>
    <user>Elin</user>
    <text>Okay that makes it slightly easier I think.</text>
  </message>
  <message conversation_id="304">
    <ts>2019-03-16T17:58:24.754500</ts>
    <user>Elin</user>
    <text>You shouldn’t need to go all the way down to `make-struct-type`.</text>
  </message>
  <message conversation_id="304">
    <ts>2019-03-16T18:00:55.757100</ts>
    <user>Elin</user>
    <text>What I’ve done in the past is define the struct with different id passed in for the `#:name` and `#:constructor-name` fields, and then use `define-syntax` with an instance of a compile-time `normal+struct-info+extra-meta-information` struct, which has `prop:procedure` for the normal behavior, `prop:struct-info` for the struct-info behavior, and `prop:whatever-you-need-for-meta-information` for your meta information.</text>
  </message>
  <message conversation_id="304">
    <ts>2019-03-16T18:02:22.758500</ts>
    <user>Kami</user>
    <text>I see</text>
  </message>
  <message conversation_id="304">
    <ts>2019-03-16T18:03:28.759400</ts>
    <user>Kami</user>
    <text>by "`normal+struct-info+extra-meta-information` struct" you mean a struct instance that exists only at compile-time?</text>
  </message>
  <message conversation_id="304">
    <ts>2019-03-16T18:04:27.759700</ts>
    <user>Kami</user>
    <text>or a syntax?</text>
  </message>
  <message conversation_id="304">
    <ts>2019-03-16T18:06:38.762300</ts>
    <user>Elin</user>
    <text>Like this:
```
(begin
  (struct foo [field ...] option ...
    #:name internal-foo #:constructor-name internal-foo)
  (define-syntax foo
    (normal+struct-info+extra-meta-information
     (make-var-like-transformer #'internal-foo)
     (extract-struct-info (syntax-local-value #'internal-foo))
     ...extra-meta-information...)))
```
Where somewhere you have a struct definition for `normal+struct-info+extra-meta-information` in a begin-for-syntax:
```
(begin-for-syntax
  (struct normal+struct-info+extra-meta-information [normal struct-info extra-meta-information]
    #:property prop:procedure (struct-field-index normal)
    #:property prop:struct-info (lambda (self) (normal+struct-info+extra-meta-information-struct-info self))
    #:property prop:extra-meta-information ...stuff...))
```</text>
  </message>
  <message conversation_id="304">
    <ts>2019-03-16T18:06:39.762400</ts>
    <user>Kami</user>
    <text>I think I'm starting to understand, I just don't get why you would need a prop:procedure though</text>
  </message>
  <message conversation_id="304">
    <ts>2019-03-16T18:07:17.763200</ts>
    <user>Elin</user>
    <text>Oh, that’s so that you can still use the struct name as a constructor, like you can use `(foo 1 2 3)` to make an instance of `(struct foo [a b c])`</text>
  </message>
  <message conversation_id="304">
    <ts>2019-03-16T18:08:10.764000</ts>
    <user>Kami</user>
    <text>ok I see! In my case, I made the macro that generates the struct to also generate a syntax used as the constructor, so I guess I won't need this</text>
  </message>
  <message conversation_id="304">
    <ts>2019-03-16T18:09:52.764300</ts>
    <user>Kami</user>
    <text>I'll try your method, thanks!</text>
  </message>
  <message conversation_id="304">
    <ts>2019-03-16T18:17:28.769600</ts>
    <user>Karen</user>
    <text>&lt;@Kami&gt; in answer to your earlier question, `prop:struct-info` is meant to be used at compile time, not runtime. So you'd use `(define-syntax foo (make-my-meta-info))` where `my-meta-info` is a struct type with `prop:struct-info`.</text>
  </message>
  <message conversation_id="304">
    <ts>2019-03-16T18:18:34.771200</ts>
    <user>Karen</user>
    <text>And then your macros can use `syntax-local-value` to get the `my-meta-info` instance and use it to decide what code to generate</text>
  </message>
  <message conversation_id="304">
    <ts>2019-03-16T18:20:12.772000</ts>
    <user>Kami</user>
    <text>Ok, that's what seemed the most logical, but I wasn't sure I understood it correctly!</text>
  </message>
  <message conversation_id="304">
    <ts>2019-03-16T18:43:54.772700</ts>
    <user>Karen</user>
    <text>(oops I didn’t notice that that’s exactly what alex’s code does - long codeblocks are very hard to read on mobile)</text>
  </message>
  <message conversation_id="304">
    <ts>2019-03-16T18:49:37.773200</ts>
    <user>Kami</user>
    <text>it seems like it's nearly working! Thanks a lot for your help!</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-16T19:24:39.775600</ts>
    <user>Buena</user>
    <text>so, brainfart here, I'm trying to call (system* "/usr/bin/ls" "/tmp/") from inside a serve/servlet, everything works outside the servlet, but always fails inside ... I'm guessing this is because of sandbox but I can't find the docs for it</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-16T19:25:42.776400</ts>
    <user>Buena</user>
    <text>is there a way to get a call to system* to work inside a servlet?</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-16T19:35:17.776600</ts>
    <user>Buena</user>
    <text>wow, so this is a new one</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-16T19:35:45.777100</ts>
    <user>Buena</user>
    <text>apparently trying to run emacs with /dev/null as the working directory was the problem</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-16T19:36:02.777500</ts>
    <user>Buena</user>
    <text>I guess this is why we have a /var/run/ folder</text>
  </message>
  <message conversation_id="306">
    <ts>2019-03-17T01:04:14.777900</ts>
    <user>Mai</user>
    <text>Just want to make sure I understand its implication correctly. This means that suppose I want to perform some optimization (let’s say, constant folding) on fully expanded code and module `mod1` has a macro `foo` with content `(+ 1 1)`:

- If I change `(current-compile)`, I can skip performing optimization inside `define-syntax` because other modules (say `mod2`) that use `foo` from `mod1` would expand `foo` to `(+ 1 1)` anyway, so it will be optimized regardless.
- If I trigger the optimization per module (by overriding `#%module-begin`), then I have both options. That is, if I perform optimization inside `define-syntax`, then any usage of `foo` will directly result in `2`. In contrast, if I don’t, then `(+ 1 1)` will still exist, and won’t be optimized.

Do I understand correctly?</text>
  </message>
  <message conversation_id="307">
    <ts>2019-03-17T08:32:56.780800</ts>
    <user>Kami</user>
    <text>Is it possible to pass down a syntax object from one phase to the other? I have a macro at phase 2, which creates a macro at phase 1. But to be able to pass down syntax objects, I put them into structs, then transform them back into syntax objects using stx-map, datum-&amp;gt;syntax, and co. Is there a better way?</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T10:31:29.781200</ts>
    <user>Kami</user>
    <text>I think I found a simpler way by simply generating a `#'()` call</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T10:38:42.783600</ts>
    <user>Priscila</user>
    <text>In principle the compilation happening in phase 2 and phase 1 can happen at separate times (say monday and tuesday). Therefore the solution you found (letting phase 2 generate a phase 1 program containing a call to `syntax`) seems to be The Right Thing®.</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:13:50.785200</ts>
    <user>Kami</user>
    <text>Ok, another short question... (I feel like I'll never be finished with that freakin' macro)
If I produce a syntax-list, then bind it with `#:with (elem ...) (my-syntax-list-producer)` it fails and just binds the first item in the list</text>
  </message>
  <message conversation_id="308">
    <ts>2019-03-17T11:14:37.785800</ts>
    <user>Priscila</user>
    <text>Double check: what does `(display (my-syntax-list-producer)` print?</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:15:07.786500</ts>
    <user>Kami</user>
    <text>it prints a correct syntax like so: `#'((elem1 blabla) (elem2 blabla))`</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:15:22.786800</ts>
    <user>Priscila</user>
    <text>Also try #:with ((elem ...) ...)</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:16:52.788000</ts>
    <user>Elin</user>
    <text>Is it always a list of two-element lists?</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:17:36.788500</ts>
    <user>Kami</user>
    <text>nope, there can be more or less elements inside</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:18:25.788700</ts>
    <user>Kami</user>
    <text>oh, wait, I think I see the issue</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:18:35.789000</ts>
    <user>Kami</user>
    <text>it had a syntax-class</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:18:44.789300</ts>
    <user>Kami</user>
    <text>but the syntax-class is already resolved at this point</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:19:10.789500</ts>
    <user>Elin</user>
    <text>?</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:20:05.790200</ts>
    <user>Kami</user>
    <text>Ok, so my issue is that I want to merge two (elem:my-class ...) bindings into a single one</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:20:57.791300</ts>
    <user>Elin</user>
    <text>Oh, where `my-class` is a splicing class?</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:21:15.791600</ts>
    <user>Kami</user>
    <text>nope</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:21:26.791800</ts>
    <user>Kami</user>
    <text>it's a simple class</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:21:39.792100</ts>
    <user>Kami</user>
    <text>but it parses a lot of stuff and creates attributes</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:22:19.792900</ts>
    <user>Kami</user>
    <text>and I want to get those attributes later, but since the merge happens between different phases, the attributes are gone</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:22:36.793300</ts>
    <user>Kami</user>
    <text>(I know, it's complicated :P)</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:22:58.794100</ts>
    <user>Elin</user>
    <text>That’s a lot of things to do at once </text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:23:23.794600</ts>
    <user>Priscila</user>
    <text>So you need to rewrite (a1 a2 ...) (b1 b2 ...)   to (a1 b1 a2 b2 ...) ?</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:23:30.794800</ts>
    <user>Kami</user>
    <text>yep</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:24:14.795400</ts>
    <user>Priscila</user>
    <text>(append-map list as bs)</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:24:32.795700</ts>
    <user>Kami</user>
    <text>right now I'm doing an append, then datum-&amp;gt;syntax</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:24:52.796100</ts>
    <user>Kami</user>
    <text>but datum-&amp;gt;syntax loses the class attributes, it just renders plain syntax</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:25:51.796800</ts>
    <user>Priscila</user>
    <text>attributes on the indivisual elements?</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:25:55.797000</ts>
    <user>Kami</user>
    <text>yep</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:26:20.797600</ts>
    <user>Priscila</user>
    <text>(append-map list (syntax-&amp;gt;list as) (syntax-&amp;gt;list bs))   ought to be fine?</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:27:09.798500</ts>
    <user>Kami</user>
    <text>yeah, that's what I do... but in fact I realize the issue is that I can't pass attributes down a phase level. I need to render them into a `syntax` call, so I lose them</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:28:39.799400</ts>
    <user>Priscila</user>
    <text>Hmm. I can't remember how that works.</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:29:20.800400</ts>
    <user>Kami</user>
    <text>Well, the only way I see would be to make a call to `syntax` with each attribute rendered in the list</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:29:34.800700</ts>
    <user>Kami</user>
    <text>so that I can get them back by position</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:31:11.802900</ts>
    <user>Kami</user>
    <text>something like
```
#:with (elem:class ...) (my-elements)
#'(define-syntax my-other-phase (quote-syntax #'(elem.attr1 elem.attr2 elem.attr3)))
```</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:31:47.804100</ts>
    <user>Elin</user>
    <text>I would do this by having a single attribute of the syntax class to represent the info that needs to be passed down a phase level</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:31:53.804300</ts>
    <user>Kami</user>
    <text>yep</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:31:56.804500</ts>
    <user>Kami</user>
    <text>I'm going this way</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:33:36.806900</ts>
    <user>Elin</user>
    <text>And then if that attribute is called `nextphase` the syntax call would look like `#'(elem.nextphase ...)`</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:34:39.807700</ts>
    <user>Kami</user>
    <text>It's reassuring to know there are people like you who can actually understand what I'm doing... Cause I don't x)</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:35:47.809000</ts>
    <user>Elin</user>
    <text>I’ve learned because I’ve failed before but kept going eventually finding it</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:37:00.810000</ts>
    <user>Kami</user>
    <text>So, before I try putting everything in a single syntax for the next phase... Can you confirm that there's no way to create a syntax-class instance manually?</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:37:32.810300</ts>
    <user>Kami</user>
    <text>cause that would simplify the code</text>
  </message>
  <message conversation_id="309">
    <ts>2019-03-17T11:40:48.810700</ts>
    <user>Elin</user>
    <text>Not sure what you mean</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:43:57.812300</ts>
    <user>Priscila</user>
    <text>Do you (&lt;@Kami&gt;) mean something like this?
```
(syntax-parse &amp;lt;manually-created-syntax-object
  [elem:class   &amp;lt;use elem here&amp;gt;])```</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:44:52.813000</ts>
    <user>Kami</user>
    <text>yep, except I'd like to return the bound value instead of using it. But I guess it's not possible</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:45:51.813400</ts>
    <user>Kami</user>
    <text>It breaks the fundamentals of syntax-parsing</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:46:59.813800</ts>
    <user>Kami</user>
    <text>I'm going to use a simple list with two elements and put the attributes I need in there</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:48:12.814500</ts>
    <user>Kami</user>
    <text>like this:
```
(list (quote-syntax (&amp;lt;elem&amp;gt;.attr1 ...))
      (quote-syntax (&amp;lt;elem&amp;gt;.attr2 ...)))
```</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:51:06.814700</ts>
    <user>Kami</user>
    <text>or maybe...</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:51:37.815300</ts>
    <user>Kami</user>
    <text>```
(quote-syntax ((&amp;lt;elem&amp;gt;.attr1 &amp;lt;elem&amp;gt;.attr2) ...))
```</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:57:37.815900</ts>
    <user>Kami</user>
    <text>then I can do
```
#:with ((attr1 attr2) ...) (merge-elements)
```</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T11:58:12.816500</ts>
    <user>Priscila</user>
    <text>Off topic:   &lt;@Kami&gt; If you are interested in a free C64 book:  &lt;https://fusionretrobooks.com/collections/pdf/products/pdf-the-story-of-the-commodore-64-in-pixels_?fbclid=IwAR0DH_gLvlCnxN3tOEBcvaRgxv6tGe148nJmdnIfhGpm8MBKyaHRzkVi_5k&gt;</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T12:06:20.816900</ts>
    <user>Kami</user>
    <text>Oh my god my code works</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T12:07:38.817900</ts>
    <user>Kami</user>
    <text>I think it's the most complicated macro I ever wrote</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T12:07:48.818200</ts>
    <user>Kami</user>
    <text>and it's only 150 lines long x)</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T12:09:30.818800</ts>
    <user>Kami</user>
    <text>well, actually even less than that, I'm counting (define-for-syntax) helpers too</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T12:10:16.819100</ts>
    <user>Kami</user>
    <text>it generate macros that can inherit from other macros</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T12:14:18.821900</ts>
    <user>Kami</user>
    <text>I just have a small question for you &lt;@Elin&gt; :
Remember yesterday you gave me the way to create a wrapper around struct ids at compile time?
I have doubts about `#:property prop:procedure` being passed `(make-variable-like-transformer #'internal-id)`. It takes only one argument so when a call is done like so `(my-own-wrapper value1 value2 value3)` it fails as "arity mismatch"</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T12:19:48.823200</ts>
    <user>Kami</user>
    <text>For the record, a complete example:
```
;; in begin-for-syntax:
(struct metactor (normal struct-info attributes)
    #:property prop:procedure (struct-field-index normal)
    #:property prop:struct-info (lambda (self) (metactor-struct-info self))
    #:property prop:metattributes (lambda (self) (metactor-attributes self)))

;; in macro template for next phase:
(struct &amp;lt;id&amp;gt; () #:name internal-id #:constructor-name internal-id)
(define-syntax &amp;lt;id&amp;gt;
  (metactor
   (make-variable-like-transformer #'internal-id)
   (extract-struct-info (syntax-local-value #'internal-id))
   (~? (quote-syntax ((&amp;lt;own-attr&amp;gt;.parse-pattern &amp;lt;own-attr&amp;gt;.term) ...)) #'())))
```</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T12:22:33.824300</ts>
    <user>Kami</user>
    <text>the only part I don't understand is the use of `make-variable-like-transformer` and `struct-field-index`</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T12:29:01.825000</ts>
    <user>Kami</user>
    <text>obviously it just works if I use internal-id instead, so it's not a big deal for me. I just want to understand what's happening</text>
  </message>
  <message conversation_id="310">
    <ts>2019-03-17T13:08:02.825600</ts>
    <user>Elin</user>
    <text>I’ll have to try it on my computer</text>
  </message>
  <message conversation_id="305">
    <ts>2019-03-17T13:13:16.827000</ts>
    <user>Kami</user>
    <text>Thanks! I cannot express how awesome the help I get here is :slightly_smiling_face: When I'm describing my problem I feel like I'm using some weird incantation spells, but you actually understand!</text>
  </message>
  <message conversation_id="310">
    <ts>2019-03-17T13:25:07.827600</ts>
    <user>Elin</user>
    <text>Oh, sorry, I forgot that `make-variable-like-transformer` produces a `set!`-transformer instead of a “normal” procedure.</text>
  </message>
  <message conversation_id="310">
    <ts>2019-03-17T13:25:49.828000</ts>
    <user>Elin</user>
    <text>So to get around this I usually define:
```
(begin-for-syntax
  (define (make-var-like-transformer id)
    (set!-transformer-procedure (make-variable-like-transformer id))))
```</text>
  </message>
  <message conversation_id="310">
    <ts>2019-03-17T13:27:30.828600</ts>
    <user>Elin</user>
    <text>To whoever made `make-variable-like-transformer`, why is the value it returns not a procedure?</text>
  </message>
  <message conversation_id="310">
    <ts>2019-03-17T13:28:27.829400</ts>
    <user>Elin</user>
    <text>And to whoever made `prop:procedure` why do you get an “arity mismatch” error if the value doesn’t lead to a procedure, instead of a “not a procedure” error?</text>
  </message>
  <message conversation_id="310">
    <ts>2019-03-17T13:32:03.832200</ts>
    <user>Priscila</user>
    <text>It returns a `set!-transformer`. So something needs to know whether a transformer is a set!-transformer. Probably `set!-values`. But is that what you are getting at?</text>
  </message>
  <message conversation_id="310">
    <ts>2019-03-17T13:33:14.832900</ts>
    <user>Elin</user>
    <text>But something can be both a `set!-transformer?` and a `procedure?` if it implements both `prop:set!-transformer` and `prop:procedure`</text>
  </message>
  <message conversation_id="310">
    <ts>2019-03-17T13:34:08.833300</ts>
    <user>Priscila</user>
    <text>Could it be that set!-transformers are older than applicable structs?</text>
  </message>
  <message conversation_id="311">
    <ts>2019-03-17T13:54:47.833500</ts>
    <user>Kami</user>
    <text>Thanks! It works fine now :slightly_smiling_face:</text>
  </message>
  <message conversation_id="310">
    <ts>2019-03-17T15:31:20.834300</ts>
    <user>Priscila</user>
    <text>It seems 203 is the first version of the docs where "structures as functions" are mentioned (that section is not in the 202 docs).</text>
  </message>
  <message conversation_id="310">
    <ts>2019-03-17T15:32:02.835100</ts>
    <user>Priscila</user>
    <text>On the other hand set!-transformers are older. But as I read the old docs on set!-transformer a normal procedure is expected.</text>
  </message>
  <message conversation_id="312">
    <ts>2019-03-17T15:37:27.835200</ts>
    <user>Clarinda</user>
    <text>That choice allows `procedure?` to be a constant-time test.</text>
  </message>
  <message conversation_id="312">
    <ts>2019-03-17T15:39:06.835500</ts>
    <user>Elin</user>
    <text>```
(define x 5)
(define-syntax m1 (make-set!-transformer (λ (stx) #'x)))
m1 ;=&amp;gt; 5
(define-syntax m2 (compose identity (make-set!-transformer (λ (stx) #'x))))
;=error&amp;gt;
;compose: contract violation
;  expected: procedure?
;  given: #&amp;lt;set!-transformer&amp;gt;
```</text>
  </message>
  <message conversation_id="310">
    <ts>2019-03-17T15:40:23.836000</ts>
    <user>Priscila</user>
    <text>Anyone knows what's the oldest version of PLT Scheme that still runs on macOS?</text>
  </message>
  <message conversation_id="312">
    <ts>2019-03-17T15:40:28.836100</ts>
    <user>Elin</user>
    <text>That makes sense as to why `procedure?` would return true. However, it doesn’t make sense why the error message would say “arity mismatch”</text>
  </message>
  <message conversation_id="312">
    <ts>2019-03-17T15:42:40.837000</ts>
    <user>Priscila</user>
    <text>:slightly_smiling_face:   Attempted to download v103. Got to choose between Mac Classic ppc or 68k.</text>
  </message>
  <message conversation_id="310">
    <ts>2019-03-17T15:50:03.837400</ts>
    <user>Priscila</user>
    <text>Version 350 gives a similar error message:
procedure application: expected procedure, given: #&amp;lt;set!-transformer&amp;gt;; arguments were: #&amp;lt;syntax::474&amp;gt;</text>
  </message>
  <message conversation_id="312">
    <ts>2019-03-17T16:00:08.837800</ts>
    <user>Clarinda</user>
    <text>I guess it’s more that `procedure-arity` returns `'()` (and since `procedure?` returns true, then `procedure-arity` needs to return something). With that choice, attempting to apply the procedure should report an arity error.</text>
  </message>
  <message conversation_id="313">
    <ts>2019-03-17T17:35:34.838100</ts>
    <user>Lavette</user>
    <text>Thanks for the link! A great book for a Commodore fan :slightly_smiling_face:</text>
  </message>
  <message conversation_id="312">
    <ts>2019-03-17T21:02:27.841200</ts>
    <user>Elin</user>
    <text>I have a function that’s just like `make-variable-like-transformer` except that it doesn’t produce a `set!-transformer` or handle `setter-stx`.

What should it be called? `make-constant-like-transformer` doesn’t seem right. Is something like `make-expression-id-transformer` better? Expression alias? Named expression transformer? Other ideas?</text>
  </message>
  <message conversation_id="312">
    <ts>2019-03-17T21:05:40.843500</ts>
    <user>Elin</user>
    <text>I seem to copy some version of this function into every file or every project I write. Also, the fact that it doesn’t exist in the base racket distribution has caused problems for both me and just recently for Jerome.</text>
  </message>
  <message conversation_id="312">
    <ts>2019-03-17T21:06:19.844200</ts>
    <user>Elin</user>
    <text>The only problem I’m having is giving it a name.</text>
  </message>
  <message conversation_id="312">
    <ts>2019-03-17T21:08:18.844900</ts>
    <user>Julia</user>
    <text>&lt;@Elin&gt; I think you already solved this? &lt;https://twitter.com/AlexKnauth/status/1063213319031570432&gt;</text>
  </message>
  <message conversation_id="312">
    <ts>2019-03-17T21:09:20.845300</ts>
    <user>Elin</user>
    <text>Is `make-id-transformer` a good name?</text>
  </message>
  <message conversation_id="312">
    <ts>2019-03-17T21:10:18.846300</ts>
    <user>Elin</user>
    <text>I am constantly frustrated because both `make-rename-transformer` and `make-variable-like-transformer` are _so close_ but can’t be used in so many situations that require a `procedure?` value.</text>
  </message>
  <message conversation_id="312">
    <ts>2019-03-17T22:36:47.848000</ts>
    <user>Jeanine</user>
    <text>&lt;@Elin&gt; You could change `make-variable-like-transformer` to return an instance of a struct that implements both `prop:set!-transformer` and `prop:procedure`. Or you could add an argument to suppress the `make-set!-transformer` wrapper.</text>
  </message>
  <message conversation_id="312">
    <ts>2019-03-17T22:37:47.848400</ts>
    <user>Elin</user>
    <text>Should `make-set!-transformer` return such a struct that has both?</text>
  </message>
  <message conversation_id="312">
    <ts>2019-03-17T22:40:50.849800</ts>
    <user>Jeanine</user>
    <text>I don't know. That's a bigger change, and it risks breaking code that assumes `set!-transformer`s and procedures are disjoint. I don't know if any such code exists.</text>
  </message>
  <message conversation_id="312">
    <ts>2019-03-17T22:41:27.850600</ts>
    <user>Elin</user>
    <text>I think the `procedure?` behavior should be the _default_ behavior of some procedure in the documentation. I don’t want it to be “hidden” behind an optional argument.</text>
  </message>
  <message conversation_id="312">
    <ts>2019-03-17T22:43:44.852100</ts>
    <user>Jeanine</user>
    <text>I think it's fine to change `make-variable-like-transformer` to return something that implements both interfaces. (It's more recent and less widely used than `set!-transformer`, which is why I think there's less risk with it.)</text>
  </message>
  <message conversation_id="312">
    <ts>2019-03-17T22:44:24.852300</ts>
    <user>Elin</user>
    <text>Okay.</text>
  </message>
  <message conversation_id="312">
    <ts>2019-03-17T23:29:52.852700</ts>
    <user>Elin</user>
    <text>&lt;@Jeanine&gt; That’s what I’ve now done in &lt;https://github.com/racket/racket/pull/2540&gt;</text>
  </message>
  <message conversation_id="314">
    <ts>2019-03-18T06:28:54.853300</ts>
    <user>Kami</user>
    <text>Maybe `make-procedure-like-transformer`? Just kidding :stuck_out_tongue:</text>
  </message>
  <message conversation_id="315">
    <ts>2019-03-18T08:22:25.855600</ts>
    <user>Loma</user>
    <text>I tried to write a color lexer for my #lang, but the lexer always in favour of matching digits `(:+ (:/ "09"))` than matching as identifier `(:: "OP_" (:* (:or "_" (:/ "AZ" "09"))))`; can anybody tell me where did I go wrong?

The lexer is somewhat like:
```
(define bs-lexer
  (lexer
   [(eof) #f]
   [identifier 'symbol]
   [digits 'constant]
   [any-char 'symbol]))
```</text>
  </message>
  <message conversation_id="314">
    <ts>2019-03-18T08:33:00.857500</ts>
    <user>Elin</user>
    <text>Does the `identifier` lexer-abbreviation include identifiers with digits in them?</text>
  </message>
  <message conversation_id="314">
    <ts>2019-03-18T08:33:18.857700</ts>
    <user>Loma</user>
    <text>Yes</text>
  </message>
  <message conversation_id="314">
    <ts>2019-03-18T08:34:30.858200</ts>
    <user>Loma</user>
    <text>And if I reload #lang extension</text>
  </message>
  <message conversation_id="314">
    <ts>2019-03-18T08:35:11.858600</ts>
    <user>Loma</user>
    <text>Or if I type a space in front of each identifier, it will look right</text>
  </message>
  <message conversation_id="314">
    <ts>2019-03-18T08:44:44.858900</ts>
    <user>Loma</user>
    <text>Here is a video</text>
  </message>
  <message conversation_id="314">
    <ts>2019-03-18T08:58:05.860300</ts>
    <user>Loma</user>
    <text>```
;; brag/support
(define bs-lexer
  (lexer
   [(eof)
    (values lexeme 'eof #f #f #f)]
   ["OP_1234"
    (values lexeme 'symbol #f (pos lexeme-start) (pos lexeme-end))] 
   [(:+ (:/ "09"))
    (values lexeme 'constant #f (pos lexeme-start) (pos lexeme-end))]
   [any-char
    (values lexeme 'symbol #f (pos lexeme-start) (pos lexeme-end))]))

(define (color-bs port offset racket-coloring-mode?)
  (define-values (str cat paren start end)
    (bs-lexer port))
  (values str cat paren start end 0 #f))
```
Here is the exact code I used for my color lexer… I really dont know where did I go wrong</text>
  </message>
  <message conversation_id="314">
    <ts>2019-03-18T08:58:45.860800</ts>
    <user>Loma</user>
    <text>Even I use literal string “OP_1234” to match, it still has the same issue</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:04:21.861700</ts>
    <user>Marcelina</user>
    <text>&lt;@Jeanine&gt; Is there any easy way to get to a nested syntax-class attribute?</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:04:35.862000</ts>
    <user>Marcelina</user>
    <text>Something like maybe:

```
(define-splicing-syntax-class foo
  (pattern (~seq x:id y:id)))
(define-syntax-class bar
  (pattern (a:foo b:foo)))

(define stx #'(q w e r))

(syntax-parse stx
  [that:bar
   #:declare that.a foo
   (attribute that.a.x)])
```</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:11:42.865600</ts>
    <user>Jeanine</user>
    <text>&lt;@Marcelina&gt; The Right Way is to add `#:attributes (a.x b.x)` to the definition of `bar`. The Sketchy, Deprecated Way is to add `#:auto-nested-attributes` instead (but then it matters that `bar` is defined after `foo`). In both of those cases, you need to delete the `#:declare` from the use at the bottom. Yet another thing you could do is leave the definitions alone and re-parse the subterm: change the `#:declare` line to `#:with a:foo #'that.a` (for example).</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:12:57.866500</ts>
    <user>Kami</user>
    <text>&lt;@Jeanine&gt;
```
&amp;gt; (syntax-parse stx
    [that:bar
     #:with a:foo #'that.a
     (attribute a.x)])
; readline-input:61:12: syntax-parse: splicing syntax class not allowed here
```</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:13:11.866900</ts>
    <user>Marcelina</user>
    <text>I don't think I could do `#:with a:foo #'that.a`, because its a splicing-syntax-class.</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:13:48.867500</ts>
    <user>Marcelina</user>
    <text>Ya, I get `. syntax-parse: splicing syntax class not allowed here in: a:foo` with that code.</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:14:38.868800</ts>
    <user>Jeanine</user>
    <text>Ah, then you could do `#:with (a:foo) #'that.a`, I think. But re-parsing is still not a great way to do it.</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:15:06.869400</ts>
    <user>Marcelina</user>
    <text>As for adding the `#:attributes` manually. I'd rather not do that as its then repeating a bunch of the `foo` syntax class. But if that's the only way, thanks anyway. :disappointed:</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:15:23.869600</ts>
    <user>Marcelina</user>
    <text>Makes sense.</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:17:11.870300</ts>
    <user>Kami</user>
    <text>I wonder why it works if you add parens around the splicing syntax class :thinking_face:</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:17:58.870900</ts>
    <user>Kami</user>
    <text>is it for saying "this is a sequence"?</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:20:38.871800</ts>
    <user>Jeanine</user>
    <text>Yes, the pattern `(a:foo)` means match a term whose contents consist of a `foo` match, followed by nothing else.</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:23:02.872900</ts>
    <user>Jeanine</user>
    <text>For example, `a:foo` can match the *sequence of terms* `apple orange`, so `(a:foo)` can match the *term* `(apple orange)`.</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:24:09.873700</ts>
    <user>Marcelina</user>
    <text>&lt;@Jeanine&gt; Oh geez. So it looks like if I do use the `#:attributes` field, then I would need to manually specify every single attribute. :confused:</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:24:35.873900</ts>
    <user>Marcelina</user>
    <text>Something like:</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:24:38.874100</ts>
    <user>Marcelina</user>
    <text>```
(define-splicing-syntax-class foo
  (pattern (~seq x:id y:id)))
(define-syntax-class bar
  #:attributes (a b a.x a.y b.x b.y)
  (pattern (a:foo b:foo)))
```</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:24:58.874600</ts>
    <user>Marcelina</user>
    <text>Which translate to a rather long list in my actual code. :disappointed:</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:30:22.876400</ts>
    <user>Jeanine</user>
    <text>Yes, `syntax-parse` does not have a signature abstraction. Or you could use `#:auto-nested-attributes` if you're willing to live with the restrictions. Or you could try to move some of the computation into the syntax class definitions to reduce the number of attributes you need to export.</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:31:52.876800</ts>
    <user>Marcelina</user>
    <text>What do you mean by the 'syntax class definitions'?</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:33:59.878200</ts>
    <user>Kami</user>
    <text>something like this maybe:
```
(define-splicing-syntax-class foo
 (pattern (~seq x:id y:id)))
(define-syntax-class bar
 (pattern (a:foo b:foo)
    #:with result #'(a.x a.y b.x b.y)))
```</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:34:34.878600</ts>
    <user>Kami</user>
    <text>Using the x and y definitions in place instead of passing them down</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:38:58.879300</ts>
    <user>Kami</user>
    <text>I'm not sure yet it's a good strategy, but it has served me well so far.</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T09:41:14.879500</ts>
    <user>Marcelina</user>
    <text>Ah, okay.</text>
  </message>
  <message conversation_id="316">
    <ts>2019-03-18T14:16:00.879700</ts>
    <user>Mai</user>
    <text>None</text>
  </message>
  <message conversation_id="317">
    <ts>2019-03-18T14:17:03.881000</ts>
    <user>Mai</user>
    <text>Why is `true` underlined? Note that it’s my own `true`, and I did `(require (for-label (only-in my-lang true)))`</text>
  </message>
  <message conversation_id="317">
    <ts>2019-03-18T14:17:53.881500</ts>
    <user>Kristeen</user>
    <text>because it didn't find the binding for `true`</text>
  </message>
  <message conversation_id="317">
    <ts>2019-03-18T14:18:44.882100</ts>
    <user>Mai</user>
    <text>But I did require for label… isn’t that supposed to make the binding for `true` appear?</text>
  </message>
  <message conversation_id="318">
    <ts>2019-03-18T14:33:02.883500</ts>
    <user>Elin</user>
    <text>You also have a `defmodule` with `my-lang` in the same scribble-document, right? Does the way you refer to `my-lang` in the `defmodule` match the way you refer to `my-lang` in the for-label require?</text>
  </message>
  <message conversation_id="317">
    <ts>2019-03-18T14:37:01.884800</ts>
    <user>Mai</user>
    <text>I think yes. Here’s my code:

```
@(require (for-label (only-in sicp true)))
@defmodule[sicp]
@defthing[true boolean?]{
  The same as @racket[#t].
}
```</text>
  </message>
  <message conversation_id="317">
    <ts>2019-03-18T14:47:50.885900</ts>
    <user>Karen</user>
    <text>&lt;@Mai&gt; questions:

1. If you replace `(for-label (only-in sicp true))` with `(for-label sicp)`, does it work?
2. If you look at the definition of the `sicp` module, does it actually provide `true`?</text>
  </message>
  <message conversation_id="317">
    <ts>2019-03-18T15:09:41.887900</ts>
    <user>Mai</user>
    <text>1. `sicp` is also a hash lang, so `(for-label sicp)` creates a bunch of conflict. E.g., `module: identifier already required for label at: #%app`
2. It does provide `true`, though in the `r5rs` it uses `(#%provide true)` rather than `(provide true)`. I did try switching `sicp` to regular Racket and `(provide true)` and if I’m not mistaken, the problem persists.</text>
  </message>
  <message conversation_id="317">
    <ts>2019-03-18T15:13:14.888300</ts>
    <user>Mai</user>
    <text>If you want to try out the actual code, here it is: &lt;https://github.com/sicp-lang/sicp/blob/master/sicp-doc/sicp-manual.scrbl#L4&gt;</text>
  </message>
  <message conversation_id="318">
    <ts>2019-03-18T15:37:06.889500</ts>
    <user>Elin</user>
    <text>Is the `true` it provides the same one as from `racket`, or is it a separate binding that happens to produce the same value? Does that matter for scribble documentation links?</text>
  </message>
  <message conversation_id="317">
    <ts>2019-03-18T15:40:53.890200</ts>
    <user>Mai</user>
    <text>No it’s not the same one. It’s defined as `(define true #t)`. I don’t want it to link to Racket documentation.</text>
  </message>
  <message conversation_id="317">
    <ts>2019-03-18T15:45:07.890900</ts>
    <user>Mai</user>
    <text>And I mean, this problem happens with non-Racket identifiers like `nil` as well.</text>
  </message>
  <message conversation_id="317">
    <ts>2019-03-18T15:45:57.891700</ts>
    <user>Mai</user>
    <text>So I don’t think it’s about how Racket and sicp are conflicted</text>
  </message>
  <message conversation_id="319">
    <ts>2019-03-18T16:33:25.891800</ts>
    <user>Lillian</user>
    <text>If you “Reload #lang extensions” from DrRacket → Racket menu, does the coloring correct itself? If so, I believe the issue is that when you’re typing, the color lexer is not recoloring what came before. To control this, you need to use the wider colorer API that handles backtracking. &lt;https://beautifulracket.com/jsonic-2/syntax-coloring.html#coloring-annotations&gt;</text>
  </message>
  <message conversation_id="319">
    <ts>2019-03-18T16:55:16.892000</ts>
    <user>Clarinda</user>
    <text>You can’t have two `defmodule`s in a section. You can use `#:multi`. Also, since some bindings are provided by both module, use `#:use-sources` to prefer the more specific one:
```
@defmodule[#:multi (sicp sicp-pict) #:use-sources (sicp-pict)]
```</text>
  </message>
  <message conversation_id="317">
    <ts>2019-03-18T17:05:10.892200</ts>
    <user>Mai</user>
    <text>Will try, thanks!</text>
  </message>
  <message conversation_id="320">
    <ts>2019-03-18T17:47:36.892400</ts>
    <user>Loma</user>
    <text>Yes, reload #lang extension do work. Is ‘handles backtracking’ refers to setting my backup distance to some value larger than 0?
Thanks for the help BTH!</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-18T19:37:53.892600</ts>
    <user>Lillian</user>
    <text>Right. The problem here is that when you’re typing, the colorer thinks `OP_1` is a symbol followed by a number.  Thus, after you color a symbol, probably you want to set the backup distance to the length of that symbol, in case it becomes part of an identifier on the next keystroke. See the docs for `start-colorer` for a description of this API &lt;https://docs.racket-lang.org/framework/Color.html?q=start-colorer#%28meth._%28%28%28lib._framework%2Fmain..rkt%29._color~3atext~3c~25~3e%29._start-colorer%29%29&gt;</text>
  </message>
  <message conversation_id="320">
    <ts>2019-03-18T20:05:26.892800</ts>
    <user>Loma</user>
    <text>Thanks for the help! That perfectly solves my problem! :fireworks:</text>
  </message>
  <message conversation_id="322">
    <ts>2019-03-18T20:49:28.894400</ts>
    <user>Roxy</user>
    <text>When I make a UI with framework, it doesn't change the app name in the menu bar or About, and it has an extra status bar with memory, is there a way to fix those?
```
	(application:current-app-name kAppName)
	(set! frame (new frame:standard-menus% [label kAppName] [width kWidth] [height kHeight] [min-width kWidth] [min-height kHeight]
		[style '(no-resize-border)]
	))
	(set! canvas (new game-canvas% [parent (send frame get-area-container)]))
	(send frame open-status-line 'status)
	(send frame update-status-line 'status "Hello, World!")
	(send frame show #t)
```</text>
  </message>
  <message conversation_id="317">
    <ts>2019-03-18T21:11:59.894500</ts>
    <user>Mai</user>
    <text>Yup, avoiding two `defmodule` solves the problem. Thank you again :slightly_smiling_face:</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-18T22:14:24.894700</ts>
    <user>Clarinda</user>
    <text>The menu bar and “About” names are taken (by the OS) from the application name, so those will change if you make an executable with `raco exe --gui` or even `raco exe --gui --launcher`.

I think the extra status line is because `frame:standard-menus%` applies `frame:standard-menus-mixin` to `frame:status-line%`, but you should be able to apply it to `frame:basic%`.</text>
  </message>
  <message conversation_id="322">
    <ts>2019-03-18T22:17:20.894900</ts>
    <user>Roxy</user>
    <text>I mostly want the standard menus, tho, maybe I'm not seeing a way to remove a status line?</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-18T22:21:57.895100</ts>
    <user>Clarinda</user>
    <text>I mean `(new (frame:standard-menus-mixin frame:basic%) ....)`, which should preserve he menus.</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-18T22:22:23.895300</ts>
    <user>Clarinda</user>
    <text>I see that removes `open-status-line` and `update-status-line`, so maybe there’s a better choice. Or maybe use the more primitive `create-status-line` and `set-status-text`.</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-18T22:23:18.895500</ts>
    <user>Roxy</user>
    <text>OK, so I am able to make an app with raco that shows correct titles. I'm having library problems now, but I'll look at that in a bit.</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-18T22:26:26.895700</ts>
    <user>Roxy</user>
    <text>This worked: (class (frame:standard-menus-mixin (frame:status-line-mixin frame:basic%))</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-18T22:58:38.897300</ts>
    <user>Roxy</user>
    <text>So, now that's working, raco exe can't find rsound:
```
raco exe --gui -l ++lib rsound -o build/Odyssey.app Odyssey.rkt
standard-module-name-resolver: collection not found
  for module path: rsound
  collection: "rsound"
  in collection directories:
   /Users/mdh/Applications/Racket v7.2/collects
…
```
The collects flags don't seem to do anything, neither created a folder or moved any libraries into the app bundle.</text>
  </message>
  <message conversation_id="323">
    <ts>2019-03-19T09:08:26.905100</ts>
    <user>Mai</user>
    <text>Ideally, I want to write `@defproc[(flip-horiz [p painter?]) painter?]`. The problem is that `painter?` is actually not a thing. Rather, a _painter_ is an alias of a function that consumes a `frame?` and produces a `frame?`. What’s the best way to document this?

My options seem to be:

- `@defproc[(flip-horiz [p (-&amp;gt; frame? frame?)]) (-&amp;gt; frame? frame?)]`: I don’t like this. It’s super unreadable.
- `@defproc[(flip-horiz [p procedure?]) procedure?]`: I also don’t like this as it’s very imprecise.
- `(define painter? (-&amp;gt; frame? frame?))` and then document `painter?` and `flip-horiz` (in terms of `painter?`).

Which is the best? And is there a better way?</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T09:48:43.906000</ts>
    <user>Clarinda</user>
    <text>I vaguely recalled something about `-l` and user-scope packages, but had to check the `raco exe` docs… Assuming that “rsound” is installed as a user-scope package, try `--exf -U` as flags to `raco exe`.</text>
  </message>
  <message conversation_id="323">
    <ts>2019-03-19T09:53:18.908500</ts>
    <user>Jeanine</user>
    <text>&lt;@Mai&gt; Option 3 is probably best, but you should name it `painter/c` instead of `painter?`, since it is a higher-order contract and not a predicate. Another alternative is to `@deftech` the word "painter" somewhere in your document and then use `#, @tech{painter}` (or `#,(tech "painter")` or IIRC `@#,painter{tech}`) as the "contract" on the argument and result. But defining and documenting `painter/c` is better.</text>
  </message>
  <message conversation_id="323">
    <ts>2019-03-19T09:55:18.908600</ts>
    <user>Mai</user>
    <text>Thanks!</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:05:12.909000</ts>
    <user>Priscila</user>
    <text>&lt;https://stackoverflow.com/questions/55242394/using-scheme-libraries-in-a-racket-program&gt;</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:32:18.910000</ts>
    <user>Gonzalo</user>
    <text>I wish those questions had reasonable answers. But R7RS just specifies too little.</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:34:25.910300</ts>
    <user>Kristeen</user>
    <text>Part of the answer is `#!r7rs`, right?</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:34:37.910600</ts>
    <user>Kristeen</user>
    <text>and another part of the answer is `include`</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:34:48.910900</ts>
    <user>Kristeen</user>
    <text>and a third part is "give up on portable scheme code"</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:37:53.911400</ts>
    <user>Amira</user>
    <text>&lt;@Alden&gt; &lt;@Essie&gt; the northwestern current snapshots are all broken links: &lt;https://plt.eecs.northwestern.edu/snapshots/current/&gt;</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:38:28.911700</ts>
    <user>Alden</user>
    <text>I don’t think &lt;@Essie&gt; is involved in that.</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:38:49.912000</ts>
    <user>Amira</user>
    <text>ok, I wasn't sure. Just ping Robby next time?</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:39:00.912200</ts>
    <user>Alden</user>
    <text>sure. I’m investigating</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:42:51.912500</ts>
    <user>Alden</user>
    <text>Looks like the rsync mysteriously failed last night.</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:42:56.912800</ts>
    <user>Alden</user>
    <text>No disks appear to be full.</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:43:08.913000</ts>
    <user>Alden</user>
    <text>from the sending side:</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:43:10.913200</ts>
    <user>Alden</user>
    <text>```2019/03/18 16:34:34 [42315] rsync: writefd_unbuffered failed to write 5342 bytes [sender]: Broken pipe (32)
2019/03/18 16:34:34 [42315] rsync: connection unexpectedly closed (66896 bytes received so far) [sender]
2019/03/18 16:34:34 [42315] rsync error: unexplained error (code 255) at /BuildRoot/Library/Caches/com.apple.xbs/Sources/rsync/rsync-52/rsync/io.c(453) [sender=2.6.9]
```</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:43:38.913800</ts>
    <user>Alden</user>
    <text>it should be doing today’s rsync soon, so I guess the best course is to just let things go and check back in, in a few hours.</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:44:13.914600</ts>
    <user>Alden</user>
    <text>Northwestern is making a transition from being an EECS department to being two departments (CS and ECE) and so that might lead to things getting a bit wonky here and there.</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:44:19.914800</ts>
    <user>Alden</user>
    <text>Not sure if that’s what happened here, tho.</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:45:29.915500</ts>
    <user>Alden</user>
    <text>oh, it might actually still be a few hours. I see that today’s build hasn’t started the docs yet (altho yesterday’s started them at some point in the 7am hour (it is nearly 10am here))</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:46:01.916100</ts>
    <user>Alden</user>
    <text>If things go wrong again today, I’ll involve our tech staff (who run the machine that the rsync (that failed) connects to).</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:46:20.916300</ts>
    <user>Alden</user>
    <text>Thanks for letting mek now.</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:51:24.916800</ts>
    <user>Gonzalo</user>
    <text>&lt;@Kristeen&gt; R7RS doesn’t specify `#!r7rs`, either, only R6RS specifies `#!r6rs`.</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:51:35.917000</ts>
    <user>Kristeen</user>
    <text>damn</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:51:39.917200</ts>
    <user>Gonzalo</user>
    <text>It’s hopeless.</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:51:57.917600</ts>
    <user>Kristeen</user>
    <text>ok, switching fully to my third thought</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T10:52:23.918000</ts>
    <user>Essie</user>
    <text>&lt;@Amira&gt;, &lt;@Alden&gt;: Indeed.</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T13:36:37.921200</ts>
    <user>Eileen</user>
    <text>I started on a R7RS Large Red Edition package, but I don't know if I have the patience of &lt;@Gonzalo&gt; to deal with tech support for it.</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T13:37:12.921800</ts>
    <user>Gonzalo</user>
    <text>Tech support for R7RS small is easy. The answer to almost every issue is “sorry, R7RS doesn’t specify that”. :)</text>
  </message>
  <message conversation_id="321">
    <ts>2019-03-19T13:44:31.922700</ts>
    <user>Eileen</user>
    <text>Also if I wasn't really going to use it the only point would be for 100% completion (and engineering challenge) sake.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T15:51:30.926300</ts>
    <user>Jamila</user>
    <text>Question about pict and bounding boxes and curves: I have the following function, that's supposed to draw a filled dot, and an arrow coming down to the right and bending in to point to the left:
```
(require (prefix-in p: pict))

(define (right-curve height)
  (define rad 5)
  (define dot (p:disk (* 2 rad) #:color "black" #:draw-border? #f))
  (define tip (p:blank))
  (define img (p:pin-over dot rad height tip))
  (p:frame (p:panorama
   (p:pin-arrow-line (* 2 rad) img dot p:cc-find tip p:cc-find
                     #:start-angle (* pi 7/4) #:end-angle pi
                     #:color "red"))))
(right-curve 50)
```
When I run this code in DrR, though, the resulting image (a) takes up twice as much height at the repl as the frame itself does, and (b) the frame is cropped in tightly to the disk and the arrowhead, but the curve is clipped, despite calling `panorama` to enlarge the bounding box.  I'm not too concerned about the REPL weirdness (unless it causes the picture to behave badly in scribble later, but that's a problem for later).  But is there any way for me to ensure that the bounding box of the pict is automatically enlarged to include the curvy line?  Or failing that, is there an alternative to `pin-arrow-line` that gives me bezier curves and arrowheads?</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T15:53:18.926900</ts>
    <user>Jamila</user>
    <text>I've found the `metapict/bez` library, which intrigues me, but I'd love it if I didn't have to compute the control points myself :wink:</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T15:54:57.927500</ts>
    <user>Priscila</user>
    <text>You can use `curve` from MetaPict to compute the control points.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T15:56:28.928200</ts>
    <user>Priscila</user>
    <text>Example:  (curve p1 .. p2 .. pt3 .. pt4) will draw a "nice" curve through the points.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T15:56:48.928700</ts>
    <user>Priscila</user>
    <text>replace one of the ..  with -- to get a straight line between two of the points.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T15:57:47.929800</ts>
    <user>Priscila</user>
    <text>If the curve needs to enter or leave a point in a particular direction, you can do:</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T15:58:15.930400</ts>
    <user>Priscila</user>
    <text>(curve direction-to-enter p1 direction-to-leave .. p2  ...)</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T15:58:33.930800</ts>
    <user>Priscila</user>
    <text>The enter and leave directions are optional everywhere.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T15:58:59.931200</ts>
    <user>Jamila</user>
    <text>what's the syntax for directions?  are they angles (deg or rad), or keywords, or...?</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T15:59:43.931800</ts>
    <user>Priscila</user>
    <text>The directions are represented as vectors using a `vec` structure.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:00:07.932400</ts>
    <user>Priscila</user>
    <text>E.g.  (vec 1 0) will be the east direction.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:00:13.932600</ts>
    <user>Jamila</user>
    <text>ah, ok, cool</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:00:30.933200</ts>
    <user>Priscila</user>
    <text>up left right down are predefined</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:01:18.934900</ts>
    <user>Priscila</user>
    <text>There is also a function that takes a number of degrees and return a unit vector in that direction.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:01:22.935100</ts>
    <user>Kristeen</user>
    <text>I don't understand why `panorama` isn't taking the line into account</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:01:33.935500</ts>
    <user>Kristeen</user>
    <text>my guess is that the line isn't actually represented as a sub-pict</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:01:47.936100</ts>
    <user>Kristeen</user>
    <text>but that behavior seems like a bug</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:01:49.936200</ts>
    <user>Jamila</user>
    <text>&lt;@Kristeen&gt;, is the code snippet I have above producing the same clipping output for you?</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:01:52.936500</ts>
    <user>Kristeen</user>
    <text>yes</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:02:15.936900</ts>
    <user>Kristeen</user>
    <text>if you just have one particular image, you can fix it with `inset`</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:02:26.937200</ts>
    <user>Kristeen</user>
    <text>but in general this seems not-good</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:03:18.937900</ts>
    <user>Jamila</user>
    <text>looking at pict-lib/pict/private/main.rkt `pin-curve*`, seems like it's just building a `dc-path%` and directly sending `move-to` and `curve-to` messages</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:03:34.938300</ts>
    <user>Jamila</user>
    <text>doesn't seem like there's a `pict` structure being created for the curve itself</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:03:37.938500</ts>
    <user>Jamila</user>
    <text>&lt;@Priscila&gt; so that gets me part of the way there...  looks like metapict will give me picts, so that's relatively easy to compose with other picts.  last bit of the puzzle: how do I draw arrowheads of a given size, and how do I shorten the bezier curve to give room for the arrowhead at the end of it?</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:03:43.938700</ts>
    <user>Kristeen</user>
    <text>yeah that was my guess</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:07:02.938900</ts>
    <user>Priscila</user>
    <text>```
#lang racket
(require metapict)

(define p (pt 0 1))
(define q (pt 0 0))

(draw (fill (circle p 0.1))
      (color "red"
             (draw-arrow (curve p .. left q))))
```</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:07:43.939500</ts>
    <user>Priscila</user>
    <text>The function `draw-arrow` will draw the curve with an arrow in the end.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:08:14.939900</ts>
    <user>Jamila</user>
    <text>Does `draw-arrow` produce a pict that I can combine with other picts?  And, can I customize the arrowhead itself?</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:08:40.940800</ts>
    <user>Jamila</user>
    <text>(Looking at the metapict docs, but most of the links are broken/incomplete, so I haven't figured it out yet myself)</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:08:54.941100</ts>
    <user>Priscila</user>
    <text>Yes. draw-arrow returns a pict.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:08:56.941300</ts>
    <user>Priscila</user>
    <text>See &lt;https://github.com/soegaard/metapict/blob/master/metapict/arrow.rkt&gt;</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:09:09.941800</ts>
    <user>Priscila</user>
    <text>for different arrow heads and the parameters that can be tweaked.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:09:46.942200</ts>
    <user>Priscila</user>
    <text>And I agree - the documentation is not done.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:10:15.942500</ts>
    <user>Jamila</user>
    <text>no worries -- thanks for the help so far :slightly_smiling_face:</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:10:39.943000</ts>
    <user>Priscila</user>
    <text>The idea is that the settings are done using the parameters beginning at line 24.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:11:03.943800</ts>
    <user>Priscila</user>
    <text>Normally I don't need to change anything but the arrow head length using ahlength.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:11:57.945100</ts>
    <user>Priscila</user>
    <text>Well - if you only need to change the settings for a single arrow, than use the keywords. See line 161.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:12:05.945300</ts>
    <user>Jamila</user>
    <text>cool, ok.  when using `draw-arrow`, does it place the arrow so that the _tip_ of the arrowhead is the anchor point of the curve, or the inner notch is?  (IIRC, in tikz, you can control this because, naturally, everything is tweakable in tikz...and I don't remember what the defaults were)</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:12:49.946000</ts>
    <user>Priscila</user>
    <text>It places the arrow head on the anchor point (not the notch).</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:12:54.946200</ts>
    <user>Jamila</user>
    <text>yay :slightly_smiling_face:</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:13:51.947200</ts>
    <user>Priscila</user>
    <text>Also ... If you curve is say a circle, you can get your arrow head to "bend". (I think - I can't remember if I changed my mind)</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:16:00.948500</ts>
    <user>Priscila</user>
    <text>Oh. And if you just need to the bezier control points, then just use `curve` which basically is a struct holding a list of `bez` structures.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:20:11.949300</ts>
    <user>Jamila</user>
    <text>well, with only the control points, I won't get the right bounding box (unless I compute it myself...)  I'm hoping that `curve` implicitly gets it right for me, because of subdivision</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:24:13.949900</ts>
    <user>Jamila</user>
    <text>Is there a way to avoid using the `window` as my bounding box, and pick whatever is tightest on the actual drawing?</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:24:29.950100</ts>
    <user>Jamila</user>
    <text>(i.e. the equivalent of panorama?)</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:25:20.950600</ts>
    <user>Jamila</user>
    <text>&lt;https://docs.racket-lang.org/pict/Bounding_Box_Adjusters.html?q=pict#%28def._%28%28lib._pict%2Fmain..rkt%29._panorama%29%29&gt;</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:27:58.952200</ts>
    <user>Priscila</user>
    <text>I haven't anything built-in. But I think it  ought to be doable.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:28:31.953300</ts>
    <user>Priscila</user>
    <text>I have a `bez-large-bounding-box` which computes an approximate (may be too large) bounding box.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:29:22.953900</ts>
    <user>Priscila</user>
    <text>And  sfont  has a bezier-bounding-box which could be used.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:30:21.954900</ts>
    <user>Priscila</user>
    <text>Also a dc-path has a (send a-dc-path get-bounding-box)	 method.</text>
  </message>
  <message conversation_id="325">
    <ts>2019-03-19T16:30:43.955300</ts>
    <user>Herb</user>
    <text>Hello, all: I'm currently writing an indentation checker for teaching language files. I'd like to be able to take a file, run the DrRacket autoindenter on it, then diff the files, but I don't think I can invoke that functionality in a convenient way. My alternate strategy is to read through the syntax objects, and calculate what the expected indentation(s) should be. Unfortunately, I can't find how many lines a syntax object spans in a nice way. Anyone have advice?</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:32:00.956300</ts>
    <user>Kristeen</user>
    <text>&lt;@Herb&gt; to figure out the lines spanned, you need to look at the `syntax-span` and then see if there are newlines in the actual bytes</text>
  </message>
  <message conversation_id="325">
    <ts>2019-03-19T16:32:08.956500</ts>
    <user>Kristeen</user>
    <text>which I agree doesn't seem nice</text>
  </message>
  <message conversation_id="325">
    <ts>2019-03-19T16:32:40.957400</ts>
    <user>Herb</user>
    <text>Drat.... Anyone know how to invoke the DrRacket indenter?</text>
  </message>
  <message conversation_id="325">
    <ts>2019-03-19T16:32:58.957900</ts>
    <user>Kristeen</user>
    <text>You ought to be able to run the indenter automatically, but I don't know how easily</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:34:06.958300</ts>
    <user>Kristeen</user>
    <text>fundamentally you want this method: &lt;https://docs.racket-lang.org/framework/Racket.html?q=indent#%28meth._%28%28%28lib._framework%2Fmain..rkt%29._racket~3atext~3c~25~3e%29._compute-amount-to-indent%29%29&gt;</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:36:06.959800</ts>
    <user>Priscila</user>
    <text>&lt;@Jamila&gt; The sfont code does compute the proper bounding box for a Bezier curve. So given a curve (a list of Bezier curves) we need to compute the bounding box for each and then combine them.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:36:52.960800</ts>
    <user>Priscila</user>
    <text>But this gives the bounding box in virtual coordinates. When the curve is drawn the pen size etc will affect the real bounding box.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:37:17.961200</ts>
    <user>Priscila</user>
    <text>I am not sure how to deal with that.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:40:25.961700</ts>
    <user>Jamila</user>
    <text>worst case, just inflate the box by half the pen width?  (That's ignoring pen-cap details, but I'm ok with that for now)</text>
  </message>
  <message conversation_id="325">
    <ts>2019-03-19T16:42:42.962000</ts>
    <user>Kristeen</user>
    <text>&lt;@Herb&gt; here:
```
#lang racket

(require framework)

(define (indent s)
  (define t (new racket:text%))
  (send t insert s)
  (send t tabify-all)
  (send t get-text))

(indent "(lambda (x)\nx)")
```</text>
  </message>
  <message conversation_id="325">
    <ts>2019-03-19T16:43:04.962200</ts>
    <user>Herb</user>
    <text>Thanks.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:44:45.962500</ts>
    <user>Priscila</user>
    <text>&lt;@Jamila&gt; Yeah - ought to work.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:47:55.962900</ts>
    <user>Priscila</user>
    <text>But it will still result in a bounding box for a single curve only.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:48:18.963500</ts>
    <user>Priscila</user>
    <text>The `draw` operation simply draws stuff on top of a pict.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:48:46.963900</ts>
    <user>Priscila</user>
    <text>Or rather it constructs a pict.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:49:04.964300</ts>
    <user>Priscila</user>
    <text>So ... maybe panorama works on the result?</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:51:02.964600</ts>
    <user>Priscila</user>
    <text>Nope. Wishfull thinking.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:51:29.965100</ts>
    <user>Priscila</user>
    <text>MetaPict of course sets the bounding box - so panorama doesn't have a chance.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:57:20.966500</ts>
    <user>Jamila</user>
    <text>well, but then you can cheat, and say `(inset (inset the-metapict (- the-pict-bounding-box) ...) the-metapict-bounding-box ...)`, so that maybe you can force the bounding box to be what you want, so that panorama gets the right info?</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T16:57:52.967000</ts>
    <user>Jamila</user>
    <text>I'm fine with producing a floating pict that I need to combine with an existing pict myself</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T17:27:19.967600</ts>
    <user>Jamila</user>
    <text>&lt;@Kristeen&gt; is there a pict function that's the opposite of `ghost`, that says "draw this pict but pretend it has a zero-size bbox"?</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T17:31:51.969200</ts>
    <user>Tambra</user>
    <text>&lt;@Jamila&gt; a cheap-trick ive used  for that before:

```
(let ([x (blank)])
    (refocus (ht-append x the-pict) x))
```</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T17:31:59.969500</ts>
    <user>Jamila</user>
    <text>hehe</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T17:32:07.969700</ts>
    <user>Jamila</user>
    <text>that makes total sense</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T17:32:25.970100</ts>
    <user>Clarinda</user>
    <text>I was going to suggest `inset` with negative values, but that’s better.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T17:38:24.970900</ts>
    <user>Kristeen</user>
    <text>&lt;@Clarinda&gt; any thoughts on the issue of lines and panorama that &lt;@Jamila&gt; has?</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T17:42:10.971900</ts>
    <user>Clarinda</user>
    <text>No ideas. As you’ve worked out, `pin-arrow-line` doesn’t add information that `panorama` can use.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T17:42:18.972000</ts>
    <user>Amira</user>
    <text>Today's build worked :)</text>
  </message>
  <message conversation_id="326">
    <ts>2019-03-19T19:33:29.974300</ts>
    <user>Jamila</user>
    <text>&lt;@Priscila&gt; I gotta step away from the computer for a little while, but istm that &lt;https://docs.racket-lang.org/metapict/index.html?q=metapict#%28part._ref-draw-and-fill%29&gt; doesn't quite play nicely with the rest of the pict ecosystem.  Instead of using `curve-pict-width` and `curve-pict-height` parameters, I _think_ you can compute the correct bbox of the curve, in logical coordinates, and add onto it any decorations like arrowheads.  Then things like `panorama` and `inset` and `clip` will all behave "the same way" as they do on other picts.</text>
  </message>
  <message conversation_id="324">
    <ts>2019-03-19T19:34:41.975800</ts>
    <user>Jamila</user>
    <text>In my case, since I happen to know something algebraic about the control points of my curve, I can figure out that `(point-at c 0.5)` is an extremal point of the curve, so I can figure out my bounding box for now on my own.  But because `draw-arrow` doesn't actually add a pict for the arrowhead, it gets clipped away...  fortunately, that won't matter for my overall image, but in general, it's slightly awkward.</text>
  </message>
  <message conversation_id="327">
    <ts>2019-03-19T20:21:20.976100</ts>
    <user>Leticia</user>
    <text>ooooo fun, I got `racket` to segfault</text>
  </message>
  <message conversation_id="327">
    <ts>2019-03-19T20:38:34.977000</ts>
    <user>Leticia</user>
    <text>oh, one of the libraries I’m using is doing unsafe stuff internally.</text>
  </message>
  <message conversation_id="327">
    <ts>2019-03-19T20:38:38.977200</ts>
    <user>Leticia</user>
    <text>that’s less exciting.</text>
  </message>
  <message conversation_id="328">
    <ts>2019-03-19T22:56:44.978300</ts>
    <user>Leticia</user>
    <text>is there a way to get scribble to spit out SVGs instead of PNGs?</text>
  </message>
  <message conversation_id="327">
    <ts>2019-03-19T22:57:43.978500</ts>
    <user>Leticia</user>
    <text>oh, duh. `--help`</text>
  </message>
  <message conversation_id="329">
    <ts>2019-03-19T23:21:39.981500</ts>
    <user>Jamila</user>
    <text>Another question about picts: Suppose I just use the standard `(arrowhead 10 0)` pict.  I get an arrowhead, no biggie.  If I `frame` it, I get a tightly fitting box.  If I use &lt;@Tambra&gt;’s trick above (using `cc-superimpose` instead, to get things centered), and say `(frame (smash (arrowhead 10 0)))`, I get an empty pict: `pict-width` returns 0.  If I try to rotate it, though, things go wrong.  Specifically, if I try `(pict-width (panorama (smash (rotate (arrowhead 10 0) pi))))`, I get a width of 20.  Huh?  Without the rotate, I get a width of 10 as expected...</text>
  </message>
  <message conversation_id="329">
    <ts>2019-03-19T23:26:59.985200</ts>
    <user>Tambra</user>
    <text>Pict bounding boxes are rectangles. So if you rotate by 45 degrees (that's what pi is right? I never remember...) the width should be the length of the diagonal, not the length of the side</text>
  </message>
  <message conversation_id="329">
    <ts>2019-03-19T23:27:38.985600</ts>
    <user>Jamila</user>
    <text>pi is 180 degrees</text>
  </message>
  <message conversation_id="329">
    <ts>2019-03-19T23:27:55.986400</ts>
    <user>Tambra</user>
    <text>Oh...whelp back to basic trig for me</text>
  </message>
  <message conversation_id="329">
    <ts>2019-03-19T23:32:42.988200</ts>
    <user>Jamila</user>
    <text>(also, if it were 45 degrees, I'd wind up with a width of 10*sqrt(2) = 14.1... :wink: )</text>
  </message>
  <message conversation_id="329">
    <ts>2019-03-19T23:37:05.989800</ts>
    <user>Tambra</user>
    <text>(fwiw I can trigger this without smash, just using panorama and rotate)</text>
  </message>
  <message conversation_id="329">
    <ts>2019-03-19T23:37:43.990100</ts>
    <user>Jamila</user>
    <text>ok, so that's a useful simplification.</text>
  </message>
  <message conversation_id="330">
    <ts>2019-03-20T02:46:31.990300</ts>
    <user>Roxy</user>
    <text>OK, that worked!</text>
  </message>
  <message conversation_id="331">
    <ts>2019-03-20T06:27:49.993200</ts>
    <user>Priscila</user>
    <text>&lt;@Jamila&gt; I see what you mean (about the picts produced by MetaPict). I need to think about, whether a change is doable. The idea of manually setting the overall picture width and height comes from MetaPost, where the goal is to produce images with a fixed size to be used in pdfs.</text>
  </message>
  <message conversation_id="329">
    <ts>2019-03-20T07:09:07.996400</ts>
    <user>Priscila</user>
    <text>&lt;@Jamila&gt; This might be easier to fix than I thought. I have a hunch, that the bounding box stems from line 22 in the definition of `draw`. Changing this to either an user provided pict or an "empty pict" with no bounding box ought be easy.
&lt;https://github.com/soegaard/metapict/blob/master/metapict/draw.rkt#L22&gt;</text>
  </message>
  <message conversation_id="331">
    <ts>2019-03-20T07:21:24.997600</ts>
    <user>Priscila</user>
    <text>Nope. That's not enough. Every place where `dc` is used needs to me changed.</text>
  </message>
  <message conversation_id="330">
    <ts>2019-03-20T07:38:56.998000</ts>
    <user>Alden</user>
    <text>something mysterious went wrong with the pkg build last night at northwestern, but the snapshots appear to be good</text>
  </message>
  <message conversation_id="330">
    <ts>2019-03-20T07:39:07.998300</ts>
    <user>Alden</user>
    <text>(Since &lt;@Amira&gt; asked yesterday)</text>
  </message>
  <message conversation_id="331">
    <ts>2019-03-20T07:47:09.002300</ts>
    <user>Jamila</user>
    <text>&lt;@Priscila&gt; I think it's not soooo bad -- every place that `(curve-pict-width)` or `-height` are mentioned in draw.rkt should instead call a hypothetical `(compute-curve-bbox c)` function (with variants for -curves, -bezier, etc).  The hard part is that the `draw` function itself presumes that all its subpicts are `cc-superimpose`d and all the same size.  But that to me seems ok: Suppose that `draw` computed the bboxes of all its arguments, took the maximum of them, and then cc-superimposed over that.  Then a programmer can write `(fold my-combiner (map draw my-imgs))` to get individual tight bboxes for each img, or they can write `(draw my-imgs)` to pad each img to the same size and then `cc-superimpose` them all at once.</text>
  </message>
  <message conversation_id="330">
    <ts>2019-03-20T07:49:32.004700</ts>
    <user>Jamila</user>
    <text>One finessed issue that occurred to me is, how to handle arrowheads.  The case I'm thinking of is, suppose I have a C-shaped curve with arrows at both tips.  Then I'd really, really like to be able to use `rt-find` or `rb-find` to coincide with the endpoints of the curve.  But because of the vertical bulk of the arrowhead, a simple bounding-box would go beyond those corners, and so the finder functions would be useless.  Two possibilities occur to me:</text>
  </message>
  <message conversation_id="331">
    <ts>2019-03-20T07:49:52.005200</ts>
    <user>Jamila</user>
    <text>1) You could be totally awesome and build out TikZ's notion of named anchors within an image :wink:  But that's a lot of work...</text>
  </message>
  <message conversation_id="331">
    <ts>2019-03-20T07:53:37.008600</ts>
    <user>Jamila</user>
    <text>2) You draw the image as normal, including the arrow tips.  Then you compute a _second_ bounding box that ignores all path tip decorations, and you a variant of &lt;@Tambra&gt;’s trick to change the bbox to that: `(let ([tight-bb (blank tight-width tight-height)]) (refocus (*-superimpose image-with-tips tight-bb) tight-bb))`, (where `*-superimpose` is whichever function allows you the easiest way to place the two boxes in the right placement relative to each toher).  Now, the pict you return will draw everything but claim a tighter bounding box, and yet calling `panorama` on it will expand to include the arrow tips</text>
  </message>
  <message conversation_id="331">
    <ts>2019-03-20T09:50:24.012400</ts>
    <user>Priscila</user>
    <text>&lt;@Jamila&gt; I need to think it through.   Wrt to 1). Maybe the stuff in "node.rkt: is what you have in mind? It contains a work-in-progress. The idea is to have a convenient way of drawing nodes and connecting them. The shape of a node can be user-defined, but the most common ones are provided. Anchors on the node is computed by `(anchor n v)` where n is a node and v is a vector (in the direction you want the anchor). So for example `(anchor (circle-node (pt 2 3) .1) right)` will give you the point in the circle to the right of the center.</text>
  </message>
  <message conversation_id="331">
    <ts>2019-03-20T09:52:18.013100</ts>
    <user>Priscila</user>
    <text>It needs to support more of the features in tikz though.</text>
  </message>
  <message conversation_id="331">
    <ts>2019-03-20T09:54:02.013700</ts>
    <user>Jamila</user>
    <text>I'll try to look later today, need to prep for lectures, first :-)</text>
  </message>
  <message conversation_id="332">
    <ts>2019-03-20T10:52:09.015100</ts>
    <user>Kami</user>
    <text>&lt;@Elin&gt; Following what you teached me, I got inspired to write this SO question addressing the issue of overriding a struct: &lt;https://stackoverflow.com/questions/55262818/how-to-override-a-struct-constructor-while-still-providing-the-struct-metadata-f&gt;</text>
  </message>
  <message conversation_id="332">
    <ts>2019-03-20T10:53:54.015800</ts>
    <user>Kami</user>
    <text>I wonder if my reasoning is correct, so I'll just leave that here.</text>
  </message>
  <message conversation_id="331">
    <ts>2019-03-20T11:50:39.015900</ts>
    <user>Jamila</user>
    <text>Yes, this is related to what I was thinking.  Also things like `(point-of c t)`, but I don't know how to make that interact with the `find-*` operations of picts.  Rampant speculation ahead:</text>
  </message>
  <message conversation_id="331">
    <ts>2019-03-20T11:54:46.016100</ts>
    <user>Jamila</user>
    <text>Maybe create a `define--curve-and-anchors` macro, such that `(define-curve-and-anchors my-curve-name [(my-anchor-name1 (point-at curve-exp t1)) (my-anchor-name2 (some-other-coord ...)) ...])` would produce a bunch of bindings of `my-anchor-name*` to zero-sized `(blank)`s that were pinned to their respective locations on the result of `curve-exp`, and the resulting mess of pinned picts is bound to `my-curve-name`.  Then, you could easily say `(cc-find my-curve-name my-anchor-name1)` to get the exact point of that anchor relative to the curve, no matter where the curve got embedded in another pict</text>
  </message>
  <message conversation_id="331">
    <ts>2019-03-20T11:56:03.016400</ts>
    <user>Jamila</user>
    <text>(Basically, I'm trying to get around the fact that `cc-find` and its kin are mutually recursive and not open to extension, so the only way to add anchors to an existing pict is to overlay `(blank)`s onto that pict, and then find them later.)</text>
  </message>
  <message conversation_id="331">
    <ts>2019-03-20T11:56:51.016600</ts>
    <user>Jamila</user>
    <text>So, `my-curve-name` would be bound to something like `(refocus (pin-over the-curve the-blanks) the-curve)`</text>
  </message>
  <message conversation_id="333">
    <ts>2019-03-20T12:25:52.016800</ts>
    <user>Tambra</user>
    <text>Would tagged picts help you at all here?

&lt;https://docs.racket-lang.org/ppict/index.html#%28def._%28%28lib._ppict%2Ftag..rkt%29._tag-pict%29%29&gt;</text>
  </message>
  <message conversation_id="331">
    <ts>2019-03-20T12:50:58.017000</ts>
    <user>Jamila</user>
    <text>ooh that's fun.  so if you tagged all curves, then you could use find-tag to get them out of the surrounding pict, then somehow combine the results of  `ht-find` and `point-of` to get an anchor point on the curve...</text>
  </message>
  <message conversation_id="331">
    <ts>2019-03-20T12:53:20.017200</ts>
    <user>Jamila</user>
    <text>actually, ppict in general looks pretty neat</text>
  </message>
  <message conversation_id="333">
    <ts>2019-03-20T13:04:30.017400</ts>
    <user>Tambra</user>
    <text>I actually originally used that adding a blank pict trick then refocusing trick in conjunction with tags and at-find-pict to place things in exact locations and then draw arrows between them!</text>
  </message>
  <message conversation_id="333">
    <ts>2019-03-20T13:07:10.017600</ts>
    <user>Tambra</user>
    <text>Also you might find this little ditty useful:

```
(define (arrow/tag* src find-src dest find-dest [arw 30]
                    #:line-width [line-width 5]
                    #:start-angle [start-angle #f]	 	
                    #:end-angle [end-angle #f]
                    #:solid? [solid? #t])
  (lambda (pict)
    (pin-arrow-line
     arw
     pict
     (find-tag pict src) find-src (find-tag pict dest) find-dest
     #:line-width line-width
     #:start-angle start-angle	 	 	 	 
     #:end-angle end-angle
     #:solid? solid?)))
```

Its just `pin-arrow-line` but it a) takes tags not picts and b) its curried so you can build up all the arrows you want to make *then* fold them all in a separate step (which I found cleans up the code a lot)</text>
  </message>
  <message conversation_id="331">
    <ts>2019-03-20T13:10:10.017900</ts>
    <user>Jamila</user>
    <text>it's great other than the earlier failing of `pin-arrow-line` to give me proper bounding boxes :wink:</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T13:45:20.018200</ts>
    <user>Kristeen</user>
    <text>seems like we should just fix that</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T13:46:11.018400</ts>
    <user>Jamila</user>
    <text>I sure wouldn't say no to that.  But it does sound like there's a broader library of curve-based pict builders that could easily exist, and metapict is a good start on them...</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T13:54:40.019500</ts>
    <user>Tambra</user>
    <text>&lt;@Jamila&gt; re the panorama and rotate issue: &lt;https://github.com/racket/pict/pull/51&gt;</text>
  </message>
  <message conversation_id="333">
    <ts>2019-03-20T14:17:55.019800</ts>
    <user>Tambra</user>
    <text>`path%` does expose its bounding box, so this shouldn’t be to hard to do. Should we add new functions that draw arrows and extend the bounding box, or should we add yet one more optional argument to `pin-arrow-line` and friends?</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T14:19:13.020000</ts>
    <user>Kristeen</user>
    <text>one more optional argument</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T14:19:23.020200</ts>
    <user>Kristeen</user>
    <text>n more functions is so much added complexity</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T14:20:23.020500</ts>
    <user>Priscila</user>
    <text>Consider  get-path-bounding-box</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T14:20:52.020700</ts>
    <user>Tambra</user>
    <text>Sounds like a plan. I'll try to add it later today</text>
  </message>
  <message conversation_id="335">
    <ts>2019-03-20T15:43:55.024500</ts>
    <user>Gonzalo</user>
    <text>&lt;@Alden&gt; Why doesn’t `-&amp;gt;`’s val first projection raise blame errors for first-order, positive violations before receiving the negative party? It seems to do all the work of checking for such violations before receiving the missing party, so it’s clearly taking advantage of not having to do that work twice, but I’m unclear on why it defers actually signaling the error. Is there some implicit protocol that val first projections aren’t supposed to raise errors until given the missing party?</text>
  </message>
  <message conversation_id="335">
    <ts>2019-03-20T15:46:08.025300</ts>
    <user>Gonzalo</user>
    <text>(If the answer is just “it was easier to implement that way”, that’s fine; I’m mostly just trying to understand if signaling an error earlier in a custom contract’s val first projection would be considered bad.)</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:11:44.025600</ts>
    <user>Alden</user>
    <text>It is an explicit protocol </text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:11:58.025800</ts>
    <user>Alden</user>
    <text>Not an implicit one. </text>
  </message>
  <message conversation_id="335">
    <ts>2019-03-20T16:13:22.026100</ts>
    <user>Gonzalo</user>
    <text>Oh? Where is it documented?</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:26:16.028100</ts>
    <user>Alden</user>
    <text>Rereading your question I think that maybe I actually don't understand it. Certainly contracts do not, unless there are bugs, go to lengths to compute something and then not use it for ease of implementation.....</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:26:52.029100</ts>
    <user>Alden</user>
    <text>And the protocols are explicit. Which I don't think is synonymous with documented although I understand why you might think that. </text>
  </message>
  <message conversation_id="336">
    <ts>2019-03-20T16:38:12.032200</ts>
    <user>Tambra</user>
    <text>hrm, this is a little tricky. `get-bounding-box` from `dc-path%` gives a bounding box that contains the bezier control points, not just the path. Also the bit that adds the arrow head uses picts (undocumented) internal drawing language, and I haven’t the foggiest how to go about convincing this to extend the bounding box in the right way. Also panorama behaves oddly on the result of `pin-arrow-line`, extending the bounding box in places where nothing is actually drawn…</text>
  </message>
  <message conversation_id="336">
    <ts>2019-03-20T16:38:31.032700</ts>
    <user>Tambra</user>
    <text>so in short I haven’t the foggiest how to do this without adding a bunch of extra whitespace</text>
  </message>
  <message conversation_id="336">
    <ts>2019-03-20T16:39:41.033900</ts>
    <user>Priscila</user>
    <text>get-path-bounding-box from dc% ought to give a tighter bound - but do you have the drawing context?</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:39:49.034200</ts>
    <user>Gonzalo</user>
    <text>&lt;@Alden&gt; Okay, let me rephrase with an example, since I get the sense that I didn’t make my question very clear. I was intrigued that this program does not raise an exception:
```
#lang racket

(require racket/contract/private/blame
         syntax/location)

(define ctc (-&amp;gt; any/c))
(define blame (make-blame (quote-srcloc) 'foo (λ () (contract-name ctc)) 'pos #f #t))
(((contract-val-first-projection ctc) blame) 'not-a-function)
```
I found it interesting because I know that `-&amp;gt;` implements its own val first projection, so it wasn’t just using the adapter around the late neg projection that would wait until all the arguments had been supplied to raise an error. I looked at the implementation of `-&amp;gt;`’s val first projection, and I saw that when the first-order check fails, even if it has all the blame information necessary to report an error, it explicitly waits to do so until the negative party is provided. The rest of the projection does nothing at all except call `raise-blame-error`, like this:
```
(unless (procedure? val)
  (k
   (λ (neg-party)
     (raise-blame-error blame #:missing-party neg-party val
                        `(expected: ,proc/meth
                                    given: "~e")
                        val))))
```
So I was wondering: if I were to define my own contract, with its own val first projection, am I expected to wait until I get the negative party until I call `raise-blame-error`? And if so, why, and is it documented anywhere?</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:40:57.034700</ts>
    <user>Alden</user>
    <text>Oh! I see my confusion — I somehow confused late-neg and val-first.</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:41:06.035000</ts>
    <user>Alden</user>
    <text>The answer is: don’t define any val-first projections.</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:41:13.035200</ts>
    <user>Alden</user>
    <text>that’s there only for legacy reasons</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:41:36.035900</ts>
    <user>Alden</user>
    <text>But yes, the protocol for val-first is not to raise blame until you have all of the blam einformation.</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:42:10.037200</ts>
    <user>Alden</user>
    <text>There is some case where the literal interpretation of that isn’t followed (ie positive blame may be raised in a server module before it gets required but tht’s a separate issue)</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:42:17.037300</ts>
    <user>Tambra</user>
    <text>Ah yes I do. That might fixe the first problem, let me try</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:42:56.038100</ts>
    <user>Gonzalo</user>
    <text>Is val first really only for legacy uses, though? I imagine it doesn’t matter that much for most contracts, but it seems like it could matter for `-&amp;gt;` (since it’s used so often). Since `contract-out` has the value but _not_ the negative party inside the providing module, `-&amp;gt;`’s val first projection skips performing the first order checks every time it’s used in a different module (and therefore has a different negative party).</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:43:39.038700</ts>
    <user>Gonzalo</user>
    <text>If it only provided a late neg projection, it’d have to do those first order checks again inside every importing module.</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:44:31.039600</ts>
    <user>Alden</user>
    <text>val first really is only for legacy, yes.</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:44:37.039900</ts>
    <user>Alden</user>
    <text>it should be avoided</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:44:51.040300</ts>
    <user>Gonzalo</user>
    <text>Maybe my bigger question is why val first projections are deprecated at all if most contracts are attached with `contract-out`, anyway… which really does get the value before it gets the negative party, so it has to do the currying anyway.</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:45:06.040700</ts>
    <user>Gonzalo</user>
    <text>What does using late neg projections save over using val first projections?</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:45:12.040900</ts>
    <user>Alden</user>
    <text>it doesn’t do currying</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:45:16.041100</ts>
    <user>Alden</user>
    <text>it gets called twice</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:47:08.042700</ts>
    <user>Gonzalo</user>
    <text>Sure, but it still closes over the blame object, so don’t you end up having to do the same amount of allocation? Or is the point that you don’t have a lingering reference to `val` in the closure…? I guess I’m confused, but it doesn’t really matter, I was mostly just curious.</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:47:40.043100</ts>
    <user>Tambra</user>
    <text>oh no i take it back i don’t have the `dc` there…</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:48:10.043900</ts>
    <user>Gonzalo</user>
    <text>I guess I could see that, for subcontracts where the blame is swapped, you lose with the val first projection because you have to apply the curried function, and you already have the negative party at that point.</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:48:33.044200</ts>
    <user>Priscila</user>
    <text>Okay - so the question is whether we can get a tighter bounding box for a path (without knowing the pen size).</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:48:44.044600</ts>
    <user>Priscila</user>
    <text>Maybe there is something low-level in Cairo?</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:49:00.045100</ts>
    <user>Tambra</user>
    <text>The pen size is known at this point</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:49:01.045300</ts>
    <user>Alden</user>
    <text>the currying with late-neg isn’t helpful; might as well just take the two arguments at once</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:49:26.045700</ts>
    <user>Tambra</user>
    <text>It looks like `get-path-bounding-box` is actually implemented as a low level cairo operation</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:50:16.046800</ts>
    <user>Tambra</user>
    <text>(in path%)</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:50:24.047100</ts>
    <user>Gonzalo</user>
    <text>But it _is_ helpful for the top-level projection of a contract inside `contract-out`, right? Since when a contract is attached to a value with `contract-out`, you _do_ have the value but not the negative party. If that isn’t true, why does `contract-out` use the val first projection instead of the late neg projection?</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:50:35.047200</ts>
    <user>Priscila</user>
    <text>Yes - I think I was partly responsible for that one.</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:50:50.047400</ts>
    <user>Priscila</user>
    <text>I get a "connection refused" from &lt;https://www.cairographics.org/&gt;</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:50:50.047600</ts>
    <user>Tambra</user>
    <text>But I’m rather heistent to bring something that low-level into pict directly</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:50:51.047800</ts>
    <user>Priscila</user>
    <text>?</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:51:26.048500</ts>
    <user>Tambra</user>
    <text>huh same. whomp</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:51:45.049200</ts>
    <user>Alden</user>
    <text>not really</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:51:49.049400</ts>
    <user>Alden</user>
    <text>top-level doesn’t matter</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:51:52.049600</ts>
    <user>Karen</user>
    <text>side request: can we document the deprecation of val-first projections more explicitly?</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:51:58.049800</ts>
    <user>Alden</user>
    <text>it doesn’t happen in a loop (in most programs)</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:52:04.050000</ts>
    <user>Alden</user>
    <text>&lt;@Karen&gt; that sounds like a great idea</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:52:20.050600</ts>
    <user>Alden</user>
    <text>but the other stuff does</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:52:23.050900</ts>
    <user>Alden</user>
    <text>(happen in a loop)</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:53:26.052200</ts>
    <user>Tambra</user>
    <text>I could always make a `record-dc%` or something like that and call `get-path-bounding-box` directly on that</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:53:41.052500</ts>
    <user>Priscila</user>
    <text>Sounds expensive.</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:53:58.053000</ts>
    <user>Gonzalo</user>
    <text>Okay, yeah, I’ll buy that. But then why bother having a val first projection on `-&amp;gt;` at all? And why bother using the val first projection inside the implementation of `contract-out`, with a big comment explaining that it’s a legitimate use (which I don’t actually understand)?
```
  (define p (parameterize ([warn-about-val-first? #f])
              ;; when we're building the val-first projection
              ;; here we might be needing the plus1 arity
              ;; function (which will be on the val first's result)
              ;; so this is a legtimate use. don't warn.
              (get/build-val-first-projection ctc)))
```</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:54:25.053200</ts>
    <user>Alden</user>
    <text>we can delete it</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:54:32.053400</ts>
    <user>Alden</user>
    <text>(that’s the royal we, of course)</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:54:48.053800</ts>
    <user>Gonzalo</user>
    <text>Okay, I’m happy with that answer. :)</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:55:15.054800</ts>
    <user>Alden</user>
    <text>There is some code that still uses val-first projections and for that code, it is nice to have a proper val-first -&amp;gt;</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:55:21.055200</ts>
    <user>Karen</user>
    <text>Did it exist before late neg contracts were added?</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:55:22.055300</ts>
    <user>Priscila</user>
    <text>&lt;https://developer.gnome.org/cairo/stable/cairo-Paths.html#cairo-path-extents&gt;</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:55:24.055500</ts>
    <user>Karen</user>
    <text>Ah</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:55:47.056000</ts>
    <user>Alden</user>
    <text>It would be best to get rid of all val-first projections. The hangers on are, I believe, the `opt/c` contracts.</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:55:50.056200</ts>
    <user>Priscila</user>
    <text>Is `cairo_path_extents` what `get-path-bounding-box` uses?</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:55:56.056500</ts>
    <user>Alden</user>
    <text>so they should probably be fixed before removing that</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:56:15.057100</ts>
    <user>Alden</user>
    <text>and probalby it would be good to set up something like drdr but for the gradual typing benchmark too</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:56:25.057600</ts>
    <user>Alden</user>
    <text>so to make sure the change doesn’t have unintended consequences</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:56:51.058100</ts>
    <user>Alden</user>
    <text>But yes, &lt;@Karen&gt;, val-first existed before late-neg (and `#:projection` before either)</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:56:58.058200</ts>
    <user>Tambra</user>
    <text>sometimes</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:57:06.058400</ts>
    <user>Tambra</user>
    <text>```
(define cairo_op
              (cond
                [(eq? type 'path)   cairo_path_extents]
                [(eq? type 'fill)   cairo_fill_extents]
                [(eq? type 'stroke) cairo_stroke_extents]
                [else (error 'get-tight-binding-boc "expected 'path, 'fill, or, 'stroke")]))
```</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:58:03.059100</ts>
    <user>Priscila</user>
    <text>Yeah. One can see the original function name in the error message :slightly_smiling_face:</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:58:31.059600</ts>
    <user>Karen</user>
    <text>this is a tangent, but how can I make a code searching tool for racket that’s 1) binding and macro aware and 2) multi-module + multi-package?</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:59:21.060400</ts>
    <user>Karen</user>
    <text>I’m guessing there have been a couple of attempts at that kind of thing before</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T16:59:51.060500</ts>
    <user>Tambra</user>
    <text>lol</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:00:40.060700</ts>
    <user>Priscila</user>
    <text>Could we make a new, scratch drawing context with a pen size 1 and use that as the `cr` (cairo "context")?</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:02:49.062200</ts>
    <user>Elin</user>
    <text>What do you mean by searching in a “macro-aware” way?
Do you mean that if I had a macro def and call like this:
```
(define-simple-macro (m x) (f x))
(m (g 5))
```
Searching for `(f (g 5))` would succeed?</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:03:31.062600</ts>
    <user>Tambra</user>
    <text>Thats what I meant by using a `record-dc%` or something</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:03:46.063000</ts>
    <user>Karen</user>
    <text>Possibly, yes. But really I’m only thinking of searching for usages of single identifiers, not for patterns of usages.</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:03:54.063200</ts>
    <user>Tambra</user>
    <text>I can create one once an reuse for all the pin-arrow calls</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:03:59.063500</ts>
    <user>Karen</user>
    <text>(at least, as a first draft)</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:04:21.063800</ts>
    <user>Tambra</user>
    <text>but IDK what will happen if the curve extends outside of the dc’s bounds</text>
  </message>
  <message conversation_id="337">
    <ts>2019-03-20T17:05:18.064800</ts>
    <user>Priscila</user>
    <text>Ah. Does a record-dc% even have a cairo backing?</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:05:40.065400</ts>
    <user>Tambra</user>
    <text>it does</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:05:45.065700</ts>
    <user>Priscila</user>
    <text>great</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:05:57.066100</ts>
    <user>Tambra</user>
    <text>but i think I can just use an empty bitmap-dc instead</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:06:29.066700</ts>
    <user>Karen</user>
    <text>Some specific things I’d like to handle are modules that reprovide and rename the exports of other modules and macros that produce usages of things</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:07:54.067400</ts>
    <user>Karen</user>
    <text>And I’d like to be able to search across the source code of all packages in the entire package catalog for usages</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:16:13.067500</ts>
    <user>Tambra</user>
    <text>yeah, it looks like the backing DC needs to be big enough to draw the entire path already</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:16:18.067700</ts>
    <user>Tambra</user>
    <text>that’s annoying</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:18:18.068900</ts>
    <user>Elin</user>
    <text>Oooh, would it “purposefully not find” anything if you were searching for `add1` in this:
```
(define-simple-macro (m x e) (let ([x 5]) e))
(m add1 add1)
```</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:20:11.069300</ts>
    <user>Karen</user>
    <text>Yes, I definitely think it _shouldn’t_ count that as a usage of `add1`</text>
  </message>
  <message conversation_id="338">
    <ts>2019-03-20T17:20:20.069500</ts>
    <user>Karen</user>
    <text>Very good example</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:33:26.071200</ts>
    <user>Elin</user>
    <text>Should it find anything in a situation like this?
```
(define-simple-macro (m x y z)
  #:with yz/x (format-id #'x "~a~a" #'y (syntax-e #'z))
  (yz/x 5))
(m here add 1)
```</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:36:19.073000</ts>
    <user>Karen</user>
    <text>It’s not _not_ a usage of add1. And multiple occurrences of `(m here add 1)` is definitely a different case than just one occurrence or no occurrences at all. But I don’t know how to report it meaningfully to a user.</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:37:39.074300</ts>
    <user>Karen</user>
    <text>and I think its different if the definition of `m` is in its own module and imported by many modules that each write `(m here add 1)`, because there needs to be some way to tell the user that although add1 is being used in each of these client modules, they’re all the result of the same macro</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:37:47.074500</ts>
    <user>Elin</user>
    <text>Now what about
(define-simple-macro (m x y z)
  #:with yz/x (if (today-is-tuesday?) (format-id #’x “~a~a” #’y (syntax-e #’z)) #’sub1)
  (yz/x 5))
(m here add 1)</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:39:34.075900</ts>
    <user>Karen</user>
    <text>Yeah that should still count. Macro implementations using nondeterminism / IO are a case of caveat emptor. If the expanded code is nondeterministic, then it seems logical to me that the usages found in expanded code are nondeterministic.</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:47:02.079400</ts>
    <user>Elin</user>
    <text>Okay. Now what about match-expanders where you use the pattern form but not the expression form?
Like searching for uses of `m`:
```
(define-match-expander m
  (syntax-parser [(_) #'5])
  (syntax-parser [(_) #'5]))
```
In:
```
(match (+ 2 3)
  [(m) #true]
  [_ #false])
```
Both in the version of match that uses the `'origin` and `'disappeared-use` properties to save this information, and in a hypothetical version of match that didn’t save those properties.</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:51:15.082800</ts>
    <user>Karen</user>
    <text>If you’re searching for usages of `m` then both forms should count as usages. I think there should be some way to name the two forms of `m`. I made a syntax annotations library that did this kind of thing by forcing all such “multi-meaning” identifiers to be implemented as rename transformers that can be configured to expand to different bindings. In this context that would mean that `m` would be something like a struct with two fields, each of which contains an identifier. The first is used for expressions and the second for patterns. So instead of searching for `m`, you’d search for one of those two identifiers contained _within_ `m` if you wanted to search for usages of just one of the two forms of `m`.</text>
  </message>
  <message conversation_id="334">
    <ts>2019-03-20T17:51:43.083600</ts>
    <user>Karen</user>
    <text>The problem with this approach to searching is that identifiers aren’t serializable. So how do you build and save a search index?</text>
  </message>
  <message conversation_id="339">
    <ts>2019-03-20T20:30:02.084800</ts>
    <user>Leticia</user>
    <text>is there a good way to get `scribble` to spit out xelatex sources for a document? the `--xelatex` flag has it try to generate a pdf, which is not very helpful for debugging.</text>
  </message>
  <message conversation_id="339">
    <ts>2019-03-20T20:45:23.085500</ts>
    <user>Kristeen</user>
    <text>&lt;@Leticia&gt; you should be able to generate latex sources with `--latex` and then compile that with `xelatex`</text>
  </message>
  <message conversation_id="339">
    <ts>2019-03-20T20:55:10.086200</ts>
    <user>Leticia</user>
    <text>&lt;@Kristeen&gt; yes, but that uses the latex pdf rendering mixin and not the xelatex one, right?</text>
  </message>
  <message conversation_id="339">
    <ts>2019-03-20T20:57:58.086500</ts>
    <user>Kristeen</user>
    <text>the only difference between those is what command is used</text>
  </message>
  <message conversation_id="339">
    <ts>2019-03-20T20:58:24.086800</ts>
    <user>Kristeen</user>
    <text>see the two functions here: &lt;https://github.com/racket/scribble/blob/master/scribble-lib/scribble/pdf-render.rkt&gt;</text>
  </message>
  <message conversation_id="340">
    <ts>2019-03-20T22:30:20.088000</ts>
    <user>Tambra</user>
    <text>I’m trying to (re)build racket form source on a Mac, but I’ve started getting a fun error:

```
gcc -o racketcgc   main.o -Wl,-headerpad_max_install_names -F. -framework Racket -ldl -lm  -liconv
Undefined symbols for architecture x86_64:
  "_GC_malloc", referenced from:
      _main_after_stack in main.o
```
(plus lots of other undefined symbols)

Anyone have any idea how to go about debugging this?</text>
  </message>
  <message conversation_id="340">
    <ts>2019-03-20T22:41:34.088700</ts>
    <user>Tambra</user>
    <text>ah, somehow the wrong version of `ar` was in my path… fun…</text>
  </message>
  <message conversation_id="341">
    <ts>2019-03-21T14:40:11.092600</ts>
    <user>Gonzalo</user>
    <text>&lt;@Clarinda&gt; Assuming the module currently being expanded is, in fact, located somewhere on disk, is there any reliable way to get its path on the filesystem? `(variable-reference-&amp;gt;resolved-module-path (#%variable-reference))` seems to reliably return a resolved module path with a `path?` in it when used at phase 0 (I assume because it comes from the value of `current-module-declare-name` when the module is actually evaluated), but at phase 1, it just returns the symbolic name of the module. I suppose I can use `syntax-source` on some piece of syntax and hope that the reader sticks the right path in there, but I’m wondering if there’s any other way.</text>
  </message>
  <message conversation_id="342">
    <ts>2019-03-21T15:59:35.095700</ts>
    <user>Julia</user>
    <text>Seeing the RacketCon 2019 keynote choice made me realize how many dumb questions I have about Rust and the Racket FFI.
Like:
1. Can Rust produce C shared libs, that Racket's FFI could use, today?
2. Could Rust produce something "richer" (more knowledge about object lifetimes or whatever, _waves hands_) that an enhanced Racket FFI could utilize, to make things safer, faster, or both?</text>
  </message>
  <message conversation_id="342">
    <ts>2019-03-21T16:06:04.096000</ts>
    <user>Kristeen</user>
    <text>1. Yes</text>
  </message>
  <message conversation_id="342">
    <ts>2019-03-21T16:06:10.096300</ts>
    <user>Eileen</user>
    <text>1. I think so 2. probably not ?</text>
  </message>
  <message conversation_id="342">
    <ts>2019-03-21T16:06:28.096600</ts>
    <user>Kristeen</user>
    <text>2. probably? but it's not obvious what that would be.</text>
  </message>
  <message conversation_id="342">
    <ts>2019-03-21T16:09:56.097800</ts>
    <user>Eileen</user>
    <text>I was under the impression that lifetimes were erased so the runtime wouldn't have much insight into that.  Although &lt;@Julia&gt; did say "enhanced Racket FFI" so...</text>
  </message>
  <message conversation_id="342">
    <ts>2019-03-21T16:14:55.098300</ts>
    <user>Kristeen</user>
    <text>I was imagining that you'd do something with the static information ahead-of-time</text>
  </message>
  <message conversation_id="343">
    <ts>2019-03-21T17:02:12.098600</ts>
    <user>Clarinda</user>
    <text>I don’t think there’s a good way to do that. Can I ask what use you had in mind?</text>
  </message>
  <message conversation_id="343">
    <ts>2019-03-21T17:05:31.098800</ts>
    <user>Gonzalo</user>
    <text>The use I had is a hack, anyway, so it isn’t a big deal, I was just wondering if there was an easier way. It isn’t a good/valid use case. :)</text>
  </message>
  <message conversation_id="344">
    <ts>2019-03-22T09:58:35.099800</ts>
    <user>Herman</user>
    <text>Am I right in thinking there is no tree widget in the racket gui library?</text>
  </message>
  <message conversation_id="344">
    <ts>2019-03-22T09:59:44.100700</ts>
    <user>Priscila</user>
    <text>There is a "tree" widget, but I can't remember whether it is a package or a part of the gui library.</text>
  </message>
  <message conversation_id="344">
    <ts>2019-03-22T10:00:46.101200</ts>
    <user>Priscila</user>
    <text>&lt;https://docs.racket-lang.org/mrlib/Hierarchical_List_Control.html&gt;</text>
  </message>
  <message conversation_id="344">
    <ts>2019-03-22T10:00:49.101300</ts>
    <user>Herman</user>
    <text>Ah, I couldn't find it in the docs.</text>
  </message>
  <message conversation_id="344">
    <ts>2019-03-22T10:00:52.101500</ts>
    <user>Herman</user>
    <text>Thanks</text>
  </message>
  <message conversation_id="344">
    <ts>2019-03-22T10:01:18.102000</ts>
    <user>Priscila</user>
    <text>It's in the "MrLib: Extra GUI Libraries."  &lt;https://docs.racket-lang.org/mrlib/index.html&gt;</text>
  </message>
  <message conversation_id="344">
    <ts>2019-03-22T10:02:02.103100</ts>
    <user>Herman</user>
    <text>Cool. Didn't think of looking for Hierarchical List Control :grin:</text>
  </message>
  <message conversation_id="344">
    <ts>2019-03-22T10:02:32.104000</ts>
    <user>Priscila</user>
    <text>I cheated - I googled it - and found a reddit answer pointing to the answer.</text>
  </message>
  <message conversation_id="344">
    <ts>2019-03-22T10:02:46.104400</ts>
    <user>Herman</user>
    <text>Haha.. Thanks again</text>
  </message>
  <message conversation_id="344">
    <ts>2019-03-22T10:02:46.104500</ts>
    <user>Hallie</user>
    <text>I see this question (tree widget) so often that I wonder: maybe it is time to move it to base gui lib?</text>
  </message>
  <message conversation_id="344">
    <ts>2019-03-22T10:03:00.104700</ts>
    <user>Priscila</user>
    <text>Example:  &lt;https://github.com/tonyg/racket-explorer&gt;</text>
  </message>
  <message conversation_id="344">
    <ts>2019-03-22T10:03:37.105200</ts>
    <user>Herman</user>
    <text>Nice</text>
  </message>
  <message conversation_id="345">
    <ts>2019-03-22T13:48:06.105800</ts>
    <user>Gonzalo</user>
    <text>TIL that you can apparently successfully stick procedures that aren’t structs and don’t close over anything in compiled code.</text>
  </message>
  <message conversation_id="345">
    <ts>2019-03-22T14:23:28.106200</ts>
    <user>Karen</user>
    <text>&lt;@Gonzalo&gt;....what</text>
  </message>
  <message conversation_id="346">
    <ts>2019-03-22T15:56:56.106400</ts>
    <user>Clarinda</user>
    <text>Please don’t do that. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="346">
    <ts>2019-03-22T16:03:09.107400</ts>
    <user>Elin</user>
    <text>:no_mouth:</text>
  </message>
  <message conversation_id="346">
    <ts>2019-03-22T16:03:11.107500</ts>
    <user>Eileen</user>
    <text>Not sure I understand the ramifications.  Could you subvert a compiled procedure or exported name?</text>
  </message>
  <message conversation_id="346">
    <ts>2019-03-22T16:03:50.108000</ts>
    <user>Gonzalo</user>
    <text>I was not intending to. :)</text>
  </message>
  <message conversation_id="346">
    <ts>2019-03-22T16:05:51.109200</ts>
    <user>Elin</user>
    <text>I may have done this in the `debug` package for `(debug-repl)`. Is there a “good” way, an alternative?</text>
  </message>
  <message conversation_id="347">
    <ts>2019-03-22T17:01:18.114800</ts>
    <user>Clarinda</user>
    <text>I’m assuming that &lt;@Gonzalo&gt; means something like
```
(let-values ([(i o) (make-pipe)])
  (write (compile (lambda (x) x)) o) ; `lambda` term is not quoted
  (eval
   (parameterize ([read-accept-compiled #t])
     (read i))))
```
although that example will only work if the JIT is disabled. It works accidentally due to the way the bytecode compiler represents closed `lambda` forms in compiled code. It doesn’t work with Racket CS. It also doesn’t create any particular security holes, since you could always have constructed the bytecode stream manually. But it’s unspecified and unintended behavior that’s a little tedious to prevent, so I’d prefer to keep ignoring the issue.

Injecting procedures into syntax where you’re not going to marshal is a somewhat different issue, and debugging is one of the cases where that seems useful (enough that we haven’t changed `datum-&amp;gt;syntax` to disallow it).</text>
  </message>
  <message conversation_id="347">
    <ts>2019-03-22T18:55:12.116000</ts>
    <user>Leticia</user>
    <text>In typed racket, I’m not really clear on the difference between `(All (a ...) (a ... -&amp;gt; Symbol))` and `(All (a ...) (a ... a -&amp;gt; Symbol))`.</text>
  </message>
  <message conversation_id="347">
    <ts>2019-03-22T20:25:54.117700</ts>
    <user>Karen</user>
    <text>&lt;@Leticia&gt; The first type accepts any number of arguments, but the second type accepts _at least one_ argument. I think.</text>
  </message>
  <message conversation_id="348">
    <ts>2019-03-22T20:26:27.118200</ts>
    <user>Karen</user>
    <text>I don't use TR much so I'm guessing</text>
  </message>
  <message conversation_id="348">
    <ts>2019-03-22T20:36:51.118500</ts>
    <user>Elin</user>
    <text>I didn’t know that the first one was legal.</text>
  </message>
  <message conversation_id="348">
    <ts>2019-03-22T20:37:36.119200</ts>
    <user>Elin</user>
    <text>The second one, I think of like the `... a` means `...ₐ`, with a subscript a.</text>
  </message>
  <message conversation_id="348">
    <ts>2019-03-22T20:38:10.119800</ts>
    <user>Elin</user>
    <text>The ellipsis repeats the thing before it with the same number of times as the type variable `a` is repeated.</text>
  </message>
  <message conversation_id="348">
    <ts>2019-03-22T20:38:18.120100</ts>
    <user>Elin</user>
    <text>The first one, I don’t know what it does.</text>
  </message>
  <message conversation_id="348">
    <ts>2019-03-22T20:42:43.121100</ts>
    <user>Leticia</user>
    <text>&lt;@Elin&gt; after some further investigation, I think they do the same thing?</text>
  </message>
  <message conversation_id="348">
    <ts>2019-03-22T20:43:05.121500</ts>
    <user>Leticia</user>
    <text>if I define something as type `(All (a ...) (a ... -&amp;gt; Symbol))`</text>
  </message>
  <message conversation_id="348">
    <ts>2019-03-22T20:43:18.121800</ts>
    <user>Leticia</user>
    <text>and ask the repl what it is</text>
  </message>
  <message conversation_id="348">
    <ts>2019-03-22T20:43:23.122100</ts>
    <user>Leticia</user>
    <text>it spits back `(All (a ...) (a ... a -&amp;gt; Symbol))`</text>
  </message>
  <message conversation_id="348">
    <ts>2019-03-22T20:45:39.123300</ts>
    <user>Elin</user>
    <text>Oh, so _tvar_ ... is shorthand for _tvar_ … _tvar_, I guess.</text>
  </message>
  <message conversation_id="348">
    <ts>2019-03-22T20:46:18.123900</ts>
    <user>Elin</user>
    <text>The type variable usage is repeated the same number of times as the type variable in the input.</text>
  </message>
  <message conversation_id="348">
    <ts>2019-03-22T20:46:28.124100</ts>
    <user>Elin</user>
    <text>I didn’t know that.</text>
  </message>
  <message conversation_id="349">
    <ts>2019-03-22T23:19:07.124400</ts>
    <user>Leticia</user>
    <text>So I’ve been talking to my LaTeX gnome, who objects to the presence of the line

```
\usepackage[utf8]{inputenc}
```

in the XeLaTeX output, as it manages to break some things.</text>
  </message>
  <message conversation_id="349">
    <ts>2019-03-22T23:24:34.124700</ts>
    <user>Leticia</user>
    <text>&amp;gt; The LaTeX source includes stuff that transforms UTF-8 byte sequences into LaTeX commands. However, XeTeX doesn’t serve bytes, but whole characters, causing the stuff to break.

&amp;gt; The source file contains some engine-specific code, notably, the code that tries to transform UTF-8 text into commands.
&amp;gt; Otherwise, the document appears to be XeLaTeX compatible.
&amp;gt; The line
&amp;gt; `\usepackage[utf8]{inputenc}`
&amp;gt; is what tries to transform UTF-8 text into commands, thus breaking some text.
Removing it will fix the botched text.</text>
  </message>
  <message conversation_id="348">
    <ts>2019-03-23T16:16:22.125800</ts>
    <user>Kristeen</user>
    <text>&lt;@Elin&gt; &lt;@Leticia&gt; they do the same thing;  TR infers the second a in the first one</text>
  </message>
  <message conversation_id="350">
    <ts>2019-03-24T05:51:11.128600</ts>
    <user>Marceline</user>
    <text>Hi. I asked that question on Stack Overflow. I managed to come up with something that works for me (posted an answer to that question).</text>
  </message>
  <message conversation_id="350">
    <ts>2019-03-24T05:51:58.129000</ts>
    <user>Marceline</user>
    <text>Basically, wrapper files and `include`</text>
  </message>
  <message conversation_id="350">
    <ts>2019-03-24T06:03:55.129200</ts>
    <user>Marceline</user>
    <text>Yeah, that's a bummer. We could think about writing an SRFI to propose `#!r7rs`, but even nicer would be to have Racket's `#lang` in Schemes. It would be more flexible. Also playing well with Unix shebang lines (`#!`) should be taken into account.</text>
  </message>
  <message conversation_id="350">
    <ts>2019-03-24T06:22:34.133100</ts>
    <user>Marceline</user>
    <text>Seriously, if anyone wants to write that SRFI with me let's do it. The reason I ended up here in the first place is we're trying to improve the parsing/tooling around SRFI documents on the srfi-discuss mailing list. I wrote an experimental CI server for the SRFI process in Racket with a portable core in R7RS. It's my first Racket (and R7RS) program ever and Racket made the job easy so I'm a happy camper :slightly_smiling_face:</text>
  </message>
  <message conversation_id="350">
    <ts>2019-03-24T06:24:44.135500</ts>
    <user>Marceline</user>
    <text>On an unrelated note, I couldn't find a `database-url` library for Racket (i.e. parse the `DATABASE_URL` environment variable, figure out what database driver and settings to use, and return a ready-to-use database connection). If there isn't one yet, let's make one. It</text>
  </message>
  <message conversation_id="350">
    <ts>2019-03-24T06:25:22.136200</ts>
    <user>Marceline</user>
    <text>shouldn't be much effort at all.</text>
  </message>
  <message conversation_id="350">
    <ts>2019-03-24T06:39:10.140200</ts>
    <user>Marceline</user>
    <text>Another thing that would be nice to have a uniform interface to, is archive files. Currently the unzip/untar modules differ in functionality and interface. I can also help with this if someone can mentor (I have no idea how to publish packages and what the process is for getting things into the base distribution).</text>
  </message>
  <message conversation_id="350">
    <ts>2019-03-24T06:55:43.144200</ts>
    <user>Marceline</user>
    <text>On yet another note, if anyone is interested in automatic code formatters, talk to me :slightly_smiling_face: Most Lisps have fairly similar syntax and indentation/line breaking concerns, so we could try to write a code formatter using only R7RS and immutable data structures. If the program used such a restricted language it ought to be easy to auto-translate it to Racket, Common Lisp, Clojure, etc. to fit in the respective workflows in each community.</text>
  </message>
  <message conversation_id="351">
    <ts>2019-03-24T07:36:01.144400</ts>
    <user>Priscila</user>
    <text>We have a new time!</text>
  </message>
  <message conversation_id="351">
    <ts>2019-03-24T07:36:06.144600</ts>
    <user>Priscila</user>
    <text>(require (for-indentation ...))</text>
  </message>
  <message conversation_id="350">
    <ts>2019-03-24T07:40:56.145700</ts>
    <user>Marceline</user>
    <text>I can't tell whether you're joking or being serious. Just consider me a complete noob and you're not far off the mark :stuck_out_tongue:</text>
  </message>
  <message conversation_id="351">
    <ts>2019-03-24T07:41:12.145900</ts>
    <user>Priscila</user>
    <text>Bit of both.</text>
  </message>
  <message conversation_id="351">
    <ts>2019-03-24T07:42:40.147300</ts>
    <user>Priscila</user>
    <text>It would be great, when defining a macro with a new syntax, to be able to tell the indenter how the various subforms of an macro application should be indented.</text>
  </message>
  <message conversation_id="351">
    <ts>2019-03-24T07:43:36.148200</ts>
    <user>Priscila</user>
    <text>But at the same time it also feels a bit over-engineered.</text>
  </message>
  <message conversation_id="351">
    <ts>2019-03-24T07:46:57.151500</ts>
    <user>Marceline</user>
    <text>Not over-engineered if you ask me. I've been wanting that in Common Lisp for years. As they say, "the complexity has to go somewhere". If the source code doesn't specify macro indentation then everyone has to specify it in their own text editor config. The editor could hunt down the original macro definitions and parse them but that's a steep requirement for an editor.</text>
  </message>
  <message conversation_id="351">
    <ts>2019-03-24T07:48:40.152300</ts>
    <user>Marceline</user>
    <text>The editor could ask a "language server" about the indentation but relying on that is brittle and complex on many levels.</text>
  </message>
  <message conversation_id="351">
    <ts>2019-03-24T07:49:51.153200</ts>
    <user>Marceline</user>
    <text>Plus it would be nice to be able to run an indenter from the command line without involving text editors or language servers.</text>
  </message>
  <message conversation_id="352">
    <ts>2019-03-24T08:43:20.154800</ts>
    <user>Mai</user>
    <text>The problem is that a Racket program doesn’t necessarily need to use the S-expression syntax.</text>
  </message>
  <message conversation_id="352">
    <ts>2019-03-24T08:46:42.155700</ts>
    <user>Priscila</user>
    <text>So each #lang language ought to provide (at indentation time) a function/structure that describes how to indent ... something... .</text>
  </message>
  <message conversation_id="352">
    <ts>2019-03-24T08:46:47.155900</ts>
    <user>Priscila</user>
    <text>Hmm.</text>
  </message>
  <message conversation_id="351">
    <ts>2019-03-24T09:11:24.159500</ts>
    <user>Marceline</user>
    <text>I don't know which Racket lang has the most complex syntax at the moment, but for languages not as simple as Lisp, code formatter settings can get very complex over the years. Obligatory link to `clang-format` options: &lt;https://clang.llvm.org/docs/ClangFormatStyleOptions.html&gt;</text>
  </message>
  <message conversation_id="351">
    <ts>2019-03-24T09:12:37.160400</ts>
    <user>Marceline</user>
    <text>Many existing formatters for non-Racket languages just use a configuration file in the root directory of your project, including `clang-format`.</text>
  </message>
  <message conversation_id="351">
    <ts>2019-03-24T09:16:04.162000</ts>
    <user>Marceline</user>
    <text>Plus if Racket implements a language that also has non-Racket implementations, it'd be really nice if all those implementations could read formatting options from the same place. That could rule out storing the options in `info.rkt`.</text>
  </message>
  <message conversation_id="351">
    <ts>2019-03-24T09:17:54.162700</ts>
    <user>Marceline</user>
    <text>Also some established languages have several competing formatters and people don't agree on which one to use.</text>
  </message>
  <message conversation_id="351">
    <ts>2019-03-24T09:20:34.166700</ts>
    <user>Marceline</user>
    <text>The Unibeautify project is trying to develop a common vocabulary for different formatters' settings: &lt;https://github.com/unibeautify&gt; I'll gladly help to get any Lisp-flavored languages represented in it.</text>
  </message>
  <message conversation_id="351">
    <ts>2019-03-24T09:23:07.168000</ts>
    <user>Deeanna</user>
    <text>Is there a known issue/interaction between dynamic-rerequire and the IO system? I've been trying to figure out why my DB queries sporadically take significantly longer (&amp;gt;1s rather than less than 1ms on average) than they should after my code reloads (and *only* after the first time it reloads). I've ruled out the database and I've also ruled out the `db` package (I linked it locally and started profiling every function on the call stack for a query). Profiling the `db` package, I found that `read-char` (i.e. reading the next character from the db connection) is taking up all of the time when those slowdowns occur. Upon every reload, my code restarts the web-server and the db connection pool so I don't think this is to do with any lingering ports or custodians (I've tried creating a new custodian to hold everything and shutting it down for every reload, no luck w/ that either). Any ideas what might be causing my issue?</text>
  </message>
  <message conversation_id="351">
    <ts>2019-03-24T09:35:52.168700</ts>
    <user>Priscila</user>
    <text>Best idea: Make a minimal example and post it to the mailing list.</text>
  </message>
  <message conversation_id="351">
    <ts>2019-03-24T09:36:41.169100</ts>
    <user>Priscila</user>
    <text>Which isn't that simple to make in your situation.</text>
  </message>
  <message conversation_id="351">
    <ts>2019-03-24T09:39:17.169900</ts>
    <user>Deeanna</user>
    <text>Yeah, there are quite a few moving parts, but I'll try to do that if I can't figure it out soon.</text>
  </message>
  <message conversation_id="351">
    <ts>2019-03-24T09:40:57.170700</ts>
    <user>Deeanna</user>
    <text>What would really help debug this is if I could somehow instrument all running threads and tell them to print something to standard out when they wake up. Is there such a hook available?</text>
  </message>
  <message conversation_id="351">
    <ts>2019-03-24T09:41:56.171900</ts>
    <user>Deeanna</user>
    <text>My suspicion is that, upon reload, some background threads end up leaking and when `read-char` is called, the scheduler wakes up one of those threads and it does... something that takes up all that time.</text>
  </message>
  <message conversation_id="353">
    <ts>2019-03-24T11:16:09.174300</ts>
    <user>Marceline</user>
    <text>I'm almost done writing that `database-url` library. But... is there a "URL path for humans" function somewhere? `(url-path u)` gives me what I *think* is a list of structs of some kind, but I'm not sure. I can't find anything in the standard libraries to effectively traverse or convert that thing to the usual "foo/bar/baz" form as it's written in the URL.</text>
  </message>
  <message conversation_id="353">
    <ts>2019-03-24T11:19:15.176200</ts>
    <user>Marceline</user>
    <text>It looks like it's complex in an attempt to aid URL&amp;lt;-&amp;gt;file-system-path conversions across operating systems, but I'm just totally confused.</text>
  </message>
  <message conversation_id="353">
    <ts>2019-03-24T11:30:24.176600</ts>
    <user>Mai</user>
    <text>This looks like a bug to me… &lt;https://stackoverflow.com/questions/55321755/applying-cast-to-dynamically-required-function-in-typed-racket&gt;</text>
  </message>
  <message conversation_id="354">
    <ts>2019-03-24T11:58:23.176800</ts>
    <user>Penni</user>
    <text>How, in the world of `syntax-parse`, can I call a syntax class as a subroutine, passing it syntax variables with all their attributes (and sub-attributes, etc.)?

What I'd like to be able to do, in this example, is move the code for that big lambda to its own syntax class, where it would be called with information not available in this syntax class (parsed elsewhere; needed for the TODO line). IOW, I'd like to be able to do all the parsing first, and then, when all the parsed information is available, do all the code generation. This is for maintainability and readability more than just to fix the TODO line.</text>
  </message>
  <message conversation_id="355">
    <ts>2019-03-24T13:37:38.179800</ts>
    <user>Gonzalo</user>
    <text>&lt;@Mai&gt; I think the problem is that TR treats `cast` as a typed/untyped boundary, so it (confusingly) treats even this program as an error:
```
#lang typed/racket

(define x : Any
  (lambda ([n : Integer]) (add1 n)))

((cast x (-&amp;gt; Integer Integer)) 42)
```
This happens because it thinks that the use of `x` inside the `cast` is flowing into an untyped region and attaches `any-wrap/c` to it. I don’t think that’s actually necessary here, though, since none of the things `any-wrap/c` guards against can actually happen. So maybe contracts generated by `cast` should never include `any-wrap/c` contracts?</text>
  </message>
  <message conversation_id="356">
    <ts>2019-03-24T13:51:50.180100</ts>
    <user>Elin</user>
    <text>I have an idea for how this could be solved.</text>
  </message>
  <message conversation_id="356">
    <ts>2019-03-24T13:58:44.186000</ts>
    <user>Elin</user>
    <text>I’ve thought about this and the issue is TR currently doesn’t distinguish between:
 - typed values that it knows nothing about the type of, which it needs to guard with `any-wrap/c` when passing into untyped code or casting
 - untyped values that can be passed back into untyped code or casted safely without `any-wrap/c`

Currently TR treats everything with type `Any` as the first one, which is conservative and safe. However I think the second one is valuable too, especially if things like `dynamic-require` are involved. It could be a separate type, a subtype of `Any` (it would not be a supertype of any non-flat types), that could be called `DynamicAny`.</text>
  </message>
  <message conversation_id="356">
    <ts>2019-03-24T14:04:07.189300</ts>
    <user>Elin</user>
    <text>The `DynamicAny` type would be different from `Any` in two ways:
  (1) It is *not* a super-type of any other type that might involve typed higher-order values.
  (2) It is safe to pass values of this type into untyped code without any additional checks or contracts

When values go through an untyped-&amp;gt;typed boundary they need a first-order check.
When values go through a typed-&amp;gt;untyped boundary they don’t need any check or contract.

`dynamic-require` would return `DynamicAny`
`DynamicAny &amp;lt;: Any`
`FlatFirstOrderImmutableData &amp;lt;: DynamicAny`
`(Boxof _) &amp;lt;/: DynamicAny` (not a supertype of any type might contain mutable values)
`(Vectorof _) &amp;lt;/: DynamicAny`
`(-&amp;gt; _ ... _) &amp;lt;/: DynamicAny` (not a supertype of any type that might contain function values or take inputs)</text>
  </message>
  <message conversation_id="357">
    <ts>2019-03-24T14:48:02.189600</ts>
    <user>Eileen</user>
    <text>Have you considered just writing a syntax-time function that takes the syntax and all of the properties and returns the new syntax?</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T15:46:07.193200</ts>
    <user>Julia</user>
    <text>&lt;@Deeanna&gt; What kind of server are you asking `db` to talk to -- an in-process FFI one like sqlite, --or--, one it must connect to via TCP or Unix domain socket like postgres?

If latter, maybe you're seeing something connection-related? (Maybe the connection always takes 1 sec but you don't notice on the initial load because it's just another second among many?  And/or, maybe there is some delay due to recycling a TCP port?  Just a couple wild guesses, that might not involve Racket per se.)</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T15:54:19.196300</ts>
    <user>Julia</user>
    <text>If latter, and you're using TCP now, maybe try Unix domain socket instead. I believe that's a relatively recent addition to the `db` package. It's probably better generally, even if n/a for your immediate question. Probably unix domain sockets are more secure and faster, both.</text>
  </message>
  <message conversation_id="359">
    <ts>2019-03-24T16:18:14.196900</ts>
    <user>Penni</user>
    <text>If you're in the REPL, how do you run a module that's already been loaded or entered?

IOW, what's the REPL equivalent of Cmd-R in DrRacket?</text>
  </message>
  <message conversation_id="359">
    <ts>2019-03-24T16:19:34.197000</ts>
    <user>Deeanna</user>
    <text>I'm using Postgres so the driver is written in pure Racket (not FFI). I thought it might be connection overhead, but it doesn't look like it based on PG's logs. Turning on debug logging for the `db` topic shows that the issue occurs even an idle connection is being grabbed from the pool. When I profiled the `db` library I narrowed it down to the moment a query response is retrieved from PG (i.e. that `read-char` call I mentioned) so I'm still thinking it's some scheduling thing.</text>
  </message>
  <message conversation_id="359">
    <ts>2019-03-24T16:20:33.197300</ts>
    <user>Deeanna</user>
    <text>At any rate, I sprinkled[1] a couple custodians in places I thought might be problematic and that seems to have helped!

The issue still happens and it still only happens after a reload, but it happens less often now.

[1]: &lt;https://github.com/Bogdanp/racket-webapp-template/commit/b49f03c8eafb9f6abc9641675345cec9831ea15b&gt;</text>
  </message>
  <message conversation_id="360">
    <ts>2019-03-24T16:45:30.197900</ts>
    <user>Priscila</user>
    <text>Rerequire ?
</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T16:53:11.198200</ts>
    <user>Penni</user>
    <text>I'll try that as soon as my code compiles again...</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T16:59:08.198400</ts>
    <user>Penni</user>
    <text>&lt;@Priscila&gt; Here's what I got in XREPL. This is Typed Racket. I haven't tried it in Untyped Racket, but the module that I want to re-run at will is in Typed Racket.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T17:01:02.199900</ts>
    <user>Penni</user>
    <text>So, do people not normally put code in at the top level of a module that they want to run at will?</text>
  </message>
  <message conversation_id="360">
    <ts>2019-03-24T17:30:27.200400</ts>
    <user>Priscila</user>
    <text>I don’t know enough about TR. </text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T17:32:14.200500</ts>
    <user>Jeanine</user>
    <text>&lt;@Penni&gt; One approach is to make your syntax-class take parameters (but the parameters are treated as ordinary variables, not syntax pattern variables). Another is to change `apply-tag` from a syntax object bound using `#:with` to a procedure-valued attribute bound with `#:attr` that takes the contextual information and produces the syntax. The caller of the syntax-class would have to get the procedure attribute and call it with the necessary information.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T17:45:30.200700</ts>
    <user>Penni</user>
    <text>&lt;@Eileen&gt; I'm actually calling a syntax-time function elsewhere, for a different purpose. The rough spot here is that I need to pass all the attributes from the `taggee-info` syntax class. I suppose I could package them all up in some big list, or maybe `attribute` will do that, but then I have to parse them all out again—and I'll have to change this code every time I modify `taggee-info`. Not an insurmountable challenge, but I wonder if there's some nice way to pass all the contextual information that `#:with` already has access to right inside the `applies-to` syntax class.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T17:48:10.200900</ts>
    <user>Penni</user>
    <text>&lt;@Jeanine&gt; Ah, I had not thought of making an `#:attr` whose value is a procedure—a closure! Thanks. If I understand this right, the closure would still have access to everything that `#:with` has access to inside the `applies-to` syntax class (the thing I was hoping for in the previous message).</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T17:49:59.201100</ts>
    <user>Penni</user>
    <text>&lt;@Jeanine&gt; I tried passing an argument to the `applies-to` syntax class (via the `nodeclass-body` syntax class), like this:
`(define-syntax-class nodeclass
    #:attributes [cnodeclass]
    (pattern (head:nodeclass-head ~! decl:name+args body:(nodeclass-body #'decl.name))`
but that didn't work—and probably with good reason.</text>
  </message>
  <message conversation_id="361">
    <ts>2019-03-24T18:05:17.202700</ts>
    <user>Eileen</user>
    <text>I think if you really want the same as Ctrl-R in DrRacket you should exit and restart.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T18:17:25.203800</ts>
    <user>Penni</user>
    <text>&lt;@Eileen&gt; I'm hoping not to do that, since that's pretty slow, and speed is the main reason I'm now experimenting with XREPL. Is there no way in Racket to say "Run that module"?</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T18:52:51.204900</ts>
    <user>Julia</user>
    <text>&lt;@Penni&gt; how about `,enter` &lt;https://docs.racket-lang.org/xrepl/index.html#(xrepl._enter)&gt;</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T18:53:31.205700</ts>
    <user>Penni</user>
    <text>`,en` doesn't seem to re-run the module if it's already been loaded.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T18:53:40.205900</ts>
    <user>Julia</user>
    <text>Or maybe the two commands above it?</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T18:55:45.206600</ts>
    <user>Julia</user>
    <text>maybe `,require-reloadable`?</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T18:56:44.207800</ts>
    <user>Penni</user>
    <text>Hmm, I haven't tried either of those. I'll try them next time my code compiles. :wink:</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T18:57:18.208800</ts>
    <user>Penni</user>
    <text>So, there is no way in Racket to say "Run the top-level code of such-and-such module"?</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T18:57:25.209000</ts>
    <user>Julia</user>
    <text>(Many years ago I tried to use XREPL in a shell buffer in Emacs, with some hotkeys to do `enter`. I was confused by reloading, or not. That was kind of what nudged me to making successively less-crude versions of racket-mode.)</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T18:58:10.210200</ts>
    <user>Julia</user>
    <text>Normally `require` or `enter!` the functions, or the similar XREPL commands, should eval module-level expressions in the file.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T18:59:01.211500</ts>
    <user>Julia</user>
    <text>And the default `#%module-begin` wraps each top expression in a print, so you see each one (unless it's `void`).</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T18:59:35.212300</ts>
    <user>Penni</user>
    <text>Regardless of the question about re-running a module, I'm pretty sure there is something weird about the way `enter!` decides which modules to reload. It's often missed reloading a file that I just modified. I haven't checked it out carefully yet, but it looks like `enter!` will not reload the module that you're currently in. So, if you're in `"my-module.rkt"` and you `,en "module-that-requires-my-module.rkt"`, `"my-module.rkt"` won't get reloaded even if you just modified it. Not 100% sure of that, though.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T19:00:54.213200</ts>
    <user>Julia</user>
    <text>There could be a bug like I thought there was years ago, or it could be I'm misunderstanding.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T19:02:27.215100</ts>
    <user>Julia</user>
    <text>One thing to keep in mind, is that some modules with lots of macros can be quite time-consuming to expand.
And most of the time to require them is spent on expansion.
This tends to be true of Typed Racket, for example.
So in bigger projects, it can help to use `raco make` directly, or indirectly through `raco setup` of your collection or package, to compile to bytecode `zo` files.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T19:02:40.215500</ts>
    <user>Julia</user>
    <text>Those have already been expanded and tend to load quickly.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T19:03:08.216200</ts>
    <user>Julia</user>
    <text>And then, in an env like DrRacket or racket-mode, that always reloads everything on each run, it's not very painful.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T19:03:58.217200</ts>
    <user>Julia</user>
    <text>I don't use DrRacket often, but it has an option to make these bytecode files automatically, I think.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T19:04:03.217400</ts>
    <user>Penni</user>
    <text>Ah, thanks for that. I've gotten the impression just from the compile times that modules are often getting recompiled unnecessarily. I figured there'd be some way to prevent that. Happily, there seems to be a lot less recompilation under XREPL. (Hopefully not because it's failing to recompile changed modules! Most of the time it does, though. Happily, it tells you what it's recompiling.)</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T19:09:55.220600</ts>
    <user>Penni</user>
    <text>BTW, I'm now in the midst of making all sorts of modifications to a big macro that implements a DSL, along with lots of modifications to the code that interfaces with the generated code. This could have been a undebuggable catastrophe, except that the last thing I did was convert everything to Typed Racket (including the generated code). It's catching subtle errors very nicely, with very little extra effort to set up the types. I'm actually staying confident that the code is correct. Whew! Now I wish I'd converted everything to Typed Racket months ago.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T19:20:15.227100</ts>
    <user>Penni</user>
    <text>This is something that I've found a bit mysterious about the Lisp languages ever since I started programming in them: how to "grow" a program incrementally, where you get a little bit to work, then you add something and maybe modify existing code to work with it, add a bit more and get all tests to pass again, etc., occasionally "refactoring" when the code starts to get messy. I know that the ability to do this is often said to be a great strength of Lisp, but I kept finding myself in long debugging sessions and generally losing confidence in my code.

In OO languages, I was pretty good at "growing" programs incrementally, because of course that's pretty much what OO is designed for, and a whole lot of common wisdom has emerged about how to do that in ways that don't invite bugs—hiding everything behind very narrow interfaces, Once-and-Only-Once, Law of Demeter, Dependency Inversion, Open-Closed, etc.

Has anything like that common wisdom emerged in the Racket world? Switching to Typed Racket has helped enormously, but I'll bet there's more.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T20:10:20.227400</ts>
    <user>Jeanine</user>
    <text>&lt;@Penni&gt; You can't use the colon notation with arguments. Use `#:declare body (nodeclass-body #'decl.name)` or `(~var body (nodeclass-body #'decl.name))`.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T20:11:56.228700</ts>
    <user>Penni</user>
    <text>Oh, I see. Thanks. I thought that whole approach was hopeless. Now I'll have a closer look.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T20:24:30.236300</ts>
    <user>Lillian</user>
    <text>IMHO the distinctive feature of Racket (and I assume other Lisp languages, though I haven’t used them) is _expressiveness_: the Lego-like constructibility means that one can write code that’s very close to the idea one holds about the problem. That is the good news. That is also the bad news, because Racket acts as a parabolic mirror on these ideas. Your program therefore reflects back your brilliance (some days) or your ignorance (others).</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T20:28:49.238900</ts>
    <user>Lillian</user>
    <text>IMHO2 having now written a certain amount of nice Racket &amp;amp; plenty of nasty Racket, I’m ready to theorize that the shortest / smallest Racket code is often the best, and tends to be the result of discovering the clearest / simplest idea for modeling the problem.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T20:45:31.241600</ts>
    <user>Penni</user>
    <text>&lt;@Lillian&gt; I was sorta thinking roughly the same thing: that it's not so easy in Racket to start with a clumsy/ignorant design and gradually streamline it into simplicity and elegance through many small changes, all of which compile and run without bugs. Hence get it pretty much right the first time and keep it small, because bigger things are harder to change, and if you get a better idea, you'll probably need to restart from scratch. I hope someone will tell me this isn't true!</text>
  </message>
  <message conversation_id="362">
    <ts>2019-03-24T21:56:09.241800</ts>
    <user>Penni</user>
    <text>How can I generate code conditionally (with an `if`) for the current `taggee`? Since the arity of `taggee` is 1, the `#'`s inside the `#,` are failing.

The only way I can think of is to generate something like `taggee.let-binding` in the syntax class that returns the `taggee`. I'd prefer not to, since that harms readability: that syntax class would have to know about the local variable `ht/nodes`, which is generated here in a syntax class a couple levels up. And the code here wouldn't be as clear.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T22:56:46.245500</ts>
    <user>Lillian</user>
    <text>I worry less about “restarting from scratch” — throwing out junky code is a great pleasure — and more about never getting that “better idea”.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T23:03:40.249200</ts>
    <user>Penni</user>
    <text>I'm *usually* not too concerned about starting from scratch—until the program gets large and rewriting it becomes a long and risky endeavor. The incremental approach is pretty risk-averse: you might delete a lot of code over the life of the program, but at any given moment, you're never more than 10 minutes or so from a working version. But perhaps the flexibility of Lisp languages just doesn't work that way. OO makes it possible by working within a lot of restrictions: basically by severely limiting each part of the program's access to data.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-24T23:52:33.249500</ts>
    <user>Lillian</user>
    <text>One virtuous habit in Racket is to split things off into separate packages as soon as they reveal themselves to be self-contained side missions. For instance, the package that is now `pollen` once contained the code now found in the packages known as `hyphenate`, `css-tools`, `txexpr` and `sugar`. But the act of separation both clarifies the structure of the main program, and allows the side missions to evolve and grow at their own pace.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-25T00:02:45.249700</ts>
    <user>Penni</user>
    <text>Thanks. That is a good one. I've been looking for ways to separate this monster thing I'm working on into little libraries, maybe little languages. The biggest headache has probably been the graph representation. That's hard to redo independently because pretty much everything calls upon it. Of course, even though some things are hard to split off, other things might be very splittable.</text>
  </message>
  <message conversation_id="358">
    <ts>2019-03-25T00:06:49.249900</ts>
    <user>Penni</user>
    <text>&lt;@Lillian&gt; BTW, I noticed in `sugar` that you provided a very nice small technique for keeping programs easy to modify, which took me quite a while to hit on: Instead of making sure that I pass a function a list, or set, or whatever it wants, call something like `-&amp;gt;list` or `-&amp;gt;set` within the function, so the function accepts whatever you pass it. This has become particularly handy now that I've gone to Typed Racket. (Unfortunately, I didn't browse `sugar` until hitting on this the hard way!)</text>
  </message>
  <message conversation_id="363">
    <ts>2019-03-25T17:24:50.250900</ts>
    <user>Julia</user>
    <text>At the "edge" of a program, "accepts whatever you pass it" can be useful -- as a kind of input validation, especially from humans or from messy files or APIs.  "Do what I mean".</text>
  </message>
  <message conversation_id="363">
    <ts>2019-03-25T17:25:47.251100</ts>
    <user>Julia</user>
    <text>But I get uncomfortable when that permeates the whole program. I think it actually makes it harder to catch problems near where they originate.</text>
  </message>
  <message conversation_id="363">
    <ts>2019-03-25T17:26:45.251300</ts>
    <user>Julia</user>
    <text>So ideally I like to keep the DWIM part as a pretty thin outside edge/layer. And pretty quickly try to get very "brittle", where contracts (or static types) are being super picky about what functions accept, and loudly complain about surprises.</text>
  </message>
  <message conversation_id="363">
    <ts>2019-03-25T17:27:35.251600</ts>
    <user>Julia</user>
    <text>But. That's just my own guideline, for myself. It's not always so simple or easy to structure things that way. ¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T18:33:40.253200</ts>
    <user>Marcelina</user>
    <text>Is there any way to write a macro that binds an identifier the first time its expanded, but on subsequent expansions (in the same scope) it doesn't. That is, a macro, say `(define-foo x body)`, that can expand like:</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T18:34:18.254100</ts>
    <user>Marcelina</user>
    <text>```
(let ()
  (define-foo x body))
```
=&amp;gt;
```
(let ()
  (define foo some-expr)
  (define x body))
```</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T18:35:24.255400</ts>
    <user>Marcelina</user>
    <text>BUt if we call it twice, `foo` only gets bound once. So:

```
(let ()
  (define-foo x body))
  (define-foo y body)))
```
=&amp;gt;
```
(let ()
  (define foo some-expr)
  (define x body)
  (define y body))
```</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T18:35:25.255600</ts>
    <user>Marcelina</user>
    <text>?</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T18:38:00.257500</ts>
    <user>Karen</user>
    <text>&lt;@Marcelina&gt; no idea, but very good question. I can think of tons of use cases for that.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T18:39:11.257800</ts>
    <user>Gonzalo</user>
    <text>You could always do it with some mutable state.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T18:39:48.258400</ts>
    <user>Karen</user>
    <text>I wouldn't trust an implementation that did though</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T18:40:36.259100</ts>
    <user>Gonzalo</user>
    <text>I dunno, definition contexts are imperative, anyway, and to quote Sam paraphrasing Ryan, “I can’t think of a better way”. :)</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T18:41:25.259600</ts>
    <user>Gonzalo</user>
    <text>You can use the value of `syntax-local-context` to check if you’ve already added a definition in the current definition context or not.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T18:52:34.262300</ts>
    <user>Karen</user>
    <text>maybe it could be done with an approach similar to `racket/splicing`, where an intermediate step performs local expansion?

```
(with-definition-merger (lambda (first-id second-id) ...)
  (define-foo x body)
  (define-foo y body))
```</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T18:54:18.263500</ts>
    <user>Gonzalo</user>
    <text>I really do think you can reliably put the value of `(syntax-local-context)` in a phase 1, mutable, `eq?`-based hash set and use that to check whether or not you’ve “seen” the current definition context or not.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T18:54:42.264200</ts>
    <user>Gonzalo</user>
    <text>Any situation in which that isn’t true means someone else did something wrong.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T18:54:57.264500</ts>
    <user>Karen</user>
    <text>I don’t disagree with that, but I also think it’s a solution to a very narrow set of problems</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T18:57:00.265100</ts>
    <user>Gonzalo</user>
    <text>I don’t think I really understand. It’s the recommended solution to the very general problem of asking “have I seen this definition context before?”</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T18:58:39.266500</ts>
    <user>Karen</user>
    <text>What I mean is that I don’t think asking that question is something macros should be doing, because it inserts temporal dependencies between them. I don’t want to have to debug that kind of code.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:01:10.268300</ts>
    <user>Gonzalo</user>
    <text>Expansion fundamentally has an arrow of time, and &lt;@Marcelina&gt;’s request depends upon it, so I don’t think you can get away from that entirely. Though of course you could wrap it up behind some abstraction if you wanted.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:04:00.270800</ts>
    <user>Marcelina</user>
    <text>&lt;@Gonzalo&gt; Ya, you're probably right. Although I may be doing something wrong, because I keep getting what it believes is the same internal definition context:
```
(define-for-syntax ctxs
  (mutable-set))

(define-syntax-parser define-foo
  [(_ x:id body)
   (set-add! ctxs (syntax-local-context))
   (writeln ctxs)
   #'(define x body)])

(let ()
  (define-foo x 42)
  (void))

(let()
  (define-foo x 48)
  (void))

```</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:04:31.271200</ts>
    <user>Gonzalo</user>
    <text>Make sure you’re using `mutable-seteq`, though that might not be what’s going wrong there.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:04:52.271900</ts>
    <user>Marcelina</user>
    <text>Ah, okay, that helped.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:05:15.273100</ts>
    <user>Karen</user>
    <text>Both macros could emit the duplicate definition within some outer macro that locally expands its body and deduplicates definitions. Then there’s no dependency on the order that individual body transformers are called.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:05:15.273200</ts>
    <user>Marcelina</user>
    <text>Still, odd that `internal-definition-context?` is returning `#f` for `(syntax-local-context)`</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:05:16.273300</ts>
    <user>Gonzalo</user>
    <text>Also, if you’re in an internal definition context, `(syntax-local-context)` is a list. You probably want to get the first element out of the list and use that.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:05:55.274300</ts>
    <user>Gonzalo</user>
    <text>The value inside the list returned from `(syntax-local-context)` can be anything. It’s only guaranteed to be different with respect to `eq?` in different contexts.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:05:59.274500</ts>
    <user>Marcelina</user>
    <text>Oh yes, it is a list,with a liberal-definition-context in it.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:06:18.275000</ts>
    <user>Marcelina</user>
    <text>Doesn't the docs say its one of several symbols or a list?</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:06:26.275400</ts>
    <user>Marcelina</user>
    <text>AH, okay</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:06:29.275700</ts>
    <user>Gonzalo</user>
    <text>Yes, it is a list when you’re in an internal definition context.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:06:38.276000</ts>
    <user>Gonzalo</user>
    <text>You probably want to allow `'module` or a list, and nothing else.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:06:52.276400</ts>
    <user>Gonzalo</user>
    <text>Well, maybe also `'top-level`, if you want to support that.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:07:19.277000</ts>
    <user>Marcelina</user>
    <text>THat would explain why I could never get `internal-definition-context-binding-identifiers` to work.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:08:17.277900</ts>
    <user>Gonzalo</user>
    <text>You can put `'module` directly in your mutable set without worrying about it, since there can only be expansion in one module per visit to your module. So you’ll never end up with `'module` being returned for two different modules before your mutable set is emptied.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:13:07.281300</ts>
    <user>Gonzalo</user>
    <text>So, to summarize, you probably want something like this:
```
(define-syntax-parser define-foo
  [(_ x:id body)
   #:do [(define ctx (syntax-local-context))]
   #:fail-unless (or (memq ctx '(module top-level)) (pair? ctx)) "only allowed in a definition context"
   #:do [(define ctx-v (if (pair? ctx) (car ctx) ctx))
         (define seen? (set-member? ctxs ctx))
         (set-add! ctxs ctx)]
   #| do something with seen? |#])
```</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:14:17.281700</ts>
    <user>Marcelina</user>
    <text>Interesting. Is there any reason for the last `#:do` other than style?</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:14:35.282200</ts>
    <user>Gonzalo</user>
    <text>No.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:14:36.282400</ts>
    <user>Marcelina</user>
    <text>(As opposed to just putting it in the body.)</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:14:42.282600</ts>
    <user>Marcelina</user>
    <text>Okay, so just style?</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:14:48.282900</ts>
    <user>Gonzalo</user>
    <text>Yes.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:14:53.283100</ts>
    <user>Marcelina</user>
    <text>Cool.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:14:56.283300</ts>
    <user>Marcelina</user>
    <text>Also thx.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:15:56.283800</ts>
    <user>Marcelina</user>
    <text>oh, one more thing, why did you get the first element of the list if its an internal definition context?</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:16:13.284200</ts>
    <user>Marcelina</user>
    <text>Since the list itself is eq? if the context is eq?</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:16:48.284400</ts>
    <user>Marcelina</user>
    <text>Oh...durp....the docs</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:17:06.284700</ts>
    <user>Marcelina</user>
    <text>". The identity of the list’s first element (i.e., its eq?ness) reflects the identity of the internal-definition context"</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:17:08.284900</ts>
    <user>Marcelina</user>
    <text>thanks. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:20:23.285400</ts>
    <user>Gonzalo</user>
    <text>Yes, I’ll be honest, I am not certain exactly when `(syntax-local-context)` would be a list of more than one element.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:20:43.286000</ts>
    <user>Marcelina</user>
    <text>Honestly, you're guess is as good as mine.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:20:57.286600</ts>
    <user>Marcelina</user>
    <text>If anyone knows, its one of &lt;@Clarinda&gt;, &lt;@Jeanine&gt;, or &lt;@Danny&gt;</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:21:30.287300</ts>
    <user>Gonzalo</user>
    <text>The `local-expand` documentation states:
&amp;gt; If the internal-definition context is meant to be self-contained, the list for `context-v` should contain only the generated value; if the internal-definition context is meant to splice into an immediately enclosing context, then when `syntax-local-context` produces a list, `cons` the generated value onto that list.
However, I do not know when an internal definition context would splice into an enclosing one in a way that would still be a distinct definition context.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:21:49.287800</ts>
    <user>Gonzalo</user>
    <text>When `begin` splices into an enclosing context, expansion of the forms in the `begin` are still in the same context as the enclosing one.</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:26:48.289100</ts>
    <user>Penni</user>
    <text>&lt;@Julia&gt; Thanks. I appreciate the voice of experience about this. Lately I have indeed been going wild with DWIM arguments, deep in internal function calls. Hopefully I won't get burned! When I started with Racket, I kept getting burned by forgetting whether something was a list or a set (also in Clojure). If I changed which one a function accepted or returned, it was hard to track down what other code needed to be changed. How do people deal with that under dynamic typing?

Many little things are error-prone in that way, e.g. "pass the struct" vs. "pass the thing inside the struct".  So far, it's been working out: the calling code is now simpler (e.g. no more `set-&amp;gt;list` or `list-&amp;gt;set` wrapping arguments to function calls) and more readable. But I'll watch out. Do you know of something bad that results from functions that take whichever representation they're given?</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:36:49.289300</ts>
    <user>Penni</user>
    <text>&lt;@Jeanine&gt; I put in the closure that accepts the class name in the "deep" syntax class. It worked easily, and even let me simplify some code by making syntax classes no longer return so many attributes. Thanks again!</text>
  </message>
  <message conversation_id="364">
    <ts>2019-03-25T19:50:27.290300</ts>
    <user>Danny</user>
    <text>I think I saw this in the implementation of splicing-local the other day.</text>
  </message>
  <message conversation_id="365">
    <ts>2019-03-25T19:51:32.292000</ts>
    <user>Danny</user>
    <text>It's an alternative implementation of a splicing definition context that uses local expand rather than trampolining in the context to be spliced into.</text>
  </message>
  <message conversation_id="366">
    <ts>2019-03-25T20:03:58.292100</ts>
    <user>Julia</user>
    <text>So, I mean, the usual caveat applies: It depends. :smile:
Early on, as I explore something new, I define some functions -- without contracts. I have "types" in my head, loosely.
I try calling these functions from the REPL, supplying various examples, see if they behave as I expect.
As things "settle down", I might copy some of those REPL example calls inside `check-equal?` forms in `(module+ test ___)` submodule, as tests.
If the function signatures seem "obvious", I might stop there, for awhile.
Or, I might also add contracts. But I might wait until things gel, and I feel confident about the decisions.
(I think "premature ceremonialization" is bad for similar reasons as premature optimization.)</text>
  </message>
  <message conversation_id="366">
    <ts>2019-03-25T20:07:51.292300</ts>
    <user>Julia</user>
    <text>&amp;gt; Do you know of something bad that results from functions that take whichever representation they're given?
There's some (Alan Perlis??) quote: "If you have a function with 10 arguments, you probably missed some."
I feel like a variation of that is, "If you have a function argument that can be any of 10 different things, you probably missed some."
I just feel like it's hard enough to make code really correct under all edge cases. So I don't want to add even more edge cases.
Also if a function expects an integer, but the caller gives it a string -- the caller is probably confused about something. The sooner the callee complains, and the caller can be fixed, the easier it is.  (whereas if it blows up 5 or 10 function calls away from that original confused function, it's going to be harder to fix. Especially if you don't notice the bug until long after the bad thing was written.)</text>
  </message>
  <message conversation_id="366">
    <ts>2019-03-25T20:09:23.292500</ts>
    <user>Julia</user>
    <text>So again, some early version of a function, maybe I hedge my bets, don't commit to firmly to what the acceptable values are. That's part of exploring the problem space. But I like to tighten it up as I go along. ¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="366">
    <ts>2019-03-25T20:11:34.292700</ts>
    <user>Julia</user>
    <text>Also, &lt;@Lillian&gt; described how, over time, you might break a big bunch of code into smaller modules, maybe even publish them as their own packages.
Certainly by that time, it's nice to firm things up. "This function does _this_, here's what it expects from you, here's what you can expect from it, yada yada."</text>
  </message>
  <message conversation_id="366">
    <ts>2019-03-25T20:11:52.292900</ts>
    <user>Julia</user>
    <text>`&amp;lt;/wall-of-text&amp;gt;`</text>
  </message>
  <message conversation_id="366">
    <ts>2019-03-25T20:46:30.293100</ts>
    <user>Lillian</user>
    <text>To echo &lt;@Julia&gt;, those `sugar` coercion functions were written early in my Racket (self-)education. The longer I use Racket, the less I rely on them. They can be too lenient. If something is a `set` or a `vector`, I should be curious about _why_ it is so. Similar to how one should think twice before using `list-ref` or `port-&amp;gt;bytes`: you are possibly sawing against the grain of the data structure.</text>
  </message>
  <message conversation_id="367">
    <ts>2019-03-26T00:31:28.296500</ts>
    <user>Elin</user>
    <text>One problem with a type like `DynamicAny` is that its contract would be flat, but for type soundness we need `make-predicate` on it to fail. We cannot allow a typed function to produce true with the proposition `#:+ DynamicAny` on it. The contract should only be used for either `cast`, `require/typed`, or `provide`, and never for `make-predicate`. Is there a way to specify that restriction in Typed Racket’s framework?</text>
  </message>
  <message conversation_id="367">
    <ts>2019-03-26T00:42:42.297700</ts>
    <user>Elin</user>
    <text>A predicate of type `(-&amp;gt; Any Boolean : #:+ DynamicAny)` returning true would be unsound,
but a predicate of type `(-&amp;gt; DynamicAny Boolean : #:+ DynamicAny)` would be fine.</text>
  </message>
  <message conversation_id="368">
    <ts>2019-03-26T09:23:33.299200</ts>
    <user>Clarinda</user>
    <text>A definition context immediately nested in another can do this when the inner one wants to splice into the outer one. I don’t remember a macro like that offhand to demonstrate, though.</text>
  </message>
  <message conversation_id="368">
    <ts>2019-03-26T12:20:53.299900</ts>
    <user>Marcelina</user>
    <text>Is there any way to print out the set of scopes associated with an identifier?</text>
  </message>
  <message conversation_id="367">
    <ts>2019-03-26T12:21:24.300600</ts>
    <user>Marcelina</user>
    <text>(I can't use the macro stepper because the generated code is too big, so I'm trying to do a bit of print line debugging.)</text>
  </message>
  <message conversation_id="368">
    <ts>2019-03-26T12:21:34.300900</ts>
    <user>Marcelina</user>
    <text>I suspect &lt;@Danny&gt; or &lt;@Jeanine&gt; might know?</text>
  </message>
  <message conversation_id="368">
    <ts>2019-03-26T12:24:43.302000</ts>
    <user>Jeanine</user>
    <text>&lt;@Marcelina&gt; use `syntax-debug-info`, or try the `debug-scopes` package</text>
  </message>
  <message conversation_id="369">
    <ts>2019-03-26T13:08:09.302100</ts>
    <user>Elin</user>
    <text>I’ve used this `scope-&amp;gt;symbol` function (with `syntax-debug-info`) for debugging, to turn scopes and their jumbles of numbers into letters: &lt;https://gist.github.com/AlexKnauth/11cde092aec836aecb21c9634fedd4f3&gt;</text>
  </message>
  <message conversation_id="368">
    <ts>2019-03-26T13:08:54.302500</ts>
    <user>Marcelina</user>
    <text>&lt;@Jeanine&gt; THanks</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T14:49:23.303700</ts>
    <user>Lillian</user>
    <text>“Two fixnums that are `=` are also the same according to `eq?`” Does that mean there’s a potential speed advantage to using `eq?` in preference to `=` when you know you’re comparing fixnums?</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T14:49:27.303900</ts>
    <user>Lillian</user>
    <text>&lt;https://docs.racket-lang.org/reference/numbers.html?q=fixnum#%28tech._fixnum%29&gt;</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T14:49:46.304200</ts>
    <user>Kristeen</user>
    <text>&lt;@Lillian&gt; yes</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T14:57:22.306800</ts>
    <user>Lillian</user>
    <text>Part 2: “Characters range over Unicode scalar values, which includes characters whose values range from `#x0` to `#x10FFFF`.” This max value fits into 24 bits. Therefore, am I correct in thinking that every valid Unicode codepoint (and thus, every value resulting from `char-&amp;gt;integer`) is a fixnum? And therefore can be compared with `eq?`  &lt;https://docs.racket-lang.org/reference/characters.html?q=char-%3Einteger#%28def._%28%28quote._~23~25kernel%29._char-~3einteger%29%29&gt;</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T14:57:32.307100</ts>
    <user>Lillian</user>
    <text>(I know that characters themselves are not `eq?`)</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T14:58:01.307400</ts>
    <user>Shanell</user>
    <text>&lt;@Lillian&gt; Nope</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T14:59:30.309000</ts>
    <user>Shanell</user>
    <text>Only the first, er, 256[? or was it higher?] characters are represented as immediate values.</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:00:17.309600</ts>
    <user>Shanell</user>
    <text>Oh, I should mention that I'm referring to classic Racket. Not sure how chars are represented in Chez.</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:00:44.310200</ts>
    <user>Shanell</user>
    <text>Oh, sorry</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:00:51.310600</ts>
    <user>Shanell</user>
    <text>Wow -- I missed the important part of what you wrote</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:01:07.311100</ts>
    <user>Shanell</user>
    <text>Yes, the integer values are fixnums.</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:02:21.312300</ts>
    <user>Karen</user>
    <text>would adding `fixnum-max-value` and `fixnum-min-value` to racket be a good idea?</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:02:43.312800</ts>
    <user>Shanell</user>
    <text>(And the first 256 aren't represented as immediates; they're just interned, so they're pointers, but they're always the _same_ pointer.)</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:06:12.314200</ts>
    <user>Lillian</user>
    <text>Thank you I will put this knowledge to questionable use</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:08:39.314700</ts>
    <user>Shanell</user>
    <text>I _think_ characters are all immediate in Chez.</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:13:36.315500</ts>
    <user>Mai</user>
    <text>Is there a way to force module instantiation. I.e., make `dynamic-require` twice possible?</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:14:10.315900</ts>
    <user>Mai</user>
    <text>What I want to do is to run the same program with different `(current-compile)`.</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:15:56.317100</ts>
    <user>Gonzalo</user>
    <text>If you want to recompile the module then you need to do more than just reinstantiate. Can you do it in two separate namespaces?</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:18:50.318400</ts>
    <user>Tambra</user>
    <text>Even doing it in separate namespaces might not be enough, no? You would also need to do something like set `use-compiled-file-paths` to empty to avoid `current-load/use-compiled` from grabbing the file off disk</text>
  </message>
  <message conversation_id="371">
    <ts>2019-03-26T15:20:14.320300</ts>
    <user>Gonzalo</user>
    <text>Well, if the file isn’t compiled on disk then loading it would compile it in-memory, right? So it could work if the namespaces were different. Or does Racket cache that somehow?</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:20:35.320600</ts>
    <user>Tambra</user>
    <text>I was assuming it might have been compiled to disk</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:20:56.321300</ts>
    <user>Gonzalo</user>
    <text>Yes, in that case you’d also probably want custom-load.</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:21:15.321700</ts>
    <user>Tambra</user>
    <text>oh right, you don’t want to recompile the universe</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:29:55.323100</ts>
    <user>Tambra</user>
    <text>&lt;@Mai&gt; This might do what you want:

```
(require custom-load
         syntax/modresolve)
(define (path-&amp;gt;regexp s)
  (regexp (regexp-quote (path-&amp;gt;string s))))
(define (force-recompile-for-effect mod)
  (parameterize ([current-namespace (make-base-namespace)]
                 [current-load/use-compiled
                  (make-custom-load/use-compiled
                   #:blacklist
                   (let ([p (resolved-module-path-name
                             ((current-module-name-resolver)
                              (resolve-module-path mod)
                              #f
                              #f
                              #f))])
                     (cond  [(path? p) (path-&amp;gt;regexp p)]
                            [(pair? p)
                             (if (path? (first p))
                                 (path-&amp;gt;regexp (first p))
                                 empty)]
                            [else empty])))])
    (dynamic-require mod #f)))
```

depending if you only want to recompile for effect or not</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:31:57.325700</ts>
    <user>Tambra</user>
    <text>(well, if you want to do this to something in racket/base it wont work, but fixing that just requires some plumbing)</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:32:24.325900</ts>
    <user>Mai</user>
    <text>Thanks! I was playing around with your earlier suggestion and the program seems to get stuck at `(use-compiled-file-paths '())`. Will try your code right now.</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:32:57.326500</ts>
    <user>Tambra</user>
    <text>`custom-load` isn’t in the main distribution i think, you’ll need to install it</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:33:05.326800</ts>
    <user>Tambra</user>
    <text>(the pkg has the same name as the collection)</text>
  </message>
  <message conversation_id="370">
    <ts>2019-03-26T15:40:41.327500</ts>
    <user>Vicki</user>
    <text>`(use-compiled-file-paths '())` will compile the entire racket (except the VM) from source :wink:</text>
  </message>
  <message conversation_id="372">
    <ts>2019-03-26T15:51:47.327800</ts>
    <user>Clarinda</user>
    <text>Yes</text>
  </message>
  <message conversation_id="373">
    <ts>2019-03-26T16:15:31.328000</ts>
    <user>Lillian</user>
    <text>Is it more than this?```
(define max-fixnum (sub1 (arithmetic-shift 1 (- (system-type 'word) 2))))
(define min-fixnum (- (arithmetic-shift 1 (- (system-type 'word) 2))))
```</text>
  </message>
  <message conversation_id="373">
    <ts>2019-03-26T16:15:47.328300</ts>
    <user>Lillian</user>
    <text>“more [complicated]”</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T16:52:04.328500</ts>
    <user>Karen</user>
    <text>I don’t know.  I remember reading through the fixnum docs and not finding any clear answers on what the max and min were, then later I found the `(system-type 'word)` trick. But that’s not mentioned anywhere in the fixnum docs.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T16:53:49.328700</ts>
    <user>Karen</user>
    <text>The main thing is that I want something that’s documented right next to all the other fixnum operations, so if the representation of fixnums _changes_ for some reason (like say, as some consequence of moving to Chez Scheme) there’s no chance of breaking client code that needs to know the max and min fixnums.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T16:54:44.328900</ts>
    <user>Karen</user>
    <text>It seems entirely possible to me that racket implementation changes could change how the max and min fixnums depend on `(system-type 'word)`.</text>
  </message>
  <message conversation_id="375">
    <ts>2019-03-26T17:09:38.329100</ts>
    <user>Mai</user>
    <text>Oh…. interesting.</text>
  </message>
  <message conversation_id="373">
    <ts>2019-03-26T17:44:52.329300</ts>
    <user>Lillian</user>
    <text>Perhaps. As a dumb person, I’d suppose that if `eq?` guarantees a pointer-based equality test, and pointers are tied to machine-word size, then `eq?` is permanently tethered to machine-word size (and thus so are fixnums, which are just the signed integers that could be pointers … if we treated them as unsigned integers … something like that)</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T17:49:32.329500</ts>
    <user>Karen</user>
    <text>Yeah that seems like a sensible assumption to me. I just don’t want to _have_ to make such an assumption. It seems way simpler to me to just leave it up to the fixnum module to define what the max and min fixnums are.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T17:49:48.329700</ts>
    <user>Karen</user>
    <text>The “Not My Job” solution.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:13:50.330000</ts>
    <user>Madelaine</user>
    <text>I've wished I could give a debugging name argument to `make-syntax-introducer` like the way module scopes are printed.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:16:17.331000</ts>
    <user>Marcelina</user>
    <text>&lt;@Jeanine&gt;, &lt;@Clarinda&gt;, &amp;amp; &lt;@Danny&gt; I have the following macro that gives an unbound variable error: &lt;https://gist.github.com/LeifAndersen/0e625b56167bbd15a9dfd2745836ae73&gt;</text>
  </message>
  <message conversation_id="373">
    <ts>2019-03-26T18:16:19.331100</ts>
    <user>Marcelina</user>
    <text>None</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:17:12.332000</ts>
    <user>Marcelina</user>
    <text>Basically, module `A` creates a `define-foo`, form that creates two macros and has one call another.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:17:44.332800</ts>
    <user>Marcelina</user>
    <text>(Which is kind of silly in this example, but my actual code base needs to do this for other reasons.)</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:18:38.333700</ts>
    <user>Marcelina</user>
    <text>Anyway, module `B` creates its own `define/leif`, and uses it plus the `define-foo` to make a referencer macro.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:19:48.334500</ts>
    <user>Marcelina</user>
    <text>Finally, module `C` Uses the two form `(define/leif)` and the result from `define-foo`, but gets an unbound variable.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:20:59.335400</ts>
    <user>Marcelina</user>
    <text>I feel like there's something silly I'm missing here, but I can't seem to get the example any smaller than that. Would you have any idea what's causing the unbound identifier error?</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:22:18.335500</ts>
    <user>Madelaine</user>
    <text>I've wanted these constants, and hard-coded them (or what I think they are) into a program, for purposes like working with bitmasks. I would also like constants for the fixnum limits on the platform with the smallest limits. I think Typed Racket must include some version of those for the `Fixnum` and `Index` types ("the sets of values included in the types are architecture-dependent, but typechecking is architecture-independent"), but I'm not even sure what predicate corresponds to `Index`: &lt;https://docs.racket-lang.org/ts-reference/type-ref.html#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Index%29%29&gt;</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:26:29.338400</ts>
    <user>Madelaine</user>
    <text>When I run `raco setup` on a sub-collection, does it compile the sub-collection's "main" module, too? For example, given the hierarchy:
```
fruit/
├── apple.rkt
├── apple/
│   ├── granny-smith.rkt
│   └── ...
├── peach.rkt
└── peach/
    ├── georgia.rkt
    └── ...
```
does `raco setup fruit/apple` compile `fruit/apple.rkt`, or only `fruit/apple/granny-smith.rkt` and its siblings?</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:27:12.339000</ts>
    <user>Gonzalo</user>
    <text>&lt;@Marcelina&gt; The code you’ve written is very twisty, but it seems like maybe you wanted this:
```
#lang racket/base

(module A racket
  (require syntax/parse/define)
  (provide define-foo)
  (define-syntax-parser define-foo
    [(_ name body ...)
     #:with this-syntax-id (datum-&amp;gt;syntax #'name 'this-syntax #'here)
     #'(begin
         (define-syntax foo2
           (syntax-parser
             [(_ n)
              #:do [(define this-syntax-id #'n)]
              body ...]))
         (define-syntax name
           (syntax-parser
             [(_) #`(foo2 #,this-syntax)])))]))

(module B racket
  (require (submod ".." A) syntax/parse/define)
  (provide (all-defined-out))
  (define-syntax-parser define/leif
    [(_)
     #:with leif (datum-&amp;gt;syntax this-syntax 'leif #'here)
     #'(define leif 42)])
  (define-foo blue
    #:with leif (datum-&amp;gt;syntax this-syntax 'leif #'here)
    #'leif))

(module C racket
  (require (submod ".." B))
  (define/leif)
  (blue))

(require 'C)
```</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:28:05.340100</ts>
    <user>Gonzalo</user>
    <text>The differences are all in module `A`: instead of using `#'name` as `this-syntax` inside `foo2`, it uses the original input syntax to `name`.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:28:30.340500</ts>
    <user>Karen</user>
    <text>I don’t know, but lately I’ve been avoiding this kind of problem by putting all my code in a `private/` directory and _only_ writing `#lang reprovide` modules to expose the public collection-ized API</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:28:53.341100</ts>
    <user>Karen</user>
    <text>here’s an example: &lt;https://github.com/jackfirth/rebellion&gt;</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:29:50.341800</ts>
    <user>Gonzalo</user>
    <text>However, there’s a better way. Don’t unhygienically shadow `this-syntax`. Instead, call `syntax-parse` again inside of `foo2`, like this:
```(module A racket
  (require syntax/parse/define)
  (provide define-foo)
  (define-syntax-parser define-foo
    [(_ name body ...)
     #'(begin
         (define-syntax foo2
           (syntax-parser
             [(_ orig-stx)
              (syntax-parse #'orig-stx
                [_
                 body ...])]))
         (define-syntax name
           (syntax-parser
             [(_) #`(foo2 #,this-syntax)])))]))
```</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:30:58.343200</ts>
    <user>Marcelina</user>
    <text>&lt;@Gonzalo&gt; ya...it is very twisty. Sorry. All of the versions without the twists didn't give me the unbound identifier error.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:30:58.343300</ts>
    <user>Gonzalo</user>
    <text>That way the `this-syntax` syntax parameter will just have the right value, and user code that shadows it will do the right thing.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:32:08.344700</ts>
    <user>Marcelina</user>
    <text>It does look like you made some changes in `B`. but still using the name `this-syntax`, yes?</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:32:42.345300</ts>
    <user>Gonzalo</user>
    <text>Oh, I just put those uses of `#'here` in `B` so that the ambiguous binding error would point somewhere useful.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:33:03.345500</ts>
    <user>Marcelina</user>
    <text>OH, okay</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:33:19.345900</ts>
    <user>Marcelina</user>
    <text>That's actually very cute. Thanks for pointing it out. :smile:</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:34:07.346600</ts>
    <user>Gonzalo</user>
    <text>What you were doing before was copying the lexical context from (the literal identifier) `blue` onto the generated `leif` identifier.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:34:15.346700</ts>
    <user>Madelaine</user>
    <text>I think, though, that `fruit/apple.rkt` would still need to be re-compiled when `fruit/apple/granny-smith.rkt` changes, to avoid errors like "bad variable linkage; reference to a variable that has the wrong procedure or structure-type shape."</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:34:49.347200</ts>
    <user>Marcelina</user>
    <text>Anyway, I need to shadow `this-syntax` sadly.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:35:03.347600</ts>
    <user>Marcelina</user>
    <text>Because I want `this-syntax` to be in scope inside of a `define-foo`.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:35:08.347800</ts>
    <user>Karen</user>
    <text>Yes. My only approach to avoid that is to always run `raco setup -p mywholepackage`</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:35:34.348900</ts>
    <user>Marcelina</user>
    <text>But because its made with a macro plugging into another macro, the default `this-syntax` is the outer macro, rather than the original call site.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:35:38.349200</ts>
    <user>Marcelina</user>
    <text>(I think)</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:35:48.349400</ts>
    <user>Gonzalo</user>
    <text>`this-syntax` is a syntax parameter, so if you change its value by wrapping something in `syntax-parse`, any uses lexically inside the `syntax-parse` will use the new value.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:36:41.350100</ts>
    <user>Marcelina</user>
    <text>OH</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:36:43.350300</ts>
    <user>Marcelina</user>
    <text>I see.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:37:13.351100</ts>
    <user>Marcelina</user>
    <text>You literally meant introduce a new syntax-parser inside of the syntax-parser.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:37:17.351300</ts>
    <user>Gonzalo</user>
    <text>Syntax parameters are designed precisely to avoid needing to shadow identifiers in that way. The original paper explains them in a little more detail: &lt;http://scheme2011.ucombinator.org/papers/Barzilay2011.pdf&gt;</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:37:26.351700</ts>
    <user>Gonzalo</user>
    <text>And yes, the second example code I gave does just that.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:37:35.351900</ts>
    <user>Marcelina</user>
    <text>(which is of course inside of yet another `syntax-parser`. ;)</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:38:44.352800</ts>
    <user>Marcelina</user>
    <text>Okay though, that's useful. (I didn't realize that `this-syntax` was a syntax-parameter. I must've missed it in the docs.)</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:39:13.353300</ts>
    <user>Gonzalo</user>
    <text>It has to be a syntax parameter, not an unhygienically-introduced binding, because it has a binding.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:39:59.354300</ts>
    <user>Gonzalo</user>
    <text>If it were unhygienically introduced, then `this-syntax` wouldn’t even be bound outside of `syntax-parse`, and the scribble docs wouldn’t be able to link to it or even associate documentation with it (since there would be no binding to attach the documentation to).</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:40:44.354900</ts>
    <user>Marcelina</user>
    <text>That is presuming though that the this-syntax in the docs is the same one from syntax-parse. :wink:</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:40:50.355200</ts>
    <user>Marcelina</user>
    <text>But I get what you mean, and totally agree.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:42:05.355300</ts>
    <user>Madelaine</user>
    <text>That is what I usually do now, but I often have a sub-collection like `example/common` that is used by both `example/foo` and `example/bar`. The immaginary  `example/foo` and `example/bar` don't depend on each other, and they don't peek inside `example/common`: they just `(require example/common)`. Having to recompile `example/bar` is slow when developing `example/common` and `example/foo`.</text>
  </message>
  <message conversation_id="376">
    <ts>2019-03-26T18:45:11.355600</ts>
    <user>Karen</user>
    <text>how slow?</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:46:33.355800</ts>
    <user>Madelaine</user>
    <text>I haven't timed it, but the full collection I'm thinking of when I say `example` is something like 40,000 lines of code.</text>
  </message>
  <message conversation_id="376">
    <ts>2019-03-26T18:48:23.356000</ts>
    <user>Madelaine</user>
    <text>In reality, `ricoeur/portal` also includes a lot of `#lang web-server` code, and the relative slowness of the `#lang web-server` compiler is noticeable.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:50:13.356200</ts>
    <user>Karen</user>
    <text>I’ve definitely hit similar issues in my workflow, and I don’t really have any solutions</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:50:56.356400</ts>
    <user>Karen</user>
    <text>the compilation infrastructure for racket is frustrating when it comes to dependency management</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:55:56.356900</ts>
    <user>Marcelina</user>
    <text>&lt;@Gonzalo&gt; Oh fun, when I made the inner `syntax-parse`, I got this error:</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:56:01.357100</ts>
    <user>Marcelina</user>
    <text>```
define-values: not allowed in an expression position
  after encountering unbound identifiers (which is possibly the real problem):
   this
   define-elaborate
   super-new
   base$
   foo$
   define-editor
```</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:56:59.357900</ts>
    <user>Gonzalo</user>
    <text>It looks like somehow those aforementioned identifiers are ending up in a scope where they aren’t bound. But I can’t really say any more without seeing the code.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:57:19.358100</ts>
    <user>Marcelina</user>
    <text>Ya, that makes sense.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:57:37.358700</ts>
    <user>Marcelina</user>
    <text>While I'd be happy to share the code with you, your eyes would start bleeding.</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:59:22.359900</ts>
    <user>Marcelina</user>
    <text>(its about 200 lines long, uses splicing-let and splicing-let-syntax, creates submodule pieces (that another macro combines), it creates whole submodules in those submodule pieces. It defines a macro definer, and finally it defines a class type.)</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T18:59:51.360600</ts>
    <user>Marcelina</user>
    <text>The sad thing is that most of the real smarts are in other macros...the 200 lines is _after_ I factored out a bunch of code. :confused:</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T19:00:02.360900</ts>
    <user>Marcelina</user>
    <text>(I'm sure there's more I could factor out obviously.)</text>
  </message>
  <message conversation_id="374">
    <ts>2019-03-26T19:04:58.361900</ts>
    <user>Marcelina</user>
    <text>Of course though, I'd be happy to point you to it should you decide you're life needed more unpleasantness in it. :wink:</text>
  </message>
  <message conversation_id="377">
    <ts>2019-03-26T19:37:14.362000</ts>
    <user>Vicki</user>
    <text>To be more accurate, the `use-compiled-file-paths` parameter instructs where should Racket  look for bytecode files.

If it is set to `'()`, IIUC any new module declaration will need to load (and compile) from source.

Therefore if you dynamically require `racket/contract` in a namespace from `(make-base-namespace)`, anything outside `racket/base` that `racket/contract` depends on will be compiled from source.</text>
  </message>
  <message conversation_id="378">
    <ts>2019-03-26T21:50:20.363400</ts>
    <user>Gonzalo</user>
    <text>Is there any guarantee that two `gensym`s will have distinct symbolic names if they were generated in the same namespace? And if not, does anything in Racket marshallable to bytecode provide that kind of guarantee?</text>
  </message>
  <message conversation_id="379">
    <ts>2019-03-27T08:15:55.366500</ts>
    <user>Priscila</user>
    <text>Fun fact: the name of a gensym symbol on Chez is not generated until it is needed. What Racket on Chez does - I don’t know. </text>
  </message>
  <message conversation_id="379">
    <ts>2019-03-27T08:28:14.366600</ts>
    <user>Clarinda</user>
    <text>There’s no guarantee. In the current implementation, the names will be different when they’re generated in the same place  and run of Racket, independent of namespace.</text>
  </message>
  <message conversation_id="377">
    <ts>2019-03-27T10:09:03.366800</ts>
    <user>Clarinda</user>
    <text>&lt;@Madelaine&gt; Out of curiosty, why compile `example/common` explicitly instead of just compiling `example/foo` (which will recompile whatever `example/foo` uses)?</text>
  </message>
  <message conversation_id="380">
    <ts>2019-03-27T10:50:00.367700</ts>
    <user>Clarinda</user>
    <text>Anyone with numerics expertise and an opinion on &lt;https://github.com/racket/racket/pull/2565&gt; ? It looks plausible to me…</text>
  </message>
  <message conversation_id="379">
    <ts>2019-03-27T10:52:37.368100</ts>
    <user>Priscila</user>
    <text>&lt;https://www.reddit.com/r/Racket/comments/b5o34z/any_way_to_improve_performance_of_drracket/&gt;</text>
  </message>
  <message conversation_id="381">
    <ts>2019-03-27T11:04:15.368300</ts>
    <user>Kristeen</user>
    <text>&lt;@Karen&gt; which frustrating things are you thinking of?</text>
  </message>
  <message conversation_id="377">
    <ts>2019-03-27T11:22:34.382500</ts>
    <user>Gonzalo</user>
    <text>Thanks, I suspected that might be the case. For context, I’m trying to figure out how to generate values at phase 1 that will be embedded in expanded phase 0 code and will be unique at runtime (but they only need to be unique within a single module). I see a few ways to do this. I could arrange for runtime definitions to be generated that hold gensyms and reference those definitions instead of generating quoted values directly. That would require some extra bookkeeping to ensure the definitions end up in the right place, though. Another might be to use identifiers instead of symbols, made with generate-temporary and preserved with quote-syntax instead of quote, then compared at runtime with free-identifier=?. That seems heavyweight, since I care about the equality check being fast, but maybe it doesn’t matter. A third way would be to just hold a mutable counter in memory at compile time and generate unique symbols by appending the counter to the end and incrementing the counter atomically using box-cas!, and I think this would guarantee that each symbol would at least be unique from other symbols generated that way during the compilation of a single module, which is all I need. Is there a better option?</text>
  </message>
  <message conversation_id="377">
    <ts>2019-03-27T11:23:32.383600</ts>
    <user>Shavon</user>
    <text>&lt;@Clarinda&gt; not an expert on numerics but i took a look at the paper and the code and they seem to agree. I executed the tests he posted on pasterack and accuracy is higher without the issues at z=18.25 so looks good to me.  only thing i would say is that i would prefer to avoid (z . &amp;lt; . X) comparisons in the codebase, but that's really just a syntactic niggle.</text>
  </message>
  <message conversation_id="379">
    <ts>2019-03-27T11:27:42.384000</ts>
    <user>Kami</user>
    <text>I've got a question for you friends: &lt;https://stackoverflow.com/questions/55380849/is-it-possible-to-change-the-result-of-a-syntax-class&gt;</text>
  </message>
  <message conversation_id="377">
    <ts>2019-03-27T11:33:39.385000</ts>
    <user>Shavon</user>
    <text>&lt;@Clarinda&gt; should add that a few runs of his tests showed the solution to be slower by 13.6%.</text>
  </message>
  <message conversation_id="377">
    <ts>2019-03-27T11:34:21.385800</ts>
    <user>Shavon</user>
    <text>Wonder if there's anything that can be done to improve that while still having the same benefits he presented in his method.</text>
  </message>
  <message conversation_id="382">
    <ts>2019-03-27T11:54:53.386200</ts>
    <user>Kristeen</user>
    <text>&lt;@Priscila&gt; racket-on-chez doesn't use chez gensyms</text>
  </message>
  <message conversation_id="382">
    <ts>2019-03-27T12:02:55.386300</ts>
    <user>Elin</user>
    <text>No, something like `.result` or `.norm`, `.value`, or some other named attribute, is necessary. You can make that attribute a short name, like a single letter… that’s what `(expr/c contract)` does with its `.c` attribute.</text>
  </message>
  <message conversation_id="382">
    <ts>2019-03-27T12:04:01.386500</ts>
    <user>Clarinda</user>
    <text>That last option sounds right. The macro expander does that to generate “unreadable” symbols to represent distinct bindings. A counter that resets with each module expansion has the benefit of generating a consistent result when the same module is recompiled.</text>
  </message>
  <message conversation_id="382">
    <ts>2019-03-27T12:07:14.386700</ts>
    <user>Gonzalo</user>
    <text>Okay, I’ll go with that, then. Thanks!</text>
  </message>
  <message conversation_id="382">
    <ts>2019-03-27T12:07:45.386900</ts>
    <user>Elin</user>
    <text>Come to think about it, you could name the attribute the “empty symbol” `||`, and then instead of `p.result` you could use `p.`…
```
(define-splicing-syntax-class pair
  [pattern {~seq a b} #:attr || #'(list a b)])

(syntax-parse #'(hash 1 "do" 2 "re" 3 "mi" 4 "fa" 5 "sol")
  [(_ p:pair ...) #'(list p. ...)])
```</text>
  </message>
  <message conversation_id="382">
    <ts>2019-03-27T12:08:04.387100</ts>
    <user>Kami</user>
    <text>Wow, tricky :stuck_out_tongue:</text>
  </message>
  <message conversation_id="382">
    <ts>2019-03-27T12:09:49.387300</ts>
    <user>Kami</user>
    <text>My issue is that I'm generating those macros, so I don't know in advance if the element is gonna be a splicing class or not. To prevent that, I made a dummy class that has a `result` with it's own content, and I apply this class to everything. This way, I always have a `.result` attribute. But I was trying to find a better way.</text>
  </message>
  <message conversation_id="382">
    <ts>2019-03-27T12:12:47.387500</ts>
    <user>Elin</user>
    <text>I’m curious what the macros look like when you use them, and what they’re meant to do</text>
  </message>
  <message conversation_id="382">
    <ts>2019-03-27T12:19:06.387700</ts>
    <user>Kami</user>
    <text>I made a way to declare objects that have attributes, like so:
```
(define-quest-actor fish
  (attributes
    (position vec?)
    (color symbol?)))
```
To create an instance of this fish, you would do like this:
```
(fish (position (vec 1.0 1.0))
      (color 'red))
```
But some contracts, like `vec?`, trigger a different syntax, in which you can omit the `(vec)` call:
```
(fish (position 1.0 1.0)
      (color 'red))
```
Since I don't know in advance if the attribute is going to have such a contract, I need to generate a macro that handle having some attributes splicing, and some not.</text>
  </message>
  <message conversation_id="382">
    <ts>2019-03-27T12:20:21.387900</ts>
    <user>Kami</user>
    <text>The implementation is there: &lt;https://github.com/euhmeuh/rilouworld/blob/master/private/bundle/expander.rkt&gt;</text>
  </message>
  <message conversation_id="382">
    <ts>2019-03-27T12:32:55.388300</ts>
    <user>Kami</user>
    <text>I hope it makes sense, cause this macro is starting to get out of control x)</text>
  </message>
  <message conversation_id="383">
    <ts>2019-03-27T12:54:55.388500</ts>
    <user>Clarinda</user>
    <text>Thanks!</text>
  </message>
  <message conversation_id="384">
    <ts>2019-03-27T13:45:20.389800</ts>
    <user>Tambra</user>
    <text>Interesting… Why doesn’t it?</text>
  </message>
  <message conversation_id="383">
    <ts>2019-03-27T13:46:31.390000</ts>
    <user>Kristeen</user>
    <text>I think because it wouldn't behave the way current racket does, but &lt;@Clarinda&gt; may know for sure</text>
  </message>
  <message conversation_id="384">
    <ts>2019-03-27T13:47:33.390200</ts>
    <user>Kristeen</user>
    <text>(currently racketcs gensyms are about 3x slower than Racket gensyms and much much slower than  Chez gensyms when you don't look at them)</text>
  </message>
  <message conversation_id="384">
    <ts>2019-03-27T13:51:42.390400</ts>
    <user>Tambra</user>
    <text>Ah, looks like this explains why:

&lt;https://github.com/racket/racket/commit/fd462604bd653544b7e3898d2a67d8fc4fea8e48&gt;</text>
  </message>
  <message conversation_id="384">
    <ts>2019-03-27T14:01:17.390600</ts>
    <user>Clarinda</user>
    <text>Yes, to “because it wouldn’t behave the way current racket does”. I have been tempted to add Racket gensyms (which are more conventional) to Chez Scheme and vice versa, but the difference has never been big enough to finish either addition.</text>
  </message>
  <message conversation_id="384">
    <ts>2019-03-27T14:02:25.390800</ts>
    <user>Kristeen</user>
    <text>It would be interesting to measure how many Racket gensyms are forced in the chez sense</text>
  </message>
  <message conversation_id="384">
    <ts>2019-03-27T14:02:46.391000</ts>
    <user>Elin</user>
    <text>Does the `vec?` predicate have the syntax class associated with it or something?</text>
  </message>
  <message conversation_id="385">
    <ts>2019-03-27T14:18:45.391900</ts>
    <user>Lillian</user>
    <text>Registration is open for Racket School 2019 (8–12 July) and ninth RacketCon (13–14 July) &lt;https://con.racket-lang.org/&gt;</text>
  </message>
  <message conversation_id="385">
    <ts>2019-03-27T14:19:50.392100</ts>
    <user>Karen</user>
    <text>&lt;@Kristeen&gt; I wish I didn't have to leave racket and use the terminal for so many things. I'd prefer to write a program in a `#lang` saying how I'd like to compile and test code. I have memory problems so command line APIs and shell scripts are generally very frustrating for me.</text>
  </message>
  <message conversation_id="385">
    <ts>2019-03-27T14:20:53.392300</ts>
    <user>Kristeen</user>
    <text>ah, so more racket functions for performing compilation/package tasks?</text>
  </message>
  <message conversation_id="384">
    <ts>2019-03-27T14:21:07.392600</ts>
    <user>Elin</user>
    <text>I see you’re embedding `&amp;lt;own-attr&amp;gt;.parse-pat` and `&amp;lt;own-attr&amp;gt;.parse-res` as syntax objects into the `define-syntax`  struct. I would avoid this, and instead define a syntax class to express this.

Then instead of putting those syntax objects in the `define-syntax` struct, I would put identifiers that point to those syntax classes.</text>
  </message>
  <message conversation_id="385">
    <ts>2019-03-27T14:24:46.392800</ts>
    <user>Elin</user>
    <text>This is similar to what you’re already doing with `#'any-exp`, `#'vec-exp`, etc, so I would just do that more, for new macro-defined syntax classes in addition to pre-defined syntax classes.</text>
  </message>
  <message conversation_id="384">
    <ts>2019-03-27T14:25:47.393000</ts>
    <user>Karen</user>
    <text>Yes. And more determinism / reproducibility, and more APIs like that `whereis` module proposed by Ryan.</text>
  </message>
  <message conversation_id="384">
    <ts>2019-03-27T14:27:33.393200</ts>
    <user>Karen</user>
    <text>I think it would also be interesting to know how many uses of Racket gensyms in macros are unnecessary.</text>
  </message>
  <message conversation_id="385">
    <ts>2019-03-27T14:40:19.393400</ts>
    <user>Kristeen</user>
    <text>which things are non-deterministic?</text>
  </message>
  <message conversation_id="386">
    <ts>2019-03-27T14:49:47.393800</ts>
    <user>Gonzalo</user>
    <text>Racket macros generally do not/should not use `gensym`, because it enforces uniqueness by virtue of being uninterned, but uninterned symbols become interned symbols when they are written to bytecode. Rather, Racket macros that need unique identifiers should use `generate-temporary`, instead, which enforces uniqueness by adding a fresh scope, which is a kind of uniqueness that cooperates well with the macro system.</text>
  </message>
  <message conversation_id="384">
    <ts>2019-03-27T15:04:11.394000</ts>
    <user>Karen</user>
    <text>Things seem pretty deterministic on the same machine. Cross-machine determinism is what I had in mind.</text>
  </message>
  <message conversation_id="384">
    <ts>2019-03-27T15:06:31.394200</ts>
    <user>Karen</user>
    <text>Yes. That best practice really needs to be explicitly documented somewhere. Ideally with a link to it in the docs for `gensym`.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:18:02.395100</ts>
    <user>Marcelina</user>
    <text>Hey &lt;@Elin&gt; just an FYI, your hygenic reader macro package doesn't work if:</text>
  </message>
  <message conversation_id="384">
    <ts>2019-03-27T15:18:35.395800</ts>
    <user>Marcelina</user>
    <text>1. You bind something _not_ in a reader macro.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:18:44.396200</ts>
    <user>Elin</user>
    <text>“not”?</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:19:08.396700</ts>
    <user>Marcelina</user>
    <text>Ya, basically if you bind something with a standard macro.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:19:37.397200</ts>
    <user>Marcelina</user>
    <text>and then 2. try to reference that thing from a macro generated by a reader macro.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:20:08.397800</ts>
    <user>Marcelina</user>
    <text>Like, as an example. Imagine I've made a (admittedly silly) macro `(define-foo)`</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:21:28.399300</ts>
    <user>Marcelina</user>
    <text>the semantics of `(define-foo)` is to expand to `(define foo 42)`, where `foo` is added to the user's scope.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:22:24.400100</ts>
    <user>Marcelina</user>
    <text>Next, you create a reader macro, say `#my-super-awesome-macro`, which reads to `(#%awesome)`.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:22:52.400700</ts>
    <user>Marcelina</user>
    <text>The `(#%awesome)` macro expands to `foo`, where `foo` is whatever `foo` is bound in the user's scope.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:23:00.401000</ts>
    <user>Marcelina</user>
    <text>If I then write the following program:</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:23:31.402200</ts>
    <user>Marcelina</user>
    <text>```
#lang my-reader-macro racket
(define-foo)
#my-super-awesome-macro
```

You'll get a `foo` unbound error.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:23:40.402600</ts>
    <user>Elin</user>
    <text>So `#%awesome` is an unhygienic macro, but the reference to it should be generated hygienically?</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:23:48.402800</ts>
    <user>Marcelina</user>
    <text>(But if you just do:
```
(define-foo)
foo
```
it obviously works fine.)</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:24:00.403000</ts>
    <user>Marcelina</user>
    <text>Yes, ,that is correct.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:24:32.403700</ts>
    <user>Marcelina</user>
    <text>I want `#my-super-awesome-macro` to always be read as this specific `(#%awesome)` form.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:27:10.404500</ts>
    <user>Elin</user>
    <text>I assume that if you write
```
(define-foo)
(#%awesome)
```
That works?</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:29:00.404700</ts>
    <user>Marcelina</user>
    <text>Yes it does.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:29:19.405200</ts>
    <user>Marcelina</user>
    <text>Because in that case `(#%awesome)` has the outer scope, not the inner one.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:29:57.406000</ts>
    <user>Marcelina</user>
    <text>Unfortunately this might be a fundamental issue, as I can't find any way to work around it without just dropping hygenic reader macros. :disappointed:</text>
  </message>
  <message conversation_id="388">
    <ts>2019-03-27T15:32:30.406100</ts>
    <user>Kristeen</user>
    <text>which things?</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:32:47.406300</ts>
    <user>Kristeen</user>
    <text>I think you should always get the same zo files, for example</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:33:56.407100</ts>
    <user>Elin</user>
    <text>How is `#%awesome` defined? Does it use `datum-&amp;gt;syntax`, or does it use `syntax-local-introduce` or something?</text>
  </message>
  <message conversation_id="389">
    <ts>2019-03-27T15:40:49.407200</ts>
    <user>Karen</user>
    <text>I don't really know if there's any specific problems. I just don't feel like I understand the big picture of how all the different flags, config files, parameters, and environment variables can affect compilation. I also don't know how I'd test and verify aspects of the compiler.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T15:41:46.407400</ts>
    <user>Karen</user>
    <text>It's likely much more of a communication and documentation hurdle than a technical one.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T16:25:56.409600</ts>
    <user>Elin</user>
    <text>&lt;@Marcelina&gt; I got some version of this to work in the most useless way. By fiddling with the definitions of `define-foo` and `#%awesome`, I was able to get this program to work:
```
(define-foo)
#my-super-awesome-macro
;=&amp;gt; 42
```
However, putting anything around the use of the reader macro causes it to fail:
```
(define-foo)
(add1 #my-super-awesome-macro)
;=error&amp;gt; foo: unbound identifier in: foo
```</text>
  </message>
  <message conversation_id="390">
    <ts>2019-03-27T16:34:16.410300</ts>
    <user>Marcelina</user>
    <text>Sorry. my brain feels like it went through a juicer, so I had to step away from my computer for a bit. reading now.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T16:35:00.410800</ts>
    <user>Marcelina</user>
    <text>&lt;@Elin&gt; `#%awesome` uses datum-&amp;gt;syntax.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T16:36:18.411400</ts>
    <user>Marcelina</user>
    <text>Anyway, `#%awesome` was defined with something like this:</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T16:37:03.411900</ts>
    <user>Marcelina</user>
    <text>```
  (define-elaborate this
    (define/syntax-parse foo (datum-&amp;gt;syntax this-syntax 'foo))
    #'foo))
```</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T16:37:47.412500</ts>
    <user>Marcelina</user>
    <text>Where `define-elaborate` expands to a `define-syntax`. (A la the example &lt;@Gonzalo&gt; was helping with yesterday.)</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T16:38:03.412800</ts>
    <user>Marcelina</user>
    <text>err...`define-syntax` and `syntax-parse`.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T16:38:18.413100</ts>
    <user>Elin</user>
    <text>Is that the elaborator for the editors?</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T16:41:18.414700</ts>
    <user>Elin</user>
    <text>Anyway, If I change the definition of `define-foo` to use `syntax-local-identifier-as-binding` and `syntax-local-introduce` and the definition of `#%awesome` to use `syntax-local-introduce`, then I get it to work if `#my-super-awesome-macro` is exactly at the top level, but not within a definition or function call.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T16:46:52.415600</ts>
    <user>Elin</user>
    <text>Actually, this program fails the same way:
```
(define-simple-macro (define-it)
  #:with x (syntax-local-identifier-as-binding (syntax-local-introduce #'it))
  (define x 42))
(define-syntax-parser refer-to-it
  [(_) (syntax-local-introduce #'it)])
```
in another file:
```
(define-it)
(add1 (refer-to-it))
;=error&amp;gt; it: unbound identifier in: it
```</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T16:47:23.416000</ts>
    <user>Elin</user>
    <text>But
```
(define-it)
(refer-to-it)
;=&amp;gt; 42
```
works fine.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:01:03.416300</ts>
    <user>Marcelina</user>
    <text>&lt;@Elin&gt; ya, that's the elaborator for the editors.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:03:24.417200</ts>
    <user>Marcelina</user>
    <text>Okay. Although that seems like an odd way to bind a new variable.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:04:00.417900</ts>
    <user>Marcelina</user>
    <text>(I know &lt;@Danny&gt; complains all the time about people needing to use `syntax-local-introduce` for that purpose.)</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:06:13.419000</ts>
    <user>Karen</user>
    <text>&lt;@Marcelina&gt; for which purpose exactly? (curious)</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:07:36.420300</ts>
    <user>Marcelina</user>
    <text>Oh, IIRC, its just that (ideally) `syntax-local-introduce` should just be an internal implementation detail rather than part of the public API. I forget why though. Anyway, I'm sure Michael would know more about what Michael thinks. :wink:</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:08:28.420700</ts>
    <user>Karen</user>
    <text>huh :thinking_face:</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:09:51.421900</ts>
    <user>Marcelina</user>
    <text>Umm... I *think* its related to the fact that it exposes that inside of a macro is more of a negative space, while outside is a positive space. Which causes &lt;@Gonzalo&gt; to make her...uhh....macro-like-apply?</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:10:16.422500</ts>
    <user>Marcelina</user>
    <text>Anyway, sorry, I'm probably not being very coherent right now. I also don't really understand the argument entirely myself.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:10:51.422900</ts>
    <user>Karen</user>
    <text>sounds like someone somewhere ought to write a blog post</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:12:07.423800</ts>
    <user>Kristeen</user>
    <text>`syntax-local-introduce` is just `get-the-current-scope` + `apply-a-scope` so it seems like removing it would really mean "don't expose scopes to macro programmers"</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:13:55.425600</ts>
    <user>Karen</user>
    <text>I was thinking it meant that there shouldn’t be an introduction scope that’s added to macros by default, and instead evaluating `#'(foo ...)` should create a scope and add it to things. If anyone remembers that racket-users thread started by lexi that talked about alternate approaches to hygiene, that’s what I’m thinking of.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:14:44.426000</ts>
    <user>Kristeen</user>
    <text>&lt;@Karen&gt; that's an idea proposed previously by Andre van Tonder</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:14:53.426300</ts>
    <user>Karen</user>
    <text>yes! that’s the one</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:15:42.426600</ts>
    <user>Kristeen</user>
    <text>I think you want SRFI 72</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:15:57.426800</ts>
    <user>Karen</user>
    <text>I think I don’t know what I want</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:16:13.427100</ts>
    <user>Kristeen</user>
    <text>I mean, SRFI 72 is his spec document</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:17:09.428400</ts>
    <user>Marcelina</user>
    <text>I think I want to know what I think I want...I think?</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:17:47.429300</ts>
    <user>Karen</user>
    <text>What I mean is although that’s definitely the right spec for that alternative, I don’t know how I feel about that specific alternative.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:18:03.429700</ts>
    <user>Marcelina</user>
    <text>But ya, I think &lt;@Kristeen&gt; is right, that its having scope sets as part of the public API...probably.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:18:50.430100</ts>
    <user>Karen</user>
    <text>Scope sets don’t feel like they are part of the public API now</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:19:06.430500</ts>
    <user>Karen</user>
    <text>they’re sort of indirectly referred to via introducer functions</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:19:19.430900</ts>
    <user>Karen</user>
    <text>but there’s no `scope?` predicate or `scope-set?` predicate</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:21:44.431400</ts>
    <user>Kristeen</user>
    <text>the relevant thread is `syntax/parse is not hygenic` from March 2018</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:24:17.432000</ts>
    <user>Kristeen</user>
    <text>&lt;@Karen&gt; I think the docs for `make-syntax-introducer` make it clear that scopes are part of the API</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:24:25.432400</ts>
    <user>Kristeen</user>
    <text>it has a bad name for historical reasons</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:24:52.433000</ts>
    <user>Kristeen</user>
    <text>and it's encapsulated by a procedure rather than a struct with a procedure that takes it as an argument</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:26:10.433900</ts>
    <user>Karen</user>
    <text>&lt;@Kristeen&gt; I don’t think encapsulating scopes in procedures is the same as making scopes part of the API. The functionality is the same, but it feels totally different to users.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:27:16.435300</ts>
    <user>Marcelina</user>
    <text>&lt;@Karen&gt; Is that true? Most of the users I've talked to (or been in the past) either have no idea what syntax-local-introduce does, or understands that its basically a toggle switch for a macro scope.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:27:18.435400</ts>
    <user>Kristeen</user>
    <text>If there was a `scope?` function that answered `#true` to the results of `make-syntax-introducer` would you feel differently?</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:28:01.436000</ts>
    <user>Karen</user>
    <text>&lt;@Marcelina&gt; In fairness, I guess I can’t say if it feels totally different to users. But it does feel totally different to _me_.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:29:07.437500</ts>
    <user>Marcelina</user>
    <text>fair.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:29:16.438000</ts>
    <user>Karen</user>
    <text>&lt;@Kristeen&gt; Yes, provided there were also a few scope-related functions whose names started with `scope-`. Like `(scope-add scope? syntax?)`, and similar for `scope-remove` / `scope-flip`.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:29:20.438200</ts>
    <user>Marcelina</user>
    <text>Anyway, there's also the `syntax-binding-set` and family.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:29:44.438800</ts>
    <user>Marcelina</user>
    <text>(admittedly Mathew made that public because of some really terrible macros I needed to write.)</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:30:39.439500</ts>
    <user>Karen</user>
    <text>this package is closer in spirit to what I think of as a “public scopes API”: &lt;https://docs.racket-lang.org/scope-operations/index.html&gt;</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:31:18.440100</ts>
    <user>Kristeen</user>
    <text>Right but that library is a very simple wrapper over the current API</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:32:03.441500</ts>
    <user>Karen</user>
    <text>Yup. But it feels totally different and is much more intuitive to me.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:32:20.442100</ts>
    <user>Kristeen</user>
    <text>And even more, the concepts and operations in that library are 1-1 with the racket API</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:32:46.442900</ts>
    <user>Kristeen</user>
    <text>So I can totally agree that such an API would be nicer</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:33:10.443500</ts>
    <user>Kristeen</user>
    <text>But I think they expose the same things</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:34:16.444700</ts>
    <user>Marcelina</user>
    <text>Just with nicer names. :wink:</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:34:23.445000</ts>
    <user>Marcelina</user>
    <text>(for some definition of 'nicer' anyway.)</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:36:09.447200</ts>
    <user>Marcelina</user>
    <text>Anyway, from my (very limited) experience,  the more complex the macros you make, the more scope sets pop out of the API. But at least _most_ of the time I don't have to think about it (too much)</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:36:13.447400</ts>
    <user>Marcelina</user>
    <text>probably.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:36:43.447900</ts>
    <user>Karen</user>
    <text>&lt;@Kristeen&gt; Think about it this way: what if everywhere racket currently uses numbers, it instead described “successor introducers” which were functions that you had to call with special arguments in order to do math? Like `(num1 'add num2)`</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:36:55.448200</ts>
    <user>Karen</user>
    <text>The functionality is the same. But it’s a vastly different experience.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:43:23.449100</ts>
    <user>Marcelina</user>
    <text>&lt;@Karen&gt; Wait, aren't there some FP languages that do exactly that? And the 'successor introducers' do feel like just numbers.</text>
  </message>
  <message conversation_id="391">
    <ts>2019-03-27T17:43:26.449300</ts>
    <user>Marcelina</user>
    <text>?</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:43:32.449700</ts>
    <user>Marcelina</user>
    <text>Like,where 3 is a function.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:44:13.451200</ts>
    <user>Marcelina</user>
    <text>And + takes a function that takes two functions and results in another function that is the sum?</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:44:26.451600</ts>
    <user>Karen</user>
    <text>&lt;@Marcelina&gt; There are languages that do that for a semi-internal representation of things but they usually have reader-level syntax to support it and go to efforts to simplify / hide this representation in things like error messages. Because it confuses the hell out of people.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:46:40.453300</ts>
    <user>Karen</user>
    <text>If you want to write a number like three, you just write the number `3`. If you want to add things, you just write `3 + 5`. This might be achieved through a representation of numbers as closures and defining `+` as a closure-accepting-and-returning operator. But you aren’t forced to actually think about that.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T17:47:16.453700</ts>
    <user>Karen</user>
    <text>And docs don’t describe numbers as “successor introducers”, they just call them numbers.</text>
  </message>
  <message conversation_id="392">
    <ts>2019-03-27T18:03:34.453800</ts>
    <user>Madelaine</user>
    <text>&lt;@Clarinda&gt; I guess because I thought that didn't work. I'm not sure exactly what I was doing when I formed that belief (much less a way to reproduce it), because I've been doing it this way for a while, but there are points in my workflow when I run into linkage errors, and I thought compiling only `example/foo` wasn't enough to solve them if `example/common` had changed.</text>
  </message>
  <message conversation_id="392">
    <ts>2019-03-27T18:07:05.454000</ts>
    <user>Madelaine</user>
    <text>One possibility is that I'm conflating in my memory pressing `Run` in DrRacket, which I do frequently (I think I have `⌘i` + `⌘s` + `⌘r` in muscle memory), with explicitly running `raco setup`. I vaguely remember there being some issues where the two interacting caused friction.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T18:29:28.456100</ts>
    <user>Marcelina</user>
    <text>&lt;@Karen&gt; Okay, then I must be missing something here. Because I don't see how your description of `(num1 'add num2)` is substantively different from `num1 + num2`. But that's okay. Brain no longer feels like jelly thank god, so I can get back to work. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T18:46:03.458000</ts>
    <user>Karen</user>
    <text>&lt;@Marcelina&gt; There’s no functionality difference. There’s only communication and experience differences. For example, when I put the text cursor over `+` in DrRacket and press F1, I get taken to documentation for `+`.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T18:46:43.458500</ts>
    <user>Karen</user>
    <text>People underestimate how much those kinds of differences affect what code people write</text>
  </message>
  <message conversation_id="393">
    <ts>2019-03-27T20:40:32.459200</ts>
    <user>Marcelina</user>
    <text>OH! You are literally just talking about documentation, not about API design itself.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T20:40:43.459500</ts>
    <user>Marcelina</user>
    <text>Okay, in that case yes, that makes sense.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T20:42:27.461500</ts>
    <user>Marcelina</user>
    <text>In that case, its hard to say for macros, because there isn't any good guide in the docs (from my experience), and therefore its pieced together by academic papers, books, and blog-posts.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T20:42:44.461900</ts>
    <user>Marcelina</user>
    <text>That, and poking others...</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T20:43:38.462300</ts>
    <user>Marcelina</user>
    <text>So.... null?</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T20:44:07.462900</ts>
    <user>Marcelina</user>
    <text>lol slack fail. Srry.</text>
  </message>
  <message conversation_id="387">
    <ts>2019-03-27T20:48:01.463100</ts>
    <user>Karen</user>
    <text>Still works :p</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-27T22:18:24.464200</ts>
    <user>Deneen</user>
    <text>Totally uninformed random question. Is there anything Jekyll-like in Racket? I know I could hack Scribble but I’m looking for something a bit closer to what Jekyll does in Ruby. My guess is that it could be done much more naturally in Racket via macros.</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-27T22:19:26.464600</ts>
    <user>Kristeen</user>
    <text>&lt;@Deneen&gt; I think you want `frog`</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-27T22:19:37.464900</ts>
    <user>Deneen</user>
    <text>yeah, was just looking at `toad` too :slightly_smiling_face: &lt;https://parametri.city/blog/2015-06-01-toad-design.html&gt;</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-27T22:19:46.465200</ts>
    <user>Deneen</user>
    <text>Thanks for the `frog` pointer. I’ll check them out.</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-27T22:22:16.466300</ts>
    <user>Deneen</user>
    <text>Yeah, this looks really nice. I’ll try moving my site over from Jekyll soon!</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-27T22:26:34.468300</ts>
    <user>Julia</user>
    <text>Last few days, I've been exploring redoing my own blog, using a `Makefile` driving a few command-line tools, which are mostly a few pieces copied/modified from Frog.</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-27T22:27:43.468800</ts>
    <user>Julia</user>
    <text>I might put those pieces in a lib called "tadpole". :slightly_smiling_face:</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-27T22:28:31.469700</ts>
    <user>Julia</user>
    <text>Or I might just make one or two missing Racket packages (e.g. to make Atom and RSS feeds).</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-27T22:28:42.470200</ts>
    <user>Kristeen</user>
    <text>also jekyll is no longer the hotness in static blog generation</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-27T22:28:43.470300</ts>
    <user>Julia</user>
    <text>and just share the other glue code in a repo, not a package.</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-27T22:28:58.470600</ts>
    <user>Kristeen</user>
    <text>everything should be a package!</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-27T22:29:27.471300</ts>
    <user>Julia</user>
    <text>I don't plan to abandon Frog. I'm just kind of at the point where, if anyone wants it to do more features or be more configurable, I don't think I can really do that.</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-27T22:29:56.472000</ts>
    <user>Deneen</user>
    <text>&lt;@Kristeen&gt; what is the hottest now?</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-27T22:30:03.472400</ts>
    <user>Julia</user>
    <text>I kind of feel like there's some Greenspun's Tenth Rule about static blog generators being implementations of make.</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-27T22:30:14.472800</ts>
    <user>Kristeen</user>
    <text>I hear about hugo</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-27T22:30:16.472900</ts>
    <user>Deneen</user>
    <text>github pages supports jekyll out of the box. But it doesn’t work with the `bibtex2html` tool I use, so I hand-compile and then upload to generate my site.</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-27T22:30:48.473600</ts>
    <user>Deneen</user>
    <text>I tried using `hakyll` a while back. It was nice. Then the API changed from Arrows to Monads and broke 50% of the entire codebase I wrote up laboriously while learning Haskell along the way.</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-27T22:34:38.474100</ts>
    <user>Deneen</user>
    <text>I’d like to start using Racket-based tools as a matter of principle, though.. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-28T01:13:26.000900</ts>
    <user>Michelina</user>
    <text>&lt;@Deneen&gt; sounds like Pollen might be useful (&lt;https://pollenpub.com&gt;)</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-28T01:33:02.005600</ts>
    <user>Deneen</user>
    <text>You’re right, it does sound good, and I’ve used it once. My intuition tells me that `frog` is going to take slightly less work to make it do what I want, but I think `frog` is built on top of Pollen.</text>
  </message>
  <message conversation_id="395">
    <ts>2019-03-28T01:38:24.008300</ts>
    <user>Mai</user>
    <text>Pollen and Frog are different enough that I wouldn’t say one is built on top of the other, but if I must, I would say that Pollen is built on top of Frog. In fact, Pollen’s Markdown mode simply uses Frog’s Markdown parser. Pollen’s syntax highlighting is also borrowed from Frog.</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-28T01:40:20.009500</ts>
    <user>Mai</user>
    <text>You are right that Frog is going to take less work to make it do basic stuff. Pollen’s main goal is not static blog generation, so it doesn’t have, for example, basic page layout supports.</text>
  </message>
  <message conversation_id="395">
    <ts>2019-03-28T01:44:33.012500</ts>
    <user>Mai</user>
    <text>IMO, deciding whether Frog or Pollen is the right choice depends on how much you want to have control over document manipulation. Frog won’t let you manipulate content much (in a nice way), whereas in Pollen, the intermediate document data structure is xexpr of which you have a complete control.</text>
  </message>
  <message conversation_id="395">
    <ts>2019-03-28T01:51:07.013500</ts>
    <user>Michelina</user>
    <text>&lt;@Julia&gt; at Racketfest lots of people talked about racket-mode for Emacs -- kudos for working on it!</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-28T02:16:06.014100</ts>
    <user>Deneen</user>
    <text>&lt;@Mai&gt; in general I do want pretty low-level control over how HTML and such gets laid out.</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-28T02:16:53.015100</ts>
    <user>Deneen</user>
    <text>I’m all for building beautiful things, but often when I’m hacking on websites I just need to do something kind of dirty because the time investment often isn’t worth justifying (why I use Jekyll, tbh). That being said, I’d be willing to put in some time to learning a tool if it were in Racket (more than I would in Ruby)</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-28T02:48:39.016600</ts>
    <user>Lavette</user>
    <text>&lt;@Deneen&gt; &lt;@Kristeen&gt; I use Hugo for my website, it's very powerful but with a bit of a learning curve. I have now gotten to the point where I have my templates the way I want, and I can produce the Hugo markup for my website from a big org-mode file, so I barely even see it. Netlify automatically then builds and hosts the website itself. Works nicely :slightly_smiling_face:</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-28T02:49:50.017700</ts>
    <user>Lavette</user>
    <text>&lt;@Deneen&gt; you get a lot of low-level control with Hugo, if that's what you want. I think there might even be a semi-automated Jekyll-to-Hugo converter out there.</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-28T02:50:59.018500</ts>
    <user>Lavette</user>
    <text>Hugo is in Go though, so you need to learn and get used to the go templating engine, which is kind of weird, but you get used to it.</text>
  </message>
  <message conversation_id="394">
    <ts>2019-03-28T02:55:04.019300</ts>
    <user>Deneen</user>
    <text>Yeah, I use Jekyll very productively now and know how to hack on it well, but I’d be interested in using something Racket-based for catharsis..</text>
  </message>
  <message conversation_id="396">
    <ts>2019-03-28T03:44:29.021300</ts>
    <user>Michelina</user>
    <text>if you're looking for some low-level control, I think you'll find Pollen more to your liking. The tradeoff is that you need to do considerable more work; there's only rudimentary support (if that!) for stuff you take for granted in Jekyll</text>
  </message>
  <message conversation_id="396">
    <ts>2019-03-28T03:46:26.023000</ts>
    <user>Michelina</user>
    <text>I use Pollen to generate my own sites, but I'm fussy like that. I've been bitten a number of times by having to do many tasks myself, having to do stuff that probably comes out-of-the-box with other tools</text>
  </message>
  <message conversation_id="396">
    <ts>2019-03-28T03:47:00.023600</ts>
    <user>Michelina</user>
    <text>That's not a criticism of Pollen; I see it as something that comes with the territory.</text>
  </message>
  <message conversation_id="396">
    <ts>2019-03-28T03:47:34.024200</ts>
    <user>Michelina</user>
    <text>I also use Pollen for my books (but there, I'm generating ConTeXt rather than HTML).</text>
  </message>
  <message conversation_id="396">
    <ts>2019-03-28T03:51:13.024600</ts>
    <user>Deneen</user>
    <text>Yeah, I used Pollen for a book-like thing once and it seems really nice  for that!</text>
  </message>
  <message conversation_id="397">
    <ts>2019-03-28T05:02:53.025500</ts>
    <user>Kami</user>
    <text>Oh, I think I see! You mean I should create syntax-classes for the next phase. I'll try that, yeah, I didn't think about it.</text>
  </message>
  <message conversation_id="397">
    <ts>2019-03-28T05:03:14.025700</ts>
    <user>Kami</user>
    <text>That would make things easier to understand</text>
  </message>
  <message conversation_id="398">
    <ts>2019-03-28T06:42:10.026400</ts>
    <user>Ima</user>
    <text>&lt;@Julia&gt; I'll delurk to second what Jesse said - racket-mode is my primary method of working with racket.</text>
  </message>
  <message conversation_id="398">
    <ts>2019-03-28T13:11:42.027500</ts>
    <user>Priscila</user>
    <text>The Reddit user experiencing scrolling problems in DrRacket has provided more information. Does scrolling become slower in larger windows?
&lt;https://www.reddit.com/r/Racket/comments/b5o34z/any_way_to_improve_performance_of_drracket/&gt;</text>
  </message>
  <message conversation_id="398">
    <ts>2019-03-28T13:16:05.029000</ts>
    <user>Shavon</user>
    <text>I am quite surprised, user `lispm` on the thread (&lt;https://www.reddit.com/r/Racket/comments/b5o34z/any_way_to_improve_performance_of_drracket/ejiv0n4?utm_source=share&amp;amp;utm_medium=web2x&gt;) says that it's pretty bad for him as well. I expected DrRacket on MacOS to be flawless - I had this idea that a lot of the core people were using it.</text>
  </message>
  <message conversation_id="398">
    <ts>2019-03-28T13:17:18.029800</ts>
    <user>Priscila</user>
    <text>Compared to, say, SublimeText the UI is slow - but I am puzzled too.</text>
  </message>
  <message conversation_id="398">
    <ts>2019-03-28T13:18:26.030700</ts>
    <user>Shavon</user>
    <text>Unfortunately can't comment here, since I know next to nothing about OSX and don't own a Mac.</text>
  </message>
  <message conversation_id="398">
    <ts>2019-03-28T13:26:37.032100</ts>
    <user>Karen</user>
    <text>I use drracket on macOS regularly and can confirm that scrolling speed is consistently the most frustrating problem</text>
  </message>
  <message conversation_id="398">
    <ts>2019-03-28T13:36:05.033700</ts>
    <user>Elin</user>
    <text>And it’s okay on small files but much worse on large files</text>
  </message>
  <message conversation_id="398">
    <ts>2019-03-28T13:37:25.035400</ts>
    <user>Julia</user>
    <text>A few years ago I found the background expansion slow enough that, turning it off made a big difference.
That was on a slower laptop on macOS.
Scrolling hasn't bothered me but I use Emacs for heavy edits and DrRacket for its special features.
(Emacs is also not immune from probs with large files, esp if there aren't many line-endings to "break it up".)</text>
  </message>
  <message conversation_id="398">
    <ts>2019-03-28T13:43:16.036900</ts>
    <user>Priscila</user>
    <text>Alex is right - something happens for very large files.
I have a tendency to put everything in the same file at first - then split things later.
And at some point DrRacket becomes noticeably slower.</text>
  </message>
  <message conversation_id="399">
    <ts>2019-03-28T14:10:27.037000</ts>
    <user>Lillian</user>
    <text>FWIW I used `frog` not `pollen` for the Racket blog &lt;http://blog.racket-lang.org|blog.racket-lang.org&gt;</text>
  </message>
  <message conversation_id="399">
    <ts>2019-03-28T14:11:47.037600</ts>
    <user>Lillian</user>
    <text>On the idea that `frog` by design makes the most common blog requirements easy; `pollen` by design does not care about blogs</text>
  </message>
  <message conversation_id="399">
    <ts>2019-03-28T14:16:03.040700</ts>
    <user>Clarinda</user>
    <text>I’m generally stuck on how to improve refresh performance on Mac OS. Some of it is that Mac OS changes have made things worse; Slideshow animations don’t work nearly well after I upgraded to 10.14, for example. My only idea currently is to try out Skia as a replacement for Cairo+Pango, but it’s not clear that it would help.</text>
  </message>
  <message conversation_id="398">
    <ts>2019-03-28T14:45:03.042800</ts>
    <user>Priscila</user>
    <text>That does indeed sound drastic. I attempted to find out whether anyone is working on a Metal backend for Cairo, but I couldn't find anything.</text>
  </message>
  <message conversation_id="399">
    <ts>2019-03-28T15:08:14.042900</ts>
    <user>Leticia</user>
    <text>&lt;@Clarinda&gt; it occurs to me that this seems like precisely the kind of modularity that units are meant to allow for.</text>
  </message>
  <message conversation_id="400">
    <ts>2019-03-28T15:08:37.043100</ts>
    <user>Leticia</user>
    <text>When I’ve tried in the past though, units don’t play very well with redex.</text>
  </message>
  <message conversation_id="400">
    <ts>2019-03-28T15:30:09.044100</ts>
    <user>Deneen</user>
    <text>Awesome.  That is what I needed to hear, Matthew.</text>
  </message>
  <message conversation_id="399">
    <ts>2019-03-28T15:32:09.046000</ts>
    <user>Clarinda</user>
    <text>I doubt that units will help. Units are good for scaling up function-style abstraction. Redex wants a lot of not-first-class info (so macros instead of functions).</text>
  </message>
  <message conversation_id="398">
    <ts>2019-03-28T16:13:53.047000</ts>
    <user>Priscila</user>
    <text>Anecdote: The Unity Editor also suffered a slow-down when Mojave came out. This user blames the new font-rendering in macOS. &lt;https://forum.unity.com/threads/unity-editor-performance-under-mojave-10-14-is-less-than-half-of-10-13-x-versions-of-macos.552736/#post-3732451&gt;</text>
  </message>
  <message conversation_id="398">
    <ts>2019-03-28T16:18:32.048600</ts>
    <user>Mai</user>
    <text>The slowdown problem for large files has been around for years though (that is, before Mojave came out). I remember quitting using DrRacket when I took an introductory programming class in 2014 due to how laggy DrRacket was.</text>
  </message>
  <message conversation_id="399">
    <ts>2019-03-28T18:39:07.049100</ts>
    <user>Marcelina</user>
    <text>&lt;@Clarinda&gt; fwiw, I'd be down for a replacement of cairo+pango.</text>
  </message>
  <message conversation_id="400">
    <ts>2019-03-28T18:39:30.049700</ts>
    <user>Marcelina</user>
    <text>(And given enough time might do it myself....you know in a few years. :stuck_out_tongue: )</text>
  </message>
  <message conversation_id="400">
    <ts>2019-03-28T18:40:56.050700</ts>
    <user>Marcelina</user>
    <text>It would solve so many problems. (Like the really slow performance on linux, and the HORRIBLE situation is PangoCairoFontConfigTtfEtcEtc fonts...)</text>
  </message>
  <message conversation_id="400">
    <ts>2019-03-28T18:42:02.051300</ts>
    <user>Marcelina</user>
    <text>BTW, is there any way to remove the scope added from reader extensions?</text>
  </message>
  <message conversation_id="400">
    <ts>2019-03-28T18:42:44.052200</ts>
    <user>Marcelina</user>
    <text>(Like, the syntax that a reader extension adds seems to have a module scope for both the module its reading, as well as the implementation module.)</text>
  </message>
  <message conversation_id="399">
    <ts>2019-03-28T20:00:03.052700</ts>
    <user>Clarinda</user>
    <text>I don’t think `#reader` should add a scope for the reader implementation. Are you sure the implementation isn’t adding one itself?</text>
  </message>
  <message conversation_id="400">
    <ts>2019-03-28T21:42:22.052900</ts>
    <user>Marcelina</user>
    <text>&lt;@Clarinda&gt; Yes, its certainly the implementation, its the syntax object its returning.</text>
  </message>
  <message conversation_id="400">
    <ts>2019-03-28T21:43:08.053100</ts>
    <user>Marcelina</user>
    <text>And that syntax object has the scopes of the module its defined in.</text>
  </message>
  <message conversation_id="400">
    <ts>2019-03-28T21:43:39.053300</ts>
    <user>Marcelina</user>
    <text>(Unless you are saying that I should bootstrap with `datum-&amp;gt;syntax`, and then try to manually add scopes?</text>
  </message>
  <message conversation_id="400">
    <ts>2019-03-28T22:01:41.053500</ts>
    <user>Marcelina</user>
    <text>(Basically, right now I am using quasisynta to return syntax, because it reads to something that's not otherwise in the core.)</text>
  </message>
  <message conversation_id="399">
    <ts>2019-03-29T09:48:21.054200</ts>
    <user>Clarinda</user>
    <text>The way to remove scopes is via `make-syntax-delta-introducer`, but it does sound like `quasisyntax` was the wrong tool to start with in this case. I’m not clear on what scopes you mean to add (on which subforms) and which ones are unwanted.</text>
  </message>
  <message conversation_id="400">
    <ts>2019-03-29T10:06:59.055100</ts>
    <user>Ashlea</user>
    <text>Personally, on MacOS, I merge consecutive wheel events into one (by adjusting wheel-step) in every 200ms, though the overall performance of DrRacket is still much slower than on Linux, it do avoid the unresponsive problems while scrolling large files.</text>
  </message>
  <message conversation_id="401">
    <ts>2019-03-29T10:07:06.055300</ts>
    <user>Shavon</user>
    <text>&lt;@Kristeen&gt; the reduced version from 2569, was this generated using demodularize + full expand?</text>
  </message>
  <message conversation_id="401">
    <ts>2019-03-29T10:07:40.055900</ts>
    <user>Kristeen</user>
    <text>That's generated from the extraction tool used for bootstrapping the expander (see racket/src/expander/README)</text>
  </message>
  <message conversation_id="401">
    <ts>2019-03-29T10:08:10.056300</ts>
    <user>Shavon</user>
    <text>Will take a look, thanks.</text>
  </message>
  <message conversation_id="399">
    <ts>2019-03-29T13:32:25.058000</ts>
    <user>Gonzalo</user>
    <text>&lt;@Clarinda&gt; Is this behavior a bug? This program:
```
#lang racket
(parameterize ([current-namespace (make-base-namespace)])
  (eval '(module m racket
           (define phase-0-mod-path
             (resolved-module-path-name
              (variable-reference-&amp;gt;resolved-module-path (#%variable-reference))))

           (define-syntax (quote-phase-1-mod-path stx)
             #`'#,(resolved-module-path-name
                   (variable-reference-&amp;gt;resolved-module-path (#%variable-reference))))

           (define phase-1-mod-path (quote-phase-1-mod-path))

           (printf "          mod-path @ 0 = ~v\n" phase-0-mod-path)
           (printf "          mod-path @ 1 = ~v\n\n" phase-1-mod-path)
           (printf "      mod-paths equal? = ~v\n\n" (equal? phase-0-mod-path phase-1-mod-path))
           (printf "mod-path interned? @ 0 = ~v\n" (symbol-interned? phase-0-mod-path))
           (printf "mod-path interned? @ 1 = ~v\n" (symbol-interned? phase-1-mod-path))))

  (eval '(require 'm)))
```
prints:
```
          mod-path @ 0 = 'm
          mod-path @ 1 = 'm

      mod-paths equal? = #f

mod-path interned? @ 0 = #t
mod-path interned? @ 1 = #f
```
I don’t have any idea if this is a bug, intentional, or unspecified behavior, but it is a little confusing.</text>
  </message>
  <message conversation_id="399">
    <ts>2019-03-29T13:33:13.058600</ts>
    <user>Gonzalo</user>
    <text>It also seems like it’s different from Racket 6.12, since on Racket 6.12 the paths are `equal?` (both are interned).</text>
  </message>
  <message conversation_id="399">
    <ts>2019-03-29T14:10:09.060400</ts>
    <user>Clarinda</user>
    <text>&lt;@Gonzalo&gt; It’s intentionally inconvenient. A compile-time module path does not necessarily have anything to do with the run-time module path. The new expander uses an uninterned symbol that prints in a useful-for-debugging way but is meant to be consistently different from the run-time name.</text>
  </message>
  <message conversation_id="399">
    <ts>2019-03-29T14:12:14.061900</ts>
    <user>Gonzalo</user>
    <text>Got it, that makes sense. It came up when I was writing tests for &lt;https://github.com/racket/racket/pull/2554&gt;, and I wanted to make sure the right module was blamed, so I am looking at the value inside the `blame-positive` field of a blame object. I ended up doing this: &lt;https://github.com/racket/racket/blob/660107e0a9204e146994080189aeca1bca8aa6bd/pkgs/racket-test/tests/syntax/contract/phase.rkt#L23-L25&gt; Is there a better way/is there something I should do instead?</text>
  </message>
  <message conversation_id="399">
    <ts>2019-03-29T14:37:10.062400</ts>
    <user>Clarinda</user>
    <text>I can think of anything better.</text>
  </message>
  <message conversation_id="399">
    <ts>2019-03-29T14:39:39.063500</ts>
    <user>Gonzalo</user>
    <text>I guess maybe the right thing to do in that case is to extract the actual module path from the module at the appropriate phase, but it’d be a little more effort. Maybe I’ll make that change.</text>
  </message>
  <message conversation_id="402">
    <ts>2019-03-29T15:11:36.064400</ts>
    <user>Priscila</user>
    <text>&lt;@Ashlea&gt; Is this the code you use for DrRacket to merge consecutive wheel events?</text>
  </message>
  <message conversation_id="402">
    <ts>2019-03-29T15:11:38.064600</ts>
    <user>Priscila</user>
    <text>&lt;https://github.com/yjqww6/useless/blob/master/gadgets/tool-wheel.rkt&gt;</text>
  </message>
  <message conversation_id="399">
    <ts>2019-03-29T15:28:59.068300</ts>
    <user>Gonzalo</user>
    <text>&lt;@Clarinda&gt; Thinking about it some more, is there any particular reason module names at compile-time ignore `current-module-declare-name`? I realize that parameter is designed to affect, well, when a module is _declared_, but it does seem unnecessarily confusing that the expansion-time module name is sometimes very different… so maybe there could be something _like_ that parameter that affects expansion-time? I guess the current approach makes things like phase 1 uses of `quote-module-name` conveniently work out, in that they will produce symbols instead of paths, which means bytecode that contains quoted versions of those paths will be machine-independent, but that seems more accidental than intentional.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:19:52.070500</ts>
    <user>Karen</user>
    <text>What are module names anyway? I don't really understand the subtler points of how they relate to phases, file paths, the top level, and bytecode.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:29:06.070700</ts>
    <user>Marcelina</user>
    <text>Oh cool. That actually seemed to work. (replacing `quasisyntax` with `datum-&amp;gt;syntax` and using delta introducers. Thanks.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:29:18.071100</ts>
    <user>Marcelina</user>
    <text>When I have the following macros: &lt;https://gist.github.com/LeifAndersen/8f06b4a15d9eb62e8fe8d5078d1253b4&gt;</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:29:19.071200</ts>
    <user>Marcelina</user>
    <text>None</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:30:31.072100</ts>
    <user>Marcelina</user>
    <text>The syntax object inside of `bar` has one less scope than the one inside of `foo`.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:30:48.072500</ts>
    <user>Marcelina</user>
    <text>```
#hasheq((context
         .
         (#(71034 module)
          #(71042 module anonymous-module)
          #(71606 macro)
          #(71607 use-site))))
#hasheq((context
         .
         (#(71034 module)
          #(71042 module anonymous-module)
          #(71607 use-site)
          #(71608 macro)
          #(71609 use-site))))
```</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:31:04.073100</ts>
    <user>Marcelina</user>
    <text>Is there any way to remove the second use site scope?</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:31:07.073300</ts>
    <user>Gonzalo</user>
    <text>You need to call `syntax-local-introduce` before calling `syntax-debug-info` to see the “outside” view instead of the “inside” view.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:31:36.073800</ts>
    <user>Marcelina</user>
    <text>&lt;@Gonzalo&gt; Ya, but iirc that only removes the macro scope.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:31:54.074200</ts>
    <user>Gonzalo</user>
    <text>Oh, sure. You can’t arbitrarily get rid of use-site scopes.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:32:32.075400</ts>
    <user>Marcelina</user>
    <text>But isn't that a problem when you have a macro that expands to another macro (use) that wants to bind a new variable?</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:32:51.076000</ts>
    <user>Gonzalo</user>
    <text>No, because use-site scopes are pruned by the expander when it binds a variable in a definition context.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:32:53.076200</ts>
    <user>Marcelina</user>
    <text>err....other way</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:33:08.076800</ts>
    <user>Marcelina</user>
    <text>err...never mind, the original way.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:33:11.076900</ts>
    <user>Gonzalo</user>
    <text>You can prune some use-site scopes off of identifiers using `syntax-local-identifier-as-binding`. But that only works on identifiers, since you’re only supposed to use it if you’re implementing your own definition context-like expansion loop.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:33:39.077400</ts>
    <user>Gonzalo</user>
    <text>See this section of the sets-of-scopes paper: &lt;http://www.cs.utah.edu/plt/scope-sets/pattern-macros.html#%28part._use-site%29&gt;</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:34:13.078300</ts>
    <user>Gonzalo</user>
    <text>Specifically, see that section and the next one.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:34:26.078800</ts>
    <user>Marcelina</user>
    <text>OH. So this is a limitation of &lt;@Danita&gt;’s and Sam C.'s trick to extend environments in turnstyle.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:34:28.078900</ts>
    <user>Gonzalo</user>
    <text>Section 2.4 explains the pruning of use-site scopes.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:35:01.080000</ts>
    <user>Gonzalo</user>
    <text>I don’t know what you mean, but I don’t think turnstile should be negatively impacted by this, though it may need to call `syntax-local-identifier-as-binding` in certain places.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:35:14.080500</ts>
    <user>Gonzalo</user>
    <text>It’s possible it currently doesn’t do that, but should.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:35:20.080700</ts>
    <user>Marcelina</user>
    <text>(because we've been local-expanding it in an 'expression' context, which obviously isn't a binding one.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:35:56.081600</ts>
    <user>Marcelina</user>
    <text>Nah, that's almost certainly how to get around it.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:36:03.082000</ts>
    <user>Gonzalo</user>
    <text>If you’re expanding an expression, you should expand it in an expression context, yes… but then use-site scopes shouldn’t affect you, since you’re in an expression context.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:36:09.082400</ts>
    <user>Marcelina</user>
    <text>I think that you answered my question (without realizing it) so thanks. :smile:</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:36:15.082700</ts>
    <user>Gonzalo</user>
    <text>Use-site scopes only come into play when you’re expanding in a definition context.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:37:17.083800</ts>
    <user>Marcelina</user>
    <text>THe overall macro is in a definition context.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T16:44:06.084300</ts>
    <user>Gonzalo</user>
    <text>Then yes, you’d get a use-site scope. But the use-site scope should go everywhere, so it shouldn’t matter if the thing you’re expanding is an expression.</text>
  </message>
  <message conversation_id="404">
    <ts>2019-03-29T20:26:41.084700</ts>
    <user>Aubrey</user>
    <text>Has anyone made a redex model of wasm yet?</text>
  </message>
  <message conversation_id="405">
    <ts>2019-03-29T20:49:00.085200</ts>
    <user>Karen</user>
    <text>or a `#lang` for that matter</text>
  </message>
  <message conversation_id="405">
    <ts>2019-03-29T20:49:27.086100</ts>
    <user>Karen</user>
    <text>The text format of wasm uses s-expressions so it should be really easy</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T21:27:29.086200</ts>
    <user>Ashlea</user>
    <text>Yes, it is</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-29T22:48:24.086400</ts>
    <user>Ashlea</user>
    <text>another attempt is &lt;https://github.com/yjqww6/useless/blob/master/gadgets/tool-wheel2.rkt&gt;, didn't feel a significant difference.</text>
  </message>
  <message conversation_id="406">
    <ts>2019-03-30T08:50:43.086800</ts>
    <user>Clarinda</user>
    <text>I don’t know whether there would be any harm in practice to setting the compile-time name based on` current-module-declare-name`, but I expect that various tools would have to change to make the value consistently what you expect.</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-30T11:40:26.087100</ts>
    <user>Priscila</user>
    <text>&lt;https://www.researchgate.net/profile/Kostadin_Damevski/publication/331718154_Exploratory_Study_of_Slack_QA_Chats_as_a_Mining_Source_for_Software_Engineering_Tools/links/5c93877745851506d7200253/Exploratory-Study-of-Slack-Q-A-Chats-as-a-Mining-Source-for-Software-Engineering-Tools.pdf&gt;</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-30T14:57:24.087200</ts>
    <user>Priscila</user>
    <text>&lt;@Ashlea&gt; I just found this in the docs:
"If provided, the wheel-step argument is passed on to the wheel-step method. The default wheel step can be overridden globally though the 'GRacket:wheelStep preference; see Preferences."</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-30T14:57:40.087400</ts>
    <user>Priscila</user>
    <text>Have you tried various values for wheelStep?</text>
  </message>
  <message conversation_id="403">
    <ts>2019-03-30T14:57:46.087600</ts>
    <user>Priscila</user>
    <text>&lt;https://docs.racket-lang.org/gui/editor-canvas_.html?q=text%25&gt;</text>
  </message>
  <message conversation_id="407">
    <ts>2019-03-30T20:08:41.089500</ts>
    <user>Angelika</user>
    <text>In beautiful racket's stacker (&lt;https://beautifulracket.com/stacker/source-listing.html&gt;), why do we not need to do `(provide stack)`? It's used in the expanded syntax: `(display (first stack))`.</text>
  </message>
  <message conversation_id="407">
    <ts>2019-03-30T20:10:02.090700</ts>
    <user>Gonzalo</user>
    <text>Macro hygiene. In the same way that a lambda closes over its free variables, a reference to a variable in a macro definition still references the same variable even when the code is moved somewhere else.</text>
  </message>
  <message conversation_id="407">
    <ts>2019-03-30T20:11:40.092000</ts>
    <user>Angelika</user>
    <text>Ah, and is that different than `handle` because `handle` is only there via the syntax template `HANDLE-EXPR ...`, so its binding isn't captured and needs to be explicitly provided?</text>
  </message>
  <message conversation_id="407">
    <ts>2019-03-30T20:14:56.093100</ts>
    <user>Gonzalo</user>
    <text>Language _readers_ in Racket are not hygienic, only macros. So when `read-syntax` produces some syntax, all of the identifiers in it have to be bound, directly or indirectly, by the module language.</text>
  </message>
  <message conversation_id="407">
    <ts>2019-03-30T20:16:14.094400</ts>
    <user>Gonzalo</user>
    <text>Morally, readers just produce _s-expressions_, though they end up getting wrapped in syntax objects just so that they can have source locations attached. The produced s-expression is then treated the same way as a program you wrote yourself.</text>
  </message>
  <message conversation_id="407">
    <ts>2019-03-30T20:17:06.095200</ts>
    <user>Gonzalo</user>
    <text>But after the reader finishes, then the macroexpander gets to transform the program, and it enforces hygiene.</text>
  </message>
  <message conversation_id="407">
    <ts>2019-03-30T20:18:09.096000</ts>
    <user>Gonzalo</user>
    <text>I think this is, in some respects, a flaw in the way Racket’s language stack works. But it basically means you want to do as much in the expander as you can, and as little in the reader.</text>
  </message>
  <message conversation_id="407">
    <ts>2019-03-30T20:22:22.096200</ts>
    <user>Angelika</user>
    <text>okay this all makes sense again</text>
  </message>
  <message conversation_id="407">
    <ts>2019-03-30T20:23:30.097000</ts>
    <user>Angelika</user>
    <text>it's hard to come back to thinking about this after time away!</text>
  </message>
  <message conversation_id="408">
    <ts>2019-03-31T02:56:06.100000</ts>
    <user>Mai</user>
    <text>I feel `equal+hash` is too low-level for most usage. I simply want to specify what fields should be counted, but don’t need the ability to fine-control the hash code. Has someone created a package to simplify this already?</text>
  </message>
  <message conversation_id="409">
    <ts>2019-03-31T08:08:01.100200</ts>
    <user>Ashlea</user>
    <text>I didn't change the default value of it, I change it according to how many events are received and restore it immediately after the composed wheel event emitted. For example, If 10 wheel-down events are received, I increased it to 10 times and call the on-char from super class with a single wheel-up event.</text>
  </message>
  <message conversation_id="407">
    <ts>2019-03-31T08:14:23.100400</ts>
    <user>Ashlea</user>
    <text>It seems the reason of scrolling problems is that the os deliver wheel events much more quick than DrRacket's redrawing. My code just limits the frequency of redrawing for wheel events, and it works well for me.</text>
  </message>
  <message conversation_id="410">
    <ts>2019-03-31T10:04:35.103500</ts>
    <user>Priscila</user>
    <text>Why not put it in DrRacket?</text>
  </message>
  <message conversation_id="407">
    <ts>2019-03-31T10:58:37.104600</ts>
    <user>Priscila</user>
    <text>Huh. Using \epsilon in DrRacket inserts an epsilon as expected. But if I copy paste it - I get a prompt to normalize the inserted string - and then I get a different epsilon!</text>
  </message>
  <message conversation_id="411">
    <ts>2019-03-31T11:36:27.104700</ts>
    <user>Ashlea</user>
    <text>I think DrRacket would need similar things, but my solutions, which only use public APIs, are really ugly hacks. It would be better to be built into DrRacket deeply, which I am unfamiliar with.</text>
  </message>
  <message conversation_id="410">
    <ts>2019-03-31T13:49:09.105400</ts>
    <user>Vicki</user>
    <text>$\epsilon$ and $\varepsilon$, interesting</text>
  </message>
  <message conversation_id="412">
    <ts>2019-03-31T16:16:40.105600</ts>
    <user>Merna</user>
    <text>vincent: ping!</text>
  </message>
  <message conversation_id="412">
    <ts>2019-03-31T16:16:49.105900</ts>
    <user>Merna</user>
    <text>&lt;@Essie&gt; ping!</text>
  </message>
  <message conversation_id="412">
    <ts>2019-03-31T16:18:47.106100</ts>
    <user>Essie</user>
    <text>&lt;@Merna&gt;: Here!</text>
  </message>
  <message conversation_id="412">
    <ts>2019-03-31T16:18:53.106300</ts>
    <user>Essie</user>
    <text>Let's move to PMs.</text>
  </message>
  <message conversation_id="412">
    <ts>2019-03-31T16:21:12.106700</ts>
    <user>Merna</user>
    <text>yeah... uh... tell me how that works on slack ...</text>
  </message>
  <message conversation_id="413">
    <ts>2019-03-31T17:52:54.107900</ts>
    <user>Gonzalo</user>
    <text>Will `(call-with-output-bytes newline)` return `#"\r\n"` on Windows? I don’t have a Windows machine to check.</text>
  </message>
  <message conversation_id="413">
    <ts>2019-03-31T17:57:58.108200</ts>
    <user>Eileen</user>
    <text>Not on my system</text>
  </message>
  <message conversation_id="413">
    <ts>2019-03-31T17:58:06.108400</ts>
    <user>Eileen</user>
    <text>DrRacket 7.1</text>
  </message>
  <message conversation_id="413">
    <ts>2019-03-31T17:59:13.109100</ts>
    <user>Gonzalo</user>
    <text>Thanks. I wonder if there’s a way to get the right newline sequence for the current platform.</text>
  </message>
  <message conversation_id="413">
    <ts>2019-03-31T17:59:22.109500</ts>
    <user>Eileen</user>
    <text>```
(call-with-output-bytes newline)
#"\n"
```</text>
  </message>
  <message conversation_id="413">
    <ts>2019-03-31T18:00:11.110500</ts>
    <user>Gonzalo</user>
    <text>I know that normally it doesn’t matter, since reading/writing a file in text mode automatically converts as-needed in Racket. But in my case I’m just looking at some bytes, and I can’t depend on the automatic conversion.</text>
  </message>
  <message conversation_id="414">
    <ts>2019-03-31T18:40:14.110600</ts>
    <user>Karen</user>
    <text>What I usually do is I implement `hash-proc` by extracting a list of the fields in the struct I care about and calling the `recur` function on that list. I also toss in a `gensym` so that struct instances have a different hash code than actual lists. Something like this:

```
#:methods gen:equal+hash
[(define (this-&amp;gt;list this) (list ... important fields only ...))
 (define datatype-gensym (gensym))
 (define (equal-proc this other recur)
   (recur (this-&amp;gt;list this) (this-&amp;gt;list other)))
 (define (hash-proc this recur)
   (recur (cons datatype-gensym (this-&amp;gt;list this)))
 ;; the recur argument given to hash2-proc
 ;; returns different codes than the one given
 ;; to hash-proc, so using the same implementation
 ;; for both still gives us a different secondary
 ;; hash code
 (define hash2-proc hash-proc)]
```</text>
  </message>
  <message conversation_id="414">
    <ts>2019-03-31T18:41:57.110800</ts>
    <user>Karen</user>
    <text>This allocates lists every time `equal?` is called or hash codes are computed, but… oh well. It’s simple, easy to maintain, and gets the job done.</text>
  </message>
  <message conversation_id="415">
    <ts>2019-03-31T20:53:55.111400</ts>
    <user>Amira</user>
    <text>hey, if anyone has thoughts on plots &amp;amp; color maps please comment on this pull request: &lt;https://github.com/racket/plot/pull/52&gt;</text>
  </message>
  <message conversation_id="416">
    <ts>2019-03-31T22:20:40.114200</ts>
    <user>Vicki</user>
    <text>for `\r\n`: looks like it is converted at the rktio layer
&lt;https://github.com/racket/racket/blob/master/racket/src/rktio/rktio_fd.c#L947&gt;
so perhaps you have to look at `(system-type 'os)` and repeat what `open-input-file` documented</text>
  </message>
  <message conversation_id="416">
    <ts>2019-03-31T22:36:06.114400</ts>
    <user>Madelaine</user>
    <text>I played with a `#lang` a little, a while ago. I remember there being a few annoying things: for example, wasm exposes the payloads of nan values, which Racket doesn't.</text>
  </message>
  <message conversation_id="417">
    <ts>2019-04-01T04:14:23.114600</ts>
    <user>Kami</user>
    <text>I made one some times ago. It's not that good cause I was still learning how to make `#lang`s, but there's that. &lt;https://github.com/euhmeuh/wasm-adventure&gt;</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T09:38:51.119100</ts>
    <user>Julia</user>
    <text>Dear lazy slack: Is anyone using CircleCI to test a package against multiple versions of Racket?
I'd love to see your `.circleci/config.yml` as an example.
i.e. the CircleCI equivalent of my Travis CI example
(So far I've figured out it could use &lt;@Karen&gt;’s docker images, and, it will use `Workflows` instead of a Travis CI "matrix"... I think.)</text>
  </message>
  <message conversation_id="417">
    <ts>2019-04-01T12:06:28.119600</ts>
    <user>Kami</user>
    <text>&lt;@Elin&gt; Ok so, I tried using syntax-classes, but I don't see how I can transmit those classes to other modules once they are created. If I put the syntax-bound variable containing my class inside my metadata container, then give that to another expander somewhere in another module, how can the expander use that class as if it was declared here? In other words, my children parsers are going to need a lot of classes from their ancestors, but won't have them in scope.</text>
  </message>
  <message conversation_id="417">
    <ts>2019-04-01T12:10:58.120000</ts>
    <user>Kami</user>
    <text>I guess one way would be to change `actor-out` so that it also provides all the classes defined by a `define-actor`, so that other modules can use them. But I'm wondering whether this simplifies my code or complicates it. Right now I'm just passing that information in a syntax object.</text>
  </message>
  <message conversation_id="417">
    <ts>2019-04-01T12:14:06.120200</ts>
    <user>Kami</user>
    <text>I guess I'll just try that and see... Thanks for the rubberducking.</text>
  </message>
  <message conversation_id="418">
    <ts>2019-04-01T12:34:00.120800</ts>
    <user>Elin</user>
    <text>Maybe I’m misunderstanding… You shouldn’t always have to provide the syntax classes all the time. Macro hygiene can take care of a lot for you.</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T13:37:42.123900</ts>
    <user>Julia</user>
    <text>Realizing what I _really_ want is not to write any frakking YAML at all.
Instead I want to write a little utility that reads an `info.rkt`, looks at `base #:version` to find the oldest supported Racket that needs to be tested.
And then writes the `.yml` for me.
And if some CI du jour doesn't let you parameterize jobs/builds/whatevers, at least I'm not writing that stuff by hand.</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T13:39:03.125100</ts>
    <user>Julia</user>
    <text>If json is a subset of yaml, maybe this even gets close to a few lines of Racket ending in `write-jsexpr`.</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T13:40:13.126000</ts>
    <user>Julia</user>
    <text>Of course, _someone_ needs to figure out the correct tortured YAML required by service X.
I tried to for Travis CI.
I was hoping someone else could take a turn, this time. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T13:40:25.126200</ts>
    <user>Julia</user>
    <text>For CircleCI.</text>
  </message>
  <message conversation_id="419">
    <ts>2019-04-01T14:08:03.126700</ts>
    <user>Tomas</user>
    <text>eventually, when the YAML becomes self-assembling, we will all drown in it. _We’re already close_</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T14:17:09.127500</ts>
    <user>Lavette</user>
    <text>As someone who recently started using CircleCI (not for Racket though), I can attest to how nice it would be for the YAML to write itself :slightly_smiling_face:</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T14:30:32.129300</ts>
    <user>Karen</user>
    <text>&lt;@Julia&gt; Uh oh, does this mean I'm going to end up being the de facto Racket-on-Circle-CI expert?</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T14:33:36.131300</ts>
    <user>Julia</user>
    <text>&lt;@Tomas&gt; I feared but also admired SkyNet. I did not realize it would be the crushing banality of yaml ...</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T14:34:55.132600</ts>
    <user>Karen</user>
    <text>_desperately looks for an escape route as the baton inches ever closer to my hesitantly outstretched hand_</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T14:35:26.133200</ts>
    <user>Julia</user>
    <text>Seriously, this picket fence will be _so_ fun to whitewash. Think about it, you can make a `#lang stupid-ci`. Everyone will respect and love you.</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T14:38:42.133900</ts>
    <user>Karen</user>
    <text>The siren song of Open Source Fame</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T14:39:44.134500</ts>
    <user>Julia</user>
    <text>Well, it's probably impossible. No one could figure that out. I understand why you'd be reluctant.</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T14:41:17.135300</ts>
    <user>Karen</user>
    <text>Dammit now I'm actually thinking about how a CI `#lang` would work</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T14:42:23.135600</ts>
    <user>Julia</user>
    <text>Thank you! You won't regret it!! :slightly_smiling_face:</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T14:42:34.135800</ts>
    <user>Julia</user>
    <text>For at least five years.</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T14:43:35.136100</ts>
    <user>Karen</user>
    <text>name idea: `#lang bikeshed`</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T15:00:19.137400</ts>
    <user>Karen</user>
    <text>&lt;@Julia&gt; wait, I missed part of your original statement: Travis CI was acquired and might be going away?</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T15:16:24.137800</ts>
    <user>Julia</user>
    <text>Not going away soon, but looks like an acquifire &lt;https://news.ycombinator.com/item?id=19218036&gt;</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T15:28:09.138000</ts>
    <user>Karen</user>
    <text>oh dear</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:28:52.138700</ts>
    <user>Priscila</user>
    <text>Do they own a competitor? (I have a hard time comprehending why they might close CI).</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:29:34.139200</ts>
    <user>Ima</user>
    <text>Defintely was - loads of people were laid off.</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T15:30:22.140200</ts>
    <user>Karen</user>
    <text>they don’t, but they own a lot of other b2b software companies and their business model seems to be “buy existing products that are mostly well established, cease new development, cut costs by only keeping on the people needed for basic maintenance, and monetize the long tail of existing subscriptions”</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T15:30:57.140700</ts>
    <user>Karen</user>
    <text>(“they” being Idera, the company that acquired travis)</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T15:32:03.141200</ts>
    <user>Karen</user>
    <text>so travis will probably stick around for a long time but it’s unlikely to get new features</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T15:34:05.141800</ts>
    <user>Priscila</user>
    <text>They bought  Embarcadero Technologies in 2015 ( Delphi).</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:46:29.142300</ts>
    <user>Julia</user>
    <text>I bet Travis will stick around for at least a few years... for _paying_ customers.</text>
  </message>
  <message conversation_id="414">
    <ts>2019-04-01T15:47:22.143600</ts>
    <user>Karen</user>
    <text>ah yeah… no telling what Idera will decide to do with the free open source offering</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:47:25.143700</ts>
    <user>Julia</user>
    <text>If they're trying to cut expenses as deep as senior engineering staff, I'm not sure why they wouldn't look at quarterly numbers and say why are we paying to run stuff for free.</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:47:50.144200</ts>
    <user>Julia</user>
    <text>So, I thought I might start looking at another CI thing, before it becomes a fire drill.</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:49:53.145800</ts>
    <user>Julia</user>
    <text>I get why some people don't like Microsoft acquiring GitHub, but, I don't fear Microsoft cutting off free GH plans because they're trying to milk the bottom-line. For the foreseeable future, it's strategory to Microsoft. To Idera it's just a cash-flow stream.</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:51:16.147000</ts>
    <user>Priscila</user>
    <text>Agree.</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:51:34.147100</ts>
    <user>Karen</user>
    <text>I’d bet most of the expenses they’re trying to cut are engineer salaries rather than actual machine operating costs, so whether or not they keep the free option going probably depends on how much human effort it takes to keep it running</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:52:06.147500</ts>
    <user>Karen</user>
    <text>and to provide customer support for it</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:53:29.148900</ts>
    <user>Julia</user>
    <text>I don't know either. It might not be much dollars to run the servers. But someday rando exec might have indigestion from too many hamberders and suddenly the rest of us are having a fire drill.</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:54:37.149500</ts>
    <user>Karen</user>
    <text>yup, no accounting for arbitrary executive termination mandates</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:55:27.150300</ts>
    <user>Karen</user>
    <text>&lt;@Julia&gt; so, what _do_ you want out of a `#lang ci-config`?</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:56:13.150900</ts>
    <user>Julia</user>
    <text>As little as possible!  Seriously, if I want to do 1 shell command on 10 containers, I feel like that should be max 11 lines to express.</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:56:20.151200</ts>
    <user>Julia</user>
    <text>Maybe it's not quite _that_ simple.</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:56:34.151800</ts>
    <user>Julia</user>
    <text>But in that spirit. Make simple things easy.</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:56:51.152500</ts>
    <user>Karen</user>
    <text>do you want something tailored to racket’s concepts, or do you really want something that only deals with shell commands and docker stuff?</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:57:02.152800</ts>
    <user>Julia</user>
    <text>I don't understand why CI services aren't just `run-the-thing.sh`, why it needs to be wrapped in so much ceremony.</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:57:33.153500</ts>
    <user>Julia</user>
    <text>Oh, yeah, I guess what I said just now, is generic and not Racket-specific.</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:57:37.153700</ts>
    <user>Karen</user>
    <text>something something reproducibility something serialization something</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:57:58.154200</ts>
    <user>Julia</user>
    <text>The earlier thing I said, I like, too. That for most Racket packages, the info is in `info.rkt`.</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:58:10.154400</ts>
    <user>Karen</user>
    <text>yup</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:58:22.155000</ts>
    <user>Julia</user>
    <text>Not all packages are that simple, but most are.</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:58:23.155100</ts>
    <user>Karen</user>
    <text>do you want something that explicitly knows about `info.rkt` and uses that as a source of truth?</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T15:59:13.155900</ts>
    <user>Julia</user>
    <text>That would be wonderful. As version 0.1. And/or as the easy-button aspect of something that can handle more complicated scenarios.</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T16:01:45.157700</ts>
    <user>Karen</user>
    <text>other question: are you fine with the apache 2 license, and (more importantly) are you comfortable with Google being the copyright owner instead of me?</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T16:03:33.159400</ts>
    <user>Julia</user>
    <text>I mean, I have e.g. racket-mode which needs to test some permutation of X versions of Racket and Y versions of Emacs.
But I wouldn't expect info.rkt =&amp;gt; ci.yml to handle that in easy-mode. Or handle it at all.
I'm talking about the 90% or 95% case, should be easy.</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T16:04:18.160100</ts>
    <user>Julia</user>
    <text>I'm fine with either license, just please let me know if Idera will acquire Google ahead of time (so I can do $THINGS in the market). :slightly_smiling_face:</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T16:06:27.162000</ts>
    <user>Julia</user>
    <text>(I guess what I want, in a hand-wavy way, is for the Racket build server to handle older Racket versions, and have spiffy hooks for Git{Hub Lab}. That would be fine for me and most packages, too. But that's not reasonable for the Racket team to do.)</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T16:08:57.163200</ts>
    <user>Karen</user>
    <text>would you be comfortable making a github repo for this project under your account and adding me as a contributor? (google’s open source process is much simpler to follow for patches to existing projects owned by others than for releasing your own projects)</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T16:09:17.163500</ts>
    <user>Karen</user>
    <text>if not, that’s totally understandable</text>
  </message>
  <message conversation_id="420">
    <ts>2019-04-01T16:53:06.165500</ts>
    <user>Julia</user>
    <text>&lt;@Karen&gt; Sorry I was away; back now. Yes. I'll make a repo and add you as a contributor.</text>
  </message>
  <message conversation_id="421">
    <ts>2019-04-01T18:18:16.165900</ts>
    <user>Priscila</user>
    <text>&lt;https://racket-news.com/2019/04/racket-news-issue-5.html&gt;</text>
  </message>
  <message conversation_id="422">
    <ts>2019-04-02T02:47:49.167700</ts>
    <user>Michelina</user>
    <text>who here was at Racketfest?</text>
  </message>
  <message conversation_id="422">
    <ts>2019-04-02T03:00:13.168000</ts>
    <user>Ima</user>
    <text>I was at Racketfest.  :metal:</text>
  </message>
  <message conversation_id="422">
    <ts>2019-04-02T03:07:59.168500</ts>
    <user>Shavon</user>
    <text>&lt;@Michelina&gt; Racketfest!</text>
  </message>
  <message conversation_id="422">
    <ts>2019-04-02T03:08:04.168700</ts>
    <user>Shavon</user>
    <text>:slightly_smiling_face:</text>
  </message>
  <message conversation_id="422">
    <ts>2019-04-02T03:19:32.169400</ts>
    <user>Michelina</user>
    <text>I'm preparing the Racketfest videos and proceedings -- stay tuned!</text>
  </message>
  <message conversation_id="423">
    <ts>2019-04-02T03:25:44.169600</ts>
    <user>Shavon</user>
    <text>Awesome! :slightly_smiling_face: Thanks for that.</text>
  </message>
  <message conversation_id="422">
    <ts>2019-04-02T03:51:37.170000</ts>
    <user>Michelina</user>
    <text>I've got 4.5 gigabytes of Shriram</text>
  </message>
  <message conversation_id="422">
    <ts>2019-04-02T04:01:00.170700</ts>
    <user>Shavon</user>
    <text>That's definitely lots of Shriram bytes!</text>
  </message>
  <message conversation_id="424">
    <ts>2019-04-02T05:49:10.170900</ts>
    <user>Kami</user>
    <text>Ok you were right. Passing a class through #'(my-class-name) seems to actually pass the whole identifier down phase levels. I was expecting something like "my-class-name is not bound to a class", but it seems to work.</text>
  </message>
  <message conversation_id="422">
    <ts>2019-04-02T05:51:23.171100</ts>
    <user>Kami</user>
    <text>Maybe there's something about `begin-for-syntax` I don't understand. I would have thought the scope of a `begin-for-syntax` would prevent other phases from accessing the classes defined there. Does `#'` work as a closure?</text>
  </message>
  <message conversation_id="424">
    <ts>2019-04-02T09:21:07.172300</ts>
    <user>Azucena</user>
    <text>is there a standard way to have a cut inside a syntax class be treated as a cut for the pattern that uses the class</text>
  </message>
  <message conversation_id="424">
    <ts>2019-04-02T09:24:31.173000</ts>
    <user>Gonzalo</user>
    <text>&lt;@Azucena&gt; Yes, use #:no-delimit-cut.</text>
  </message>
  <message conversation_id="424">
    <ts>2019-04-02T09:31:01.174600</ts>
    <user>Azucena</user>
    <text>&lt;@Gonzalo&gt; Thanks! Maybe that should be mentioned under the description of `~!`, which mentions syntax classes but not that option (which is probably why I didn't look carefully enough in the syntax-class section).</text>
  </message>
  <message conversation_id="425">
    <ts>2019-04-02T10:36:06.175600</ts>
    <user>Michelina</user>
    <text>&lt;@Julia&gt; for some reason I'm finding that call/input-request in the http package is *really* slow -- has something changed? I'm on 7.2.</text>
  </message>
  <message conversation_id="425">
    <ts>2019-04-02T10:43:05.177200</ts>
    <user>Michelina</user>
    <text>wait, nevermind -- I'm using port-&amp;gt;bytes as part of my entity reader, and this is somehow the bottleneck.</text>
  </message>
  <message conversation_id="425">
    <ts>2019-04-02T10:45:40.177700</ts>
    <user>Kristeen</user>
    <text>&lt;@Milissa&gt; if there's something wrong (or even suboptimal) in `port-&amp;gt;bytes` let me know</text>
  </message>
  <message conversation_id="425">
    <ts>2019-04-02T10:49:41.180600</ts>
    <user>Michelina</user>
    <text>it's my mistake, no error in either &lt;@Julia&gt;'s stuff or `port-&amp;gt;bytes`-- I was being dumb and unboundedly reading an open HTTP connection</text>
  </message>
  <message conversation_id="425">
    <ts>2019-04-02T10:51:06.181700</ts>
    <user>Michelina</user>
    <text>very silly error on my part. presumably the remote HTTP server was cutting me (that is, the open connection) off after one minute (the amount of time `port-&amp;gt;bytes` was taking)</text>
  </message>
  <message conversation_id="425">
    <ts>2019-04-02T10:52:45.181900</ts>
    <user>Kristeen</user>
    <text>aha</text>
  </message>
  <message conversation_id="425">
    <ts>2019-04-02T10:52:52.182200</ts>
    <user>Kristeen</user>
    <text>btw, sounds like RacketFest was great!</text>
  </message>
  <message conversation_id="425">
    <ts>2019-04-02T10:55:04.184200</ts>
    <user>Michelina</user>
    <text>yeah! it was a blast. a ton of people showed up (65 registered, about 55 actually came), coming from many perspectives. I'd say only a handful of the people were major/serious Racket programmers. Most were enthusiasts of one kind or another and had dabbled with the language to varying degrees.</text>
  </message>
  <message conversation_id="426">
    <ts>2019-04-02T13:56:11.184800</ts>
    <user>Elin</user>
    <text>The scope of a `begin-for-syntax`? Identifiers defined inside a `begin-for-syntax` are available in all other phase 1 code that has those scopes.

This includes:
 - Other `begin-for-syntax` things in that module
 - Macro transformer expressions in `define-syntax`, `let-syntax`, etc. in that module
 - Macro templates in that module that might get inserted into phase-1 positions in any module, including other modules

This isn’t about crossing phases. I’m guessing the way you’re using it, the identifier is being put into a phase-1 position in the other module, and that’s fine, supported by macro hygiene.</text>
  </message>
  <message conversation_id="427">
    <ts>2019-04-02T14:17:03.185100</ts>
    <user>Kami</user>
    <text>I guess my case is the third one. I'm putting the syntax-class in a template, moved through provide into other modules.</text>
  </message>
  <message conversation_id="426">
    <ts>2019-04-02T14:49:59.185300</ts>
    <user>Elin</user>
    <text>And when it gets moved into other modules it retains the scopes from the macro-definition site in the original module, so the _non-provided_ syntax class in the `begin-for-syntax` will be available as long as you insert it into the same phase.</text>
  </message>
  <message conversation_id="427">
    <ts>2019-04-02T16:04:40.185800</ts>
    <user>Kami</user>
    <text>I see, thanks for the explanation!</text>
  </message>
  <message conversation_id="425">
    <ts>2019-04-02T16:23:01.188100</ts>
    <user>Gonzalo</user>
    <text>Is there any way to do the equivalent of `exec` in Racket, i.e. replace the current process with a new one? I suppose I could always just call `execv` via the FFI, but I’d rather not have to.</text>
  </message>
  <message conversation_id="426">
    <ts>2019-04-02T16:23:02.188200</ts>
    <user>Priscila</user>
    <text>Try this. Open DrRacket. Type a little. Minimize the window (macOS). Switch to another program, then switch back to DrRacket.</text>
  </message>
  <message conversation_id="427">
    <ts>2019-04-02T16:23:29.188700</ts>
    <user>Priscila</user>
    <text>Now I see "DrRacket", "File" and "Help" menus in the menu bar.</text>
  </message>
  <message conversation_id="425">
    <ts>2019-04-02T16:23:40.189100</ts>
    <user>Priscila</user>
    <text>Alas the "Window" menu is gone.</text>
  </message>
  <message conversation_id="425">
    <ts>2019-04-02T16:23:52.189600</ts>
    <user>Priscila</user>
    <text>So how can I choose the window I minimized?</text>
  </message>
  <message conversation_id="426">
    <ts>2019-04-02T20:55:58.190200</ts>
    <user>Julia</user>
    <text>&lt;https://racket.slack.com/archives/C06V96CKX/p1553739994468300&gt;
FWIW I did that: &lt;https://github.com/greghendershott/blog&gt;</text>
  </message>
  <message conversation_id="425">
    <ts>2019-04-02T22:55:18.190800</ts>
    <user>Leticia</user>
    <text>&lt;@Priscila&gt; is it not in the dock?</text>
  </message>
  <message conversation_id="428">
    <ts>2019-04-03T01:42:14.190900</ts>
    <user>Clarinda</user>
    <text>No, there’s no equivalent to `exec`.</text>
  </message>
  <message conversation_id="426">
    <ts>2019-04-03T02:21:13.193700</ts>
    <user>Madelaine</user>
    <text>I hope I'm missing something simple here, but I'm trying to write a macro that expands to `class`, declares an lexically-scoped initialization argument, and lets the body forms refer to it via a syntax parameter. Some ways that don't work:
```
(define-syntax-parameter arg #f)
(let ()
  (define-local-member-name lexical)
  (syntax-parameterize ([arg (make-rename-transformer
                              #'lexical)])
    (class object%
      (super-new)
      (init [lexical 1])
      (printf arg))))
;; lexical: unbound local member name
```
```
(define-syntax-parameter arg #f)
(let ()
  (define-local-member-name lexical)
  (class object%
    (super-new)
    (init [lexical 1])
    (splicing-syntax-parameterize ([arg (make-rename-transformer
                                         #'lexical)])
      (printf arg))))
;; identifier used out of context: lexical
```
```
(define-syntax-parameter arg #f)
(let ()
  (define-local-member-name lexical)
  (class object%
    (super-new)
    (init [(internal-name lexical) 1])
    (splicing-syntax-parameterize ([arg (make-rename-transformer
                                         #'internal-name)])
      (printf arg))))
;; identifier used out of context: internal-name
```</text>
  </message>
  <message conversation_id="425">
    <ts>2019-04-03T05:24:19.195100</ts>
    <user>Priscila</user>
    <text>&lt;@Leticia&gt; I found eventually in the dock. But I am not used to use the dock. To conserve horizontal space I have hidden the dock and have a 90 sec delay for it to appear.</text>
  </message>
  <message conversation_id="429">
    <ts>2019-04-03T10:35:37.196100</ts>
    <user>Gonzalo</user>
    <text>&lt;@Madelaine&gt; You need define-rename-transformer-parameter (see the syntax parameter docs for why).</text>
  </message>
  <message conversation_id="429">
    <ts>2019-04-03T11:03:18.201400</ts>
    <user>Madelaine</user>
    <text>&lt;@Gonzalo&gt; Thanks! This is getting me closer (I guess it makes sense that `class` would be using `syntax-local-value` internally). I can put `syntax-parameterize` around a single expression in the class body, but I'm still struggling to `syntax-parameterize` the whole body (or, at least, multiple definitions and expressions). If I put `syntax-parameterize` outside of `class`, I get an `unbound local member name` error (though in terms of `arg` now, not `lexical`), I would guess because it gets extra scopes from being bound as a class-internal name, but if I use `splicing-syntax-parameterize` inside the class (after the relevant `init`), I still get `identifier used out of context: lexical`.</text>
  </message>
  <message conversation_id="429">
    <ts>2019-04-03T11:40:33.204800</ts>
    <user>Gonzalo</user>
    <text>&lt;@Madelaine&gt; Looks like a bug to me. Peeking at the `class` form source code and at its expansion in the macro stepper, it looks like what’s going on is that `class` doesn’t actually expand expressions itself: it expands to some code with the unexpanded expressions left behind and lets the macroexpander do the work. So when you write
```
(class object%
  (super-new)
  (init [lexical 1])
  (define-syntax indirect (make-variable-like-transformer #'lexical))
  (printf indirect))
```
it gets turned into something like
```
(define-syntax indirect (make-variable-like-transformer #'lexical))
(letrec-syntaxes+values ([(lexical) (make-init-redirect #'lexical2)])
                        ([(lexical2) unsafe-undefined])
  (begin
    (super-new)
    (set! lexical2 (extract-args init-args 'lexical))
    (printf indirect)))
```
Notice that the `define-syntax` ends up getting moved outside the `letrec+syntaxes+values` where `lexical` is rebound.</text>
  </message>
  <message conversation_id="429">
    <ts>2019-04-03T11:41:45.206100</ts>
    <user>Gonzalo</user>
    <text>I think the right fix is to change `class` so that it expands expressions in the same context it expands everything else, but an easy quick fix that should solve your problem would be to move the `define-syntax` inside the `letrec-syntaxes+values` so that things get bound properly.</text>
  </message>
  <message conversation_id="429">
    <ts>2019-04-03T11:42:00.206500</ts>
    <user>Gonzalo</user>
    <text>Then you should be able to use `splicing-syntax-parameterize` and things should work.</text>
  </message>
  <message conversation_id="429">
    <ts>2019-04-03T11:44:07.208900</ts>
    <user>Gonzalo</user>
    <text>An aside: the way the `class` form handles local member names is, in general, a little fishy. It appears to simply find the member names that were bound and unhygienically introduces new bindings that shadow those names. I think a better way would be to make local member names work via syntax parameters instead of shadowing, but I wouldn’t be surprised if `class` predates syntax parameters, hence the current implementation strategy.</text>
  </message>
  <message conversation_id="429">
    <ts>2019-04-03T11:46:12.211000</ts>
    <user>Gonzalo</user>
    <text>The problem with the existing implementation strategy is that a macro that expands into a local member name might not be captured by the introduced `init-redirect` binding, which is probably not what people would expect. This is why you need the `syntax-parameterize` to be inside the class body, not outside it—the RHS of the syntax parameter needs to end up getting the local scopes of the class body, otherwise it won’t be shadowed.</text>
  </message>
  <message conversation_id="429">
    <ts>2019-04-03T12:07:37.211100</ts>
    <user>Gonzalo</user>
    <text>If I were to call `execv` via the FFI, would that break things in particularly bad ways, or should it be reasonably safe (modulo general FFI unsafety)? Might there be something I ought to call before calling `execv`?</text>
  </message>
  <message conversation_id="430">
    <ts>2019-04-03T12:22:41.211800</ts>
    <user>Marcelina</user>
    <text>Has anyone noticed that OpenGL contexts for Racket don't seem to work on Windows with Intel graphics cards?</text>
  </message>
  <message conversation_id="430">
    <ts>2019-04-03T12:22:56.212200</ts>
    <user>Marcelina</user>
    <text>(They do seem to work with nvidea ones, and on os x and linux)</text>
  </message>
  <message conversation_id="430">
    <ts>2019-04-03T12:23:10.212700</ts>
    <user>Marcelina</user>
    <text>You just get a blank window: &lt;https://stackoverflow.com/questions/54935910/how-to-make-a-programmable-pipeline-opengl-context-in-racket&gt;</text>
  </message>
  <message conversation_id="430">
    <ts>2019-04-03T12:24:59.213900</ts>
    <user>Marcelina</user>
    <text>(Based on `git blame win32/gl-context.rkt`, it sounds like &lt;@Clarinda&gt; would either be the right person to talk to, or know the right person to talk to?)</text>
  </message>
  <message conversation_id="431">
    <ts>2019-04-03T12:50:04.214000</ts>
    <user>Clarinda</user>
    <text>There are problems. Some file descriptors might be left open, and some signal handlers or dispositions might be different from what they should be for a new process. It might also create some problem to skip some shutdown actions, such as call `plumber-flush-all` on the original plumber or some custodian callbacks, but those effects are no worse than the state after crashing.</text>
  </message>
  <message conversation_id="431">
    <ts>2019-04-03T12:52:09.214200</ts>
    <user>Gonzalo</user>
    <text>Are the things you mentioned (signal handlers, etc.) properly adjusted for subprocesses spawned with `subprocess`, or do they inherit those things, too? (I’m okay with file descriptors being left open, since if they’re not marked `close-on-exec`, they’d be left open anyway.)</text>
  </message>
  <message conversation_id="431">
    <ts>2019-04-03T12:57:57.214400</ts>
    <user>Clarinda</user>
    <text>Those things are adjusted for the new process created by `subprocess`. (Otherwise, `subprocess` would be broken.)</text>
  </message>
  <message conversation_id="431">
    <ts>2019-04-03T12:59:57.214600</ts>
    <user>Gonzalo</user>
    <text>Got it. And I imagine it would be effort (maybe big and maybe small, but definitely nonzero) to make it possible to perform the kinds of adjustments `subprocess` and the various process shutdown handlers perform without actually spawning a process/the VM down so that the process can safely call `execv`?</text>
  </message>
  <message conversation_id="432">
    <ts>2019-04-03T13:46:17.215000</ts>
    <user>Priscila</user>
    <text>&lt;https://kimsereylam.com/&gt;</text>
  </message>
  <message conversation_id="431">
    <ts>2019-04-03T14:28:46.218000</ts>
    <user>Madelaine</user>
    <text>&lt;@Gonzalo&gt; Thanks yet again—that looks promising! I suspected `class` was doing something wrong, but … well, `(define-syntaxes (class* _class class/derived) `&amp;lt;1434 lines of code here&amp;gt;`)` is a great example of why `syntax-parse` etc. are such a big step forward for macro writers. I will open an issue to track this and try the quick fix.</text>
  </message>
  <message conversation_id="431">
    <ts>2019-04-03T14:36:37.218100</ts>
    <user>Madelaine</user>
    <text>For local member names in general, I would want the behavior you describe, but I'm a bit fuzzy on whether the current behavior is intentional. I had figured out at an earlier stage of trying to debug this that `class`, as you said, "appears to simply find the member names that were bound and unhygienically introduces new bindings that shadow those names." I've read &lt;https://docs.racket-lang.org/reference/createclass.html#(part._extnames)&gt; a few times now, and these parts raise questions for me:</text>
  </message>
  <message conversation_id="431">
    <ts>2019-04-03T14:37:33.218400</ts>
    <user>Madelaine</user>
    <text>"If a single `id` is provided for a method declaration, the identifier is used for both the internal and external names."</text>
  </message>
  <message conversation_id="431">
    <ts>2019-04-03T14:38:09.218600</ts>
    <user>Madelaine</user>
    <text>"Each `init`, `init-field`, `field`, or `inherit-field` variable similarly has an internal and an external name. The internal name is used within the class to access the variable, while the external name is used outside the class when providing initialization arguments …, inheriting a field, or accessing a field externally …."</text>
  </message>
  <message conversation_id="431">
    <ts>2019-04-03T14:41:08.219000</ts>
    <user>Madelaine</user>
    <text>"A single identifier can be used as an internal identifier and an external identifier, and it is possible to use the same identifier as internal and external identifiers for different bindings. … Overall, each internal identifier must be distinct from all other internal identifiers, each external method name must be distinct from all other method names, each external field name must be distinct from all other field names, and each initialization argument name must be distinct from all other initialization argument names."</text>
  </message>
  <message conversation_id="431">
    <ts>2019-04-03T14:41:44.219200</ts>
    <user>Madelaine</user>
    <text>"By default, external names have no lexical scope … The `define-local-member-name` and `define-member-name` forms introduce scoped external names."</text>
  </message>
  <message conversation_id="431">
    <ts>2019-04-03T14:43:19.219400</ts>
    <user>Madelaine</user>
    <text>(Note that it doesn't specify a predicate for its notion of "the same identifier" and "distinct" identifiers.)</text>
  </message>
  <message conversation_id="431">
    <ts>2019-04-03T14:53:47.219600</ts>
    <user>Madelaine</user>
    <text>I could see an interpretation of those passages—and I hope this is wrong, because I don't want it to work this way—to say that `(init [x 1])` is really just shorthand for `(init [(x x) 1])`. The external identifier is a reference—either to something bound in the "member namespace" or to a global, if there is no such binding—and the internal identifier identifier is a binding occurance that just happens to be symbolically the same as the external identifier. So, under this interpretation, a macro that expands to a local-member-name use is specifically referring to a "scoped external name," which _shouldn't_ refer to the symbolically-identical internal name.</text>
  </message>
  <message conversation_id="431">
    <ts>2019-04-03T15:02:31.219800</ts>
    <user>Madelaine</user>
    <text>As I said, though, I don't like this behavior. Even if this is what the documentation is telling us to expect (and it certainly isn't doing so clearly and unambiguously), I'm having a hard time coming up with a scenario when that behavior would actually be useful, where I would have liked the local-member-names-as-syntax-parameters behavior. I would support support changing this even if it were technically "breaking" behavior that the documentation had been attempting to specify, as long as nothing is actually relying on the current behavior in practice (which seems very unlikely).</text>
  </message>
  <message conversation_id="433">
    <ts>2019-04-03T15:20:40.221400</ts>
    <user>Hallie</user>
    <text>&lt;@Priscila&gt; I don't know who that guy is - but he should be writing books - I like the clarity of his writing.</text>
  </message>
  <message conversation_id="434">
    <ts>2019-04-03T16:00:03.222300</ts>
    <user>Jana</user>
    <text>:wave::skin-tone-3: anyone knows if this is possible to use `response` from `web-server/http/response-structs` in typed racket? I struggle with that…</text>
  </message>
  <message conversation_id="431">
    <ts>2019-04-03T16:04:18.223300</ts>
    <user>Madelaine</user>
    <text>&lt;@Jana&gt; I believe you would need to use `require/typed` to tell Typed Racket about its type. Have you tried that?</text>
  </message>
  <message conversation_id="434">
    <ts>2019-04-03T16:05:28.223700</ts>
    <user>Jana</user>
    <text>i tried using
```
(require/typed 'response-wrapper
                 [#:opaque response response?])
```</text>
  </message>
  <message conversation_id="434">
    <ts>2019-04-03T16:05:38.224000</ts>
    <user>Jana</user>
    <text>but this does not work as expected</text>
  </message>
  <message conversation_id="434">
    <ts>2019-04-03T16:10:30.227100</ts>
    <user>Madelaine</user>
    <text>Using `#:opaque` allows you to work with responses as opaque values. You can accept them as arguments, pass them around, and recognize them with `response`—but it doesn't tell Typed Racket how to construct responses or access their fields. To do that, you must use a `#:struct` clause with `require/typed`.</text>
  </message>
  <message conversation_id="434">
    <ts>2019-04-03T16:12:18.228300</ts>
    <user>Jana</user>
    <text>I just want to pass them through actually. Only part of my code is typed. Looking at `#:struct` :eyes: …</text>
  </message>
  <message conversation_id="431">
    <ts>2019-04-03T16:13:50.229000</ts>
    <user>Elin</user>
    <text>If you’re just passing them through, then what problem are you running into with `#:opaque`?</text>
  </message>
  <message conversation_id="434">
    <ts>2019-04-03T16:14:46.229600</ts>
    <user>Madelaine</user>
    <text>Here's a first attempt with `#:struct`:</text>
  </message>
  <message conversation_id="434">
    <ts>2019-04-03T16:20:33.233000</ts>
    <user>Madelaine</user>
    <text>```
(require/typed
 web-server/http
 [#:struct header
  ([field : Bytes]
   [value : Bytes])]
 [#:struct response
  ([code : Number]
   [message : Bytes]
   [seconds : Number]
   [mime : (U #f Bytes)]
   [headers : (Listof header)]
   [output : (-&amp;gt; Output-Port Any)])])
```
But note two issues:
1. The result of output is really `AnyValues`, but Typed Racket can't generate a contract for that. Since in practice only the library calls `output`, this isn't likely to cause problems in practice.
2. The docs say that `code` and `message` have the contract `number?`, but they should be more restrictive (e.g. `exact-positive-integer?` for code).</text>
  </message>
  <message conversation_id="434">
    <ts>2019-04-03T16:22:18.233200</ts>
    <user>Jana</user>
    <text>indeed, after some more fiddling around my signature, the error went away… :neutral_face:. I’m reloading code and had probably some stuff stuck in memory that was not correct</text>
  </message>
  <message conversation_id="434">
    <ts>2019-04-03T16:23:21.234000</ts>
    <user>Jana</user>
    <text>:thumbsup:  amazing, thanks for that :slightly_smiling_face: I’ll definitely use this as a starting point</text>
  </message>
  <message conversation_id="434">
    <ts>2019-04-03T16:24:21.235100</ts>
    <user>Jana</user>
    <text>I’m in the process of migrating a small webapp to typed racket and this is both exciting and challenging. I’m a casual racketter and my typed-racket is really :cow: for now…</text>
  </message>
  <message conversation_id="435">
    <ts>2019-04-03T17:38:40.235600</ts>
    <user>Clarinda</user>
    <text>Yes – probably not too bad, but some effort. I can add it to my list.</text>
  </message>
  <message conversation_id="435">
    <ts>2019-04-03T17:44:21.235800</ts>
    <user>Leticia</user>
    <text>That would explain the weird error messages I was getting…</text>
  </message>
  <message conversation_id="435">
    <ts>2019-04-03T17:46:03.236000</ts>
    <user>Gonzalo</user>
    <text>It’s okay, it isn’t very important. I’d like to have it, but it’s very low priority. :)</text>
  </message>
  <message conversation_id="434">
    <ts>2019-04-03T18:25:01.237200</ts>
    <user>Amira</user>
    <text>&lt;@Jana&gt; typed racket comes with types for the `header` and `response` structs. They're available by `(require typed/web-server/http)`. The docs are sparse but anyway: &lt;https://docs.racket-lang.org/ts-reference/Libraries_Provided_With_Typed_Racket.html#(mod-path._typed%2Fweb-server%2Fhttp)&gt;</text>
  </message>
  <message conversation_id="436">
    <ts>2019-04-03T21:00:54.238800</ts>
    <user>Deneen</user>
    <text>I have a semi-naive question here. I have a student who passed `(lambda (x) x)` to `local-expand` and got back `(lambda (x) x)` rather than (for example) `#%plain-lambda`.  Am I right in saying that this is because `lambda` is a core syntactic form, and so it obeys this rule in the “Expansion steps” documentation:
&amp;gt;Thus, the possibilities that do not fail lead to an identifier with a particular binding. This binding refers to one of three things:
&amp;gt; … A core syntactic form, which is parsed as described for each form in Syntactic Forms.</text>
  </message>
  <message conversation_id="436">
    <ts>2019-04-03T21:56:43.240100</ts>
    <user>Gonzalo</user>
    <text>&lt;@Deneen&gt; The devil is in the details: just because both the input and output identifiers are named `lambda` does not mean they are the _same_ `lambda`. Indeed, just because they aren’t spelled `#%plain-lambda` doesn’t mean they aren’t actually the same binding.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T21:57:29.240700</ts>
    <user>Gonzalo</user>
    <text>DrRacket can tell you what it thinks the actual binding of a syntax object is if you print it and click on the little triangle that shows up in the interactions window.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:00:00.240800</ts>
    <user>Madelaine</user>
    <text>No, it is because it says in &lt;https://docs.racket-lang.org/reference/syntax-model.html#%28part._fully-expanded%29&gt; to "Beware that the symbolic names of identifiers in a fully expanded program may not match the symbolic names in the grammar. Only the binding (according to `free-identifier=?`) matters."  You can demonstrate this with the following program:
```
#lang racket

(require syntax/parse/define)

(define-syntax-parser try-local-expand
  [(_)
   (define expanded
     (local-expand #'(lambda (x) x)
                   (syntax-local-context)
                   null))
   (syntax-parse expanded
     #:literals {#%expression #%plain-lambda}
     [(#%expression ((~and #%plain-lambda form) (:id) :id))
      (println #'form)
      #'#t]
     [_
      #'#f])])

(try-local-expand)
```
The program evaluates to `#t`, which means that the expanded identifier is `free-identifier=?` to `#%plain-lambda`, but printing it shows that it is symbolically `lambda`.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:04:01.241200</ts>
    <user>Gonzalo</user>
    <text>Here’s a screenshot from DrRacket that illustrates what I was talking about. Notice the “Identifier binding” section in the syntax info, which says that `lambda` comes from `racket/private/kw.rkt`.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:05:06.241500</ts>
    <user>Gonzalo</user>
    <text>…and here’s the `lambda` from the output. Notice that one comes from `'#%core` (exported through `'#%kernel`). Not the same binding! Just the same name.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:13:12.241800</ts>
    <user>Gonzalo</user>
    <text>I think that what you’ve said is true, and something I’d overlooked. It seems to me that `(init [x 1])` really is shorthand for `(init [(x x) 1])`. The docs seem pretty clear in that `define-local-member-name` creates lexically scoped _external_ names only.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:19:01.243000</ts>
    <user>Deneen</user>
    <text>So this is very helpful,  but I think I still have a very basic question: since the output of `local-expand` is still `(lambda (x) x)`, which syntactic case in the fully expanded racket grammar does that correspond to?</text>
  </message>
  <message conversation_id="436">
    <ts>2019-04-03T22:20:23.245100</ts>
    <user>Deneen</user>
    <text>My understanding was that `local-expand` would fully expand the syntax you give it to fully-expanded racket using the current lexical context, but I am probably being naive in just not seeing how this fits in there.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:20:42.245800</ts>
    <user>Gonzalo</user>
    <text>It’s the `#%plain-lambda` case. If you write `(free-identifier=? #'#%plain-lambda the-lambda-from-the-expansion)`, it will return `#t`. You can also print `#'#%plain-lambda` in DrRacket and it will show you the same information I showed above. You can also get it programmatically by calling `identifier-binding` on the identifier.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:20:54.246100</ts>
    <user>Deneen</user>
    <text>Ah!</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:20:56.246400</ts>
    <user>Deneen</user>
    <text>Okay!</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:21:13.247000</ts>
    <user>Gonzalo</user>
    <text>`#%plain-lambda` is just the name `#lang racket/base` exports the kernel `lambda` form under (since `racket/base` defines its own `lambda`).</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:21:22.247200</ts>
    <user>Deneen</user>
    <text>Yes, that shores up the difference and helps connect my intuition to what  you’ve said here!</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:22:01.248000</ts>
    <user>Deneen</user>
    <text>So, let’s say I wanted to walk over the result of `local-expand` using `syntax-case`. Given that the identifier could come from any number of places, what is the idiom for doing that?</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:22:36.248700</ts>
    <user>Deneen</user>
    <text>Nice! This is a good example.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:22:38.249100</ts>
    <user>Gonzalo</user>
    <text>Well, `#%plain-lambda` is the binding exported by `racket/base` that is guaranteed to refer to the kernel `lambda`, so you’d put `#%plain-lambda` in the literal list and use that in your pattern.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:22:53.249800</ts>
    <user>Deneen</user>
    <text>Ah, okay, and then it would match. I Isee.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:23:07.250500</ts>
    <user>Deneen</user>
    <text>Right, because syntax-case will  identify up to `free-identifier=?`?</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:23:14.250700</ts>
    <user>Gonzalo</user>
    <text>Yes, `syntax-case` literals match by binding, in the `free-identifier=?` sense.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:23:24.251100</ts>
    <user>Deneen</user>
    <text>Awesome. This is super helpful.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:24:05.251800</ts>
    <user>Gonzalo</user>
    <text>There’s also the `syntax/kerncase` module, which exports `(kernel-form-identifier-list)`, along with a `kernel-syntax-case` form. But you shouldn’t be using either of those things, since you should be using `syntax-parse` anyway, not `syntax-case`, which provides a `kernel-literals` literal set. :)</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:24:33.252400</ts>
    <user>Gonzalo</user>
    <text>See: &lt;https://docs.racket-lang.org/syntax/Library_Syntax_Classes_and_Literal_Sets.html#%28form._%28%28lib._syntax%2Fparse..rkt%29._kernel-literals%29%29&gt;</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:24:34.252500</ts>
    <user>Deneen</user>
    <text>Right! We are using `syntax-parse`, but I often find it’s easier to ask questions using `syntax-case`</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:27:22.254800</ts>
    <user>Gonzalo</user>
    <text>The Racket documentation follows a convention, which is that whenever an identifier’s _binding_ matters, it is typeset in blue text and is hyperlinked. Whenever an identifier is just used symbolically, it _won’t_ be blue or hyperlinked, it will just be in plain typewriter font. Furthermore, when an identifier in the documentation is hyperlinked, you can be certain that binding is exported (under that symbolic name) from the module associated with the section that documents it (i.e. is the destination of the hyperlink).</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:29:32.256100</ts>
    <user>Gonzalo</user>
    <text>For a good example of this convention in action, compare the grammar for `cond` and the grammar for `match`. In `cond`, `=&amp;gt;` and `else` are blue and hyperlinked. But in `match`, the identifiers in the pattern grammar (such as `quote`, `list`, `hash-table`, etc.) are not hyperlinked.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:30:41.257400</ts>
    <user>Gonzalo</user>
    <text>You can see this difference for yourself. Write `(define else #f)` at the top of a module, then try to use `cond` with an `else` clause. It won’t behave like `else`. Then try to write `(define list #f)` and use `match` with a `list` pattern. It will do the same thing it always does.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:31:20.258100</ts>
    <user>Gonzalo</user>
    <text>Dually, you can try `(require (rename-in racket/base [else other-else]))` compared with `(require (rename-in racket/base [list other-list]))`.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:33:58.260000</ts>
    <user>Gonzalo</user>
    <text>(A small disclaimer: this convention is only used within _grammar_ descriptions, not within uses. The mechanism that Scribble uses to typeset codeblocks and examples does not, unfortunately, understand how to distinguish the two kinds of uses, so `(match x [(quote a) #t])` will still color `quote` in blue text even though its binding is irrelevant.)</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:36:21.260400</ts>
    <user>Deneen</user>
    <text>Great! This is a really helpful nugget of knowledge.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T22:44:15.260500</ts>
    <user>Deneen</user>
    <text>Yeah, I didn’t mean to not read the documentation. I just saw that and didn’t mentally parse it since I didn’t have this in mind.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T23:04:43.262300</ts>
    <user>Deneen</user>
    <text>Okay, I think this all really helps. Does also give a lot more questions, too (like differences between `identifier-binding` and `identifier-transformer-binding`), but is helpful.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T23:07:31.262400</ts>
    <user>Deneen</user>
    <text>To summarize my high-level confusion in all of this is that--in my head--I was  identifying “symbolic name” and “binding.”</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T23:12:27.262700</ts>
    <user>Deneen</user>
    <text>Within the *implementation* of the macros themselves, what causes this difference?</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T23:14:15.263000</ts>
    <user>Deneen</user>
    <text>I  think the answer has something to do with literal sets.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T23:14:25.263200</ts>
    <user>Gonzalo</user>
    <text>I think it helps to think of the identity of a “binding” as being to “the place where the thing is defined”. Even if you `rename-in` something, it still refers to the same exact definition site.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T23:15:01.263400</ts>
    <user>Gonzalo</user>
    <text>So `free-identifier=?` is a way of asking “are these two identifiers both references to the same definition site?”</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T23:16:48.263600</ts>
    <user>Deneen</user>
    <text>Yes, that really helps, since my intuition comes from abstract interpretation and so I can connect well with that..</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T23:17:22.263800</ts>
    <user>Gonzalo</user>
    <text>In terms of `syntax-parse` features, `cond` is using `#:literals` (which matches by binding) and `match` is using `#:datum-literals` (which matches by symbolic name). In terms of lower-level concepts, `cond` is comparing identifiers for equality using `free-identifier=?`, while `match` is comparing them for equality by getting the symbols out of the syntax object wrappers using `syntax-e` and calling `eq?` on the results.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T23:18:24.264000</ts>
    <user>Deneen</user>
    <text>Okay, that is awesome. I suspected that was the case with `cond`, but I *hadn’t* heard of `#:datum-literals`</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T23:20:06.264200</ts>
    <user>Deneen</user>
    <text>Is the  reason `match` *doesn’t* use `#:literals`, just because the intention is that it is nonsensical to redefine its match patterns?</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T23:21:19.264400</ts>
    <user>Gonzalo</user>
    <text>The fact that `match` using symbolic comparisons instead of binding information is considered a bug, or at least a misfeature, but it’s hard to change now due to backwards compatibility concerns. The simplest answer to your question of “why?” is just “because it’s pretty old.”</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T23:21:41.264600</ts>
    <user>Deneen</user>
    <text>Ah, okay! Yeah that’s totally fine, I didn’t know if it was something deep that indicated a design decision  I should explore..</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T23:21:55.264800</ts>
    <user>Gonzalo</user>
    <text>Usually, you don’t want to use `#:datum-literals`. In my experience, you usually either want to use `#:literals` (for when you’re either looking at fully/partially expanded syntax, or if you’re building an extensible embedded language), or you want to use keywords. It just happens that keywords didn’t always exist in Racket, so some older things that might use keywords in modern Racket use symbols instead.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T23:22:20.265000</ts>
    <user>Deneen</user>
    <text>Okay, that historical note really helps contextualize it.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T23:22:59.265200</ts>
    <user>Gonzalo</user>
    <text>As it happens, though, `match` _isn’t_ a place where keywords make sense, since the `match` pattern language _is_ extensible. And as soon as you need extensibility, you need to distinguish identifiers by binding, since binding is the thing that lets users add _new_ terms to an existing language.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T23:24:55.265500</ts>
    <user>Deneen</user>
    <text>Right!</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T23:25:08.265700</ts>
    <user>Gonzalo</user>
    <text>A good example of this in practice is `syntax-parse` itself. Its pattern language uses identifiers, such as `~and`, `~do`, `~optional`, and `~parse`, and those are recognized by their binding. However, its “directive” language uses keywords, such as `#:and`, `#:do`, and `#:parse`. Its pattern language is extensible, but its directive language is not.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T23:27:38.265900</ts>
    <user>Deneen</user>
    <text>Yeah, that’s a great example.</text>
  </message>
  <message conversation_id="437">
    <ts>2019-04-03T23:27:44.266100</ts>
    <user>Gonzalo</user>
    <text>I believe there’s some relatively recent record of Matthew saying something along the lines of “`cond` should have used `#:else` instead of `else`”, since it isn’t an extensible place, but I don’t remember off the top of my head where it was from. So it’s a good rule of thumb, but note that some forms in Racket don’t follow the rule because they are old and possibly from Scheme. (Keywords are especially good in non-extensible locations because they are in a distinct syntactic category from expressions, unlike in many other languages with keywords, where keywords are “self-quoting”.)</text>
  </message>
  <message conversation_id="438">
    <ts>2019-04-04T05:11:42.266900</ts>
    <user>Jana</user>
    <text>wow, thanks!</text>
  </message>
  <message conversation_id="438">
    <ts>2019-04-04T05:12:01.267100</ts>
    <user>Jana</user>
    <text>(although nw, my server side code is untyped, keeping the bookmark around)</text>
  </message>
  <message conversation_id="438">
    <ts>2019-04-04T05:12:05.267300</ts>
    <user>Jana</user>
    <text>:bow:</text>
  </message>
  <message conversation_id="439">
    <ts>2019-04-04T08:05:21.269200</ts>
    <user>Loma</user>
    <text>Is there a way to add numbered captions (or ‘counters’) with a frame to the source code (using `codeblock`) in scribble? (The effects I want is just like the picture shown below)</text>
  </message>
  <message conversation_id="439">
    <ts>2019-04-04T08:08:21.270100</ts>
    <user>Kami</user>
    <text>I guess you could wrap the codeblock call in your own function with a counter in scope</text>
  </message>
  <message conversation_id="439">
    <ts>2019-04-04T08:09:37.271400</ts>
    <user>Shavon</user>
    <text>&lt;@Loma&gt; i think what &lt;@Kami&gt; is getting to is that it's possible but you don't get it out of the box.</text>
  </message>
  <message conversation_id="439">
    <ts>2019-04-04T08:10:56.273100</ts>
    <user>Loma</user>
    <text>Yes I see. I just thought there might be some high level API that gave me this ability.</text>
  </message>
  <message conversation_id="439">
    <ts>2019-04-04T08:12:17.274400</ts>
    <user>Shavon</user>
    <text>&lt;@Loma&gt; wish there was. I think everyone has their own features for their scribble documents - some have made it into pkgs but there has not been, afaik, a concerted effort to have a scribble-extras library to do these things.</text>
  </message>
  <message conversation_id="439">
    <ts>2019-04-04T08:15:19.275300</ts>
    <user>Kami</user>
    <text>Something like this (except I don't remember the exact use for codeblock, this might be wrong but you get the idea):
```
(define numbered-codeblock
  (let ([counter 0])
    (lambda (title code-text)
      (set! counter (add1 counter))
      (codeblock
        #:title (format "Listing ~a: ~a" counter title)
        code-text))))
```</text>
  </message>
  <message conversation_id="439">
    <ts>2019-04-04T08:17:48.276700</ts>
    <user>Kami</user>
    <text>Obviously, if such feature is really interesting to a lot of people, somebody can make a Pull Request and add it to the standard, but as &lt;@Shavon&gt; said, a `scribble-extra` lib might be a good experimenting ground too!</text>
  </message>
  <message conversation_id="439">
    <ts>2019-04-04T08:20:08.277700</ts>
    <user>Loma</user>
    <text>Appreciate for your detailed source!</text>
  </message>
  <message conversation_id="439">
    <ts>2019-04-04T08:23:51.278000</ts>
    <user>Kami</user>
    <text>You're welcome :slightly_smiling_face: It's obviously going to crash as codeblock is not used like this, but anyways...</text>
  </message>
  <message conversation_id="439">
    <ts>2019-04-04T08:28:35.279900</ts>
    <user>Kami</user>
    <text>Also, my code is a global state. Using the function in different scribble modules is gonna continue counting up from where it was in the previous document. If one needs a *per-document* counter, we need to make something a bit more complex, I guess with a `syntax-parameter`.</text>
  </message>
  <message conversation_id="439">
    <ts>2019-04-04T10:07:35.280200</ts>
    <user>Kristeen</user>
    <text>You should copy this conversation into a blog post</text>
  </message>
  <message conversation_id="439">
    <ts>2019-04-04T10:26:57.280400</ts>
    <user>Deneen</user>
    <text>Agreed! I started taking down some notes  but there  are enough questions I still have at the boundary that it would take some time to absorb.</text>
  </message>
  <message conversation_id="439">
    <ts>2019-04-04T10:27:25.280600</ts>
    <user>Kristeen</user>
    <text>Really I think just copy-and-paste would make an illuminating post</text>
  </message>
  <message conversation_id="440">
    <ts>2019-04-04T10:48:55.282200</ts>
    <user>Gonzalo</user>
    <text>I realized I never answered this. identifier-transformer-binding is just identifier-binding at phase 1 (rather than phase 0).</text>
  </message>
  <message conversation_id="440">
    <ts>2019-04-04T10:50:13.282400</ts>
    <user>Deneen</user>
    <text>Yeah! I saw this last night. I only have vague intuition about phases as “eh, they stratify expansion  passes.” As you know (for anyone following along) there’s really readable documentation here: &lt;https://docs.racket-lang.org/guide/phases.html&gt;</text>
  </message>
  <message conversation_id="440">
    <ts>2019-04-04T11:04:11.282600</ts>
    <user>Deneen</user>
    <text>I’m working on this along with annotating it with some more examples</text>
  </message>
  <message conversation_id="441">
    <ts>2019-04-04T13:45:56.282800</ts>
    <user>Madelaine</user>
    <text>FYI (with thanks to &lt;@Amira&gt; for bringing the existence of `typed/web-server/http` to my attention), some of its types were out-of-date, particularly for cookie-related functions. I've made updates in &lt;https://github.com/racket/typed-racket/pull/817&gt;</text>
  </message>
  <message conversation_id="442">
    <ts>2019-04-04T14:39:55.283600</ts>
    <user>Deneen</user>
    <text>Also, apparently I didn’t read this:
&amp;gt;  More specifically, the typesetting of identifiers in the above grammar is significant. For example, the second case for expr is a syntax-object list whose first element is an identifier, where the identifier’s lexical information specifies a binding to the #%plain-lambda of the racket/base language (i.e., the identifier is free-identifier=? to one whose binding is #%plain-lambda).</text>
  </message>
  <message conversation_id="440">
    <ts>2019-04-04T16:53:36.285000</ts>
    <user>Deneen</user>
    <text>One thing I wish I could assemble would be a systematic history of the development of the Racket macro system (dating back to Scheme, I suppose) with each different feature in boxes and links to the corresponding mailing list posts, papers, blog posts, commits, etc…</text>
  </message>
  <message conversation_id="441">
    <ts>2019-04-05T01:00:59.288000</ts>
    <user>Michelina</user>
    <text>&lt;@Madelaine&gt; ack, I fell behind with your work in web-server -- I made some changes to the various response-generating functions, too (not the same as your changes) and ran into conflicts</text>
  </message>
  <message conversation_id="441">
    <ts>2019-04-05T01:04:21.288200</ts>
    <user>Michelina</user>
    <text>&lt;https://github.com/racket/web-server/pull/62&gt;</text>
  </message>
  <message conversation_id="443">
    <ts>2019-04-05T09:03:10.289200</ts>
    <user>Tomas</user>
    <text>No teapot? &lt;https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/418&gt;</text>
  </message>
  <message conversation_id="444">
    <ts>2019-04-05T11:15:22.290500</ts>
    <user>Kristeen</user>
    <text>&lt;@Shavon&gt; what's the easiest way to replicate the bug in #2018?</text>
  </message>
  <message conversation_id="444">
    <ts>2019-04-05T11:16:59.291200</ts>
    <user>Shavon</user>
    <text>Unfortunately there's no *easy* way unless you have hardware access. Do you have access to any non intel hardware?</text>
  </message>
  <message conversation_id="444">
    <ts>2019-04-05T11:18:36.291800</ts>
    <user>Shavon</user>
    <text>Alternatively you can setup a qemu environment. I can help with that.</text>
  </message>
  <message conversation_id="444">
    <ts>2019-04-05T11:19:22.292400</ts>
    <user>Shavon</user>
    <text>For that you'd probably need access to linux or linux through docker.</text>
  </message>
  <message conversation_id="444">
    <ts>2019-04-05T11:20:40.292600</ts>
    <user>Shavon</user>
    <text>&lt;@Kristeen&gt; ^^^</text>
  </message>
  <message conversation_id="444">
    <ts>2019-04-05T11:21:26.293400</ts>
    <user>Shavon</user>
    <text>It's almost dinner time around here so I will soon have to go feed the children but when I come back we get repro this together.</text>
  </message>
  <message conversation_id="444">
    <ts>2019-04-05T11:29:31.293600</ts>
    <user>Kristeen</user>
    <text>linux is not a problem :slightly_smiling_face:</text>
  </message>
  <message conversation_id="444">
    <ts>2019-04-05T11:29:47.293900</ts>
    <user>Kristeen</user>
    <text>I don't have any non-intel hardware</text>
  </message>
  <message conversation_id="444">
    <ts>2019-04-05T11:50:27.294000</ts>
    <user>Julia</user>
    <text>Also the correct response text is "OK" not "Okay" and I am willing to die on that hill. :smile:</text>
  </message>
  <message conversation_id="444">
    <ts>2019-04-05T11:50:59.294200</ts>
    <user>Julia</user>
    <text>So I like that part.</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T12:53:36.295200</ts>
    <user>Marcelina</user>
    <text>Does anyone know why this program actually works?:

```
#lang racket

(module* editor racket
  (require syntax/location)
  (define this-ns (current-namespace))
  (define ns (make-base-namespace))
  (parameterize ([current-namespace ns])
    (namespace-attach-module-declaration this-ns (quote-module-path ".." foo))
    (namespace-require/expansion-time (quote-module-path ".." foo))
    (eval 'y)))

(module* foo racket
  (define y (let () 8))
  (provide y))
```</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T12:53:58.295600</ts>
    <user>Marcelina</user>
    <text>Especially since this one doesn't (which is what I would have expected):

```
#lang racket

(module* editor racket
  (require syntax/location)
  (define this-ns (current-namespace))
  (define ns (make-base-namespace))
  (parameterize ([current-namespace ns])
    (namespace-attach-module-declaration this-ns (quote-module-path ".." foo))
    (namespace-require/expansion-time (quote-module-path ".." foo))
    (eval 'y)))

(module* foo racket
  (define y (let () (writeln "running") 8))
  (provide y))
```</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T12:55:05.296200</ts>
    <user>Marcelina</user>
    <text>The difference being the second to last line `(define y (let () 8)` vs `(let () (writeln "running") 8)`.</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T12:55:26.296700</ts>
    <user>Marcelina</user>
    <text>About the only thing I was able to come up with was that it was the result of a compiler optimization?</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T12:56:41.297900</ts>
    <user>Priscila</user>
    <text>If so have you tried on both normal Racket and on Racket-on-Chez?</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T12:58:48.298700</ts>
    <user>Priscila</user>
    <text>Also what expression do I use to see the problem?</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:01:13.299700</ts>
    <user>Marcelina</user>
    <text>&lt;@Priscila&gt; I don't currently have a racket-on-chez build running on my system. But I _have_ tried it with older versions of racket to the sameresults.</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:01:38.300400</ts>
    <user>Marcelina</user>
    <text>Umm...in the repl you could run: `(require (submod "&amp;lt;filename.rkt&amp;gt;" editor))`</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:01:51.300800</ts>
    <user>Marcelina</user>
    <text>Which should run the editor submodule.</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:04:04.301200</ts>
    <user>Priscila</user>
    <text>Does it help if you give `eval` an explicit namespace?</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:05:33.302100</ts>
    <user>Priscila</user>
    <text>Hmm - the evaluated expression is just a reference. How can that go wrong?!?</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:07:00.303700</ts>
    <user>Priscila</user>
    <text>Does  `(namespace-require/expansion-time (quote-module-path ".." foo))` mean you are only attaching the module at phase 1 -</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:07:09.304000</ts>
    <user>Priscila</user>
    <text>and the evaluation takes place at phase 0?</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:07:30.304200</ts>
    <user>Marcelina</user>
    <text>&lt;@Priscila&gt; So, if you don't give `eval` a namespace, it defaults to `current-namespace`, which I set explicitly to a new base namespace.</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:08:25.305000</ts>
    <user>Marcelina</user>
    <text>Also yes, `namespace-require/expansion-time` only visits the module, not instantiate it. (I might have that backwards...but yes, it only runs the phase 1 stuffs.)</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:08:42.305500</ts>
    <user>Priscila</user>
    <text>Now I get why you are surprised the first program works.</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:09:05.306100</ts>
    <user>Marcelina</user>
    <text>Ya, basically. I suspect &lt;@Clarinda&gt; might know something.</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:09:22.306600</ts>
    <user>Marcelina</user>
    <text>If you have a racket-on-chez build on your current system, wanna see what it does?</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:10:14.307100</ts>
    <user>Priscila</user>
    <text>Haven't yet - but this is a nice excuse to install it.</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:13:09.307500</ts>
    <user>Marcelina</user>
    <text>Oh. You can install it these days without compiling it yourself?</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:13:12.307700</ts>
    <user>Marcelina</user>
    <text>That's pretty cool.</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:19:56.308800</ts>
    <user>Marcelina</user>
    <text>I mean, its certainly 'related' to compiler optimizations. (Given that `(let () 8)` can be easily compiled to just `8`...(at least in this context), but the real question is why are constants run...</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:24:24.309700</ts>
    <user>Priscila</user>
    <text>(define y (begin 1 2))</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:24:27.309900</ts>
    <user>Priscila</user>
    <text>works fine</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:25:24.310300</ts>
    <user>Marcelina</user>
    <text>Yup. Because that get's compiled to `(define-values (x) 2)`</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:25:31.310600</ts>
    <user>Marcelina</user>
    <text>(Which you can test by using `raco decompile`</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:26:18.311100</ts>
    <user>Marcelina</user>
    <text>Basically:

```
(module simp racket
  (#%plain-module-begin
   (define x (begin 1 2))))
```</text>
  </message>
  <message conversation_id="445">
    <ts>2019-04-05T13:26:33.311300</ts>
    <user>Marcelina</user>
    <text>```
$ raco make simp.rkt &amp;amp;&amp;amp; raco decompile simp.rkt
(module simp ....
  (require (lib "racket/main.rkt"))
  (provide)
  (define-values (x) '2)
  (void))
```</text>
  </message>
  <message conversation_id="446">
    <ts>2019-04-05T14:27:41.311600</ts>
    <user>Karen</user>
    <text>I think http/2 doesn't even send the status message</text>
  </message>
  <message conversation_id="447">
    <ts>2019-04-06T07:23:57.317900</ts>
    <user>Keturah</user>
    <text>I am mentoring the Racket track at &lt;http://exercism.io&gt;. I am working with a student to solve this problem, described here &lt;https://github.com/exercism/racket/tree/master/exercises/collatz-conjecture&gt;. Here is how I'd solve the problem: &lt;https://github.com/timotheosh/exercism-exercises/blob/master/racket/collatz-conjecture/collatz-conjecture.rkt&gt;

My student first submitted a solution similar to mine, but then thought this is better:
``` 
(define (collatz n)
  (let/ec return
    (for/fold ([num n])
              ([steps (in-naturals)])     
      (cond [(= num 1) (return steps)]
            [(even? num) (quotient num 2)]
            [else (add1 (* num 3))]))))
```
My initial thought is that this code is less clear (maybe that has more to do with my own lack of familiarity with continuations?). Is this a good solution?

My view may also be tainted from this article: &lt;http://okmij.org/ftp/continuations/against-callcc.html&gt;

I understand that `call/cc` is not the same as `call/ec` or `let/ec`, but it still seems, to me, that this is overkill for the problem. Am I wrong in thinking this?</text>
  </message>
  <message conversation_id="447">
    <ts>2019-04-06T08:44:12.324700</ts>
    <user>Mai</user>
    <text>IMO, it’s less clear for sure. It’s also less performant than the straightforward implementation that didn’t use all these fancy features:

```
(define (collatz n)
  (let loop ([n n] [steps 0])
    (cond
      [(= n 1) steps]
      [(even? n) (loop (quotient n 2) (add1 steps))]
      [else (loop (add1 (* n 3)) (add1 steps))])))
```

Re: continuation, I would use it only when the alternative solutions require significant code restructuring that I feel it’s not worth making the changes.</text>
  </message>
  <message conversation_id="446">
    <ts>2019-04-06T10:40:00.324800</ts>
    <user>Lillian</user>
    <text>Since the Collatz problem is limited to positive integers, another improvement is to avoid `/` and `quotient`, because you can divide by 2 with `arithmetic-shift`:
```
(define (collatz-faster number)
  (let loop ([number number][step-count 0])
    (cond
      [(= number 1)  step-count]
      [else (loop (if (even? number)
                      (arithmetic-shift number -1)
                      (add1 (* number 3))) (add1 step-count))])))
```</text>
  </message>
  <message conversation_id="448">
    <ts>2019-04-06T11:45:33.328400</ts>
    <user>Kami</user>
    <text>Hello Racketeers! When I want to assign a syntax-class to a syntax identifier, I can use `(~var my-element my-class)`. If I want to access an attribute of that class, I can use `(attribute my-element.my-attr)`. But is there another way, without using the dot notation? Something like `(~attribute my-element my-attr)`? The thing is, I'm constructing a macro from a macro, so I don't know the identifier's exact name, it's inside a syntax variable.</text>
  </message>
  <message conversation_id="448">
    <ts>2019-04-06T11:46:47.329500</ts>
    <user>Kami</user>
    <text>Right now I'm using `(format-id #'my-element "~a.my-attr" #'my-element)` to artificially create the dot notation, but I feel it's a bit hacky.</text>
  </message>
  <message conversation_id="449">
    <ts>2019-04-06T12:44:45.331300</ts>
    <user>Elin</user>
    <text>That’s what I’ve done, but you’re right, it would be much more convenient for macro-generating macros to be able to do something like `(~dot my-element my-attr)`.</text>
  </message>
  <message conversation_id="449">
    <ts>2019-04-06T12:53:29.332700</ts>
    <user>Elin</user>
    <text>Maybe you can define `~dot` as a template-metafunction:
```
#lang racket/base
(require racket/syntax
         racket/string
         syntax/parse
         syntax/parse/experimental/template)

(define-template-metafunction ~dot
  (lambda (stx)
    (syntax-parse stx
      [(_ x:id y:id ...)
       (format-id #'x "~a~a" #'x
                  (string-append*
                   (for/list ([y (in-list (attribute y))])
                     (format ".~s" (syntax-e y))))
                  #:source stx
                  #:props stx)])))
```
Using it to generate a nested attribute name:
```
(syntax-parse #'(m my-element my-attr)
  [(m elem attr)
   #'(attribute {~dot elem attr})])
```
Using it with ellipses for multiple nested attributes:
```
(syntax-parse #'(m my-element my-attr1 my-attr2 my-attr3)
  [(m elem attr ...)
   #'(begin (define {~dot elem attr} 43) ...)])
```</text>
  </message>
  <message conversation_id="448">
    <ts>2019-04-06T12:58:05.333800</ts>
    <user>Kami</user>
    <text>&lt;@Elin&gt; As usual, you're my savior :wink: Thanks for that piece of code! I guess it would make a good PR!</text>
  </message>
  <message conversation_id="448">
    <ts>2019-04-06T12:59:15.334400</ts>
    <user>Kami</user>
    <text>I never made template metafunctions before. It looks powerful but I guess a bit hard for the brain at times...</text>
  </message>
  <message conversation_id="449">
    <ts>2019-04-06T14:17:39.335800</ts>
    <user>Elin</user>
    <text>Would this be the best way to do it? &lt;https://github.com/AlexKnauth/racket/commit/389aea4eff6b6274c17512db813ed1f664ac3096&gt;</text>
  </message>
  <message conversation_id="448">
    <ts>2019-04-06T14:36:57.336600</ts>
    <user>Kami</user>
    <text>Looks good to me. I don't know why you're checking identifiers this way though. Was there a catch using `:id` ?</text>
  </message>
  <message conversation_id="449">
    <ts>2019-04-06T15:02:51.337400</ts>
    <user>Elin</user>
    <text>`syntax/parse` wasn’t already imported into `syntax/parse/experimental/template`, and I didn’t want to change that</text>
  </message>
  <message conversation_id="448">
    <ts>2019-04-06T15:10:25.337700</ts>
    <user>Kami</user>
    <text>Makes sense</text>
  </message>
  <message conversation_id="450">
    <ts>2019-04-06T15:11:35.337800</ts>
    <user>Eileen</user>
    <text>Technically Racket doesn't have undelimited continuations.</text>
  </message>
  <message conversation_id="450">
    <ts>2019-04-06T15:31:55.338000</ts>
    <user>Eileen</user>
    <text>Using `let/ec` is more of an imperative style for sure.  I feel in a majority of cases where iteration is occurring you should try and use the `for` family of macros.

For this specific case where you are returning the number of steps and not something out of the accumulator `let/ec` seems to be the cleanest way to write it using `for/fold`, unless you make a copy of the `steps` in the accumulator which would add some messiness.</text>
  </message>
  <message conversation_id="448">
    <ts>2019-04-07T08:22:46.341400</ts>
    <user>Kami</user>
    <text>I'm generating a macro which has some parts that, sometimes, need to match nothing (it's inside an `~alt` sequence, and I want some of the alternatives to never match). The best way would be to generate no code at all, but it's really difficult to handle syntax attributes with a #f value (need to add `~?` everywhere), so I decided to take a simpler approach and generate a pattern that will match nothing. I ended up with `(~not (~or x:expr x:keyword))`, which works like a charm. Any idea about a better way to do this?</text>
  </message>
  <message conversation_id="448">
    <ts>2019-04-07T08:25:48.343200</ts>
    <user>Kami</user>
    <text>In other words, I'd like to generate a syntax object that has no effect at all and will be ignored (but can still be passed around so that the information that this particular piece of syntax should match nothing is not lost)</text>
  </message>
  <message conversation_id="448">
    <ts>2019-04-07T08:28:32.344300</ts>
    <user>Kami</user>
    <text>First thing I tried was `(~seq)`, but I'm not in a head-pattern (`(~alt (~seq))` does not work)</text>
  </message>
  <message conversation_id="448">
    <ts>2019-04-07T08:31:48.345100</ts>
    <user>Kami</user>
    <text>I guess the experimental templates could help me with that, but I didn't try them yet</text>
  </message>
  <message conversation_id="448">
    <ts>2019-04-07T08:34:51.347900</ts>
    <user>Kami</user>
    <text>What I wanna do:
Let's say I have a syntax list with patterns, and sometimes `#f` values: `(define elements (quote-syntax ((~optional x) (~once y) #f (~once z) #f)))`
I'd like to do something like `(~alt (~@ . elements))` that would ignore `#f` values.</text>
  </message>
  <message conversation_id="448">
    <ts>2019-04-07T08:37:04.348800</ts>
    <user>Kami</user>
    <text>My temporary solution is to replace `#f` with `(~not (~or x:expr x:keyword))`:
`(define elements (quote-syntax ((~optional x) (~once y) (~not (~or x:expr x:keyword)) (~once z) (~not (~or x:expr x:keyword)))))`</text>
  </message>
  <message conversation_id="448">
    <ts>2019-04-07T08:37:42.349200</ts>
    <user>Kami</user>
    <text>Which is not what I would call "elegant"</text>
  </message>
  <message conversation_id="448">
    <ts>2019-04-07T08:40:24.350600</ts>
    <user>Kami</user>
    <text>I guess another way would be to filter out the falsy values, but that's inconvenient</text>
  </message>
  <message conversation_id="451">
    <ts>2019-04-07T09:08:57.351700</ts>
    <user>Elin</user>
    <text>Match nothing, like `{~not _}` or `{~or*}` or  `{~fail #:when #t}` or `{~between _ 0 0}` in an EH-pat position?</text>
  </message>
  <message conversation_id="448">
    <ts>2019-04-07T09:12:58.352400</ts>
    <user>Kami</user>
    <text>`(~not _)` works perfectly! I should have thought about that :slightly_smiling_face:</text>
  </message>
  <message conversation_id="452">
    <ts>2019-04-07T21:18:42.355700</ts>
    <user>Loma</user>
    <text>I thought `@tt` would be interpreted same as `\texttt`, but it turns out not true: my scribble code `@tt{set!}` becomes `\Scribtexttt{set{\hbox{\texttt{!}}}}` in the generated tex file. Why there is a `\hbox` whenever I use a symbol `?` or `!`?</text>
  </message>
  <message conversation_id="448">
    <ts>2019-04-07T23:06:04.356500</ts>
    <user>Gonzalo</user>
    <text>&lt;@Kami&gt; I’m not sure I’m totally understanding what you’re trying to do, but `{~fail}` is a pattern that always backtracks.</text>
  </message>
  <message conversation_id="452">
    <ts>2019-04-08T00:47:28.358000</ts>
    <user>Priscila</user>
    <text>&lt;@Loma&gt; Not 100% sure, but my guess is that LaTeX might be tempted to insert a line and/or space between `set` and `!` if the `hbox` is not there.</text>
  </message>
  <message conversation_id="453">
    <ts>2019-04-08T03:09:39.358500</ts>
    <user>Shavon</user>
    <text>&lt;@Kristeen&gt; let me know when you are around. I found a way for you to repro 2018 easily. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="448">
    <ts>2019-04-08T04:38:18.358600</ts>
    <user>Kami</user>
    <text>In fact, I don't really want to backtrack, I'm just generating a macro, but some patterns of the macro should be ignored and match nothing. The best way would be to have a non-syntax value (say, `#f`) that means "don't generate code here", but handling syntax attributes with non-syntax values is hard and makes the macro difficult to read, because you need to add `~?` calls everywhere to protect from those `#f` values. It becomes especially unhandy when you have ellipsis patterns. I have enough `(~? (~@ . (element ...)))` in my code already.</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T07:32:04.358800</ts>
    <user>Elin</user>
    <text>Oh, right, the `{~fail #:when #t}` is unnecessary just `{~fail}` is fine</text>
  </message>
  <message conversation_id="452">
    <ts>2019-04-08T07:55:57.359400</ts>
    <user>Loma</user>
    <text>Thanks, I will test them out later</text>
  </message>
  <message conversation_id="453">
    <ts>2019-04-08T09:29:13.359900</ts>
    <user>Kristeen</user>
    <text>around now</text>
  </message>
  <message conversation_id="453">
    <ts>2019-04-08T09:36:36.360100</ts>
    <user>Shavon</user>
    <text>I haven't gotten around to writing all the details of running 2018 under qemu (which is basically what's done with the `racket/.gitlab` shell script - but for your specific environment). I have however managed to rent an aarch64 machine so I can run this on the real deal. If you want to reproduce it, I can give you access. I need to send you a  key. One second.</text>
  </message>
  <message conversation_id="453">
    <ts>2019-04-08T09:38:04.360300</ts>
    <user>Kristeen</user>
    <text>I see it, but I may try on qemu first</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T10:55:02.365300</ts>
    <user>Gonzalo</user>
    <text>&lt;@Kami&gt; I’m a little confused. If you want a pattern that matches nothing successfully, you can use `{~and}`, `{~do}`, or `{~bind}`. If you want a pattern that matches nothing unsuccessfully, you can use `{~fail}`. Your solution, `{~not _}`, is of the latter type, so I would think you’d want something like `{~fail}`.</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T10:57:07.365500</ts>
    <user>Kami</user>
    <text>I'm using `(~alt pattern1 pattern2 (~not _) pattern3 (~not _) ...etc)` which allows me to accept everything that matches the defined alternatives, and reject all the rest.</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T10:58:47.367700</ts>
    <user>Gonzalo</user>
    <text>You could just use `{~fail}` there, and it would do the same thing. Both of them will cause the parser to backtrack to the nearest choice point, which in this case will just try the next option in the `~alt`.</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T10:58:58.367900</ts>
    <user>Kami</user>
    <text>Ok, I see!</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T10:59:28.368100</ts>
    <user>Kami</user>
    <text>I didn't knew exactly how ~alt worked inside.</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T10:59:57.369000</ts>
    <user>Kami</user>
    <text>Well `(~fail)` will allow to put an error message, so that's better! Thanks!</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T11:01:41.371400</ts>
    <user>Gonzalo</user>
    <text>syntax/parse is fully backtracking unless you explicitly cut using `~!`, so every parser that can match in multiple ways (i.e. anything that uses `~alt` or `~or*`) will exhaustively try every option before the parse fails.</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T11:02:28.372700</ts>
    <user>Gonzalo</user>
    <text>There isn’t any difference between two kinds of failure in syntax/parse, except for error reporting purposes if all branches fail.</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T11:02:41.372900</ts>
    <user>Kami</user>
    <text>Wow, that clarifies a lot of assumptions I had about syntax/parse.</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T11:04:21.375000</ts>
    <user>Gonzalo</user>
    <text>The full backtracking by default is very useful, but often it isn’t really what you mean, so putting `~!` and/or `~commit` in the right places can dramatically improve your macro’s error messages.</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T11:05:18.375900</ts>
    <user>Kami</user>
    <text>I didn't get to use `~!` yet, but I guess it'll come handy when I start having explicit error messages everywhere in my macros.</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T11:05:34.376400</ts>
    <user>Gonzalo</user>
    <text>The `#:commit` option for syntax classes is also extremely useful, and I find it is usually what you want.</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T11:10:44.376600</ts>
    <user>Kami</user>
    <text>I'll check them out, thanks!
Also, if you wonder what I'm working on to have such issues, the code is there: &lt;https://github.com/euhmeuh/rilouworld/blob/master/private/bundle/expander.rkt&gt;</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T11:12:11.377100</ts>
    <user>Kami</user>
    <text>It's only 200 lines long, with the tests, but it's pretty dense, at least for me.</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T11:24:52.379800</ts>
    <user>Kami</user>
    <text>&lt;@Gonzalo&gt; There's one thing I don't quite get though: When using `(~alt (~optional &amp;lt;foo&amp;gt;) &amp;lt;bar&amp;gt;) ...`, the ellipsis is "eaten" by the `~optional` clause. I can refer to `&amp;lt;foo&amp;gt;` without using the triple-dots, while `&amp;lt;bar&amp;gt;` requires them. Do you know how the ellipsis gets "assimilated" like that? I'm just being curious.</text>
  </message>
  <message conversation_id="455">
    <ts>2019-04-08T11:36:53.380600</ts>
    <user>Elin</user>
    <text>A simpler example of this “eating ellipses” behavior also happens with `~once`.</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T11:42:36.381600</ts>
    <user>Kami</user>
    <text>I didn't check the implementation code, but I suppose it eats up the depth of its arguments or something</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T11:44:11.382900</ts>
    <user>Elin</user>
    <text>I would play around with using `({~alt {~once pat1} {~once pat2} etc.} ...)` and use that for a `list-no-order`-like pattern</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T11:47:18.383600</ts>
    <user>Kami</user>
    <text>Yeah that's what I'm doing. I understand how it works and what it does. I just wonder what happens under the hood.</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T11:47:49.384100</ts>
    <user>Kami</user>
    <text>I'd say a construction from primitives like ~or</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T11:48:30.384700</ts>
    <user>Kami</user>
    <text>But I'm just to lazy to check the code :stuck_out_tongue:</text>
  </message>
  <message conversation_id="454">
    <ts>2019-04-08T12:47:40.386100</ts>
    <user>Gonzalo</user>
    <text>&lt;@Kami&gt; Ellipsis-head patterns are special. You should think of `~alt` + `~optional`/`~once`/`~between` as being sort of a single syntactic form, not two separate patterns nested inside one another.</text>
  </message>
  <message conversation_id="456">
    <ts>2019-04-08T12:48:45.387300</ts>
    <user>Gonzalo</user>
    <text>Essentially, ellipsis-head patterns are designed to handle common scenarios of parsing “options” in macros, where certain options may appear at most once, but can appear in any order.</text>
  </message>
  <message conversation_id="456">
    <ts>2019-04-08T12:50:02.388200</ts>
    <user>Gonzalo</user>
    <text>So when you use `~once`, that is saying to syntax/parse “for this particular `~alt` sequence, this particular pattern needs to parse exactly once, but it can appear anywhere in that sequence”.</text>
  </message>
  <message conversation_id="456">
    <ts>2019-04-08T12:51:01.388800</ts>
    <user>Gonzalo</user>
    <text>So `~once` and `~alt` cooperate with one another. They aren’t really separable.</text>
  </message>
  <message conversation_id="456">
    <ts>2019-04-08T12:51:38.389200</ts>
    <user>Gonzalo</user>
    <text>`~optional` is just like `~once`, but it can also parse zero times.</text>
  </message>
  <message conversation_id="456">
    <ts>2019-04-08T12:59:32.393600</ts>
    <user>Gonzalo</user>
    <text>By the way, it is possible to make `~optional` not “eat” the ellipsis by putting it into a context where it is parsed as a head pattern instead of an ellipsis-head pattern. So, for example, if you were to write `{~alt {~seq {~optional &amp;lt;foo&amp;gt;}}} ...`, then `&amp;lt;foo&amp;gt;` would be bound with ellipsis depth 1. But this parser is essentially guaranteed to be a bug, since `{~seq {~optional &amp;lt;foo&amp;gt;}}` is an ellipsis-head pattern that can match no terms. In theory, such a pattern could cause parsing to never terminate, in the same way that `#px"()*"` will never terminate because it will match the empty term forever. But syntax/parse helpfully makes it a runtime error for an ellipsis-head pattern to match nothing, so at least your program just crashes instead. :)</text>
  </message>
  <message conversation_id="456">
    <ts>2019-04-08T13:00:24.394300</ts>
    <user>Gonzalo</user>
    <text>(Though I think Racket actually makes `#px"()*"` an error, too, so similar idea.)</text>
  </message>
  <message conversation_id="456">
    <ts>2019-04-08T13:01:39.395600</ts>
    <user>Gonzalo</user>
    <text>In any case, the `~optional` isn’t actually helpful there, since you could just write `{~alt &amp;lt;foo&amp;gt;} ...` and get the behavior you probably actually wanted, since the `{~alt ....}` already includes the notion that the match might not succeed, and it should try one of the other branches, instead.</text>
  </message>
  <message conversation_id="457">
    <ts>2019-04-08T16:27:24.397000</ts>
    <user>Kami</user>
    <text>Thanks for that complete explanation! In fact, I need the `(~optional)` in my cases because I want the term to be present only once or never. But I get what you're saying :slightly_smiling_face:</text>
  </message>
  <message conversation_id="456">
    <ts>2019-04-08T16:31:25.397900</ts>
    <user>Julia</user>
    <text>&lt;@Kristeen&gt; &lt;@Boris&gt; Travis is stuck on a couple build jobs so I tried directly locally and &lt;https://mirror.racket-lang.org/&gt; seems not able to connect (same w/o TLS)</text>
  </message>
  <message conversation_id="457">
    <ts>2019-04-08T16:31:53.398100</ts>
    <user>Kristeen</user>
    <text>&lt;@Merna&gt; are you around?</text>
  </message>
  <message conversation_id="457">
    <ts>2019-04-08T16:59:07.398400</ts>
    <user>Merna</user>
    <text>I'm here, yes. I'm teaching in five minutes, though.</text>
  </message>
  <message conversation_id="457">
    <ts>2019-04-08T17:00:35.399800</ts>
    <user>Merna</user>
    <text>I've been waiting for all Hell to break loose on this part of the build process, so I won't be surprised by things going wrong. I'm also unable to ssh to winooski right now, though I thought it might be a fail2ban issue.</text>
  </message>
  <message conversation_id="457">
    <ts>2019-04-08T17:02:43.401200</ts>
    <user>Merna</user>
    <text>&lt;@Julia&gt; Greg, are you saying that you're not able to connect to mirror.racket-lang? If so, I agree. &lt;@Kristeen&gt;, is mirror hosted by winooski? Also, happy to take this to DM.</text>
  </message>
  <message conversation_id="457">
    <ts>2019-04-08T17:03:59.401500</ts>
    <user>Kristeen</user>
    <text>&lt;@Merna&gt; yes, mirror is winooski</text>
  </message>
  <message conversation_id="457">
    <ts>2019-04-08T17:04:15.401900</ts>
    <user>Kristeen</user>
    <text>and I was assuming based on the date that the build process had crashed it</text>
  </message>
  <message conversation_id="457">
    <ts>2019-04-08T17:05:18.403100</ts>
    <user>Merna</user>
    <text>That seems likely to me. I ran the build process under a tmux session, which doesn't seem likely to have crashed it, but it's at least possible. Also, pinging &lt;@Essie&gt; here. In fact, speaking of ping, winooski still responds fine to ping.</text>
  </message>
  <message conversation_id="457">
    <ts>2019-04-08T17:05:39.403600</ts>
    <user>Merna</user>
    <text>So: Is it uncommon for winooski to go down on a build? Independently, what's involved in bringing it back up?</text>
  </message>
  <message conversation_id="457">
    <ts>2019-04-08T17:08:14.403900</ts>
    <user>Merna</user>
    <text>Sigh. Off to class, back in 2 hours.</text>
  </message>
  <message conversation_id="457">
    <ts>2019-04-08T17:11:00.404400</ts>
    <user>Kristeen</user>
    <text>&lt;@Merna&gt; winooski should never go down -- currently no one can download racket in the default way</text>
  </message>
  <message conversation_id="457">
    <ts>2019-04-08T17:11:14.404600</ts>
    <user>Kristeen</user>
    <text>so this is quite bad</text>
  </message>
  <message conversation_id="457">
    <ts>2019-04-08T17:26:34.404900</ts>
    <user>Essie</user>
    <text>FWIW, I cannot ssh to winooski.</text>
  </message>
  <message conversation_id="457">
    <ts>2019-04-08T17:26:56.405200</ts>
    <user>Essie</user>
    <text>Will ping Stephen + mgmt.</text>
  </message>
  <message conversation_id="458">
    <ts>2019-04-08T17:39:20.406400</ts>
    <user>Shavon</user>
    <text>Do we need another racket mirror? I would be happy to host a racket mirror in Europe - Germany.</text>
  </message>
  <message conversation_id="458">
    <ts>2019-04-08T17:56:07.407300</ts>
    <user>Essie</user>
    <text>&lt;@Shavon&gt;: The other mirrors should be up.</text>
  </message>
  <message conversation_id="458">
    <ts>2019-04-08T17:56:33.408300</ts>
    <user>Marcelina</user>
    <text>&lt;@Clarinda&gt; or &lt;@Alden&gt; Do either of you know if there is any reason we couldn't break off event% into something like `racket/event`, and have `racket/gui/base` re-export it? (Like with `racket/draw`)?</text>
  </message>
  <message conversation_id="458">
    <ts>2019-04-08T17:56:36.408400</ts>
    <user>Essie</user>
    <text>But in general, though, another mirror could maybe be useful, I don't know.</text>
  </message>
  <message conversation_id="458">
    <ts>2019-04-08T17:56:49.408900</ts>
    <user>Essie</user>
    <text>&lt;@Clarinda&gt; or &lt;@Alden&gt; would know, though.</text>
  </message>
  <message conversation_id="458">
    <ts>2019-04-08T17:59:27.409000</ts>
    <user>Marcelina</user>
    <text>I ask because i seems like its mostly just a container class for...well mostly symbols. And it would be useful to use in places where you can't initialize `racket/gui/base` (for the second time).</text>
  </message>
  <message conversation_id="458">
    <ts>2019-04-08T19:49:29.409500</ts>
    <user>Clarinda</user>
    <text>I don’t remember any particular obstacle.</text>
  </message>
  <message conversation_id="459">
    <ts>2019-04-08T19:54:08.410100</ts>
    <user>Julia</user>
    <text>&lt;http://mirror.racket-lang.org|mirror.racket-lang.org&gt; seems to be back up again, thanks to whomever intervened!</text>
  </message>
  <message conversation_id="458">
    <ts>2019-04-08T19:56:31.412000</ts>
    <user>Julia</user>
    <text>A CDN that knew to try alternate origin servers -- so the one URL still worked somehow -- would be wonderful, but possibly not within PLT budget.</text>
  </message>
  <message conversation_id="458">
    <ts>2019-04-08T20:16:26.412800</ts>
    <user>Eileen</user>
    <text>I did a naive guesstimate for AWS cloudfront and got about $90/month</text>
  </message>
  <message conversation_id="458">
    <ts>2019-04-08T20:20:50.413500</ts>
    <user>Eileen</user>
    <text>although within AWS using S3 with cross-site replication is probably a simpler set up.</text>
  </message>
  <message conversation_id="460">
    <ts>2019-04-08T20:50:31.414800</ts>
    <user>Aubrey</user>
    <text>Is there a standard technique for encoding eval contexts in redex with a specific nesting depth? (e.g., the kind of thing where `E_k` has `k` nesting levels of some pattern, say)</text>
  </message>
  <message conversation_id="459">
    <ts>2019-04-08T21:08:49.416000</ts>
    <user>Kristeen</user>
    <text>&lt;@Julia&gt; the major problem is that CDNs mostly don't like/charge a lot for the size of the downloads</text>
  </message>
  <message conversation_id="459">
    <ts>2019-04-08T21:09:16.416700</ts>
    <user>Kristeen</user>
    <text>That's why they're not just on S3 like everything else</text>
  </message>
  <message conversation_id="459">
    <ts>2019-04-08T21:14:50.418100</ts>
    <user>Kristeen</user>
    <text>Another way of putting it is that the free unmetered 10G Ethernet jack in my office is worth a lot of money</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T01:34:17.418800</ts>
    <user>Makeda</user>
    <text>What is the most popular racket based web framework?</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T02:24:46.419500</ts>
    <user>Makeda</user>
    <text>Something like Ruby on Rails?</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T04:34:47.421400</ts>
    <user>Kami</user>
    <text>&lt;@Makeda&gt; There's none yet, but I'm working on it: &lt;https://github.com/euhmeuh/web-galaxy&gt;
On the other hand, a static site generator like &lt;https://github.com/greghendershott/frog&gt; is getting popular, but it's not a "web framework" per se.</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T04:36:28.422300</ts>
    <user>Kami</user>
    <text>I feel like it's so simple to make your own from the basic racket/web-server package that everyone makes its own brew.</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T04:38:16.424100</ts>
    <user>Kami</user>
    <text>But as a beginner, I felt a bit lost because it doesn't look like a classic web server the first time you try it. There's all those strange concepts of continuations and all... Then you get to understand that continuations are not really necessary, and you start making your own wrapper around the server.</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T04:39:42.425100</ts>
    <user>Kami</user>
    <text>With web-galaxy, I want to provide an easy access to that technology, without the fuss and the complexity of having to read the documentation *line-by-line* in the right order</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T04:42:34.426100</ts>
    <user>Kami</user>
    <text>In the end, one usually just wants to define some routes and serve them, keeping the complexity for later</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T04:45:42.426800</ts>
    <user>Kami</user>
    <text>Then I want to add support for javascript modules and web components</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T04:46:42.427800</ts>
    <user>Kami</user>
    <text>So that you can write javascript as racket (using the urlang package) and generate your full web application from that</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T04:49:36.429100</ts>
    <user>Kami</user>
    <text>Maybe I won't have time to do all that in my spare time, but if I can inspire others to try something like that, and create traction, that'd be good enough.</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T04:51:18.429300</ts>
    <user>Makeda</user>
    <text>Ok. Will try it out.</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T04:54:46.430700</ts>
    <user>Hallie</user>
    <text>&lt;@Kami&gt; curious, what are your ideas for html dsl, I remember your talk at fosdem &lt;https://github.com/euhmeuh/fosdem-2019-talk/blob/master/slides.pdf&gt; are you still planning on something similar to page 34?</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T04:55:29.430900</ts>
    <user>Kami</user>
    <text>Yep!</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T04:55:59.431500</ts>
    <user>Kami</user>
    <text>A DSL that would permit to describe the HTML template, the javascript, the database fetching...etc all in one part of the code</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T04:56:23.432100</ts>
    <user>Hallie</user>
    <text>that would be my dream come true :slightly_smiling_face:</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T04:58:09.433700</ts>
    <user>Hallie</user>
    <text>one thing I always found annoying about xexp is the nesting of the attributes</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T04:58:32.434200</ts>
    <user>Hallie</user>
    <text>what I personally like is the approach of laml</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T04:58:51.434500</ts>
    <user>Hallie</user>
    <text>are you aware of that old library?</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T04:59:21.435000</ts>
    <user>Priscila</user>
    <text>I have become fond of the at-expression syntax. Example:
&lt;https://github.com/soegaard/urlang/blob/master/urlang-examples/parabola/parabola.rkt#L118&gt;</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:00:12.435700</ts>
    <user>Hallie</user>
    <text>at-expr is one neat approach</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:00:18.435900</ts>
    <user>Priscila</user>
    <text>Note that the above doesn't build an s-expression, but represents the html using structs.</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:02:20.437600</ts>
    <user>Kami</user>
    <text>The at-expr approach is nice, but I feel like there's a bit too much `@` x)
Joke aside, I'm not fixed on the notation yet, but I guess I want to make it as transparent as possible</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:02:55.438600</ts>
    <user>Priscila</user>
    <text>Yeah - It's tricky to find a good balance.</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:03:19.439300</ts>
    <user>Priscila</user>
    <text>The more text (non-html) you need the better it gets.</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:03:34.439600</ts>
    <user>Hallie</user>
    <text>in laml `(div ([class "pony"]) (pony-name the-pony))` becomes `(div 'class "pony" (pony-name the-pony))`</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:03:43.439800</ts>
    <user>Hallie</user>
    <text>which is also something I like</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:03:54.440100</ts>
    <user>Kami</user>
    <text>laml is great yeah, I had something like that in mind</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:05:52.440800</ts>
    <user>Kami</user>
    <text>What I really want to promote is the "duality of syntax" that Doug Hoyte writes about in Let Over Lambda</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:06:56.441700</ts>
    <user>Kami</user>
    <text>make it so that there's no difference between writing code and writing template, and that both can be intertwined seamlessly</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:09:10.442200</ts>
    <user>Hallie</user>
    <text>especially now with web components it seems even more doable</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:09:14.442400</ts>
    <user>Kami</user>
    <text>yep</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:11:50.444600</ts>
    <user>Kami</user>
    <text>I've been waiting for web components to finally be implemented by every browser for a long time now. But some times ago a colleague shared the link to an article explaining how a big banking company used web components for all the website, and only had a polyfill for Internet Explorer, making it possible to actually use web components in production for every browser. And I was like "OK, now's the time!"</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:15:37.445700</ts>
    <user>Hallie</user>
    <text>How do you see web-galaxy working with the multiplicity of Javascript MV* frameworks (current and future)</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:17:13.447100</ts>
    <user>Kami</user>
    <text>I guess it could be agnostic. But I'm really trying to push forward vanilla JS, because with ES6 + web components and shadow DOM, a lot of those frameworks have superfluous parts.</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:18:07.447700</ts>
    <user>Kami</user>
    <text>Especially since Racket works exactly as Babel for Javascript : it makes a perfect transpiler through macros.</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:19:03.448400</ts>
    <user>Kami</user>
    <text>My challenge is to try using only standard browser features instead of writing an MVC framework</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:19:26.448800</ts>
    <user>Kami</user>
    <text>I don't know if that's possible, but I wanna try and find out were it goes</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:20:02.449400</ts>
    <user>Hallie</user>
    <text>that would be ideal but seems like a challenge</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:21:07.450700</ts>
    <user>Hallie</user>
    <text>so far every time I wanted to write a web app entirely in Racket after some time I had to move into pure Javascript as it was getting more and more complex to keep it in both worlds</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:21:30.451100</ts>
    <user>Hallie</user>
    <text>So in essence you are thinking more about svelte approach?</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:21:49.451600</ts>
    <user>Kami</user>
    <text>I'm striving for minimalism :slightly_smiling_face:</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:21:53.451800</ts>
    <user>Hallie</user>
    <text>but with Racket as transpiler</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:22:33.452100</ts>
    <user>Kami</user>
    <text>Yep, pretty much something like that</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:25:01.453100</ts>
    <user>Hallie</user>
    <text>great to hear all that, and fingers crossed (as that would be brilliant)!</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:27:27.454600</ts>
    <user>Kami</user>
    <text>I'm glad to hear that :smile: Let's just hope I have enough brain-time for all that :stuck_out_tongue: When I have a full working proof of concept, I'd be glad to share it here.</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:32:19.455900</ts>
    <user>Hallie</user>
    <text>brain-time is an excellent combination - why is that that we either have enough brain and not enough time or enough time and not enough brain? :grin:</text>
  </message>
  <message conversation_id="461">
    <ts>2019-04-09T05:34:35.456300</ts>
    <user>Kami</user>
    <text>I *so* agree with that :stuck_out_tongue:</text>
  </message>
  <message conversation_id="462">
    <ts>2019-04-09T06:28:19.457200</ts>
    <user>Marcelina</user>
    <text>&lt;@Clarinda&gt; So, after looking at `mred/private/wx/common/event`, it looks like it'd be fairly simple to breate events into something like `racket/event`.</text>
  </message>
  <message conversation_id="462">
    <ts>2019-04-09T06:29:11.458300</ts>
    <user>Marcelina</user>
    <text>If so, would it make sense to move events to the main racket repo (and have the gui-lib one reprovide them), or would it make more sense to add a new package to the distrobution, or something else?</text>
  </message>
  <message conversation_id="462">
    <ts>2019-04-09T06:30:00.459300</ts>
    <user>Marcelina</user>
    <text>Or, I guess, it'd also be possible to make a `racket/gui/event` collection, and just document that that collection can be instantiated multiple times unlike `racket/gui/base`.</text>
  </message>
  <message conversation_id="462">
    <ts>2019-04-09T06:44:18.460300</ts>
    <user>Clarinda</user>
    <text>Yes, `racket/gui/event` within `gui-lib` sounds like the right idea for now.</text>
  </message>
  <message conversation_id="462">
    <ts>2019-04-09T06:47:24.460600</ts>
    <user>Marcelina</user>
    <text>Alright, I'll prepare a PR, thanks.</text>
  </message>
  <message conversation_id="463">
    <ts>2019-04-09T11:38:26.462400</ts>
    <user>Julia</user>
    <text>&lt;@Merna&gt; &lt;@Kristeen&gt; winooski seems downski again?</text>
  </message>
  <message conversation_id="463">
    <ts>2019-04-09T11:39:11.463200</ts>
    <user>Karen</user>
    <text>&lt;@Kami&gt; regarding html syntax, what do you think of using keyword arguments for attributes? `(div #:class "pony" (pony-name the-pony))`</text>
  </message>
  <message conversation_id="463">
    <ts>2019-04-09T11:41:33.463600</ts>
    <user>Kami</user>
    <text>Yep, using keyword arguments is definitely the most "racketty" to me</text>
  </message>
  <message conversation_id="463">
    <ts>2019-04-09T11:42:09.463900</ts>
    <user>Kami</user>
    <text>I think I'm gonna go with that</text>
  </message>
  <message conversation_id="463">
    <ts>2019-04-09T11:51:08.466000</ts>
    <user>Karen</user>
    <text>nice, then they can be normal functions too</text>
  </message>
  <message conversation_id="463">
    <ts>2019-04-09T11:52:42.466800</ts>
    <user>Merna</user>
    <text>&lt;@Julia&gt; right you are, and for exactly the same reason. I believe Stephen Chang is working on bringing it back up. Perhaps this time I won't crash it again.</text>
  </message>
  <message conversation_id="463">
    <ts>2019-04-09T11:54:47.467900</ts>
    <user>Julia</user>
    <text>What are you running on winooski, some kind of Elizabeth Barrett Browning AI to compute all possible ways to express HTML using Racket? :smile:</text>
  </message>
  <message conversation_id="463">
    <ts>2019-04-09T11:55:19.468200</ts>
    <user>Merna</user>
    <text>just trying to run the branch build, sigh.</text>
  </message>
  <message conversation_id="463">
    <ts>2019-04-09T11:55:56.468900</ts>
    <user>Julia</user>
    <text>I'm sorry. It sounds frustrating and my bad humor is probably not helping.</text>
  </message>
  <message conversation_id="463">
    <ts>2019-04-09T11:58:46.469300</ts>
    <user>Merna</user>
    <text>on the contrary! A little gallows humor is always appreciated! :slightly_smiling_face:</text>
  </message>
  <message conversation_id="464">
    <ts>2019-04-09T12:28:15.470800</ts>
    <user>Gonzalo</user>
    <text>&lt;@Merna&gt; Has branch day happened? From GitHub, it looks like the answer is “yes”, but I want to make sure. I’m trying to figure out if it’s safe for me to merge something to master _without_ it ending up in v7.3.</text>
  </message>
  <message conversation_id="464">
    <ts>2019-04-09T12:39:15.472100</ts>
    <user>Merna</user>
    <text>&lt;@Gonzalo&gt; yes, the catalog is built, the release branch exists, and master is now on 7.3.0.1. so merges to master should not wind up in the release by default.</text>
  </message>
  <message conversation_id="464">
    <ts>2019-04-09T12:39:25.472300</ts>
    <user>Gonzalo</user>
    <text>Great, thank you!</text>
  </message>
  <message conversation_id="465">
    <ts>2019-04-09T13:17:19.473400</ts>
    <user>Marcelina</user>
    <text>&lt;@Clarinda&gt; Actually, looking at it a bit more, it looks like (afaict anyway) 'most' of `mred/private/wx/common` can be instantiated more than once.</text>
  </message>
  <message conversation_id="465">
    <ts>2019-04-09T13:17:39.473900</ts>
    <user>Marcelina</user>
    <text>(Except for stuff like queue.rkt, which I think is because of the use of atomic mode?</text>
  </message>
  <message conversation_id="466">
    <ts>2019-04-09T13:56:19.481500</ts>
    <user>Loise</user>
    <text>Hey everyone. I'm still getting into Racket, but I love it so far. In my search for information as to whether Racket supports persistent data structures [1] I came across this article [2] from 2010. I was wondering how many of the Racket criticisms in the article still held true. Don't get me wrong: I'm definitely on Team Racket. :slightly_smiling_face: I'm just curious as to how Racket may have changed since the article was written.

But going back to my initial quest, does Racket support any sort of persistent data structure, one that preserves the previous version of itself when it is modified?

I guess that's two questions, but perhaps in answering the first, the second may be answered as a side-effect.

[1] `&lt;https://en.wikipedia.org/wiki/Persistent_data_structure&gt;`
[2] `&lt;https://programming-puzzler.blogspot.com/2010/08/racket-vs-clojure.html&gt;`</text>
  </message>
  <message conversation_id="466">
    <ts>2019-04-09T13:59:22.482200</ts>
    <user>Hallie</user>
    <text>as to the persistence there are some packages: &lt;https://pkgd.racket-lang.org/pkgn/search?q=persistent&gt;</text>
  </message>
  <message conversation_id="466">
    <ts>2019-04-09T14:01:40.483500</ts>
    <user>Loise</user>
    <text>Oh, thank you &lt;@Hallie&gt;! The problem with being new to a space is not even knowing where to look for answers. I appreciate the link.</text>
  </message>
  <message conversation_id="466">
    <ts>2019-04-09T14:01:41.483600</ts>
    <user>Kristeen</user>
    <text>&lt;@Loise&gt; there are lots of persistent data structures in Racket.</text>
  </message>
  <message conversation_id="466">
    <ts>2019-04-09T14:02:29.484800</ts>
    <user>Kristeen</user>
    <text>it's still true that by default, Racket come with a few built-in data strucutures, and only one of the default ones is a sophisticated modern persistent data structure (functional hashes)</text>
  </message>
  <message conversation_id="466">
    <ts>2019-04-09T14:03:20.485900</ts>
    <user>Loise</user>
    <text>Thanks, &lt;@Kristeen&gt;. I'll look into functional hashes. Great information,</text>
  </message>
  <message conversation_id="466">
    <ts>2019-04-09T14:03:37.486200</ts>
    <user>Hallie</user>
    <text>it's also worthwhile to use github language:racket for finding some interesting code: &lt;https://github.com/search?q=language%3Aracket+persistent&gt;</text>
  </message>
  <message conversation_id="466">
    <ts>2019-04-09T14:05:22.486900</ts>
    <user>Priscila</user>
    <text>&lt;@Loise&gt; &lt;https://www2.ccs.neu.edu/racket/pubs/sfp10-kth.pdf&gt;</text>
  </message>
  <message conversation_id="466">
    <ts>2019-04-09T14:07:19.489000</ts>
    <user>Gonzalo</user>
    <text>&lt;@Loise&gt; As Sam already said, Racket’s immutable hash datatype is a HAMT, which is the same way Clojure implements its maps. In addition to that, I implemented Clojure’s persistent vector data structure in Racket as the `pvector` package, here: &lt;https://docs.racket-lang.org/pvector/index.html&gt; And there are other persistent data structures available in various packages, too.</text>
  </message>
  <message conversation_id="466">
    <ts>2019-04-09T14:15:26.493200</ts>
    <user>Loise</user>
    <text>This is all great information. I rarely get excited about a language (I've been doing this for longer than most of you have been alive :slightly_smiling_face:) but I must admit, Racket's really taking hold of my brain. I have a _lot_ to learn here, but to paraphrase Tank from The Matrix, it's a very exciting time! Thanks again, everyone.</text>
  </message>
  <message conversation_id="467">
    <ts>2019-04-09T14:36:26.495200</ts>
    <user>Shavon</user>
    <text>&lt;@Gonzalo&gt; thanks for your email on racket-dev. Currently trying to get kids in bed. I have a solution to the problem, which have been lazily delaying implementing it. Thanks for the nudge. Will get done tomorrow morning - i.e. in the next 12 hours. Will reply to the mailing list as well explaining the mitigation and future plans.</text>
  </message>
  <message conversation_id="467">
    <ts>2019-04-09T14:36:54.495500</ts>
    <user>Gonzalo</user>
    <text>No worries, it isn’t a big deal!</text>
  </message>
  <message conversation_id="467">
    <ts>2019-04-09T14:37:59.496200</ts>
    <user>Shanell</user>
    <text>FYI, in racket-on-chez, the immutable hash is a patricia trie</text>
  </message>
  <message conversation_id="467">
    <ts>2019-04-09T14:49:03.496800</ts>
    <user>Kristeen</user>
    <text>&lt;@Shanell&gt; oh interesting. I thought it was still a HAMT</text>
  </message>
  <message conversation_id="467">
    <ts>2019-04-09T14:49:53.497600</ts>
    <user>Shanell</user>
    <text>We tried (er, no pun intended) both (and a HAMT is still in the repo, I believe). The HAMT does have better memory usage but it's slower on most operations.</text>
  </message>
  <message conversation_id="467">
    <ts>2019-04-09T14:51:42.499700</ts>
    <user>Shanell</user>
    <text>My best guess is that this is because creating a new HAMT node involves creating a new vector (which also has to zero out the memory) and then `vector-set!`-ing the whole thing. So, each slot is written to twice, and each write has to go through a GC write barrier. But this is really just a guess.</text>
  </message>
  <message conversation_id="467">
    <ts>2019-04-09T14:55:44.500700</ts>
    <user>Kristeen</user>
    <text>I don't think the zeroing would trigger the write barrier, but that's all very interesting</text>
  </message>
  <message conversation_id="467">
    <ts>2019-04-09T14:56:01.501100</ts>
    <user>Shanell</user>
    <text>No, you're right. Only the second write goes through the barrier.</text>
  </message>
  <message conversation_id="467">
    <ts>2019-04-09T15:15:22.502800</ts>
    <user>Shanell</user>
    <text>BTW, one of my reasons for suspecting vector writes as the culprit is that a version of the HAMT that stores a cons cell (containing the name/value pair) in each slot performed better than one that uses a flat vector twice the size.</text>
  </message>
  <message conversation_id="468">
    <ts>2019-04-09T15:16:02.503300</ts>
    <user>Priscila</user>
    <text>Apropos, did Chez get immutable cons cells?</text>
  </message>
  <message conversation_id="467">
    <ts>2019-04-09T15:17:14.503500</ts>
    <user>Shanell</user>
    <text>I don't think so</text>
  </message>
  <message conversation_id="469">
    <ts>2019-04-09T16:04:20.504000</ts>
    <user>Kristeen</user>
    <text>racket immutable conses are just chez mutable conses</text>
  </message>
  <message conversation_id="468">
    <ts>2019-04-09T16:14:23.504300</ts>
    <user>Priscila</user>
    <text>ok</text>
  </message>
  <message conversation_id="469">
    <ts>2019-04-09T16:51:44.509500</ts>
    <user>Julia</user>
    <text>It seems like `mirror` is tougher to fix today than yesterday. :disappointed:</text>
  </message>
  <message conversation_id="469">
    <ts>2019-04-09T16:52:43.510300</ts>
    <user>Julia</user>
    <text>My own bad luck these two days I had a chunk of time to do/push many commits, and Travis CI decided to CRON build Frog.</text>
  </message>
  <message conversation_id="468">
    <ts>2019-04-09T18:17:21.510400</ts>
    <user>Clarinda</user>
    <text>Many things prevent multiple instantiation. Some of it is that global hooks are installed or global classes (for Objective-C) defined. Some of it is that GUI toolkits do not support running in multiple OS threads.</text>
  </message>
  <message conversation_id="470">
    <ts>2019-04-09T18:25:12.511000</ts>
    <user>Merna</user>
    <text>Can I ask which service it is that you're depending on here? Is it the catalog?</text>
  </message>
  <message conversation_id="469">
    <ts>2019-04-09T18:25:25.511400</ts>
    <user>Merna</user>
    <text>Sorry should have said &lt;@Julia&gt; on that previous message</text>
  </message>
  <message conversation_id="469">
    <ts>2019-04-09T18:43:08.512100</ts>
    <user>Merna</user>
    <text>&lt;@Julia&gt; ... no, catalog seems to be intact. Is it just the main racket download?</text>
  </message>
  <message conversation_id="471">
    <ts>2019-04-09T18:54:57.513500</ts>
    <user>Shizue</user>
    <text>in NEU PRL, &lt;http://mirror.racket-lang.org|mirror.racket-lang.org&gt; is currently used to download Racket inside Travis, and we can't get to it today</text>
  </message>
  <message conversation_id="469">
    <ts>2019-04-09T19:05:32.514800</ts>
    <user>Julia</user>
    <text>&lt;@Merna&gt; &lt;https://mirror.racket-lang.org/installers/7.2/racket-7.2-x86_64-linux.sh&gt; isn't connecting, and that is the main/default download link (also used by stuff like Travis CI tests)</text>
  </message>
  <message conversation_id="469">
    <ts>2019-04-09T19:05:54.515200</ts>
    <user>Julia</user>
    <text>(but also by humans who want to download Racket)</text>
  </message>
  <message conversation_id="469">
    <ts>2019-04-09T19:07:33.515500</ts>
    <user>Merna</user>
    <text>&lt;@Shizue&gt; yep, working on it...</text>
  </message>
  <message conversation_id="469">
    <ts>2019-04-09T19:09:16.516900</ts>
    <user>Julia</user>
    <text>Thanks. Don't mean to nag, just want to make sure you know it's down now. (Like, yesterday it was fixed in a few hours, so, it seems plausible it might have been fixed today, but went back down again w/o anyone noticing yet.)</text>
  </message>
  <message conversation_id="469">
    <ts>2019-04-09T19:31:05.517800</ts>
    <user>Clarinda</user>
    <text>For now, we’ve made the default download link point to the Utah mirror. That doesn’t help with Travis CI configurations, though.</text>
  </message>
  <message conversation_id="469">
    <ts>2019-04-09T20:00:20.518200</ts>
    <user>Julia</user>
    <text>&lt;@Clarinda&gt; OK, I did similar.</text>
  </message>
  <message conversation_id="472">
    <ts>2019-04-10T01:26:27.524100</ts>
    <user>Prince</user>
    <text>I was trying to calculate an element-wise sum of a nested list and bumped up against a gap in my (very limited) understanding. Here is a simple example:
```
&amp;gt; (define x '((1 2 3) (4 5 6) (7 8 9)))
&amp;gt; (apply map list x)
'((1 4 7) (2 5 8) (3 6 9))
&amp;gt; (apply map + (apply map list x))
'(6 15 24)
```
The first results was as I expected. But I thought that I could then pass that new nested list to a similar `(apply map)` structure and get `'(12 15 18)`. Is there a simple explanation for what is happening here? Or can someone point me to the relevant section in the docs? Thanks.</text>
  </message>
  <message conversation_id="472">
    <ts>2019-04-10T01:57:07.528300</ts>
    <user>Gonzalo</user>
    <text>&lt;@Prince&gt; `(map f as bs cs)` ends up producing `(list (f a_1 b_1 c1_) (f a_2 b_2 c_2) ... (f a_n b_n c_n))`. `(apply map list x)` therefore performs `(map list (list 1 2 3) (list 4 5 6) (list 7 8 9))`, producing `(list (list 1 4 7) (list 2 5 8) (list 3 6 9))`. Now, you pass that value to `(apply map + ....)`, leading to the function call `(map + (list 1 4 7) (list 2 5 8) (list 3 6 9))`, which produces `(list (+ 1 2 3) (+ 4 5 6) (+ 7 8 9))`, just as before, which eventually reduces to `(list 6 15 24)`.</text>
  </message>
  <message conversation_id="472">
    <ts>2019-04-10T01:58:55.529800</ts>
    <user>Gonzalo</user>
    <text>Put another way, `(apply map f lsts)` “zips” up the lists in `lsts` using `f`, so the nth element of the result list becomes the result of applying `f` to the nth element of each argument lists.</text>
  </message>
  <message conversation_id="472">
    <ts>2019-04-10T02:00:17.531000</ts>
    <user>Gonzalo</user>
    <text>As it happens, this works out to mean `(apply map list lsts)` “transposes” `lsts`, so that if you view it as a two-dimensional list, it flips the axes.</text>
  </message>
  <message conversation_id="472">
    <ts>2019-04-10T02:02:54.533700</ts>
    <user>Gonzalo</user>
    <text>Anyway, if you wanted to get `(list 12 15 18)`, then you don’t want to transpose the original `x` value at all: you just want to call `(apply map + x)`, which does the “zipping” along the appropriate axis, leading to `(list (+ 1 4 7) (+ 2 5 8) (+ 3 6 9))`. Or, if you wanted to turn the transposed list into `(list 12 15 18)` directly, you could write `(map (lambda (lst) (apply + lst)) (apply map list x))`, which would produce the same result.</text>
  </message>
  <message conversation_id="473">
    <ts>2019-04-10T13:41:31.534600</ts>
    <user>Marcelina</user>
    <text>Hey &lt;@Kristeen&gt;, I'm getting the following package dependency when building typed racket:

```
raco setup: found undeclared dependency:
raco setup:   mode: build (of documentation)
raco setup:   for package: "typed-racket-doc"
raco setup:   on package: "web-server-doc"
raco setup:   from document: "ts-reference"
raco setup:   to document: "web-server"
```</text>
  </message>
  <message conversation_id="473">
    <ts>2019-04-10T13:42:01.535100</ts>
    <user>Marcelina</user>
    <text>Do you think this is right, or maybe my build is wrong?</text>
  </message>
  <message conversation_id="472">
    <ts>2019-04-10T14:52:39.535400</ts>
    <user>Clarinda</user>
    <text>I get the same error.</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:03:51.536600</ts>
    <user>Eileen</user>
    <text>Is there (or is there a reason I'm missing why there shouldn't be) a lens for hashes that uses a default value?  Like a `hash-ref-lens/default` ?</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:05:22.538400</ts>
    <user>Karen</user>
    <text>&lt;@Eileen&gt; I don't remember, but I'm guessing there isn't one because such a lens can violate the lens laws. If you get-then-set, you could change what the original hash was.</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:05:46.539000</ts>
    <user>Karen</user>
    <text>(it's been a long time since I worked on the lens package)</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:07:00.539600</ts>
    <user>Eileen</user>
    <text>Ok I figured it was related to the lens laws, but wasn't sure which one potentially.</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:08:39.541700</ts>
    <user>Karen</user>
    <text>Whichever one is `(lens-set l v (lens-view l v)) == v`, assuming I remembered the argument order correctly</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:09:08.542600</ts>
    <user>Eileen</user>
    <text>Gotcha</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:09:23.543200</ts>
    <user>Karen</user>
    <text>There's no way for a ref-with-default to satisfy that, since it can't tell the difference between a hash with no value and a hash with a value equal to the default</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:12:26.544600</ts>
    <user>Karen</user>
    <text>Honestly it's still a really useful feature so I want _some_ way for optics to deal with that kind of thing. Will have to wait for the next time I work in that area.</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:14:52.546700</ts>
    <user>Eileen</user>
    <text>I noticed it wasn't there one of the last times I used lenses, but need it today.  I'm pretty much using lenses to query "big" json documents.</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:15:18.547200</ts>
    <user>Eileen</user>
    <text>Fortunately lenses are simple enough to write a usable (for me) ref with default</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:18:03.549100</ts>
    <user>Karen</user>
    <text>I think another good strategy you could use is to normalize your json docs. So before doing any queries with lenses, first traverse the doc and fill in default values.</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:19:14.550100</ts>
    <user>Karen</user>
    <text>is the lens-y code you’re writing open source btw? I’d like to add a link to it to my list of use cases</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:23:23.554100</ts>
    <user>Elin</user>
    <text>If there was a `hash-ref/maybe` and `hash-set/maybe` with signatures:
```
hash-ref/maybe : [Hashof K V] K -&amp;gt; [Maybe V]
hash-set/maybe : [Hashof K V] K [Maybe V] -&amp;gt; [Hashof K V]
```
Where “set”-ing to `None` is like `hash-remove`, would a `hash-ref-lens/maybe` follow the lens laws?</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:24:13.555100</ts>
    <user>Eileen</user>
    <text>Not yet.  Right now I'm just writing some hacky automation around a web api.  So for the most part I'm just writing lenses for the parts I need.</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:25:35.557100</ts>
    <user>Eileen</user>
    <text>&lt;@Elin&gt; I was wondering that myself.  I guess if None was disjoint from V it seems plausible?</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:25:36.557200</ts>
    <user>Karen</user>
    <text>&lt;@Elin&gt; It would follow the laws, but it wouldn’t make the code using that lens any simpler. Such a lens would require the user explicitly treat “present and equal to the default” differently from “absent”, which isn’t what Sam’s case wants to do.</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:27:01.558200</ts>
    <user>Karen</user>
    <text>&lt;@Eileen&gt; I think the `Maybe` type in alex’s example is always a wrapper, so it’s more like `(or/c none? (some/c V))`</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:27:25.558600</ts>
    <user>Eileen</user>
    <text>Oh yeah.  I was thinking of TR (U v #f)</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:27:53.558900</ts>
    <user>Eileen</user>
    <text>except in vanilla Racket</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:28:14.559300</ts>
    <user>Clarinda</user>
    <text>I’m pretty sure that the dependency should  just be added, and the dependency mismatch will block snapshot builds if not fixed, so I’ve pushed the addition (and I trust that someone will revert if that wasn’t the right idea)</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:29:07.560600</ts>
    <user>Eileen</user>
    <text>And actually I've given it more than 1 minute to think on it would still be complicated.</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:30:38.562100</ts>
    <user>Karen</user>
    <text>What I want to do to address this kind of problem is define some notion of normal forms and normalizers, and then allow optics to be either “exact” (which is what lenses are like now) or “inexact” (which are like lenses that _almost_ follow the laws, but they might normalize data when they’re used)</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:31:49.563300</ts>
    <user>Karen</user>
    <text>there’s a lot of really useful kinds of data conversion / querying / traversal logic that doesn’t promise to leave the source unchanged, it just promises to put it into some normal form and data that’s already in normal form is always left unchanged</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:33:39.564900</ts>
    <user>Eileen</user>
    <text>As purely ergonomics example, if I was doing this in python I would do something like:
```
json_doc.get('A', {}).get('B', {}).get('C', some_suitable_missing_value)
```</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:35:10.566200</ts>
    <user>Karen</user>
    <text>Right and that’s a very reasonable, convenient, and practical interface</text>
  </message>
  <message conversation_id="474">
    <ts>2019-04-10T16:35:42.566400</ts>
    <user>Marcelina</user>
    <text>Makes sense. Thanks.</text>
  </message>
  <message conversation_id="475">
    <ts>2019-04-10T17:37:36.568100</ts>
    <user>Gonzalo</user>
    <text>If you adjust your definition of “equality” to treat the absence of a value equivalent to the presence of the default value, then such a lens can be lawful</text>
  </message>
  <message conversation_id="476">
    <ts>2019-04-11T04:55:04.572300</ts>
    <user>Kami</user>
    <text>Hey &lt;@Boris&gt;, I have a quick question for you about mode-lambda. I'm looking at the code and trying to understand what happens when a sprite has index 0 (to know if I can reliably use that value as an "empty missing sprite".
I can see that when building the database, the sprite index starts at 1, which is already a good indication that 0 is a special value. Then when I try assigning 0 as a value, everything runs fine, and sprites with that value are invisible.
But then it goes into OpenGL code and I'm lost. Can 0 be used as a default value for a sprite index? (I couldn't find anything in the doc about this)</text>
  </message>
  <message conversation_id="477">
    <ts>2019-04-11T13:48:00.573100</ts>
    <user>Marcelina</user>
    <text>&lt;@Clarinda&gt; Whenever I try to add `racket/gui/event` to the docs, I keep getting a red underline under the module itself.</text>
  </message>
  <message conversation_id="477">
    <ts>2019-04-11T13:48:19.573500</ts>
    <user>Marcelina</user>
    <text>(As shown in this PR: &lt;https://github.com/racket/gui/pull/127&gt;)</text>
  </message>
  <message conversation_id="477">
    <ts>2019-04-11T14:04:30.576200</ts>
    <user>Prince</user>
    <text>When using `time`, how do you suppress printing of the output of the expression that you are timing? For example...
```
#lang racket
(require math)
(time (flnormal-sample 0.0 1.0 100))
```</text>
  </message>
  <message conversation_id="477">
    <ts>2019-04-11T14:04:53.576300</ts>
    <user>Clarinda</user>
    <text>The `defmodule` declaration needs to be within a part, which in that case is created by `defclass/title`. You may have to split out `title` and `defclass`.</text>
  </message>
  <message conversation_id="477">
    <ts>2019-04-11T14:05:26.576500</ts>
    <user>Clarinda</user>
    <text>(I don’t remember why `defmodule` doesn’t or can’t provide a good error.)</text>
  </message>
  <message conversation_id="477">
    <ts>2019-04-11T14:06:09.577100</ts>
    <user>Kristeen</user>
    <text>&lt;@Prince&gt; you might want `(time (void (flnormal-sample ...)))`</text>
  </message>
  <message conversation_id="478">
    <ts>2019-04-11T15:49:11.577600</ts>
    <user>Amira</user>
    <text>winooski's dead. RIP. Stephen Chang recovered the data &amp;amp; is working with the Northeastern sysadmins to set up a new server.</text>
  </message>
  <message conversation_id="477">
    <ts>2019-04-11T16:54:16.580500</ts>
    <user>Julia</user>
    <text>&lt;@Merna&gt; &lt;@Clarinda&gt; Sorry to bother you again but &lt;@Shavon&gt; just asked me about &lt;https://pre-release.racket-lang.org/installers/racket-current-x86_64-linux.sh&gt; and &lt;https://pre-release.racket-lang.org/installers/racket-minimal-current-x86_64-linux.sh&gt; not working. (Some people use a `RELEASE` version in their Travis CI build matrix, which points to one of those.)
Is this just temporarily not available anywhere because of 7.3 prep?
Or is it another `winooski` thing and there's another URL I should use for now?</text>
  </message>
  <message conversation_id="479">
    <ts>2019-04-11T16:57:31.581300</ts>
    <user>Julia</user>
    <text>(I tried to figure that myself but plain &lt;https://pre-release.racket-lang.org/&gt; eventually gives a 522 response page from Cloudflare.)</text>
  </message>
  <message conversation_id="479">
    <ts>2019-04-11T17:29:17.582700</ts>
    <user>Merna</user>
    <text>&lt;@Julia&gt; It's a winooski thing. We were unable to complete the "initial build" that generally kicks off the week between branch day (7th) and the beginning of testing (15th). I'm hoping to make this happen in the next day, but I should be clear that there are definitely some question marks remaining about how exactly this is going to happen.</text>
  </message>
  <message conversation_id="479">
    <ts>2019-04-11T18:26:36.584100</ts>
    <user>Julia</user>
    <text>&lt;@Merna&gt; Thanks. If it's temporarily unavailable at any URL, that's fine I'll just let folks know.
(If I misunderstood and it's available at some other URL, then please just let me know what URL and I'll update my end.)</text>
  </message>
  <message conversation_id="479">
    <ts>2019-04-11T18:41:22.585100</ts>
    <user>Merna</user>
    <text>&lt;@Julia&gt; yes, we do not yet have a candidate build. It sounds like this might come together in the next day or two.</text>
  </message>
  <message conversation_id="479">
    <ts>2019-04-11T18:54:43.585900</ts>
    <user>Julia</user>
    <text>Understood. Thank you.</text>
  </message>
  <message conversation_id="479">
    <ts>2019-04-12T01:44:37.000400</ts>
    <user>Shavon</user>
    <text>&lt;@Julia&gt; Thanks for your time looking into this.</text>
  </message>
  <message conversation_id="480">
    <ts>2019-04-12T05:32:58.001700</ts>
    <user>Jeffery</user>
    <text>installing Drracket on a new Macbook fails. I have just installed macTex so brew seems to be working:
Jimmys-MacBook-Pro:~ jsnielsen$ brew cask install racket
==&amp;gt; Satisfying dependencies
==&amp;gt; Downloading &lt;https://mirror.racket-lang.org/installers/7.2/racket-7.2-x86_64-macosx.dmg&gt;

curl: (7) Failed to connect to &lt;http://mirror.racket-lang.org|mirror.racket-lang.org&gt; port 443: Operation timed out
Error: Download failed on Cask 'racket' with message: Download failed: &lt;https://mirror.racket-lang.org/installers/7.2/racket-7.2-x86_64-macosx.dmg&gt;</text>
  </message>
  <message conversation_id="480">
    <ts>2019-04-12T05:33:27.002100</ts>
    <user>Jeffery</user>
    <text>operation has timed out several times including yesterday.</text>
  </message>
  <message conversation_id="480">
    <ts>2019-04-12T05:46:02.002900</ts>
    <user>Shavon</user>
    <text>&lt;@Jeffery&gt; It seems the mirror has been having a few issues. Maybe &lt;@Merna&gt; or &lt;@Clarinda&gt; can suggest alternatives.</text>
  </message>
  <message conversation_id="480">
    <ts>2019-04-12T05:46:56.003600</ts>
    <user>Shavon</user>
    <text>&lt;@Jeffery&gt; not sure if there's anything special with that `brew` thing but you can always download the `dmg` from &lt;https://www.cs.utah.edu/plt/installers/7.2/racket-7.2-x86_64-macosx.dmg&gt;</text>
  </message>
  <message conversation_id="480">
    <ts>2019-04-12T05:47:13.003900</ts>
    <user>Shavon</user>
    <text>which looks like it's working.</text>
  </message>
  <message conversation_id="480">
    <ts>2019-04-12T05:47:41.004500</ts>
    <user>Jeffery</user>
    <text>thx &lt;@Shavon&gt; I will get it from utah.</text>
  </message>
  <message conversation_id="480">
    <ts>2019-04-12T06:31:47.006200</ts>
    <user>Jeffery</user>
    <text>&lt;@Shavon&gt; thanks. All is well now, just had to add the $PATH manually. did so via the instructions on &lt;https://beautifulracket.com/setting-the-mac-os-path.html&gt;</text>
  </message>
  <message conversation_id="480">
    <ts>2019-04-12T06:32:40.006700</ts>
    <user>Shavon</user>
    <text>Perfect, great to hear. Now, grab an espresso and go Racket! :sunglasses:</text>
  </message>
  <message conversation_id="481">
    <ts>2019-04-12T09:02:15.007900</ts>
    <user>Herman</user>
    <text>Is anyone doing anything with racket and webassembly? I saw 3 projects on github but I don't think there is much activity.</text>
  </message>
  <message conversation_id="481">
    <ts>2019-04-12T09:02:51.008400</ts>
    <user>Kami</user>
    <text>Mine is there:
&lt;https://github.com/euhmeuh/wasm-adventure&gt;</text>
  </message>
  <message conversation_id="481">
    <ts>2019-04-12T09:03:30.009100</ts>
    <user>Herman</user>
    <text>&lt;@Kami&gt; Cool, I missed that somehow.</text>
  </message>
  <message conversation_id="481">
    <ts>2019-04-12T09:03:59.009400</ts>
    <user>Kami</user>
    <text>It was just an experiment, but I got a game working with it</text>
  </message>
  <message conversation_id="481">
    <ts>2019-04-12T09:05:25.010300</ts>
    <user>Herman</user>
    <text>I've been playing with web assembly text, but clearly that is going to take a long time to produce anything useful.</text>
  </message>
  <message conversation_id="481">
    <ts>2019-04-12T09:08:50.011000</ts>
    <user>Kami</user>
    <text>Well, I just had to make a canvas fill correctly with pixel data, and from there everything went smoothly</text>
  </message>
  <message conversation_id="481">
    <ts>2019-04-12T09:08:59.011200</ts>
    <user>Herman</user>
    <text>Nice</text>
  </message>
  <message conversation_id="482">
    <ts>2019-04-12T12:58:29.012600</ts>
    <user>Prince</user>
    <text>How would I convert a procedure name to a string for use in `string-append`?</text>
  </message>
  <message conversation_id="482">
    <ts>2019-04-12T13:01:03.013800</ts>
    <user>Julia</user>
    <text>&lt;@Prince&gt; `object-name` should give you that for procedures (and other values like structs and things made using structs likes ports etc.).</text>
  </message>
  <message conversation_id="482">
    <ts>2019-04-12T13:02:39.014400</ts>
    <user>Julia</user>
    <text>Well it gives you a symbol but you can `symbol-&amp;gt;string` or use `~a`.</text>
  </message>
  <message conversation_id="482">
    <ts>2019-04-12T13:04:41.016000</ts>
    <user>Julia</user>
    <text>Even anonymous function values from `lambda` get names, they're just not always good names. :slightly_smiling_face:
You can `procedure-rename` them.
e.g. A few months ago I blogged about doing that with thread thunks for better logging output: &lt;https://www.greghendershott.com/2018/11/thread-names.html&gt;</text>
  </message>
  <message conversation_id="483">
    <ts>2019-04-12T13:14:47.020400</ts>
    <user>Madelaine</user>
    <text>I am getting this strange error from `file-size`, inconsistently, some of the many times I call it in a loop:
```
file-size: contract violation
  expected: file?
  given: #&amp;lt;path:/pond/quick/AppleStoreBackup/Music/.DS_Store&amp;gt;
```
I hope the error message could help to track down the problem, because it refers to `file?` and there is no such predicate: the contract asks for `path-string?`. But so far I haven't found `file?` in the Racket sources.
The problem doesn't seem to be actually getting the file size, because, out of context, this works:
```
philip@avalon:~$ racket
Welcome to Racket v7.2.
&amp;gt; (file-size "/pond/quick/AppleStoreBackup/Music/.DS_Store")
10244
&amp;gt; (file-size (bytes-&amp;gt;path #"/pond/quick/AppleStoreBackup/Music/.DS_Store"))
10244
&amp;gt; (bytes-&amp;gt;path #"/pond/quick/AppleStoreBackup/Music/.DS_Store")
#&amp;lt;path:/pond/quick/AppleStoreBackup/Music/.DS_Store&amp;gt;
```
Also, in case it's relevant, I encountered this on Ubuntu, despite what you might guess from the file name in question.</text>
  </message>
  <message conversation_id="483">
    <ts>2019-04-12T13:31:41.020500</ts>
    <user>Loma</user>
    <text>Not sure if you are using `htdp/dir` (&lt;https://docs.racket-lang.org/teachpack/dir.html?q=htdp%2Fdir&gt;), as its `file-size` uses the `file` struct provided by this package. Otherwise I could not provide more help.</text>
  </message>
  <message conversation_id="483">
    <ts>2019-04-12T13:33:42.020900</ts>
    <user>Kristeen</user>
    <text>&lt;@Madelaine&gt; that's indeed odd</text>
  </message>
  <message conversation_id="483">
    <ts>2019-04-12T13:42:35.021900</ts>
    <user>Merna</user>
    <text>Are you familiar with the "file-exists?" predicate? I would imagine that the intent of this contract violation is to signal that the file fails this predicate. Just a guess, though.</text>
  </message>
  <message conversation_id="483">
    <ts>2019-04-12T13:44:45.023000</ts>
    <user>Gonzalo</user>
    <text>I think that &lt;@Loma&gt;’s response (in the slack thread) is a compelling theory of how that error message might be generated, but I have no idea how an entirely different `file-size` procedure could get called if it’s really just running in a loop!</text>
  </message>
  <message conversation_id="483">
    <ts>2019-04-12T14:33:41.023200</ts>
    <user>Madelaine</user>
    <text>&lt;@Loma&gt; Nope, I'm just using the `file-size` from `racket/base`. (Or at least, per &lt;@Gonzalo&gt;'s comment, I think I am, and I seem to be on the other iterations of the loop.)</text>
  </message>
  <message conversation_id="484">
    <ts>2019-04-12T14:38:25.026500</ts>
    <user>Kristeen</user>
    <text>I genuinely looked in the source and can't find a way it could generate that error message</text>
  </message>
  <message conversation_id="483">
    <ts>2019-04-12T14:39:17.027300</ts>
    <user>Madelaine</user>
    <text>&lt;@Merna&gt; Yes, my guess was that `file?` is a mis-typed version of `file-exists?`—but, of course, the file _does_ exist, and Racket knows that except in this loop. I wondered if the problem might be a system-level error (like, maybe I'm sizing too many files too quickly or something) that a low-level layer like `rktio` is incorrectly assuming to be a file-does-not-exist error: but, as I said, I haven't found anywhere in the source that would put the string `file?` into an error message.</text>
  </message>
  <message conversation_id="484">
    <ts>2019-04-12T15:20:06.030900</ts>
    <user>Julia</user>
    <text>&lt;@Madelaine&gt; Not sure it matters, but: What is the loop iterating? Items from an `in-directory` sequence? Or from `directory-list`? Or elsewhere?</text>
  </message>
  <message conversation_id="484">
    <ts>2019-04-12T15:20:19.031300</ts>
    <user>Gonzalo</user>
    <text>How big is the program producing the error message? Can you make a smallish program that reproduces it?</text>
  </message>
  <message conversation_id="483">
    <ts>2019-04-12T15:22:34.032400</ts>
    <user>Madelaine</user>
    <text>The program is very short; here it is:
```
(struct directory (path-bytes) #:prefab)
(struct file (path-bytes size) #:prefab)
(struct symlink (path-bytes target) #:prefab)

(define roots
  '(#"/pond/quick/AppleStoreBackup/Music/"
    #"/pond/iTunes/"
    #"/pond/aux-storage/2018-02-04-iTunes-pre-purge/"
    #"/pond/aux-storage/iTunes-remote/"
    #"/pond/aux-storage/Sapientia~/philip/Music/"))

(module+ main
  (require racket/cmdline racket/file)
  (command-line
   #:args (output-file)
   (call-with-atomic-output-file output-file
     (λ (out tmp)
       (for* ([root (in-list roots)]
              [pth (in-directory (bytes-&amp;gt;path root))])
         (define bs (path-&amp;gt;bytes pth))
         (write
          (cond
            [(link-exists? pth)
             (symlink bs (path-&amp;gt;bytes (resolve-path pth)))]
            [(directory-exists? pth)
             (directory bs)]
            [(file-exists? pth)
             (file bs (with-handlers ([exn:fail? (λ (e)
                                                   (println e)
                                                   (println pth)
                                                   (raise e))])
                        (file-size pth)))]
            [else
             bs])
          out))))))
```
(The `with-handlers` is from a previous attempt at debugging, which wasn't helpful.)</text>
  </message>
  <message conversation_id="483">
    <ts>2019-04-12T15:23:37.033300</ts>
    <user>Madelaine</user>
    <text>The issue is that I haven't yet managed to reproduce the error outside of walking these particular directories, which are many hundreds of GB.</text>
  </message>
  <message conversation_id="483">
    <ts>2019-04-12T15:26:35.034700</ts>
    <user>Katharine</user>
    <text>do you intend for `file-size` to call the field accessor of your `struct file` at the top there? that looks like what could be happening</text>
  </message>
  <message conversation_id="483">
    <ts>2019-04-12T15:41:42.035200</ts>
    <user>Gonzalo</user>
    <text>Yes, it seems like that should always fail.</text>
  </message>
  <message conversation_id="484">
    <ts>2019-04-12T15:43:08.036100</ts>
    <user>Gonzalo</user>
    <text>…which DrRacket’s binding arrows would make very clear, I might add. :)</text>
  </message>
  <message conversation_id="483">
    <ts>2019-04-12T15:48:08.037700</ts>
    <user>Madelaine</user>
    <text>Ugh. Yes, that would be the problem. I don't know why it seemed to work for some number of iterations into the loop … I guess I must not have been getting to the `file-exists?` case as early as I expected. Thanks, all.</text>
  </message>
  <message conversation_id="484">
    <ts>2019-04-12T16:06:40.041600</ts>
    <user>Julia</user>
    <text>Ah. So &lt;@Loma&gt; had the right intuition -- are we sure what what `file-size` is bound to?
&lt;@Gonzalo&gt; is right, the DrR binding arrows help with that, if you're using DrR and have background expansion on.
Otherwise go-to-definition is another sanity check.
(I'm typing this as captain-obvious postmortem notes for my own benefit.)</text>
  </message>
  <message conversation_id="484">
    <ts>2019-04-12T16:07:44.042900</ts>
    <user>Julia</user>
    <text>This reminds me, lately I've been experimenting more with capitalizing struct names.
At least, I was doing that with some prefab structs used for a light wire format.
That might have helped here. But I'm not sure that's a good argument for or against capitalizing struct names.</text>
  </message>
  <message conversation_id="484">
    <ts>2019-04-12T16:09:18.043600</ts>
    <user>Julia</user>
    <text>I guess it's really just: Racket lets you redefine _everything_. Which is awesome and usually isn't a problem.. but sometimes it is.</text>
  </message>
  <message conversation_id="485">
    <ts>2019-04-12T17:56:28.044300</ts>
    <user>Marcelina</user>
    <text>&lt;@Clarinda&gt; When you use `syntax-binding-set-extent`, what are the module path's resolved relative to?</text>
  </message>
  <message conversation_id="485">
    <ts>2019-04-12T17:56:48.044700</ts>
    <user>Marcelina</user>
    <text>(or I guess, does it just produce a syntax object with unresolved module path indexes.)</text>
  </message>
  <message conversation_id="485">
    <ts>2019-04-12T18:00:13.046100</ts>
    <user>Clarinda</user>
    <text>I think the MPIs should be built on some existing MPI, or they should be non-relative MPIs (i.e., don’t use `#f` as the base if the path is relative).</text>
  </message>
  <message conversation_id="485">
    <ts>2019-04-12T18:04:48.047200</ts>
    <user>Marcelina</user>
    <text>Sure, I just note that you can use the self module path (`(module-path-index-join #f #f)`) without any seeming errors.</text>
  </message>
  <message conversation_id="485">
    <ts>2019-04-12T18:07:08.047600</ts>
    <user>Marcelina</user>
    <text>LIke with:

```
(syntax-binding-set-&amp;gt;syntax
 (syntax-binding-set-extend
  (syntax-binding-set)
  'blue
  0
  (module-path-index-join #f #f))
  'hello)
```</text>
  </message>
  <message conversation_id="486">
    <ts>2019-04-14T04:54:38.052000</ts>
    <user>Neda</user>
    <text>Hi
Could anyone help me with the project I'm working on?
The project is to implement linear image filters. Could you give some advice that could help me with the project?
e.g. Is it OK to read image as bitmap, convert to color-list and work with the colors (pixels) or it is better to use flomap or something else?

P.S. I am new to racket</text>
  </message>
  <message conversation_id="486">
    <ts>2019-04-14T06:16:45.053500</ts>
    <user>Priscila</user>
    <text>&lt;@Neda&gt;   Since a linear filter requires you to use the color values for neighbouring pixels, I think a list-of-lists representation of the data will be slow.</text>
  </message>
  <message conversation_id="486">
    <ts>2019-04-14T06:17:30.053900</ts>
    <user>Priscila</user>
    <text>I think, flomaps will be better for your purpose.</text>
  </message>
  <message conversation_id="485">
    <ts>2019-04-14T09:56:34.054100</ts>
    <user>Priscila</user>
    <text>&lt;https://github.com/scheme-live/library.readscheme.org&gt;</text>
  </message>
  <message conversation_id="487">
    <ts>2019-04-14T11:04:34.055500</ts>
    <user>Lillian</user>
    <text>Is there a clever way to let DrRacket button functions access the top-level bindings in the current module? Or do you just have to pass things around with parameters?</text>
  </message>
  <message conversation_id="486">
    <ts>2019-04-14T11:09:51.056100</ts>
    <user>Priscila</user>
    <text>module-top-level declarations?</text>
  </message>
  <message conversation_id="487">
    <ts>2019-04-14T11:13:43.057300</ts>
    <user>Lillian</user>
    <text>And then … :thinking_face: IIUC the only argument a DrRacket button function gets is a reference to the window itself (that is, a UI object).</text>
  </message>
  <message conversation_id="486">
    <ts>2019-04-14T11:15:32.058400</ts>
    <user>Priscila</user>
    <text>Does (current-namespace) return a namespace containing an instantiation of the module?</text>
  </message>
  <message conversation_id="486">
    <ts>2019-04-14T11:17:24.059900</ts>
    <user>Priscila</user>
    <text>Just thinking aloud:  If the button callback only gets a reference to the UI object, is it possible to make anew drracket:frame that holds the information you need (so you can get it from the button)?</text>
  </message>
  <message conversation_id="486">
    <ts>2019-04-14T11:21:23.061200</ts>
    <user>Priscila</user>
    <text>The repl has a get-user-eventspace</text>
  </message>
  <message conversation_id="486">
    <ts>2019-04-14T11:21:32.061400</ts>
    <user>Priscila</user>
    <text>and a get-user-namespace</text>
  </message>
  <message conversation_id="486">
    <ts>2019-04-14T11:21:36.061600</ts>
    <user>Priscila</user>
    <text>&lt;https://docs.racket-lang.org/tools/drracket_rep.html?q=drracket%3Arep&gt;</text>
  </message>
  <message conversation_id="488">
    <ts>2019-04-14T11:50:17.063900</ts>
    <user>Lillian</user>
    <text>OK, that at least proves to me why the parameter approach won’t work (because DrRacket doesn’t reload the button function every time the definitions window is refreshed)</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-14T13:57:37.066000</ts>
    <user>Michelina</user>
    <text>I'm probably being thick, but is there a way to influence the pretty-print depth that rackunit uses when printing test failures? I've tried adjusting pretty-print-depth in the test module, and even calling a failing test with (parameterize ([pretty-print-depth 50)) ...), to no avail.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-14T13:58:30.066400</ts>
    <user>Gonzalo</user>
    <text>I am not certain whether or not this answer is right, but you might try adjusting `error-print-width`, instead: &lt;https://docs.racket-lang.org/reference/exns.html#%28def._%28%28quote._~23~25kernel%29._error-print-width%29%29&gt;</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-14T14:01:21.067400</ts>
    <user>Michelina</user>
    <text>that's a good guess (thanks!), but that doesn't seem to influence what I'm seeing</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-14T14:04:30.068400</ts>
    <user>Michelina</user>
    <text>fwiw, I'm using check-equal? (It's conceivable that other predicates do things differently. I seem to recall that check-match is really verbose when it reports a failure.)</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-14T14:12:01.069700</ts>
    <user>Michelina</user>
    <text>also fwiw, I've trying to print a list whose members are transparent structs. there may be some setting having to do with structs that's getting in my way</text>
  </message>
  <message conversation_id="490">
    <ts>2019-04-14T15:22:56.070600</ts>
    <user>Gonzalo</user>
    <text>IME, RackUnit sets a lot of things up in a way that makes them very awkward to customize. But my bet is that if you want to change that particular piece of behavior, you’ll have to drop down to `current-check-handler`. &lt;https://docs.racket-lang.org/rackunit/internals.html#%28def._%28%28lib._rackunit%2Fmain..rkt%29._current-check-handler%29%29&gt;</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-14T15:42:48.071000</ts>
    <user>Michelina</user>
    <text>that sounds like a good place to dig in -- thanks!</text>
  </message>
  <message conversation_id="491">
    <ts>2019-04-14T17:39:29.072800</ts>
    <user>Julia</user>
    <text>&lt;@Milissa&gt; Not exactly what you were asking, at least directly, but I've found &lt;https://docs.racket-lang.org/sexp-diff/index.html&gt; handy when a `check-equal?` fails and actual vs. expected are (say) two large-ish x-expressions. Might help for list of transparent structs, too, idk.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T00:02:10.073300</ts>
    <user>Michelina</user>
    <text>&lt;@Julia&gt; thanks!</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T00:02:54.074100</ts>
    <user>Michelina</user>
    <text>turns out it was a boneheaded mistake of mine -- I hadn't consistently defined ALL the structs I'm working with as transparent (just some of them). d'oh.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T01:55:53.074200</ts>
    <user>Michelina</user>
    <text>(oops, I missed this discussion [Slack newb])</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T01:56:30.074400</ts>
    <user>Michelina</user>
    <text>yeah, no 418 -- you can do that yourself if you want some easter eggs in your Racket-powered web app ;-&amp;gt;</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T01:57:55.074600</ts>
    <user>Michelina</user>
    <text>&lt;@Karen&gt; makes sense -- it seems pretty redundant to me in essentially all cases, though I can imagine apps that might respond differently to the same status code but different messages</text>
  </message>
  <message conversation_id="492">
    <ts>2019-04-15T11:43:50.075600</ts>
    <user>Kristeen</user>
    <text>This program has a surprising-to-me error:
```
#lang racket

(define-syntax (m stx)
  (syntax-case stx ()
    [(_ e1 )
     (local-expand #'e1 'module null)]))

(m (define x 1))
```
It says: `define-values: not allowed in an expression position`. But where is the expression position?</text>
  </message>
  <message conversation_id="492">
    <ts>2019-04-15T12:28:51.077100</ts>
    <user>Gonzalo</user>
    <text>&lt;@Kristeen&gt; You can’t expand `define-values`, enclosing contexts always partial expand and discover `define-values`, then handle the definition themselves (so `define-values` never handles itself). But I imagine you already knew that, so is the point you’re making just that the error message is confusing?</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T12:54:47.077400</ts>
    <user>Karen</user>
    <text>it's very confusing</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T13:08:59.079100</ts>
    <user>Gonzalo</user>
    <text>It could be changed to say something along the lines of “cannot be expanded directly, only partially expanded”, but ultimately the confusion of how definitions in general work seems hard to avoid (since the notion of partial expansion is a little non-obvious).</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T14:36:31.082100</ts>
    <user>Karen</user>
    <text>I think the underlying source of confusion is that `m` looks like it ought to be an identity macro of some sort, but `(m (define ...))` doesn't work in places where `(define ...)` works</text>
  </message>
  <message conversation_id="493">
    <ts>2019-04-15T14:52:27.085700</ts>
    <user>Gonzalo</user>
    <text>If `m` just expanded to `e1`, it would work fine, so I’m not sure what you mean by that.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T14:56:42.088100</ts>
    <user>Karen</user>
    <text>What I mean is, I think of `local-expand` as something that changes when expansion occurs, but not something that changes the _result_ of expansion. So if the only thing a macro does is `local-expand`, with nothing else going on whatsoever, I would intuit that it’s not doing anything at all and should act like an identity function.</text>
  </message>
  <message conversation_id="493">
    <ts>2019-04-15T15:05:03.089100</ts>
    <user>Gonzalo</user>
    <text>That is what I meant by “the notion of partial expansion is a little non-obvious”.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:09:32.091200</ts>
    <user>Karen</user>
    <text>Yes. I gather that this intuition does not work here. I’m saying that it’s a shame it doesn’t, and that the fact that it doesn’t is confusing.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:11:39.092200</ts>
    <user>Amira</user>
    <text>anyone know how to find the numbers of seconds in a day using `gregor`?
I've been looking for a function `f` where `(f (days 1))` gives the right number</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:12:01.092600</ts>
    <user>Karen</user>
    <text>&lt;@Amira&gt; I think you can’t, in general</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:13:13.093900</ts>
    <user>Amira</user>
    <text>No way. I'm not looking for the number of seconds in April 15th 2019. I just to know "how many seconds in 24 hours"?</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:14:28.095100</ts>
    <user>Karen</user>
    <text>but one day is not always equal to 24 hours</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:15:16.096100</ts>
    <user>Priscila</user>
    <text>Can period-between be used?</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:17:27.097500</ts>
    <user>Karen</user>
    <text>wait, nevermind I’m confused now:
&amp;gt; Gregor assumes that all days have exactly 86,400 seconds. Therefore, it is based fundamentally on mean solar time, or Univeral Time, and not on Coordinated Universal Time (UTC), the civil time scale adopted by most of the world. In the interest of reconciling the SI second to a close approximation of mean solar time, UTC occasionally inserts an extra leap second into a day.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:18:48.098400</ts>
    <user>Priscila</user>
    <text>wait, why are you confused now - you found the answer.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:19:06.099000</ts>
    <user>Amira</user>
    <text>no! 86400 is not the answer I want</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:19:12.099200</ts>
    <user>Karen</user>
    <text>I’m confused because I remember opening a github issue asking about this and getting a different answer of some sort</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:19:42.100300</ts>
    <user>Priscila</user>
    <text>@ben I know, so the answer is "no"  :wink:</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:19:43.100400</ts>
    <user>Amira</user>
    <text>but that's funny about the docs --- I was thinking &lt;@Karen&gt; was right and I should use a constant instead of going through gregor</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:20:11.101100</ts>
    <user>Amira</user>
    <text>I don't think period-between works</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:20:28.101600</ts>
    <user>Karen</user>
    <text>related: &lt;https://github.com/97jaz/gregor/issues/19&gt;</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:20:44.102000</ts>
    <user>Gonzalo</user>
    <text>I don’t understand why 86,400 is not the answer you want</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:21:03.102300</ts>
    <user>Priscila</user>
    <text>leap seconds!</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:21:27.102800</ts>
    <user>Gonzalo</user>
    <text>But if ben is explicitly _not_ looking for the number of seconds on a particular day, then how are leap seconds relevant?</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:21:35.103400</ts>
    <user>Priscila</user>
    <text>good point!</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:21:40.103700</ts>
    <user>Karen</user>
    <text>Oh wait, now I know why this is relevant: daylight savings time</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:21:53.104000</ts>
    <user>Gonzalo</user>
    <text>Even then, that would involve a specific day</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:22:16.104700</ts>
    <user>Gonzalo</user>
    <text>Unless &lt;@Amira&gt; is just saying he doesn’t want to write the magic number “86,400” in his code</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:22:49.105800</ts>
    <user>Gonzalo</user>
    <text>In that case, I think &lt;@Priscila&gt; is right, and `period-between` can get you there</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:22:52.106000</ts>
    <user>Karen</user>
    <text>my assumption is that a function `f` from `date-period?` to a number of seconds shouldn’t break the invariant that adding the original date period to a moment gives the same answer as adding `(seconds (f p))` does</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:23:49.106400</ts>
    <user>Amira</user>
    <text>but `period-between` expects datetimes, not periods</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:24:31.107200</ts>
    <user>Gonzalo</user>
    <text>Yes, you have to indirect through a date, since although days are always 86,400 seconds long, the same does not hold for other time units</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:25:08.107800</ts>
    <user>Gonzalo</user>
    <text>So you couldn’t have an operation that, say, converts `(months 1)` into seconds without knowing a specific month (since months vary in length)</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:26:20.109000</ts>
    <user>Gonzalo</user>
    <text>But if you’re relying on the assumption that all days have the same length, anyway (which you are, since you’re using a constant instead of recalculating it as-needed), then you can just make two datetimes exactly one day apart and use `period-between` on that.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:28:27.109200</ts>
    <user>Amira</user>
    <text>ok thanks everyone</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:38:29.109700</ts>
    <user>Shanell</user>
    <text>&lt;@Amira&gt; Number of seconds in a local day, then?</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:38:44.110000</ts>
    <user>Shanell</user>
    <text>You should be able to get that. Lemme take a look.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:39:10.110500</ts>
    <user>Shanell</user>
    <text>(Sorry, mentioned the wrong Ben initially.)</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:41:05.111800</ts>
    <user>Amira</user>
    <text>number of seconds in `(hours 24)` would be ok too</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:41:08.111900</ts>
    <user>Shanell</user>
    <text>But, to be clear:
- Gregor does not do proper UTC, so leap seconds won't be counted.
- A _local_ date can have a number of seconds different from 86,400.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:41:25.112300</ts>
    <user>Shanell</user>
    <text>That would always have to be 86,400. (Wow, I keep tagging the wrong Ben. I Slack poorly.)</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:42:24.113400</ts>
    <user>Shanell</user>
    <text>I think time-periods should be able to get you that info. But sometimes I forget what functionality is in gregor and what is in an unreleased successor to gregor. I'll check on all of this.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:46:09.115000</ts>
    <user>Shanell</user>
    <text>Huh. Looks like that function does not exist in gregor. I was looking for a `time-period-&amp;gt;seconds`, which is a perfectly sensible function (unlike `date-period-&amp;gt;seconds` which would be nonsense, unless you anchored the period to a particular date in a particular zone).</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:49:45.115800</ts>
    <user>Shanell</user>
    <text>Yeah, `datetime-lib` (again, unreleased) has a `time-period-&amp;gt;nanoseconds`. I don't see any reason not to add that to `gregor`, too.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:49:58.116100</ts>
    <user>Shanell</user>
    <text>Right now, I think the only way to get this is:
```
&amp;gt; (require gregor/period)
&amp;gt; (period-between (datetime 2000 1 1) (datetime 2000 1 2) '(seconds))
#&amp;lt;period of 86400 seconds&amp;gt;
```</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:50:03.116300</ts>
    <user>Shanell</user>
    <text>which others have mentioned</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T15:50:28.116600</ts>
    <user>Shanell</user>
    <text>(And which is clearly not convenient.)</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:17:28.119000</ts>
    <user>Karen</user>
    <text>&lt;@Shanell&gt; why would `date-period-&amp;gt;seconds` be unreasonable, exactly? Since date periods seem unrelated to any fixed point in time and leap seconds are ignored</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:20:19.120600</ts>
    <user>Shanell</user>
    <text>Because I wouldn't want these two things to produce different results:
- `(+date-period date-provider date-period)`
- `(+ seconds date-provider (date-period-&amp;gt;seconds date-period))`</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:21:01.121600</ts>
    <user>Shanell</user>
    <text>What it comes down to is that a `date-period` does not represent something that can be reduced to a number of seconds, unless you anchor it.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:21:13.121900</ts>
    <user>Shanell</user>
    <text>How many seconds are there in a month?</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:31:44.123600</ts>
    <user>Karen</user>
    <text>&lt;@Shanell&gt; Are there ever points in time where `(+time-period d (hours n))` is not equal to `(+time-period d (seconds (* 60 n)))`? Like, due to daylight savings time or something?</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:32:22.124400</ts>
    <user>Shanell</user>
    <text>Nope</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:33:15.126000</ts>
    <user>Shanell</user>
    <text>All time periods are reducible to nanoseconds, because of the "we do not care about leap seconds" rule.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:33:49.126800</ts>
    <user>Karen</user>
    <text>I think I’m just confused about what date periods are exactly. They don’t seem to be anchored to any points in time, but they also don’t represent a fixed amount of time because adding `(days 1)` is not always the same as adding `(hours 24)`</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:33:54.126900</ts>
    <user>Shanell</user>
    <text>Daylight savings time doesn't change the number of seconds in a minute or hour, or anything like that.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:34:26.127500</ts>
    <user>Shanell</user>
    <text>&lt;@Karen&gt; That's right. They represent abstract quantities which can be added to concrete date-providers.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:36:59.129500</ts>
    <user>Shanell</user>
    <text>They are also the result of a `period-between`, which starts with two concrete items. But this is admittedly more problematic. And `gregor` in fact handles this poorly. Witness:
```
&amp;gt; (period-between (date 2000 1 1) (date 2000 1 2) '(seconds))
#&amp;lt;period [empty]&amp;gt;
```</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:37:20.130000</ts>
    <user>Shanell</user>
    <text>The correct response is to reject the question, not to give a baffling answer.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:38:30.130300</ts>
    <user>Priscila</user>
    <text>Ok, that answer doesn't make sense.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:44:05.132200</ts>
    <user>Karen</user>
    <text>This is so weird to me because it’s not like other cases I think of as similar, like converting between yards and inches, where there’s two different abstract units for the same conceptual dimension. Here’s there’s two _distinct_ dimensions of time, where one is seconds and the other is these weird calendar days. They’re not measuring the same thing at all.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:44:27.132400</ts>
    <user>Shanell</user>
    <text>That's exactly right.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:46:05.132600</ts>
    <user>Karen</user>
    <text>What if we just…. never used date periods?</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:46:36.133200</ts>
    <user>Shanell</user>
    <text>There's no requirement to</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:46:57.133700</ts>
    <user>Shanell</user>
    <text>But I'm not going to get rid of date arithmetic, because that's genuinely useful.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:47:05.133900</ts>
    <user>Shanell</user>
    <text>Even though it's weird.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:47:37.134200</ts>
    <user>Karen</user>
    <text>yeah for things like recurring schedules it does make sense</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:48:43.136100</ts>
    <user>Karen</user>
    <text>I don’t want “do this every seven days, starting at midnight on this day” to oscillate back and forth between actually doing it at midnight and doing it at 1AM / 11PM based on how daylight savings time works out</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:49:05.136600</ts>
    <user>Shanell</user>
    <text>I should mention that the above example from `gregor` isn't problematic in `datetime-lib`, because there are separate `date-period-between`, `time-period-between`, and `period-between` functions, which have contracts limiting their use.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:50:59.138300</ts>
    <user>Karen</user>
    <text>I think a period like `(period [days 11] [seconds 42])` is weird because it’s implying that these units are compatible somehow</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:53:06.139200</ts>
    <user>Shanell</user>
    <text>Yeah, and we could just completely separate date and time periods. That might be better.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:55:14.141000</ts>
    <user>Karen</user>
    <text>Calling them date periods and time periods but not unifying them is also kind of confusing, because it makes you wonder why there aren’t generic period operations. Maybe if they were just called completely separate things?</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:56:11.141300</ts>
    <user>Shanell</user>
    <text>Makes sense</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T16:58:40.142800</ts>
    <user>Karen</user>
    <text>What do datetime libraries in other languages usually call these things? I think `time-period` is roughly equivalent to `java.time.Duration`</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T17:00:59.143400</ts>
    <user>Shanell</user>
    <text>Yeah, `java.time` has separate notions of Period and Duration, which roughly correspond to date and time periods in gregor.</text>
  </message>
  <message conversation_id="489">
    <ts>2019-04-15T17:02:33.144800</ts>
    <user>Karen</user>
    <text>hmmm, and they do have a common `TemporalAmount` interface and they specify that `Duration` assumes fixed 24-hour days while `Period` doesn’t (because it doesn’t represent fractions of days at all)</text>
  </message>
  <message conversation_id="494">
    <ts>2019-04-16T16:00:09.149300</ts>
    <user>Leticia</user>
    <text>hm, is there a generic interface to making pict-convertibles? Or are we stuck with structure properties?</text>
  </message>
  <message conversation_id="494">
    <ts>2019-04-16T16:05:02.150300</ts>
    <user>Leticia</user>
    <text>Also, are there any good guide or tutorials on using `framework` to make GUI applications? I’ve been looking around it’s documentation but I’m a little unsure how all these pieces fit together.</text>
  </message>
  <message conversation_id="494">
    <ts>2019-04-16T16:05:57.150700</ts>
    <user>Priscila</user>
    <text>&lt;@Leticia&gt; Take a look at Alex' blog: &lt;https://alex-hhh.github.io/tags/racket.html&gt;</text>
  </message>
  <message conversation_id="494">
    <ts>2019-04-16T16:06:13.151100</ts>
    <user>Priscila</user>
    <text>Start here: &lt;https://alex-hhh.github.io/2018/10/chess-game-using-racket-s-pasteboard.html&gt;</text>
  </message>
  <message conversation_id="494">
    <ts>2019-04-16T17:02:30.152900</ts>
    <user>Tambra</user>
    <text>&lt;@Leticia&gt; there is not. (tho i see that you might have opened a PR for one a year or so ago? &lt;https://github.com/racket/pict/pull/46&gt; )</text>
  </message>
  <message conversation_id="495">
    <ts>2019-04-16T17:07:09.154400</ts>
    <user>Tambra</user>
    <text>(FWIW that PR is just missing docs and some tests I think)</text>
  </message>
  <message conversation_id="496">
    <ts>2019-04-16T18:09:36.157100</ts>
    <user>Marcelina</user>
    <text>&lt;@Clarinda&gt; Is there any case where the datum in `syntax-binding-set-&amp;gt;syntax` does not need to match the symbol in `syntax-binding-set-extend`? The docs seem to indicate that it just leads to a differently named syntax object (like, say, with `rename-in`), but whenever I do that `identifier-binding` just returns that the syntax is unbound.</text>
  </message>
  <message conversation_id="496">
    <ts>2019-04-16T18:10:21.157600</ts>
    <user>Marcelina</user>
    <text>For example:

```
(identifier-binding
  (syntax-binding-set-&amp;gt;syntax
   (syntax-binding-set-extend
    (syntax-binding-set)
    'foo
    0
    (module-path-index-join #f #f))
   'foo))
```

returns
`'(#&amp;lt;module-path-index&amp;gt; foo #&amp;lt;module-path-index&amp;gt; foo 0 0 0)`</text>
  </message>
  <message conversation_id="496">
    <ts>2019-04-16T18:10:34.158000</ts>
    <user>Marcelina</user>
    <text>but replace the second `foo` with `bar` results in a `#f`.</text>
  </message>
  <message conversation_id="496">
    <ts>2019-04-16T18:14:30.158500</ts>
    <user>Gonzalo</user>
    <text>&lt;@Marcelina&gt; It could be relevant if the lexical information of the resulting syntax object is copied onto a different datum using `datum-&amp;gt;syntax`.</text>
  </message>
  <message conversation_id="496">
    <ts>2019-04-16T18:14:52.158800</ts>
    <user>Gonzalo</user>
    <text>Otherwise I don’t think it does anything, no.</text>
  </message>
  <message conversation_id="496">
    <ts>2019-04-16T18:18:50.159500</ts>
    <user>Marcelina</user>
    <text>&lt;@Gonzalo&gt; Oh, so something like this?:

```
(datum-&amp;gt;syntax
 (syntax-binding-set-&amp;gt;syntax
  (syntax-binding-set-extend
   (syntax-binding-set)
   'foo
   0
   (module-path-index-join #f #f))
  'bar)
 'foo)
```
Odd, but okay, thanks.</text>
  </message>
  <message conversation_id="496">
    <ts>2019-04-16T18:19:52.159700</ts>
    <user>Gonzalo</user>
    <text>Yes, that’s right.</text>
  </message>
  <message conversation_id="497">
    <ts>2019-04-16T19:18:31.159900</ts>
    <user>Leticia</user>
    <text>oh yeah… I knew this felt familiar. :wink:</text>
  </message>
  <message conversation_id="497">
    <ts>2019-04-16T19:18:36.160100</ts>
    <user>Leticia</user>
    <text>I suppose I should get on that…</text>
  </message>
  <message conversation_id="498">
    <ts>2019-04-16T19:54:12.161500</ts>
    <user>Karen</user>
    <text>Whoa, I did not realize that `syntax-binding-set` was a thing. That's been around since 7.1 (ish)?</text>
  </message>
  <message conversation_id="499">
    <ts>2019-04-17T03:29:10.161600</ts>
    <user>Deneen</user>
    <text>Another student asked me this same exact question tonight! Which has then motivated me to take screenshots of this convo so they don’t disappear to history. Saved now and transferring to blog.</text>
  </message>
  <message conversation_id="496">
    <ts>2019-04-17T15:42:08.162300</ts>
    <user>Julia</user>
    <text>Got a little more time to whack away at this:
&lt;https://racket.slack.com/archives/C06V96CKX/p1554125931119100&gt;</text>
  </message>
  <message conversation_id="496">
    <ts>2019-04-17T15:42:16.162600</ts>
    <user>Julia</user>
    <text>And so far have this: &lt;https://github.com/greghendershott/sha/blob/b2965395c761cb271b02d8ce23a60f0f4de7ce69/.circleci/config.yml&gt;</text>
  </message>
  <message conversation_id="496">
    <ts>2019-04-17T15:42:41.163200</ts>
    <user>Julia</user>
    <text>Which seems to work but also I don't really know what I'm doing.</text>
  </message>
  <message conversation_id="496">
    <ts>2019-04-17T15:43:24.163900</ts>
    <user>Julia</user>
    <text>I can't seem to show you a URL for the public project that shows you "it works". Unlike Travis CI, it seems you need to be logged in to see it?</text>
  </message>
  <message conversation_id="496">
    <ts>2019-04-17T16:14:35.166900</ts>
    <user>Karen</user>
    <text>&lt;@Julia&gt; it's not just you, their entire docs site is disorienting and confusing to me too</text>
  </message>
  <message conversation_id="500">
    <ts>2019-04-17T16:15:11.167900</ts>
    <user>Karen</user>
    <text>Figuring out the very basic config took me a very long time</text>
  </message>
  <message conversation_id="496">
    <ts>2019-04-17T16:40:23.171000</ts>
    <user>Lavette</user>
    <text>&lt;@Julia&gt; you could reduce the amount of job declarations by making the version a parameter, something like this (untested):
```
jobs:
  racket:
    parameters:
        version:
            description: Racket version
            type: string
    &amp;lt;&amp;lt;: *shared
    docker:
      - image: jackfirth/racket:&amp;lt;&amp;lt;parameters.version&amp;gt;&amp;gt;
```</text>
  </message>
  <message conversation_id="501">
    <ts>2019-04-17T16:41:47.172200</ts>
    <user>Lavette</user>
    <text>And then the `workflows` section becomes something like this:
````
jobs:
    - racket:
        version: 6.2
    - racket:
        version: 6.4
...
```</text>
  </message>
  <message conversation_id="501">
    <ts>2019-04-17T16:45:43.173000</ts>
    <user>Lavette</user>
    <text>Note that you need to change to `version: 2.1` to enable `parameters` and other "reusable config" features - see &lt;https://circleci.com/docs/2.0/reusing-config/#section=configuration&gt;</text>
  </message>
  <message conversation_id="496">
    <ts>2019-04-17T16:48:34.174600</ts>
    <user>Karen</user>
    <text>I hear there's something called "orbs" that you can use to publish reusable bits of circleci config but I really have no idea how that works</text>
  </message>
  <message conversation_id="501">
    <ts>2019-04-17T16:52:21.175200</ts>
    <user>Lavette</user>
    <text>Yes - it's not too bad. I just wrote my first orb: &lt;https://github.com/zzamboni/leanpub-orb&gt;</text>
  </message>
  <message conversation_id="501">
    <ts>2019-04-17T16:52:40.175600</ts>
    <user>Lavette</user>
    <text>(not Racket related I'm afraid)</text>
  </message>
  <message conversation_id="501">
    <ts>2019-04-17T16:54:09.176100</ts>
    <user>Lavette</user>
    <text>It's basically a config file with `jobs` and `commands` sections, plus some metadata</text>
  </message>
  <message conversation_id="501">
    <ts>2019-04-17T16:54:20.176300</ts>
    <user>Lavette</user>
    <text>&lt;https://circleci.com/docs/2.0/creating-orbs/#section=configuration&gt;</text>
  </message>
  <message conversation_id="501">
    <ts>2019-04-17T16:58:25.177300</ts>
    <user>Marcelina</user>
    <text>&lt;@Clarinda&gt; Just another quick ping, do you know who I responsible for Racket's OpenGL context on windows?</text>
  </message>
  <message conversation_id="501">
    <ts>2019-04-17T16:58:53.178100</ts>
    <user>Marcelina</user>
    <text>(Asking you because git blame shows you touched it last.)</text>
  </message>
  <message conversation_id="501">
    <ts>2019-04-17T16:58:54.178200</ts>
    <user>Clarinda</user>
    <text>I think I implemented it long ago, but I haven’t looked in a while</text>
  </message>
  <message conversation_id="501">
    <ts>2019-04-17T16:59:00.178400</ts>
    <user>Marcelina</user>
    <text>Ah, I see.</text>
  </message>
  <message conversation_id="501">
    <ts>2019-04-17T16:59:21.178900</ts>
    <user>Marcelina</user>
    <text>Unfortunately it doesn't work for intel graphics chips. :disappointed:</text>
  </message>
  <message conversation_id="501">
    <ts>2019-04-17T16:59:31.179200</ts>
    <user>Marcelina</user>
    <text>(On windows)</text>
  </message>
  <message conversation_id="501">
    <ts>2019-04-17T16:59:53.179700</ts>
    <user>Marcelina</user>
    <text>Unfortunately, Ben Chung and I, have made relatively little progress in tracking down the problem.</text>
  </message>
  <message conversation_id="501">
    <ts>2019-04-17T17:21:06.180500</ts>
    <user>Lavette</user>
    <text>&lt;@Julia&gt; I've also had good experiences asking for help in the CircleCI forums (&lt;https://discuss.circleci.com&gt;), I've always received useful answers from CircleCI employees.</text>
  </message>
  <message conversation_id="501">
    <ts>2019-04-17T17:28:09.182700</ts>
    <user>Julia</user>
    <text>&lt;@Lavette&gt; Thanks for all the tips!! I'll check it out probably tomorrow. (My brain's API seems to have a daily rate limit for build infrastructure ████ery :smile:)</text>
  </message>
  <message conversation_id="501">
    <ts>2019-04-17T17:31:55.183400</ts>
    <user>Lavette</user>
    <text>Glad to help. I've been deep in CircleCI-land lately, so I'd be happy to help if I can.</text>
  </message>
  <message conversation_id="501">
    <ts>2019-04-17T18:45:41.184200</ts>
    <user>Marcelina</user>
    <text>&lt;@Julia&gt; "████ery"....I see your brain is also running low on characters too. :stuck_out_tongue:</text>
  </message>
  <message conversation_id="502">
    <ts>2019-04-17T19:55:57.186300</ts>
    <user>Gonzalo</user>
    <text>&lt;@Clarinda&gt; Does the determinism guarantee about `equal-hash-code`’s result on `read`-able values still hold even if the value _isn’t_ interned? That is, can I rely upon `equal-hash-code` always producing the same value for two strings that are composed of the same character sequence, even if they don’t exist at the same time and are _not_ interned? Or would I have to call `datum-intern-literal` first in order to get the guarantee?</text>
  </message>
  <message conversation_id="502">
    <ts>2019-04-17T19:56:39.187300</ts>
    <user>Gonzalo</user>
    <text>As far as I can tell, the property holds today for non-interned strings, at least on 3m. But I don’t know if that’s implied to be guaranteed.</text>
  </message>
  <message conversation_id="502">
    <ts>2019-04-17T19:56:41.187400</ts>
    <user>Clarinda</user>
    <text>Yes, the guarantee is meant to hold</text>
  </message>
  <message conversation_id="502">
    <ts>2019-04-17T19:56:51.187600</ts>
    <user>Gonzalo</user>
    <text>Okay, thanks!</text>
  </message>
  <message conversation_id="503">
    <ts>2019-04-17T21:07:24.187800</ts>
    <user>Karen</user>
    <text>By "don't exist at the same time", do you mean within the confines of a single run of the racket VM or do you mean across all eternity?</text>
  </message>
  <message conversation_id="503">
    <ts>2019-04-17T21:11:29.188000</ts>
    <user>Gonzalo</user>
    <text>I mean “across multiple runs of the Racket VM”, but not across all eternity—I don’t care if they’re different on different machines or with different versions of Racket.</text>
  </message>
  <message conversation_id="503">
    <ts>2019-04-17T21:12:29.188200</ts>
    <user>Gonzalo</user>
    <text>The documentation is a little vague on how strong the guarantee is with respect to those differences, though.</text>
  </message>
  <message conversation_id="502">
    <ts>2019-04-17T21:50:15.188400</ts>
    <user>Clarinda</user>
    <text>The hash code sometimes changes across versions, and it changes across VMs.</text>
  </message>
  <message conversation_id="504">
    <ts>2019-04-17T23:03:26.188600</ts>
    <user>Julia</user>
    <text>I remember it changed a few years ago because I'd written a test that assumed an order: &lt;https://github.com/greghendershott/flexpr/issues/7&gt;</text>
  </message>
  <message conversation_id="505">
    <ts>2019-04-17T23:48:41.189100</ts>
    <user>Enoch</user>
    <text>&lt;https://docs.racket-lang.org/reference/__top.html#%28form._%28%28quote._~23~25kernel%29._~23~25top%29%29&gt;
I'm confused about the usage of `#%top`.
why the result is `5` instead of `12`?</text>
  </message>
  <message conversation_id="504">
    <ts>2019-04-18T02:05:03.189800</ts>
    <user>Julia</user>
    <text>I don't understand that, either.</text>
  </message>
  <message conversation_id="504">
    <ts>2019-04-18T02:06:33.190900</ts>
    <user>Julia</user>
    <text>Also, that's in a REPL at the top-level.
In a module, e.g.
```
(module m racket/base
  (define x 42)
  (let ([x 5]) (#%top . x)))
```
the result is an error:
```
top.rkt:3:24: x: unbound identifier
  in: x
  context...:
   #(536 local) #(537 intdef) #(538 local) #(539 intdef) [common scopes]
  matching binding...:
   #(x #&amp;lt;module-path-index='m[1578]&amp;gt; 0)
   [common scopes]
  matching binding...:
   local
   #(536 local) #(537 intdef) #(538 local) [common scopes]
  common scopes...:
   #(9 module) #(411 module m)
  location...:
   top.rkt:3:24
  context...:
   do-raise-syntax-error
   for-loop
   finish-bodys
   for-loop
   finish-bodys
   lambda-clause-expander
   for-loop
   loop
   [repeats 2 more times]
   module-begin-k
   expand-module16
   expand-capturing-lifts
   temp118_0
   temp91_0
   compile15
   temp85_0
   ...
```</text>
  </message>
  <message conversation_id="505">
    <ts>2019-04-18T02:27:57.191800</ts>
    <user>Ashlea</user>
    <text>Looks like a bug, the old documents say it should be 12 &lt;https://download.racket-lang.org/releases/6.12/doc/reference/__top.html&gt;</text>
  </message>
  <message conversation_id="506">
    <ts>2019-04-18T08:56:34.192600</ts>
    <user>Kristeen</user>
    <text>If it changed then, it was most likely a result of the new expander implementation</text>
  </message>
  <message conversation_id="507">
    <ts>2019-04-18T12:05:02.195900</ts>
    <user>Elin</user>
    <text>That interaction evaluates to `5` in the 7.2 DrRacket repl, the 6.1.1 DrRacket repl, and the 6.0 DrRacket repl</text>
  </message>
  <message conversation_id="507">
    <ts>2019-04-18T12:06:32.197300</ts>
    <user>Amira</user>
    <text>Can someone with a clone of typed racket:
1. make a new file `typed-racket/typed-racket-lib/typed-racket/a.rkt` with the contents below
2. run `raco make a.rkt`
```
#lang racket/base
(require (rename-in "utils/utils.rkt")
         (utils utils tc-utils arm))
```
?

Today I'm seeing `module: identifier already required`. The error goes away if "utils/utils.rkt" is changed to `typed-racket/utils/utils`</text>
  </message>
  <message conversation_id="507">
    <ts>2019-04-18T12:23:54.199100</ts>
    <user>Elin</user>
    <text>By the way &lt;@Enoch&gt;, if you’re looking at `#%top` because you want to refer to a top-level variable for some reason, you can use a macro for that:
```
&amp;gt; (declare-scope top)
&amp;gt; (define x 12)
&amp;gt; (let ([x 5]) (in-scope top x))
12
```
If `declare-scope` and `in-scope` are defined like this:</text>
  </message>
  <message conversation_id="508">
    <ts>2019-04-18T13:27:10.202400</ts>
    <user>Gonzalo</user>
    <text>&lt;@Clarinda&gt; Is there any way to create a “weak” log receiver, i.e. a receiver that does not contribute towards whether or not `log-level?` returns `#t`? My first thought was to use `log-level-evt` to listen for when a receiver was destroyed and remove my receiver, but then I realized that isn’t guaranteed to work, since `log-level-evt` might not become ready for synchronization if the receiver is destroyed while I’m also listening to the logger.</text>
  </message>
  <message conversation_id="508">
    <ts>2019-04-18T13:44:21.203500</ts>
    <user>Clarinda</user>
    <text>I don’t think it’s possible to achieve that goal. The last time I wanted something similar, I was trying to set up forwarding, and that’s where `log-all-levels` and `log-level-evt` came from (although I don’t remember whether `log-level-evt` worked out).</text>
  </message>
  <message conversation_id="508">
    <ts>2019-04-18T13:46:51.205400</ts>
    <user>Gonzalo</user>
    <text>That’s okay… I think I can emulate it for my particular use case by adding some indirection: I think I can create two loggers instead of one, and I can send messages into the child and listen to the parent. That way, if I add my “weak” listeners to the child, then they won’t contribute to the return value of `log-level?` for the parent. Still, I thought I’d ask in case there was a much easier way I was overlooking.</text>
  </message>
  <message conversation_id="509">
    <ts>2019-04-18T14:31:54.209000</ts>
    <user>Dolly</user>
    <text>Hello. I am relatively new to Racket and still learning my way through the different libraries. I am having trouble printing Mayan numerals in the IDE. According to Wikipedia &lt;https://en.wikipedia.org/wiki/Maya_numerals#Unicode&gt; mayan numerals were added to Unicode 12 in 2018. When I use the code "\u1D2E0" (mayan numeral for 0)  I do not get the correct symbol in REPL. Can anyone direct me on where I should read or how to investigate this? Thanks in advance!</text>
  </message>
  <message conversation_id="509">
    <ts>2019-04-18T14:35:43.211400</ts>
    <user>Gonzalo</user>
    <text>I think that might just be an issue with the REPL. If I remember correctly, the default line editing library that Racket uses (which isn’t readline, to avoid the GPL) doesn’t handle Unicode very well.</text>
  </message>
  <message conversation_id="509">
    <ts>2019-04-18T14:35:59.211600</ts>
    <user>Kristeen</user>
    <text>I get "ᴮ0" at the repl</text>
  </message>
  <message conversation_id="509">
    <ts>2019-04-18T14:40:30.212800</ts>
    <user>Gonzalo</user>
    <text>I guess I do, too, which is also what I get not in the REPL. Looking more carefully, I think the issue is that `\u1D2E0` doesn’t do what you want—if you look at &lt;https://docs.racket-lang.org/reference/reader.html#%28part._parse-string%29&gt;, `\u` escapes only work with up to four digits. So I think you need `\U`, instead.</text>
  </message>
  <message conversation_id="509">
    <ts>2019-04-18T14:41:47.213700</ts>
    <user>Gonzalo</user>
    <text>If I evaluate `(displayln "\U1D2E0")`, I get 𝋠 both in the REPL and outside of it (though my computer does not have a font that can actually render that glyph).</text>
  </message>
  <message conversation_id="509">
    <ts>2019-04-18T14:41:52.213900</ts>
    <user>Gonzalo</user>
    <text>&lt;@Dolly&gt; ^</text>
  </message>
  <message conversation_id="509">
    <ts>2019-04-18T14:46:17.215400</ts>
    <user>Julia</user>
    <text>It's interesting that `(display "\U1D2E0")` is `𝋠` but `(print "\U1D2E0")` is `"\U0001D2E0"`.
That's not the case for say `"\u1234"` or `"\U1234"`.</text>
  </message>
  <message conversation_id="509">
    <ts>2019-04-18T14:57:54.218000</ts>
    <user>Dolly</user>
    <text>&lt;@Julia&gt; &lt;@Gonzalo&gt; Those are the results that I get too. I did not know about \U so thanks for that lead. I have generally remained comfortably ignorant of unicode/programming magical implementations (it is on my to learn bucket list). I suspect that there is some place to read what version of Unicode Racket has implemented and how one might go about manually updating it? I am willing to do the "grunt" work and contribute it to the community if that would helpful to folks.</text>
  </message>
  <message conversation_id="509">
    <ts>2019-04-18T14:58:03.218300</ts>
    <user>Gonzalo</user>
    <text>&lt;@Julia&gt; I believe that is because Racket’s unicode database has not been updated in a little while, and it doesn’t know that `\U1D2E0` is a graphic character.</text>
  </message>
  <message conversation_id="510">
    <ts>2019-04-18T15:02:26.221200</ts>
    <user>Dolly</user>
    <text>In the interim I still marvel that image is a primitive. That is bananas and I am scratching the surface on how useful that is going to be in teaching and developing. For what I am playing around with now it will be supercool to use to display my Mayan calculator.  (Unicode would be cool too)</text>
  </message>
  <message conversation_id="509">
    <ts>2019-04-18T15:03:55.221400</ts>
    <user>Kristeen</user>
    <text>see &lt;https://github.com/racket/racket/blob/master/racket/src/racket/src/mk-uchar.rkt&gt; among other places</text>
  </message>
  <message conversation_id="511">
    <ts>2019-04-18T15:28:52.222300</ts>
    <user>Hallie</user>
    <text>Has anyone heard of newly announced Bosque language from Microsoft: &lt;https://github.com/Microsoft/BosqueLanguage&gt;</text>
  </message>
  <message conversation_id="511">
    <ts>2019-04-18T15:29:00.222600</ts>
    <user>Hallie</user>
    <text>&lt;https://www.microsoft.com/en-us/research/uploads/prod/2019/04/beyond_structured_report_v2.pdf&gt;</text>
  </message>
  <message conversation_id="511">
    <ts>2019-04-18T15:29:55.223500</ts>
    <user>Hallie</user>
    <text>Can anyone versed in Programming Language Theory explain how is it different from... functional programming?</text>
  </message>
  <message conversation_id="511">
    <ts>2019-04-18T16:01:11.223700</ts>
    <user>Kristeen</user>
    <text>I was just looking at it</text>
  </message>
  <message conversation_id="511">
    <ts>2019-04-18T16:01:32.224000</ts>
    <user>Kristeen</user>
    <text>it's really just functional programming</text>
  </message>
  <message conversation_id="511">
    <ts>2019-04-18T16:05:51.225000</ts>
    <user>Hallie</user>
    <text>thanks, that was my initial impression, but I guess everything coming from tech giants must be hyped because... reasons :slightly_smiling_face:</text>
  </message>
  <message conversation_id="511">
    <ts>2019-04-18T16:10:41.225400</ts>
    <user>Kristeen</user>
    <text>I think "coming from tech giants" is the wrong way to think about that</text>
  </message>
  <message conversation_id="511">
    <ts>2019-04-18T16:11:01.225800</ts>
    <user>Kristeen</user>
    <text>"dude at MSR created a language with his ideas about programming"</text>
  </message>
  <message conversation_id="511">
    <ts>2019-04-18T16:11:21.226200</ts>
    <user>Joseph</user>
    <text>the same thing is all over academia</text>
  </message>
  <message conversation_id="511">
    <ts>2019-04-18T16:12:34.226800</ts>
    <user>Hallie</user>
    <text>you are probably right</text>
  </message>
  <message conversation_id="511">
    <ts>2019-04-18T16:13:54.227600</ts>
    <user>Joseph</user>
    <text>sadly, that's just how you rally interest and money</text>
  </message>
  <message conversation_id="511">
    <ts>2019-04-18T16:16:20.229400</ts>
    <user>Hallie</user>
    <text>I used to work with 2 nobel prize laureates (not in the reasearch capacity) and it frustrated me to no end when I realised how much time they had to spend fighting for grants and "selling" themselves and their team's reasearch</text>
  </message>
  <message conversation_id="511">
    <ts>2019-04-18T16:17:36.230100</ts>
    <user>Hallie</user>
    <text>if they had to do it, what about the rest of academia...</text>
  </message>
  <message conversation_id="511">
    <ts>2019-04-18T16:23:05.230900</ts>
    <user>Joseph</user>
    <text>it's definitely a full-time job</text>
  </message>
  <message conversation_id="512">
    <ts>2019-04-18T17:08:32.231400</ts>
    <user>Dolly</user>
    <text>thanks for this I will give it a try.</text>
  </message>
  <message conversation_id="513">
    <ts>2019-04-18T19:02:14.232800</ts>
    <user>Laverna</user>
    <text>while doing a `dynamic-require`, i get a very long error (hundreds of lines?) that starts with this: `racket/contract: no late-neg-projection passed to build-chaperone-contract-property`</text>
  </message>
  <message conversation_id="513">
    <ts>2019-04-18T19:03:18.233400</ts>
    <user>Laverna</user>
    <text>the only reference to that error is &lt;https://github.com/racket/drracket/issues/214&gt; but it doesn't really have any info that helps me figure out what's happening.</text>
  </message>
  <message conversation_id="513">
    <ts>2019-04-18T19:03:36.233700</ts>
    <user>Laverna</user>
    <text>(i'm using racket 7.2)</text>
  </message>
  <message conversation_id="513">
    <ts>2019-04-18T19:05:32.234500</ts>
    <user>Laverna</user>
    <text>my code is relatively short, and maybe there's a better way to do what i'm trying to do:</text>
  </message>
  <message conversation_id="513">
    <ts>2019-04-18T19:05:46.234700</ts>
    <user>Laverna</user>
    <text>```
(define (set-domain domain-str)
  (let* ([temp-file (make-temporary-file)]
         [module temp-file])
    (log-info "Writing domain to ~A" temp-file)
    (display-to-file domain-str temp-file #:exists 'truncate)
    (let ([initial-state (dynamic-require module 'initial-state)])
      (log-info "initial-state: ~S" initial-state))))
```</text>
  </message>
  <message conversation_id="513">
    <ts>2019-04-18T19:06:21.235400</ts>
    <user>Laverna</user>
    <text>`domain-str` contains the code i want to require.  the contents look like this:
```
#lang racket
(provide initial-state)
(define initial-state '(it-worked))
```</text>
  </message>
  <message conversation_id="513">
    <ts>2019-04-18T19:09:56.235900</ts>
    <user>Laverna</user>
    <text>my goal is to be able to load code over the network that contains definitions my code will use.</text>
  </message>
  <message conversation_id="513">
    <ts>2019-04-18T19:14:34.236000</ts>
    <user>Mai</user>
    <text>Didn’t see this problem in 7.2.</text>
  </message>
  <message conversation_id="514">
    <ts>2019-04-18T19:28:43.236800</ts>
    <user>Amira</user>
    <text>can you set `PLTSTDERR="error info@xxx"` for some `xxx`?</text>
  </message>
  <message conversation_id="514">
    <ts>2019-04-18T19:29:05.237300</ts>
    <user>Amira</user>
    <text>(and make a new logger with `define-logger` instead of using `log-info`)</text>
  </message>
  <message conversation_id="513">
    <ts>2019-04-18T19:30:27.237900</ts>
    <user>Laverna</user>
    <text>is there some additional specific info you're looking for?  i didn't include the approx. 500 other lines that were output.</text>
  </message>
  <message conversation_id="513">
    <ts>2019-04-18T19:30:54.238300</ts>
    <user>Amira</user>
    <text>it sounds like you're seeing the normal output that gets printed at the info level</text>
  </message>
  <message conversation_id="514">
    <ts>2019-04-18T19:32:49.239300</ts>
    <user>Amira</user>
    <text>if I make an empty file (`#lang racket/base`) and compile it with `PLTSTDERR="info" raco make file.rkt` then it prints ~180 lines of output</text>
  </message>
  <message conversation_id="513">
    <ts>2019-04-18T19:33:49.240000</ts>
    <user>Amira</user>
    <text>so, I'm suggesting to not listen at the info level in general if you can avoid it</text>
  </message>
  <message conversation_id="514">
    <ts>2019-04-18T19:36:07.240200</ts>
    <user>Laverna</user>
    <text>ah, i see.</text>
  </message>
  <message conversation_id="514">
    <ts>2019-04-18T19:36:39.240900</ts>
    <user>Laverna</user>
    <text>right, now i see buried in the output... i actually got the results i expected, it wasn't an error at all.</text>
  </message>
  <message conversation_id="515">
    <ts>2019-04-18T22:58:43.242300</ts>
    <user>Julia</user>
    <text>These defaults are used by `racket-logger-mode`, you could do something in DrRacket or the `PLTSTDERR` env var: &lt;https://github.com/greghendershott/racket-mode/blob/master/racket-custom.el#L293-L299&gt;</text>
  </message>
  <message conversation_id="515">
    <ts>2019-04-18T23:01:42.243300</ts>
    <user>Julia</user>
    <text>Some lines down, in the doc str, is the rationale:
&amp;gt; The default value sets some known "noisy" topics to be one
&amp;gt; level quieter. That way you can set the '* topic to a level like
&amp;gt; 'debug and not get overhwelmed by these noisy topics.</text>
  </message>
  <message conversation_id="515">
    <ts>2019-04-18T23:04:34.244800</ts>
    <user>Julia</user>
    <text>To be clear, what &lt;@Amira&gt; suggested is simpler. What I'm describing is only in case you wanted to see exceptional logger output from these other topics, just not "noise".</text>
  </message>
  <message conversation_id="516">
    <ts>2019-04-19T06:53:39.245400</ts>
    <user>Zada</user>
    <text>hi all, finally wrote something about my wip language Fairylog, for programming FPGAs &lt;http://pinksquirrellabs.com/blog/2019/04/17/fairylog/&gt;</text>
  </message>
  <message conversation_id="516">
    <ts>2019-04-19T09:02:07.246400</ts>
    <user>Kristeen</user>
    <text>&lt;@Zada&gt; very cool!</text>
  </message>
  <message conversation_id="517">
    <ts>2019-04-19T12:45:29.249200</ts>
    <user>Karen</user>
    <text>Philosophy and terminology question: if modules can enter contacts with each other, does that mean modules have rights? If there was a "software module bill of rights" what would you expect it to contain?</text>
  </message>
  <message conversation_id="517">
    <ts>2019-04-19T13:04:08.250100</ts>
    <user>Eileen</user>
    <text>&lt;@Karen&gt; have you seen this? &lt;https://www.youtube.com/watch?v=LIEX3tUliHw&gt;</text>
  </message>
  <message conversation_id="517">
    <ts>2019-04-19T13:04:23.250600</ts>
    <user>Eileen</user>
    <text>(maybe related content)</text>
  </message>
  <message conversation_id="517">
    <ts>2019-04-19T13:12:25.257100</ts>
    <user>Karen</user>
    <text>&lt;@Eileen&gt; Yes! It's what originally got me thinking about whether or not the term "bill of rights" makes sense for more kinds of code than just macro implementations</text>
  </message>
  <message conversation_id="517">
    <ts>2019-04-19T13:18:03.263400</ts>
    <user>Eileen</user>
    <text>I think that at a base level provides give the right to access a name.  And with contracts (and blame) modules have the right that those names will deal with certain values.</text>
  </message>
  <message conversation_id="517">
    <ts>2019-04-19T13:18:52.264200</ts>
    <user>Eileen</user>
    <text>(or rather "access a value with a specific name")</text>
  </message>
  <message conversation_id="517">
    <ts>2019-04-19T13:27:47.269400</ts>
    <user>Elin</user>
    <text>1. Free speech: a module has the right to provide bindings with data, print stuff, open gui windows, etc. when run.
3. Soldiers need consent before staying in someone’s house: a module has the right to guard its functions with contracts that say `(not/c soldier?)`.
4. Unreasonable search and seizure: Encapsulation and being able to hide information from inspectors? For this to work no one should be able to get a root-inspector unless they have a warrant with probable cause, so this right isn’t being protected completely.
5. Due-process, no double-jeopordy, no forced self-incrimination, etc: When a contract blames a module, it must have the correct reasons, it can’t just assign blame without a proper trial. A contract can’t blame a module twice for the same contract-value instance. A module can’t be forced to blame itself for a contract it didn’t invoke. This right is violated all the time. The `contract` form just takes positive and negative blame as arguments and trusts the programer, the module being blamed doesn’t have any say in that.
6. Trial, impartial jury, right to legal counsel and witnesses in your favor: When a contract blames a module it has a right to a trial with legal counsel to defend it? When a contract blames a module there is no trial, the programmer just assumes it’s guilty. This right is also violated all the time.
7,8. um this analogy is starting to break down.
9. Don’t misinterpret enumurations.
10. Powers not delegated to the federal government or prohibited by it, are given to the states or the people: I don’t know how this would apply to modules or contracts.</text>
  </message>
  <message conversation_id="517">
    <ts>2019-04-19T13:36:44.276600</ts>
    <user>Karen</user>
    <text>Clarifications: in this context, "software module" does not necessarily mean "Racket module". Functions can be modules, as well as Java classes, command line programs, web services, virtual machine images, and linkable object code files. Also, a software bill of rights doesn't have to map one-to-one (or at all) to the US bill of rights (and it probably shouldn't).</text>
  </message>
  <message conversation_id="517">
    <ts>2019-04-19T13:37:48.277700</ts>
    <user>Elin</user>
    <text>But reflection systems that prevent proper encapsulation are still a violation of the module’s rights.</text>
  </message>
  <message conversation_id="517">
    <ts>2019-04-19T13:47:30.279200</ts>
    <user>Karen</user>
    <text>I think so, yes. I think "right to privacy" is a reasonable demand</text>
  </message>
  <message conversation_id="517">
    <ts>2019-04-19T13:48:33.280200</ts>
    <user>Karen</user>
    <text>Meaning the right for a module to hide information from another module if it is not relevant to the contract between them</text>
  </message>
  <message conversation_id="518">
    <ts>2019-04-19T14:52:48.283000</ts>
    <user>Lillian</user>
    <text>Roughly speaking, the notion of “rights” in contract law pertains to legally enforceable promises between private parties. This is largely separate from rights in the constitutional sense (e.g., Bill of Rights), which refer to protections against certain actions by the government.</text>
  </message>
  <message conversation_id="519">
    <ts>2019-04-19T15:17:06.283700</ts>
    <user>Laverna</user>
    <text>&lt;@Julia&gt; thanks for the logging config pointer, i’ll check that out.</text>
  </message>
  <message conversation_id="517">
    <ts>2019-04-19T15:21:35.285300</ts>
    <user>Julia</user>
    <text>&lt;@Karen&gt; Hobbes might argue that, beneath the veneer of social contracts lurks a state of nature imposed by the generational garbage collector, in which the lifetime of objects ought to be solitary, poor, nasty, brutish, and short.</text>
  </message>
  <message conversation_id="517">
    <ts>2019-04-19T15:39:37.288000</ts>
    <user>Karen</user>
    <text>Alas I don't know enough about to Thomas Hobbes to properly appreciate that joke. I just know he was a philosopher and one of the two namesakes of my favorite comic strip.</text>
  </message>
  <message conversation_id="517">
    <ts>2019-04-19T15:40:32.288100</ts>
    <user>Karen</user>
    <text>Oh right, you're a lawyer! Perfect!</text>
  </message>
  <message conversation_id="517">
    <ts>2019-04-19T15:42:49.288800</ts>
    <user>Julia</user>
    <text>It's a barely coherent joke, anyway. ¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="517">
    <ts>2019-04-19T15:44:03.288900</ts>
    <user>Karen</user>
    <text>To me (a US-centric non-lawyer) those do sound like separate notions, and it sounds like a useful distinction</text>
  </message>
  <message conversation_id="517">
    <ts>2019-04-19T15:49:09.289200</ts>
    <user>Karen</user>
    <text>In the context of software, I'd associate the first with contacts between two parties of similar authority, like module-to-module or server-to-server. The second sounds kind of like agreements between different levels of authority like module-to-programming-language or server-to-hypervisor</text>
  </message>
  <message conversation_id="517">
    <ts>2019-04-19T15:49:44.289800</ts>
    <user>Karen</user>
    <text>That's fine, sometimes all you need is a vague direction :p</text>
  </message>
  <message conversation_id="520">
    <ts>2019-04-19T16:22:13.294500</ts>
    <user>Lillian</user>
    <text>FWIW constitutional rights incorporate notions of human dignity that don’t really carry over to software, which has no dignity. Use whatever term you like, of course. Legal metaphors can cut both ways, is all (e.g., the FSF’s comparison of the GPL to “free speech”, when it is precisely the opposite)</text>
  </message>
  <message conversation_id="517">
    <ts>2019-04-19T16:40:13.294900</ts>
    <user>Karen</user>
    <text>Not saying I'm actually going to, but if I wrote a scribble doc about this would you want to read it?</text>
  </message>
  <message conversation_id="520">
    <ts>2019-04-19T18:27:10.295100</ts>
    <user>Lillian</user>
    <text>Always happy to share my ignorance with others</text>
  </message>
  <message conversation_id="521">
    <ts>2019-04-20T02:26:05.299700</ts>
    <user>Michelina</user>
    <text>I can't seem to find a way to attach contracts to parameters. Imagine I'd like a parameter, current-characters, to be such that (current-characters) is either #f or a list of char? values. I'd like (parameterize ([current-characters "haha!"]) ...) to raise a contract violation. I don't think parameterize works like that, but I'd imagine that there's something that would. I can write my own thing, but perhaps I'm overseeing something simple here.</text>
  </message>
  <message conversation_id="521">
    <ts>2019-04-20T02:27:27.300100</ts>
    <user>Gonzalo</user>
    <text>&lt;@Michelina&gt; Is there a reason `parameter/c` isn’t enough for what you want? &lt;https://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._parameter%2Fc%29%29&gt;</text>
  </message>
  <message conversation_id="521">
    <ts>2019-04-20T02:28:06.300400</ts>
    <user>Michelina</user>
    <text>oh. d'oh. yes, that's what I have in mind. thanks!</text>
  </message>
  <message conversation_id="520">
    <ts>2019-04-22T16:14:02.300600</ts>
    <user>Madelaine</user>
    <text>I meant to post this on &lt;#C06V96CKX|general&gt;:</text>
  </message>
  <message conversation_id="522">
    <ts>2019-04-22T18:13:03.301800</ts>
    <user>Gonzalo</user>
    <text>&lt;@Clarinda&gt; Why does evaluation of the RHS of a `define-syntax` / `let-syntax` disable the JIT in the expander here? &lt;https://github.com/racket/racket/blob/55dcdf553878f475fc4c59ba83556482d11499c9/racket/src/expander/expand/main.rkt#L682&gt;</text>
  </message>
  <message conversation_id="522">
    <ts>2019-04-22T18:15:12.302000</ts>
    <user>Clarinda</user>
    <text>There’s always a compilation–interpretation trade-off. On average (based on measuring expansion times), it seems to be better to interpret a RHS during a module’s compilation, but JIT-compile RHSs that are used across module boundaries.</text>
  </message>
  <message conversation_id="522">
    <ts>2019-04-22T18:17:38.302300</ts>
    <user>Gonzalo</user>
    <text>Makes sense, thanks.</text>
  </message>
  <message conversation_id="523">
    <ts>2019-04-23T06:45:40.304000</ts>
    <user>Jeffery</user>
    <text>what is the proper way to test a function returning multiple values? The following seems very weird to me..
#lang racket/base

(require rackunit)

(define (f x) x)
(define (g x) (values x (add1 x)))

(module+ test
  (check-equal? 3 (f 3))
  (define-values (n1 n2) (g 3))  ; this works but is complicated
  (check-equal? n1 3)
  (check-equal? n2 4)
  (check-equal? (values 3 4) (g 3)) ; fails
  )</text>
  </message>
  <message conversation_id="523">
    <ts>2019-04-23T07:32:12.308600</ts>
    <user>Julia</user>
    <text>&lt;@Jeffery&gt; The few times I've needed to test multiple values, I've done something like what you showed: Use `define-values` (or `let-values`) plus multiple `check-equal?`s. It's awkward but I've never done it enough, to care enough to detour and figure out something better. Then I always forget about it.</text>
  </message>
  <message conversation_id="523">
    <ts>2019-04-23T07:32:25.308900</ts>
    <user>Julia</user>
    <text>If you do this frequently, you could `define-check` something like a "check-equal-values?".
The following seems to work for me.
```
(define-check (check-equal-values? actual-thunk expected-list)
  (define actual-list (call-with-values actual-thunk list))
  (with-check-info (['actual   actual-list]
                    ['expected expected-list])
   (unless (equal? actual-list
                   expected-list)
     (fail-check))))
```</text>
  </message>
  <message conversation_id="523">
    <ts>2019-04-23T07:34:28.310300</ts>
    <user>Julia</user>
    <text>Note, to use this you need to put the first, "actual" values-producing expression in a thunk (like how you'd use `check-exn`). And, put the expected values in a list. For example:
```
(define (f x) (values x (add1 x)))

(check-equal-values? (λ () (f 1)) (list 1 2))    ;succeeds
(check-equal-values? (λ () (f 1)) (list 42 42))  ;fails with...
--------------------
; FAILURE
; /tmp/chk.rkt:16:0
name:       check-equal-values?
location:   chk.rkt:16:0
actual:     (1 2)
expected:   (42 42)
--------------------
```</text>
  </message>
  <message conversation_id="523">
    <ts>2019-04-23T07:35:54.311600</ts>
    <user>Julia</user>
    <text>So that's still a bit awkward.
Maybe someone else has a better idea.
(Maybe there's no great non-awkward way? If so, maybe that's why `rackunit` doesn't already provide something like this?)</text>
  </message>
  <message conversation_id="523">
    <ts>2019-04-23T07:37:51.312300</ts>
    <user>Julia</user>
    <text>p.s. I put actual before expected, because that's the convention rackunit uses for failure messages.</text>
  </message>
  <message conversation_id="523">
    <ts>2019-04-23T07:43:18.314900</ts>
    <user>Jeffery</user>
    <text>thanks &lt;@Julia&gt; I will keep the thunk in mind. I dont often need to test this so I might just stick with the "define-values solution". And thanks also for the little reminder on actual before expected to keep things nice and tidy wrt failure messages.</text>
  </message>
  <message conversation_id="523">
    <ts>2019-04-23T13:33:58.315400</ts>
    <user>Eileen</user>
    <text>IIRC I think `chk` has a form to handle multiple values</text>
  </message>
  <message conversation_id="524">
    <ts>2019-04-23T13:35:39.315600</ts>
    <user>Eileen</user>
    <text>&lt;https://docs.racket-lang.org/chk/index.html?q=chk#%28part._.Expected_.Value_.Tests%29&gt;</text>
  </message>
  <message conversation_id="525">
    <ts>2019-04-23T15:33:10.317100</ts>
    <user>Mai</user>
    <text>FWIW, there’s a pending PR doing exactly this &lt;https://github.com/racket/rackunit/pull/73&gt;</text>
  </message>
  <message conversation_id="526">
    <ts>2019-04-23T21:33:27.321900</ts>
    <user>Elin</user>
    <text>Currently `check-equal?` is a function-like check form, which means it evaluates its arguments in the same way a function would. The `check-equal?/values` form needs to be a full macro, since it evaluates its arguments in a multi-valued context; a function-like form can’t do that. So, should `check-equal?/values` be a separate form from `check-equal?`, or can/should they be merged into one?</text>
  </message>
  <message conversation_id="526">
    <ts>2019-04-23T22:39:39.324800</ts>
    <user>Karen</user>
    <text>&lt;@Elin&gt; I think making it a separate thing is weird and awkward. But I also think that as long as "checks are functions" is rackunit's philosophy, adding more exceptions to that rule is confusing.</text>
  </message>
  <message conversation_id="526">
    <ts>2019-04-23T22:40:03.325400</ts>
    <user>Karen</user>
    <text>So really I think we should just ditch that philosophy</text>
  </message>
  <message conversation_id="527">
    <ts>2019-04-23T22:47:22.327000</ts>
    <user>Madelaine</user>
    <text>IDK about the larger questions, but there could be a function-like `check-equal?/values` that takes two thunks and compares their return values, somewhat like `check-exn`.</text>
  </message>
  <message conversation_id="528">
    <ts>2019-04-24T05:34:24.327100</ts>
    <user>Katharine</user>
    <text>I'm interested in whatever is going on here too.

I don't know if this is the same thing, while back I think I observed that I could rebind `#|` to be my own reader macro, but that as long as it appeared *inside a list*, it acted like a comment syntax again.

My best guess is that sometimes the reader takes an "ignore whitespace and comments" step that isn't followed by reading an s-expression, so it can't be implemented as a recursive call to `read` and hence can't take user-defined reader macros into account. Maybe in your examples it's acting differently because it's at the beginning of the stream?</text>
  </message>
  <message conversation_id="528">
    <ts>2019-04-24T11:42:41.001200</ts>
    <user>Gonzalo</user>
    <text>Is there any way with `racket/draw` to convert a piece of text to a `dc-path%`, or is that just fundamentally impossible (either due to how Cairo works or because it just isn’t exposed through the Racket API)?</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T12:08:04.001700</ts>
    <user>Clarinda</user>
    <text>`dc-path%` has a `text-outline` method. Is that what you’re looking for?</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T12:09:35.001900</ts>
    <user>Gonzalo</user>
    <text>Aha, thanks! Not sure how I missed that.</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T13:53:28.004000</ts>
    <user>Gonzalo</user>
    <text>&lt;@Clarinda&gt; Is it intentional that the `draw-rectangle` method of `dc&amp;lt;%&amp;gt;` aligns its coordinates when drawing the stroke but not when drawing the fill? And if so, why? (If no, I can open a PR to fix it, but based on the way the code is structured, it seems intended.)</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T13:57:22.004700</ts>
    <user>Clarinda</user>
    <text>Maybe I’m not looking at the same place, but I think it does align for the fill. Both `cairo_rectangle` calls use `ax` and `ay`.</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T13:58:34.005200</ts>
    <user>Clarinda</user>
    <text>Oh, the width and height are not aligned for the fill… I’m not immediately sure</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T13:59:09.005600</ts>
    <user>Gonzalo</user>
    <text>I’m looking at this line here, which seems to align neither coordinate: &lt;https://github.com/racket/draw/blob/3d4642cda1e1afb681fda8016a1ae3cea503b026/draw-lib/racket/draw/private/dc.rkt#L1224&gt;</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T13:59:28.006100</ts>
    <user>Gonzalo</user>
    <text>Maybe it gets overridden somewhere else that I’m not looking at, though.</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T14:00:54.007000</ts>
    <user>Clarinda</user>
    <text>No, I’m misreading the code. Probably because `ax` is bound outside the first `draw_rectangle`, I read the `x` and `ax`.</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T14:02:25.007700</ts>
    <user>Clarinda</user>
    <text>It does seem like those should be aligned according to the docs, but it also does look intentional. And I agree about other methods. Just for reference, let me see what the older code did…</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T14:02:51.008100</ts>
    <user>Gonzalo</user>
    <text>It seems like some of the drawing functions take care not to align the fill coordinates, but others don’t (e.g. `draw-polygon`), and I’m not sure why.</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T14:05:39.008700</ts>
    <user>Gonzalo</user>
    <text>Looking at the git history, it looks like that code’s been there since it was first added in this commit: &lt;https://github.com/racket/draw/commit/b2f8e97e10dc0e515ce68d63d43c47aa803e1e96&gt;</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T14:06:50.009300</ts>
    <user>Gonzalo</user>
    <text>But maybe there’s some other history prior to that that git doesn’t know about, I don’t know.</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T14:09:36.010500</ts>
    <user>Elin</user>
    <text>The function-like one would display its parameters as `#&amp;lt;procedure&amp;gt; #&amp;lt;procedure&amp;gt;` though, which isn’t very helpful.</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T14:09:48.010800</ts>
    <user>Clarinda</user>
    <text>I mean the C++ version, and I see that it did apply alignment. So, probably brush alignments just got lost. I worry about what will happen to existing programs when we change things (back), but it seems like we should try it.</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T14:10:22.011200</ts>
    <user>Gonzalo</user>
    <text>Okay, maybe I’ll give it a try and write some tests, and we can see what happens.</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T14:11:51.012900</ts>
    <user>Gonzalo</user>
    <text>It’s curious, though, that the code appears to be careful about _not_ aligning the coordinates for the fill, even including the comment. But if you don’t know why, then I don’t imagine anyone does.</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T14:11:59.013100</ts>
    <user>Clarinda</user>
    <text>In case you haven’t discovered it already, you may want to start with `tests/racket/draw/draw`</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T14:12:49.014100</ts>
    <user>Gonzalo</user>
    <text>I saw it, though it looked intimidating, and I didn’t look at it very closely. :) But I’ll take another look.</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T15:39:42.020800</ts>
    <user>Gonzalo</user>
    <text>&lt;@Clarinda&gt; I am trying to understand this sentence in the documentation for `set-smoothing`:
&amp;gt; For line drawing, coordinates are further shifted based on the pen width and the alignment scale, where the shift corresponds to half of the pen width (reduced to a value such that its multiplication times the alignment scale times two produces an integer).
After looking at the code that does this and re-reading, I now understand what it does, but I’m not sure it’s actually the right thing to do. IIUC it means it adds `(* 0.5 alignment-scale)` to the coordinates when drawing a stroke iff `(quotient pen-width alignment-scale)` is an odd number, which at first sounds reasonable: it avoids a line being drawn on a “pixel boundary” when the pen width is odd. The problem is that this doesn’t really do the right thing for the `'aligned` smoothing mode, since it adjusts `x` _and_ `y`, which means that when the line is perfectly horizontal, it can cause the `x` coordinate to go out of alignment, and vice-versa for the `y` coordinate when the line is vertical. For lines that are neither perfectly horizontal nor perfectly vertical, it seems like neither adjustment is really right.</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T15:40:10.020900</ts>
    <user>Gonzalo</user>
    <text>Here are some visual aids, blown up with a pixel grid overlaid.</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T15:40:12.021200</ts>
    <user>Gonzalo</user>
    <text>None</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T15:41:04.022500</ts>
    <user>Clarinda</user>
    <text>Does the output depend on the pen cap?</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T15:41:30.023000</ts>
    <user>Gonzalo</user>
    <text>Yes, it does. Is the issue that this assumes a `'round` cap?</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T15:43:06.024600</ts>
    <user>Gonzalo</user>
    <text>Or, I guess it’s probably actually more relevant for a `'projecting` cap.</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T15:43:14.024700</ts>
    <user>Clarinda</user>
    <text>I think that `'aligned` makes only a certain amount of sense. If the current calculation does the right thing for rectangular frames and the broad side of lines, then that’s probably as far as we tried to refine it.</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T15:45:31.025900</ts>
    <user>Gonzalo</user>
    <text>Alright, I guess that’s fine. Though the docs do recommend it: “For most applications that draw to the screen or bitmaps, `'aligned` mode is the best choice.” Are you saying that’s not true, or just that there are caveats?</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T15:46:51.027100</ts>
    <user>Clarinda</user>
    <text>Well, it’s not that other drawing modes are better. But, in the past, we didn’t figure out how to solve all problems with `'aligned`.</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T15:48:38.028700</ts>
    <user>Gonzalo</user>
    <text>I see. So maybe it just needs to do something smarter here? I wasn’t thinking about the pen cap, but now that you’ve mentioned it, that makes sense. Maybe it could avoid applying the adjustment when the cap is `'butt` except in the obviously-correct cases for perfectly horizontal/vertical lines.</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T15:51:10.029500</ts>
    <user>Clarinda</user>
    <text>That sounds plausible, though complex. The correct adjustment would depend on the slope of the line, right?</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T15:55:13.032200</ts>
    <user>Gonzalo</user>
    <text>Well, I’m not sure if it makes sense to do any adjustment at all if the line isn’t perfectly horizontal or perfectly vertical (after coordinate alignment), since aliasing will happen, anyway, in those cases. But I guess there could be some way for it to be minimized more generally, which would take into account the slope of the line… but I’d have to think harder about it.</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T15:56:33.033000</ts>
    <user>Clarinda</user>
    <text>Ok, I agree that it potentially makes sense to special-case horizontal and vertical lines, taking into account the pen cap. To minimize changes, I’d keep the current adjustment in place for other lines.</text>
  </message>
  <message conversation_id="529">
    <ts>2019-04-24T15:57:29.033700</ts>
    <user>Gonzalo</user>
    <text>Alright, I’ll give that a try for now, and if I come up with something better in the meantime then I’ll try that, instead.</text>
  </message>
  <message conversation_id="530">
    <ts>2019-04-26T11:37:20.035700</ts>
    <user>Merna</user>
    <text>Oh for heaven's sake.... does anyone know what CentOS 7.5 texlive package provides "relsize.sty" (for instance)? It looks to me like "yum whatprovides" is supposed to do this kind of thing when called with `*relsize.sty`, but I'm not getting any love.</text>
  </message>
  <message conversation_id="530">
    <ts>2019-04-26T13:07:10.036500</ts>
    <user>Priscila</user>
    <text>&lt;@Merna&gt;   Guessing here. Is there a package named ltxmisc ?</text>
  </message>
  <message conversation_id="530">
    <ts>2019-04-26T13:08:10.037300</ts>
    <user>Priscila</user>
    <text>(Guess based on a footnote in a document describing relsize)</text>
  </message>
  <message conversation_id="530">
    <ts>2019-04-26T13:32:25.037800</ts>
    <user>Merna</user>
    <text>Well, there is, and I already have it installed, and it doesn't include relsize.sty, sigh. Many thanks.</text>
  </message>
  <message conversation_id="530">
    <ts>2019-04-26T13:32:47.038200</ts>
    <user>Merna</user>
    <text>&lt;@Priscila&gt; forgot to tag you on my reply. Thanks!</text>
  </message>
  <message conversation_id="531">
    <ts>2019-04-26T21:16:26.039100</ts>
    <user>Julia</user>
    <text>I've grown to really like the `multi-in` from from `racket/require`. A couple racket-mode features didn't really support it. I recently got a chance to improve this. Should be on MELPA by now. A little blog post about it: &lt;https://www.greghendershott.com/2019/04/supporting-multi-in.html&gt;.</text>
  </message>
  <message conversation_id="532">
    <ts>2019-04-26T21:32:58.041500</ts>
    <user>Lillian</user>
    <text>“When a place is created, its parameter values are generally set to the *initial* values of the parameters in the creating place …” Suppose that instead, you want the current value of a parameter to be used inside the place. What is the nicest pattern? Just pass it as an argument across the place channel, and then use `parameterize` within the place?

&lt;https://docs.racket-lang.org/reference/places.html&gt;</text>
  </message>
  <message conversation_id="530">
    <ts>2019-04-26T22:53:59.044400</ts>
    <user>Merna</user>
    <text>chugging my way through doc dependencies... anyone happen to know whether modern versions of texlive have out-of-the-box support for CJK (chinese/japanese/korean) characters? The build is failing on the JSON docs which use unicode non-ASCII chars, and pdflatex is curiously *not* complaining about a missing .sty file or package, which makes me think that maybe it's now built-in. Yes, I know, it's hard to imagine what this has to do with Racket... the answer is that it's one more step in provisioning a new machine to be able to build the racket pre-release bundles.</text>
  </message>
  <message conversation_id="530">
    <ts>2019-04-27T00:04:42.044900</ts>
    <user>Kristeen</user>
    <text>&lt;@Merna&gt; failing in what way? and which aspect of texlive?</text>
  </message>
  <message conversation_id="530">
    <ts>2019-04-27T00:07:35.046600</ts>
    <user>Merna</user>
    <text>Ah! okay, nvm, turns out that one is just unusual in that there's no \include. Yum search came up good on that one, finally, and we're off to the races again. My linode debian vm is catching up, though; we'll see which one wins.</text>
  </message>
  <message conversation_id="531">
    <ts>2019-04-28T18:40:09.048200</ts>
    <user>Penni</user>
    <text>&lt;@Lillian&gt; Are there any facilities to debug a `brag` grammar? I've got one that mysteriously isn't recognizing things that I think it should, and after a couple hours of trying stuff without getting anywhere, I'm wondering if there's some way to see what's going on.</text>
  </message>
  <message conversation_id="531">
    <ts>2019-04-28T19:44:42.049000</ts>
    <user>Penni</user>
    <text>&lt;@Lillian&gt; Now I'm thinking that it might be a bug in `brag`. I just submitted an issue here: &lt;https://github.com/mbutterick/brag/issues/18&gt;</text>
  </message>
  <message conversation_id="533">
    <ts>2019-04-29T20:37:06.049800</ts>
    <user>Leticia</user>
    <text>Is this whole chez thing gonna change the racket parallelism and concurrency story much?</text>
  </message>
  <message conversation_id="530">
    <ts>2019-04-30T09:24:05.050000</ts>
    <user>Clarinda</user>
    <text>Not in the short term. While Chez Scheme offers more support for OS-managed threads than the current Racket VM, it’s not safe, so Racket won’t expose that directly in safe mode. But besides futures and places, there is `ffi/unsafe/os-thread`.</text>
  </message>
  <message conversation_id="530">
    <ts>2019-04-30T09:52:08.050200</ts>
    <user>Kristeen</user>
    <text>One way that RacketCS differs in terms of parallelism is that more operations are "future-safe" on RacketCS than on traditional Racket.</text>
  </message>
  <message conversation_id="530">
    <ts>2019-04-30T15:45:29.051800</ts>
    <user>Shavon</user>
    <text>&lt;@Clarinda&gt; you know those benchmarks and nice graphs you generate to compare Racket and Racket CS? I would like to run those in CI to obtain an history of how Racket's performance changes through time. Are those benchmarks and scripts somewhere public? If there are other benchmarks more appropriate for this use-case feel free to let me know.</text>
  </message>
  <message conversation_id="530">
    <ts>2019-04-30T15:46:56.051900</ts>
    <user>Clarinda</user>
    <text>The benchmarks are in the “racket-benchmark” package (which is in the main repo). The scripts to generate the graphs are not, but I can clean them up and package them sometime soon.</text>
  </message>
  <message conversation_id="530">
    <ts>2019-04-30T16:08:48.052200</ts>
    <user>Shavon</user>
    <text>Thanks. The scripts for now are not so important. I will get the benchmarks running first.</text>
  </message>
  <message conversation_id="534">
    <ts>2019-04-30T16:28:39.052700</ts>
    <user>Gonzalo</user>
    <text>Is there a reason Travis is shut off on the racket/racket repo?</text>
  </message>
  <message conversation_id="530">
    <ts>2019-04-30T16:53:57.053300</ts>
    <user>Shavon</user>
    <text>No idea. I don't touch travis. Maybe &lt;@Kristeen&gt; knows?</text>
  </message>
  <message conversation_id="534">
    <ts>2019-04-30T16:54:12.053800</ts>
    <user>Kristeen</user>
    <text>&lt;@Gonzalo&gt; really? That seems bad</text>
  </message>
  <message conversation_id="534">
    <ts>2019-04-30T16:55:32.054400</ts>
    <user>Gonzalo</user>
    <text>I was trying to see if there was some kind of audit log for the Travis CI settings, but I couldn’t find one.</text>
  </message>
  <message conversation_id="534">
    <ts>2019-04-30T17:08:14.056400</ts>
    <user>Gonzalo</user>
    <text>If neither of you nor &lt;@Clarinda&gt; disabled it, then I guess I’ll just try turning it back on and see if it shuts off again. If it does, and nobody knows why, maybe we should figure out how to tighten the permissions on Travis. I haven’t been able to figure out how exactly that works, but it seems to use something like GH push access?</text>
  </message>
  <message conversation_id="534">
    <ts>2019-04-30T17:09:11.057200</ts>
    <user>Clarinda</user>
    <text>I didn’t disable it. (At least, not on purpose.)</text>
  </message>
  <message conversation_id="534">
    <ts>2019-04-30T17:10:40.058700</ts>
    <user>Gonzalo</user>
    <text>Okay, I’ll try re-enabling it then. (I mostly asked since the last commit that was built seemed to have been yours, but that doesn’t really mean anything, and I don’t think the information about how exactly it got disabled exists.)</text>
  </message>
  <message conversation_id="535">
    <ts>2019-04-30T17:40:11.066600</ts>
    <user>Lillian</user>
    <text>Whoops, I think the Travis deactivation may have been my fault — my sincere apologies. I was changing some settings on my Travis dashboard earlier today and thought it was churning away on my fork of Racket. I never would’ve assumed I had admin access to the Travis for the main repo. And although I did reflect on “wait, is this the main repo?” I reasoned that if it were, I would be seeing all the Racket repos, not just the one (because as a member of the GH Racket org I have GH push access to all) and therefore this can’t be the main repo. Am I morally culpable? Or just a victim of bad permissions design? History will judge.</text>
  </message>
  <message conversation_id="534">
    <ts>2019-04-30T17:43:51.068200</ts>
    <user>Gonzalo</user>
    <text>No worries—it’s good to know for certain it was just an accident rather than someone malicious, as unlikely as I imagine it would be that anyone would go to the effort of nefariously disabling CI for an open-source programming language project. :)</text>
  </message>
  <message conversation_id="536">
    <ts>2019-05-01T23:33:57.070700</ts>
    <user>Angelika</user>
    <text>The next bond villain</text>
  </message>
  <message conversation_id="537">
    <ts>2019-05-02T02:08:07.073200</ts>
    <user>Giuseppe</user>
    <text>How can I incorporate Racket it my day to day life? I mostly work full time on Javascript and I want to look into using other languages as tools for helping me become more productive.</text>
  </message>
  <message conversation_id="537">
    <ts>2019-05-02T04:18:04.074300</ts>
    <user>Michelina</user>
    <text>&lt;@Giuseppe&gt; are you looking to use Racket for web devel (I'm taking a guess here about what line of work you're in) or are you thinking about doing other kinds of things (systems programming, games, etc.)?</text>
  </message>
  <message conversation_id="538">
    <ts>2019-05-02T04:53:32.075500</ts>
    <user>Shavon</user>
    <text>&lt;@Priscila&gt; thanks for submitting RN to hacker news. Currently in number 2! :tada:</text>
  </message>
  <message conversation_id="538">
    <ts>2019-05-02T04:54:00.075800</ts>
    <user>Priscila</user>
    <text>No problem - I saw you forgot it.</text>
  </message>
  <message conversation_id="538">
    <ts>2019-05-02T04:54:28.076400</ts>
    <user>Priscila</user>
    <text>It's great to have something about Racket on Hacker News often.</text>
  </message>
  <message conversation_id="537">
    <ts>2019-05-02T07:43:34.076500</ts>
    <user>Tomas</user>
    <text>Also a JS dev at work. I use Racket for scripting tasks folks would normally do in JS or Python (ETL, pulling data from APIs to my laptop, etc) and also build small services for my own use such as automatically exporting records from Pinboard to Pocket, etc.</text>
  </message>
  <message conversation_id="537">
    <ts>2019-05-02T07:44:55.076700</ts>
    <user>Tomas</user>
    <text>I’ve been meaning to play more with &lt;https://github.com/vishesh/racketscript&gt; but the project seems kind of dormant</text>
  </message>
  <message conversation_id="537">
    <ts>2019-05-02T07:46:59.077000</ts>
    <user>Tomas</user>
    <text>as a JS dev you might be interested in &lt;https://argojson.com/&gt; | &lt;https://docs.racket-lang.org/argo/index.html&gt;</text>
  </message>
  <message conversation_id="537">
    <ts>2019-05-02T07:48:29.077300</ts>
    <user>Tomas</user>
    <text>and &lt;https://riposte.in/&gt;</text>
  </message>
  <message conversation_id="537">
    <ts>2019-05-02T07:48:48.077600</ts>
    <user>Tomas</user>
    <text>^ written in Racket as well</text>
  </message>
  <message conversation_id="539">
    <ts>2019-05-02T08:57:17.079700</ts>
    <user>Lillian</user>
    <text>I understand the reasoning for splitting a package `foo` into `foo-lib` (= to reduce build dependencies). But many packages also have a `foo-doc` subpackage, so `foo` installs `foo-lib` and `foo-doc`. What is the point of this? Why not make the docs part of the main `foo` package? Is there some situation where a user would want to install `foo-doc` but not `foo-lib`?</text>
  </message>
  <message conversation_id="539">
    <ts>2019-05-02T09:07:33.082200</ts>
    <user>Elin</user>
    <text>Why not make the docs part of the main `foo` package? Some packages do do that.
That’s what `binaryio`, `gmp`, `scribble-code-examples`, `sweet-exp`, and `zeromq-r` do.</text>
  </message>
  <message conversation_id="540">
    <ts>2019-05-02T09:07:39.082500</ts>
    <user>Kristeen</user>
    <text>&lt;@Shavon&gt; the comments about racket news are very nice, and show what a great service it is to the community</text>
  </message>
  <message conversation_id="540">
    <ts>2019-05-02T09:39:07.087600</ts>
    <user>Shavon</user>
    <text>&lt;@Kristeen&gt; it's very exciting to see that people like it. I am having lots of fun doing it. Have lots of ideas but so much time for RN. There are other Rackety ideas that I want to nurture and I just started a contract on a very different area in compilers so things are busy at the moment. Going from working on compilers for C like languages and Javascript is a world of difference. Feel like a beginner once again. :smile:</text>
  </message>
  <message conversation_id="540">
    <ts>2019-05-02T09:40:22.088900</ts>
    <user>Shavon</user>
    <text>I can also reveal I received a request to post a listing to a 100% Racket remote job. Coming up in Issue 8.</text>
  </message>
  <message conversation_id="540">
    <ts>2019-05-02T09:42:40.089200</ts>
    <user>Kristeen</user>
    <text>ooh</text>
  </message>
  <message conversation_id="541">
    <ts>2019-05-02T13:20:40.090100</ts>
    <user>Giuseppe</user>
    <text>I'm open towards doing other stuff unrelated to web dev as I've worked too much on web dev already!</text>
  </message>
  <message conversation_id="541">
    <ts>2019-05-02T13:21:56.090300</ts>
    <user>Giuseppe</user>
    <text>Thanks! I will check them out :3</text>
  </message>
  <message conversation_id="541">
    <ts>2019-05-02T13:34:50.090500</ts>
    <user>Giuseppe</user>
    <text>I really like the concept of Riposte but I don't find a lot of documentation for checking etc</text>
  </message>
  <message conversation_id="542">
    <ts>2019-05-02T15:50:18.090900</ts>
    <user>Tomas</user>
    <text>&lt;@Milissa&gt; can help you out most likely</text>
  </message>
  <message conversation_id="543">
    <ts>2019-05-02T18:29:37.091400</ts>
    <user>Leticia</user>
    <text>What kind of operations will be future safe? That’s something that I’ve had difficulty determining even in the current implementation of racket.</text>
  </message>
  <message conversation_id="544">
    <ts>2019-05-02T22:56:07.095500</ts>
    <user>Julia</user>
    <text>&lt;@Jeanine&gt; &lt;@Lillian&gt; &lt;@Elin&gt; and tests also go in the main package, it looks like?
So main pkg = tests + docs + a dep just one other "-lib" pkg.</text>
  </message>
  <message conversation_id="544">
    <ts>2019-05-02T22:57:00.096300</ts>
    <user>Julia</user>
    <text>I think I've seen sometimes 4 separate pkgs -- lib, doc, tests, main/meta -- and I'm like, meh, that's more ceremony and busywork than I want to spend time on in my remaining years :slightly_smiling_face: and shouldn't submodules somehow do this for me?
This seems more reasonable.</text>
  </message>
  <message conversation_id="544">
    <ts>2019-05-02T22:57:17.096800</ts>
    <user>Julia</user>
    <text>Although I guess it means you can't use test or doc submodules. :disappointed:</text>
  </message>
  <message conversation_id="545">
    <ts>2019-05-03T00:02:05.099400</ts>
    <user>Gonzalo</user>
    <text>&lt;@Clarinda&gt; What is the expected C representation for the `_string/utf-16` type? My first inclination is to assume that they are expected to be nul-terminated, just like for `_bytes`… but then again, I’d also expect `_string/ucs-4` _wouldn’t_ (necessarily) be nul-terminated, since the documentation says it corresponds to the native Racket string type, which can contain nuls.</text>
  </message>
  <message conversation_id="545">
    <ts>2019-05-03T00:04:45.101400</ts>
    <user>Gonzalo</user>
    <text>(It would make sense to me if `_string/ucs-4` is a special, different thing designed to correspond directly with Racket’s internal string representation, and the other types like `_bytes`, `_string/utf-8`, `_path`, `_symbol`, etc. either explicitly mention nul-handling or claim to be “plain `char*` strings”. But `_string/utf-16` says neither, and it seems to have its own representation for the purposes of `ctype-&amp;gt;layout`, so I am unsure.)</text>
  </message>
  <message conversation_id="545">
    <ts>2019-05-03T00:08:33.102900</ts>
    <user>Gonzalo</user>
    <text>I did find `scheme_utf16_to_ucs4` in the C API docs, which I assume is related, but that function requires an explicit length be specified, so it doesn’t really help with my confusion.</text>
  </message>
  <message conversation_id="546">
    <ts>2019-05-03T01:12:15.104100</ts>
    <user>Mai</user>
    <text>&amp;gt; Although I guess it means you can’t use test or doc submodules.

Relatedly, how can I `raco test` the submodule `test` of a submodule in a file?</text>
  </message>
  <message conversation_id="547">
    <ts>2019-05-03T09:51:59.104600</ts>
    <user>Lillian</user>
    <text>I don’t understand the rationale for separating tests from the library — how can you be sure it works? Anyhow, for `brag` I just created a `brag-lib` with code &amp;amp; tests, and `brag` that adds the docs, and that seems fine.</text>
  </message>
  <message conversation_id="545">
    <ts>2019-05-03T10:47:14.104800</ts>
    <user>Clarinda</user>
    <text>All string representations include a NUL terminator. If there’s a NUL in the middle of a Racket string, then a foreign callee that expects a terminator will interpret the middle NUL as a terminator.</text>
  </message>
  <message conversation_id="545">
    <ts>2019-05-03T10:49:41.105000</ts>
    <user>Clarinda</user>
    <text>I’ll update the docs</text>
  </message>
  <message conversation_id="545">
    <ts>2019-05-03T10:55:40.105200</ts>
    <user>Elin</user>
    <text>One rationale for separating tests is that the tests can rely on packages that the implementation doesn’t need. For example `sweet-exp-lib` doesn’t need to depend on `lazy` or `typed-racket-lib`. But to test `sweet-exp`, we wanted to use `#lang sweet-exp lazy` and `#lang sweet-exp typed/racket`.

There would be a similar rationale for something like `scribble-code-examples`. That package is meant to be used to render scribble docs for non-s-expression languages. So to test it, I want to run it on lots of non-s-expression languages, which it would have to depend on as packages. However, the `-lib` version shouldn’t need all that.</text>
  </message>
  <message conversation_id="545">
    <ts>2019-05-03T10:57:33.105400</ts>
    <user>Elin</user>
    <text>Though you do have a point with submodules. Maybe a good strategy is to have easy unit tests (things that require your library and `rackunit-lib`, nothing more) in test submodules in the `-lib` package, and only have more complex tests that might use other packages and other languages in the `-test` package.</text>
  </message>
  <message conversation_id="545">
    <ts>2019-05-03T10:58:30.105600</ts>
    <user>Jeanine</user>
    <text>I tend to write external tests instead of test submodules, so I generally put the test subdir in the main package. But putting them in the lib package seems fine too, as long as the dependencies are minimal (as Alex just said).</text>
  </message>
  <message conversation_id="548">
    <ts>2019-05-03T11:07:04.105800</ts>
    <user>Kristeen</user>
    <text>In traditional Racket, the best way to determine future safety is using the log messages that futures provide.</text>
  </message>
  <message conversation_id="545">
    <ts>2019-05-03T11:07:21.106400</ts>
    <user>Gonzalo</user>
    <text>Thanks, for both those things!</text>
  </message>
  <message conversation_id="548">
    <ts>2019-05-03T11:35:30.106600</ts>
    <user>Kristeen</user>
    <text>Unfortunately, the future logging infrastructure is not yet in place for RacketCS. However, you can see that some operations that block in traditional Racket do not block in RacketCS. Consider this interaction:
```
[samth@huor:/tmp plt] PLTSTDERR=debug@future racketcs
Welcome to Racket v7.2.0.12 [cs].
&amp;gt; (define v (vector 1 2 3))
&amp;gt; (define b #t)
&amp;gt; (define t (future (lambda () (for/hash ([i v]) (values i i)) (set! b 'done))))
&amp;gt; b
'done
&amp;gt; (touch t)
&amp;gt; b
'done
```</text>
  </message>
  <message conversation_id="548">
    <ts>2019-05-03T11:36:21.106800</ts>
    <user>Kristeen</user>
    <text>On traditional Racket you get this instead, because futures block on hash operations:
```
[samth@huor:/tmp plt] racket
Welcome to Racket v7.3.0.1.
&amp;gt; (define v (vector 1 2 3))
&amp;gt; (define b #t)
&amp;gt; (define t (future (lambda () (for/hash ([i v]) (values i i)) (set! b 'done))))
&amp;gt; b
#t
&amp;gt; (touch t)
&amp;gt; b
'done
```</text>
  </message>
  <message conversation_id="549">
    <ts>2019-05-03T15:01:30.107300</ts>
    <user>Lillian</user>
    <text>According to `pkgs,&lt;http://racket-lang.org|racket-lang.org&gt;` I have reached a level of Racketing I do not completely understand</text>
  </message>
  <message conversation_id="549">
    <ts>2019-05-03T15:03:40.108200</ts>
    <user>Priscila</user>
    <text>Is the new one that fails, and the other one an older that shows a succeeding log?</text>
  </message>
  <message conversation_id="550">
    <ts>2019-05-03T15:26:41.111900</ts>
    <user>Julia</user>
    <text>I'm in the process of adding Gmail to the same deprecation list as my old Yahoo and Hotmail and Xxx accounts.
I want to subscribe to racket-{users dev money} lists with a new, (non-google) email address.
Is this possible to do without creating Yet Another Google Account using the new non-google email address?

Some things indicate that emailing to `[Group Name]+subscribe@googlegroups.com` would work.
OTOH other things imply Google @#$%-canned that awhile ago.

I guess I can just go ahead and try, but thought I'd ask in case anyone else knows.</text>
  </message>
  <message conversation_id="550">
    <ts>2019-05-03T15:52:23.113700</ts>
    <user>Mai</user>
    <text>I just uploaded my first package! &lt;https://docs.racket-lang.org/loop/index.html&gt;

&lt;@Priscila&gt; told me that `loop` is *not* an ideal name because people have already claimed this name (&lt;http://www.ccs.neu.edu/home/shivers/papers/loop.pdf&gt;). On the other hand, I want a relatively short name. Does anyone have a suggestion?</text>
  </message>
  <message conversation_id="551">
    <ts>2019-05-03T16:06:16.114000</ts>
    <user>Karen</user>
    <text>I don't think package splitting is a good thing to do. With the submodule and phase systems, we can accurately track which parts of a package depend on what other packages and at which phase(s). Duplicating that information by mechanically splitting packages is busywork that's difficult to maintain.</text>
  </message>
  <message conversation_id="550">
    <ts>2019-05-03T17:17:19.114200</ts>
    <user>Julia</user>
    <text>Well "it worked" in the sense that it replied, asking me to confirm with a reply email. It says I've "joined".
It remains to be seen if I'll actually receive emails (no traffic on racket-users yet), and, if it will let me send emails.</text>
  </message>
  <message conversation_id="552">
    <ts>2019-05-03T17:51:06.114600</ts>
    <user>Hallie</user>
    <text>here is another way: &lt;https://defn.io/2019/02/05/google-groups/&gt;</text>
  </message>
  <message conversation_id="553">
    <ts>2019-05-03T20:14:53.115100</ts>
    <user>Terrence</user>
    <text>hi everyone :slightly_smiling_face:, I took a break after starting a new job</text>
  </message>
  <message conversation_id="553">
    <ts>2019-05-03T20:15:38.115600</ts>
    <user>Terrence</user>
    <text>I also found a copy of How to Design Programs Second Edition for .99 at Goodwill. Score!</text>
  </message>
  <message conversation_id="553">
    <ts>2019-05-03T20:16:02.115900</ts>
    <user>Raul</user>
    <text>&lt;@Terrence&gt; Welcome back!</text>
  </message>
  <message conversation_id="553">
    <ts>2019-05-03T20:16:12.116100</ts>
    <user>Terrence</user>
    <text>hi Bill!</text>
  </message>
  <message conversation_id="554">
    <ts>2019-05-03T22:04:03.116500</ts>
    <user>Julia</user>
    <text>Oh cool. Good to know.</text>
  </message>
  <message conversation_id="554">
    <ts>2019-05-03T22:05:52.116700</ts>
    <user>Julia</user>
    <text>I actually had a little wave of nostalgia, it's been awhile since I sent a subscribe email to a listserve. :older_man:</text>
  </message>
  <message conversation_id="554">
    <ts>2019-05-03T23:58:34.117000</ts>
    <user>Michelina</user>
    <text>99 cents! that's a steal</text>
  </message>
  <message conversation_id="554">
    <ts>2019-05-04T01:02:14.117300</ts>
    <user>Michelina</user>
    <text>&lt;@Lillian&gt; &lt;https://docs.racket-lang.org/brag/&gt; gives a 404</text>
  </message>
  <message conversation_id="555">
    <ts>2019-05-04T01:02:38.117700</ts>
    <user>Michelina</user>
    <text>is that due to the failssucceeds problem?</text>
  </message>
  <message conversation_id="555">
    <ts>2019-05-04T08:24:17.117800</ts>
    <user>Michelina</user>
    <text>I hear you! what kinds of stuff interest you (programming-wise)?</text>
  </message>
  <message conversation_id="554">
    <ts>2019-05-04T20:38:22.119800</ts>
    <user>Julia</user>
    <text>&lt;@Milissa&gt; Someone on IRC mentioned that "riposte docs" are a 404.
I don't see that. &lt;https://docs.racket-lang.org/riposte/index.html&gt; is 200 OK for me.
However it prompted me to look at &lt;http://pkgs.r-l.org|pkgs.r-l.org&gt; and I saw something I've never seen before.
&lt;https://pkgs.racket-lang.org/package/riposte&gt;
```
Checksum error An error occurred while updating the package checksum.

pkg: invalid `deps' specification
  specification: '("base" "brag" "beautiful-racket-lib" "http" "argo" "dotenv" ("json-pointer" #:version "0.6.0") "uri-template" "ejs")
  context...:
   /home/pkgserver/racket/collects/pkg/private/content.rkt:14:0: extract-pkg-dependencies
   /home/pkgserver/racket/collects/racket/contract/private/arrow-val-first.rkt:397:3
   /home/pkgserver/pkg-index/official/update.rkt:125:4
   /home/pkgserver/racket/collects/racket/contract/private/arrow-higher-order.rkt:361:33
   /home/pkgserver/racket/collects/pkg/private/content.rkt:39:0: get-pkg-content20
   /home/pkgserver/racket/collects/racket/contract/private/arrow-val-first.rkt:397:3
   /home/pkgserver/pkg-index/official/update.rkt:114:0: update-from-content
   /home/pkgserver/racket/collects/racket/private/more-scheme.rkt:261:28
   /home/pkgserver/racket/collects/racket/private/list.rkt:264:4: loop
   /home/pkgserver/pkg-index/official/update.rkt:137:0: do-update!
   /home/pkgserver/pkg-index/official/common.rkt:138:0: run!
   /home/pkgserver/pkg-index/official/update.rkt:154:22
```</text>
  </message>
  <message conversation_id="554">
    <ts>2019-05-05T00:59:23.120700</ts>
    <user>Michelina</user>
    <text>&lt;@Julia&gt; yeah, a GitHub issue was opened about it. I screwed up the deps for the package. Fix coming!</text>
  </message>
  <message conversation_id="554">
    <ts>2019-05-05T01:04:33.121700</ts>
    <user>Michelina</user>
    <text>&lt;@Julia&gt; feature for racket-mode that I'd love to see: ability to consistently rename an identifier</text>
  </message>
  <message conversation_id="555">
    <ts>2019-05-05T06:07:38.123200</ts>
    <user>Lilli</user>
    <text>:wave:lo all... long time no see</text>
  </message>
  <message conversation_id="555">
    <ts>2019-05-05T06:09:09.124400</ts>
    <user>Lilli</user>
    <text>I've just got a pixelbook (woo), and I'm trying to run drracket in linux. It won't start. Reporting ```$ drracket
xkbcommon: ERROR: Key "&amp;lt;CAPS&amp;gt;" added to modifier map for multiple modifiers; Using Mod3, ignoring Lock

(drracket:1722): Gdk-WARNING **: /build/gtk+3.0-NmdvYo/gtk+3.0-3.22.11/./gdk/x11/gdkwindow-x11.c:5573 drawable is not a native X11 window
Window-&amp;gt;C: argument is not non-null `Window' pointer
  argument: #f```</text>
  </message>
  <message conversation_id="555">
    <ts>2019-05-05T06:09:19.124700</ts>
    <user>Lilli</user>
    <text>Is this a known thing?</text>
  </message>
  <message conversation_id="555">
    <ts>2019-05-05T06:14:55.125300</ts>
    <user>Mai</user>
    <text>I googled and found
&lt;https://github.com/racket/drracket/issues/87&gt; and
&lt;https://github.com/racket/racket/issues/1547&gt;</text>
  </message>
  <message conversation_id="555">
    <ts>2019-05-05T06:17:02.125700</ts>
    <user>Lilli</user>
    <text>you know, I'm so out of the loop... I didn't even notice that v6.7 is neolithic.</text>
  </message>
  <message conversation_id="555">
    <ts>2019-05-05T06:17:13.125900</ts>
    <user>Lilli</user>
    <text>(and I should have mentioned the racket version)</text>
  </message>
  <message conversation_id="555">
    <ts>2019-05-05T09:45:11.126500</ts>
    <user>Priscila</user>
    <text>&lt;@Lilli&gt; Probably not. I don't think too many have ChromeBooks.</text>
  </message>
  <message conversation_id="556">
    <ts>2019-05-05T10:34:26.129800</ts>
    <user>Julia</user>
    <text>I have a ChromeBook Pixel 1 and 2, where I used Crouton to run Linux apps.
The new Crostini thing sounds way simpler.
Them using Wayland instead of X11 seems a little too bleeding edge, means some apps will have problems, but idk.
I can't try b/c Google not supporting that on their own older hardware. Probably I'll wipe ChromeOS and install Ubuntu or whatever directly.</text>
  </message>
  <message conversation_id="556">
    <ts>2019-05-05T10:34:46.130300</ts>
    <user>Lilli</user>
    <text>I've built a version from source. It works fine for me now!</text>
  </message>
  <message conversation_id="556">
    <ts>2019-05-05T10:44:27.130700</ts>
    <user>Julia</user>
    <text>You can `M-x racket-check-syntax-mode` and `racket-check-syntax-mode-rename`. But:</text>
  </message>
  <message conversation_id="556">
    <ts>2019-05-05T10:44:34.130900</ts>
    <user>Julia</user>
    <text>That only works within one source file at a time.</text>
  </message>
  <message conversation_id="556">
    <ts>2019-05-05T10:44:51.131100</ts>
    <user>Julia</user>
    <text>It is a little bit "buried" in the UX.</text>
  </message>
  <message conversation_id="556">
    <ts>2019-05-05T10:46:00.131300</ts>
    <user>Julia</user>
    <text>Also when I try it now on my local build of racket-mode I see that check-syntax-mode is confused about the position of usages, so, rename won't work. This has worked "forever" so I'll figure out what broke when, and fix it.</text>
  </message>
  <message conversation_id="556">
    <ts>2019-05-05T10:52:21.131500</ts>
    <user>Julia</user>
    <text>Oh. I think it's simply because the buffer had changed and wasn't saved  (I just used some `/tmp/foo.rkt` buffer I'd had open for something else).
The backend check-syntax uses the file.
Maybe the bug to fix is a missing `save-if-changed` ....</text>
  </message>
  <message conversation_id="556">
    <ts>2019-05-05T11:13:21.131700</ts>
    <user>Julia</user>
    <text>Yeah. TL;DR: I'll push a commit to have `racket-check-syntax-mode` call `save-if-changed` automatically. Meanwhile, just be sure to save the buffer before running `M-x racket-check-syntax-mode`.</text>
  </message>
  <message conversation_id="557">
    <ts>2019-05-05T12:15:01.133300</ts>
    <user>Priscila</user>
    <text>Apropos, are you satisfied with your ChromeBooks?</text>
  </message>
  <message conversation_id="557">
    <ts>2019-05-05T12:27:30.137600</ts>
    <user>Madelaine</user>
    <text>I am trying to open a specific locally-installed documentation page programmatically (from a DrRacket toolbar button). On my machine `(send-main-page #:sub "bib-db-grammar/index.html")` works great, but for my collaborators it tries to send them to `&lt;http://docs.racket-lang.org|docs.racket-lang.org&gt;`, where this document doesn’t exist. Is there something obvious I’m doing wrong? Is `send-main-page` the right place to start? &lt;https://docs.racket-lang.org/help/index.html#(def._((lib._help%2Fsearch..rkt)._send-main-page))&gt;
(This is for a `#lang` for my collaborators to just give them some editor support for a temporary data file format we’re working with internally.)</text>
  </message>
  <message conversation_id="558">
    <ts>2019-05-05T14:07:01.137800</ts>
    <user>Clarinda</user>
    <text>Do you have “bib-db-grammer” installed in installation scope or use scope? How about your collaborators?</text>
  </message>
  <message conversation_id="558">
    <ts>2019-05-05T14:08:25.138000</ts>
    <user>Madelaine</user>
    <text>I have it in installation scope, but I think my collaborators have it in user scope: I use `(default-pkg-scope)`, and I doubt they’d have changed theirs.</text>
  </message>
  <message conversation_id="558">
    <ts>2019-05-05T14:10:31.138200</ts>
    <user>Clarinda</user>
    <text>I think that’s pronbably the reason, since user-scope documentation goes in the package directory instead of a centralized directory. If you can make `find-help/lib` work, that’s probably a better way to go. Or the more primitive functions like `xref-tag-&amp;gt;path+anchor`, although it always takes me a while to figure out again how to assemble those parts.</text>
  </message>
  <message conversation_id="558">
    <ts>2019-05-05T14:11:28.138400</ts>
    <user>Madelaine</user>
    <text>Thanks, I will look into that!</text>
  </message>
  <message conversation_id="559">
    <ts>2019-05-05T15:31:14.138600</ts>
    <user>Julia</user>
    <text>&lt;https://github.com/greghendershott/racket-mode/issues/372&gt;</text>
  </message>
  <message conversation_id="559">
    <ts>2019-05-05T16:29:55.142800</ts>
    <user>Julia</user>
    <text>For awhile I've noticed CI builds of racket-mode fail for HEADCS trying to start the REPL.
Today I _finally_ got time to catch up, install HEADCS locally, and investigate. (I've been super busy last N months on a consulting project.)
I reproduced the failure. Took a deep breath. Ready for a long, complicated debugging session.
Is there some change with `module-&amp;gt;namespace`, or something super intricate?</text>
  </message>
  <message conversation_id="559">
    <ts>2019-05-05T16:30:15.143100</ts>
    <user>Julia</user>
    <text>Turns out `"Welcome to Racket v7.2"` is now instead `"Welcome to Racket 7.3.0.3"` -- no leading `"v"`.
So a test regexp needs to change from `"Welcome to Racket [0-9.]+\n&amp;gt; "` to `"Welcome to Racket v?[0-9.]+\n&amp;gt; "`.</text>
  </message>
  <message conversation_id="559">
    <ts>2019-05-05T16:30:47.143700</ts>
    <user>Julia</user>
    <text>Truly, I am operating at the pinnacle of software engineering mastery and sophistication here. :smirk:</text>
  </message>
  <message conversation_id="559">
    <ts>2019-05-05T16:31:59.144400</ts>
    <user>Julia</user>
    <text>Insert "what people think I do what I actually do" meme here.</text>
  </message>
  <message conversation_id="559">
    <ts>2019-05-05T16:33:01.144800</ts>
    <user>Priscila</user>
    <text>No such thing as an innocent change.</text>
  </message>
  <message conversation_id="559">
    <ts>2019-05-05T16:35:02.145200</ts>
    <user>Julia</user>
    <text>At least I noticed it within a couple minutes. ¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="559">
    <ts>2019-05-05T16:35:45.146000</ts>
    <user>Julia</user>
    <text>The longer a debugging mystery continues, the simpler the cause turns out to be.
So this should have kept me busy for a few days.
I'm sort of disappointed.</text>
  </message>
  <message conversation_id="560">
    <ts>2019-05-05T18:37:55.146400</ts>
    <user>Clarinda</user>
    <text>The “v” should still be there for plain Racket. Is this something other than the startup banner from `racket`?</text>
  </message>
  <message conversation_id="559">
    <ts>2019-05-05T18:50:37.146600</ts>
    <user>Julia</user>
    <text>&lt;@Clarinda&gt; It looks like `banner` isn't consistent.
```
greg@x1c:~$ ~/racket/7.3.0.3-cs/bin/racket --version
Welcome to Racket v7.3.0.3 [cs].
greg@x1c:~$ ~/racket/7.3.0.3-cs/bin/racket
Welcome to Racket v7.3.0.3 [cs].
&amp;gt; (banner)
"Welcome to Racket 7.3.0.3\n"
&amp;gt; 
```</text>
  </message>
  <message conversation_id="559">
    <ts>2019-05-05T18:51:39.146800</ts>
    <user>Julia</user>
    <text>Whereas with 7.2:
```
greg@x1c:~$ ~/racket/7.2/bin/racket --version
Welcome to Racket v7.2.
greg@x1c:~$ ~/racket/7.2/bin/racket
Welcome to Racket v7.2.
&amp;gt; (banner)
"Welcome to Racket v7.2.\n"
&amp;gt; 
```</text>
  </message>
  <message conversation_id="560">
    <ts>2019-05-05T19:29:49.147000</ts>
    <user>Clarinda</user>
    <text>Will fix. Thanks!</text>
  </message>
  <message conversation_id="561">
    <ts>2019-05-05T23:24:23.149200</ts>
    <user>Sunni</user>
    <text>Hello, I’m new here, so is it appropriate to ask about the pollen language here? Or is this just for the main racket language?</text>
  </message>
  <message conversation_id="559">
    <ts>2019-05-05T23:35:20.150300</ts>
    <user>Julia</user>
    <text>It's fine to ask. I think pollen is awesome but am not using it so I probably won't be able to answer. But someone else probably can, eventually.</text>
  </message>
  <message conversation_id="561">
    <ts>2019-05-06T00:15:02.150800</ts>
    <user>Sunni</user>
    <text>Thanks!</text>
  </message>
  <message conversation_id="561">
    <ts>2019-05-06T00:18:00.154600</ts>
    <user>Sunni</user>
    <text>I’m looking to transition a file from Markdown authoring mode to Pollen markup to support multiple target formats (regular HTML and a different Wiki friendly HTML). Is there a decode-x type function I can add to my pollen.rkt that would allow me to continue rendering the markdown as before? I’ll gradually then change out markdown for pollen markup as I update the pages. </text>
  </message>
  <message conversation_id="562">
    <ts>2019-05-06T00:45:09.154700</ts>
    <user>Mai</user>
    <text>At the basic level, this should do what you want:

```
;; pollen.rkt
#lang racket

(provide markdown)
(require markdown/parse)

(define (markdown . xs)
  (cons '@ (parse-markdown (string-join xs))))

;; &lt;http://my-file.poly.pm|my-file.poly.pm&gt;
#lang pollen

◊(define hello "Hello")

◊markdown{
  ◊hello _world_!
  How are you?

  Here's a *new* paragraph.
}
```</text>
  </message>
  <message conversation_id="562">
    <ts>2019-05-06T00:47:37.155000</ts>
    <user>Mai</user>
    <text>And FWIW, Pollen users usually ask questions at &lt;https://groups.google.com/forum/#!forum/pollenpub&gt;</text>
  </message>
  <message conversation_id="561">
    <ts>2019-05-06T01:47:01.157600</ts>
    <user>Sunni</user>
    <text>Exactly what I was looking for. I’ll take a stab at it later.  Thanks for sharing the Google group, I’ll give it a look. Though, I’m in China so it’s not easy (but not impossible) for me to access.</text>
  </message>
  <message conversation_id="563">
    <ts>2019-05-06T06:18:07.158000</ts>
    <user>Lilli</user>
    <text>i'm getting the odd core dump... but with the new laptop, i've got a billion other things i need to do before geting back to that!</text>
  </message>
  <message conversation_id="563">
    <ts>2019-05-06T06:18:42.158200</ts>
    <user>Lilli</user>
    <text>good news is, that this will make a good, portable (as in luggable) platform for racketing, so I'm bound to be doing a lot more.</text>
  </message>
  <message conversation_id="563">
    <ts>2019-05-06T06:58:19.158400</ts>
    <user>Giuseppe</user>
    <text>I'm interested in building decentralised and peer to peer software. I am into building software that will help achieve my long time goal of building a self-sustainable lifestyle. It can be simple things like how I can automate simple things like managing a garden, monitoring a specific area via cameras + sensors, or it can also be trying to mess with my own personal trackers.</text>
  </message>
  <message conversation_id="564">
    <ts>2019-05-06T10:51:49.159000</ts>
    <user>Almeda</user>
    <text>Is there a way to make graphql queries with Racket?</text>
  </message>
  <message conversation_id="563">
    <ts>2019-05-06T11:02:05.159100</ts>
    <user>Tomas</user>
    <text>can’t find any packages or GH project w a cursory search</text>
  </message>
  <message conversation_id="564">
    <ts>2019-05-06T11:03:19.159300</ts>
    <user>Almeda</user>
    <text>same, time to pretend I'm not junior dev and start porting the clojure implementation :joy:</text>
  </message>
  <message conversation_id="564">
    <ts>2019-05-06T11:03:54.159500</ts>
    <user>Tomas</user>
    <text>would be pretty cool to see that</text>
  </message>
  <message conversation_id="564">
    <ts>2019-05-06T11:14:12.159700</ts>
    <user>Almeda</user>
    <text>im waaay too beginner(in Racket)/intermediate(overall) for that. For example off the bat, it used EDN syntax for its schema. Thats a very clojure-choice right there. Having not used Racket enough to know, what would  Racket devs like the schema syntax to be, and since Racket is a DSL-creator, maybe EDN *IS* the right choice. I'd hit a roadblock every. step. of. the. way.


..But if someone starts this I'd try my hardest to contribute.</text>
  </message>
  <message conversation_id="564">
    <ts>2019-05-06T12:33:14.160000</ts>
    <user>Julia</user>
    <text>&lt;@Almeda&gt; Is this the one? &lt;https://github.com/tendant/graphql-clj&gt;</text>
  </message>
  <message conversation_id="563">
    <ts>2019-05-06T13:22:53.160300</ts>
    <user>Tomas</user>
    <text>&lt;https://github.com/walmartlabs/lacinia&gt; uses a lot of EDN</text>
  </message>
  <message conversation_id="563">
    <ts>2019-05-06T13:25:13.160600</ts>
    <user>Tomas</user>
    <text>using something like Brag to parse GraphQL’s schema is a thing &lt;https://graphql.github.io/graphql-spec/June2018/&gt;</text>
  </message>
  <message conversation_id="564">
    <ts>2019-05-06T14:24:25.160800</ts>
    <user>Almeda</user>
    <text>&lt;@Julia&gt; I was looking at Lacinia (seemed more active)</text>
  </message>
  <message conversation_id="565">
    <ts>2019-05-06T21:19:15.161000</ts>
    <user>Leticia</user>
    <text>That is something that feels like it needs some work, documentation wise, it makes getting started with futures pretty intimidating.</text>
  </message>
  <message conversation_id="565">
    <ts>2019-05-06T21:19:24.161200</ts>
    <user>Leticia</user>
    <text>Will/do places in chez just use the native chez OS thread construct?</text>
  </message>
  <message conversation_id="565">
    <ts>2019-05-06T21:23:28.161500</ts>
    <user>Kristeen</user>
    <text>Places and futures on Racket CS both use Chez threads</text>
  </message>
  <message conversation_id="566">
    <ts>2019-05-06T21:32:23.161700</ts>
    <user>Amira</user>
    <text>`letloop`?
I think `loop` is fine, but if you stick with it, add a margin note to say it's not Olin's loop.</text>
  </message>
  <message conversation_id="567">
    <ts>2019-05-07T04:36:17.164800</ts>
    <user>Jeffery</user>
    <text>Two questions on using scribble/base.
first question. how do I insert a newline in an @title{xx}. I want to do something like
“Memo - some text here”
“By - my initials”
The following does not get me what I want:
#lang scribble/base
@title{text 1
       text 2}
@section{text1}
xxx
@section{text2}
xxx
----
It renders as “text 1 text 2”
***
Second question
I tried
@title{text 1

       text 2}
@section{text1}
xxx
@section{text2}
xxx

-&amp;gt;with an added line in the @title section &amp;lt;-
And I got a LOT! of warnings and it didnt render.</text>
  </message>
  <message conversation_id="568">
    <ts>2019-05-07T09:54:05.167600</ts>
    <user>Clarinda</user>
    <text>Use `@linebreak[]` to create a line break within a title. Or maybe you want to use `@author` after `@title`.
I see what you mean about the Latex error when you include a blank line, and we should adjust Scribble to avoid that. (Latex is really uncooperative as a back end.)</text>
  </message>
  <message conversation_id="569">
    <ts>2019-05-07T16:27:05.167900</ts>
    <user>Priscila</user>
    <text>let/defaults</text>
  </message>
  <message conversation_id="569">
    <ts>2019-05-07T16:27:18.168100</ts>
    <user>Priscila</user>
    <text>where / is short for "with"</text>
  </message>
  <message conversation_id="570">
    <ts>2019-05-07T20:18:08.168900</ts>
    <user>Elizabet</user>
    <text>hello, I've been reading through Rash's source code and found something of the following form:
```(let ()
  &amp;lt;body&amp;gt;)```

is there a purpose to a `let` that doesn't introduce any bindings? I can't seem to figure this out from the documentation.

Thank you!</text>
  </message>
  <message conversation_id="568">
    <ts>2019-05-07T21:16:02.169300</ts>
    <user>Mai</user>
    <text>I think it’s mostly used to introduce the internal definition context.

If you have `(if &amp;lt;e1&amp;gt; &amp;lt;e2&amp;gt; &amp;lt;e3&amp;gt;)`, and in `&amp;lt;e2&amp;gt;` you want to use `define`, you might attempt this:

```
(if #t 
    (begin 
       (define x 1)
       x)
    #t)
```

But this results in an error because `define` doesn’t work in the expression context. However, you can do this:

```
(if #t
    (let ()
      (define x 1)
      x)
    #t)

```
Because the body of `let` allows internal-definition context, this works as expected</text>
  </message>
  <message conversation_id="568">
    <ts>2019-05-07T21:27:03.170100</ts>
    <user>Mai</user>
    <text>Would it be better if I simply make it completely compatible with `let` and call it `let+`? But otherwise I think I’m gonna stick with `loop`, as it’s only 4 character long.</text>
  </message>
  <message conversation_id="568">
    <ts>2019-05-07T21:33:39.170400</ts>
    <user>Julia</user>
    <text>&lt;@Elizabet&gt; I think &lt;@Mai&gt; is right about why that code does that.
Also, the Racket style guide suggests using `cond` instead of `if`. Various reasons why. Relevant one, here: You could just write:
```
(cond [#t
       (define x 1)
       x]
      [else #t])
```</text>
  </message>
  <message conversation_id="568">
    <ts>2019-05-07T21:35:06.170700</ts>
    <user>Julia</user>
    <text>&lt;https://docs.racket-lang.org/style/Choosing_the_Right_Construct.html#%28part._.Conditionals%29&gt;</text>
  </message>
  <message conversation_id="568">
    <ts>2019-05-07T21:58:40.171200</ts>
    <user>Mai</user>
    <text>Yup, I rarely use `if` because of this reason.

In fact, I think that it’s generally a bad style to write `(let () ...)` _directly_ in your code. The only place I think it makes sense to use is in macros. For example, if you want to define your own `cond`, here’s one possibility (though pretty crappy)

```
(define-syntax-parser cond*
  #:literals (else)
  [(_) #'(void)]
  [(_ [else . body]) #'(let () . body)]
  [(_ [test-expr . body] . rest) 
   #'(if test-expr (let () . body) (cond* . rest))])
```</text>
  </message>
  <message conversation_id="571">
    <ts>2019-05-07T23:29:03.171600</ts>
    <user>Julia</user>
    <text>I agree. Well. Sometimes that's the least-worst choice I've found when writing certain `rackunit` tests.</text>
  </message>
  <message conversation_id="568">
    <ts>2019-05-08T00:31:37.171800</ts>
    <user>Elizabet</user>
    <text>great! thank you so much &lt;@Mai&gt; and &lt;@Julia&gt;!</text>
  </message>
  <message conversation_id="572">
    <ts>2019-05-08T07:11:28.173600</ts>
    <user>Jeffery</user>
    <text>thanks &lt;@Clarinda&gt; about the @linebreak[] tip. I do know the @author function but could also think of cases where I would need Headtitle @linebreak[] Subtitle.</text>
  </message>
  <message conversation_id="573">
    <ts>2019-05-08T08:02:32.174300</ts>
    <user>Terrence</user>
    <text>Hi everybody. I had a general question. I am getting back to this language but I wondered, what can I do with it in the future?</text>
  </message>
  <message conversation_id="574">
    <ts>2019-05-08T09:43:10.174500</ts>
    <user>Shavon</user>
    <text>I have been wanting to see a graphql implementation in racket for awhile. Mainly because the github api now uses graphql and will make creating a github api in racket a breeze.</text>
  </message>
  <message conversation_id="573">
    <ts>2019-05-08T09:44:57.176400</ts>
    <user>Shavon</user>
    <text>&lt;@Terrence&gt; well, that's a hard question. You can do whatever you want really. What are you interested in? Or do you want to contribute to racket itself? Maybe there are some libraries looking for help.</text>
  </message>
  <message conversation_id="573">
    <ts>2019-05-08T10:20:44.178700</ts>
    <user>Mauro</user>
    <text>&lt;@Terrence&gt; what &lt;@Shavon&gt; said. Racket can be used for any kind of programming projects, it's a multi-featured Swiss army knife really. Glided with platinum.

If you have specific visions of what you'd like to do in the future, feel free to mention that here, we could give you specific examples of how Racket has been used for the cases you're envisioning.</text>
  </message>
  <message conversation_id="573">
    <ts>2019-05-08T13:36:22.180300</ts>
    <user>Terrence</user>
    <text>&lt;@Mauro&gt; to be honest, I need to make more money than I am now. I won't get into my story or why I'm not currently a programmer, but I have had 1 interview in 3 years.</text>
  </message>
  <message conversation_id="573">
    <ts>2019-05-08T13:53:49.183800</ts>
    <user>Julia</user>
    <text>&lt;@Terrence&gt; Something I like to point out, for people of all ages/experience/backgrounds, who are interested in starting/resuming a programming career, is the Recurse Center (formerly known as Hacker School).
It's not for everyone, but, I just to make sure people are aware it's a possible option.
&lt;https://www.recurse.com/&gt;</text>
  </message>
  <message conversation_id="575">
    <ts>2019-05-08T13:54:38.185000</ts>
    <user>Julia</user>
    <text>It's not one of those paid "bootcamps". It's free to attend. (Admittedly, it's not free to live in NYC for 6 or 12 weeks. But there are some financial assistance options.)</text>
  </message>
  <message conversation_id="573">
    <ts>2019-05-08T13:55:18.185700</ts>
    <user>Terrence</user>
    <text>I have to work to pay the bills though. This is really nice though, and maybe I will just hippie-fy myself for 12 weeks lol.</text>
  </message>
  <message conversation_id="573">
    <ts>2019-05-08T13:56:59.186800</ts>
    <user>Julia</user>
    <text>How they make money is recruiting. You're not obligated to try to find a job with their help. But you can, and they help coach for interviews, and all that. There's a pretty good alumni network and community.</text>
  </message>
  <message conversation_id="573">
    <ts>2019-05-08T13:57:12.187200</ts>
    <user>Julia</user>
    <text>They even have 1-week option these days.</text>
  </message>
  <message conversation_id="573">
    <ts>2019-05-08T13:57:21.187500</ts>
    <user>Julia</user>
    <text>Anyway it might not be for you, I just wanted to point it out.</text>
  </message>
  <message conversation_id="575">
    <ts>2019-05-08T17:16:37.187800</ts>
    <user>Priscila</user>
    <text>&lt;@Mai&gt;  There are two names at play. The package name and the name of the construct. You could name your package some like let-with-defaults (or something better) and then have use loop as the name for the construct.</text>
  </message>
  <message conversation_id="573">
    <ts>2019-05-08T19:01:16.188800</ts>
    <user>Terrence</user>
    <text>Thank you for the info! Strangest thing: I got a call from a Naval contractor and set up an interview for next Wednesday. They loved my resume.</text>
  </message>
  <message conversation_id="576">
    <ts>2019-05-08T19:03:19.189600</ts>
    <user>Karen</user>
    <text>&lt;@Terrence&gt; good luck :simple_smile:</text>
  </message>
  <message conversation_id="576">
    <ts>2019-05-08T19:08:43.189800</ts>
    <user>Terrence</user>
    <text>ty</text>
  </message>
  <message conversation_id="575">
    <ts>2019-05-09T02:39:34.190100</ts>
    <user>Priscila</user>
    <text>&lt;https://www.reddit.com/r/programming/comments/bm9p5e/goal_is_a_compiled_lisp_dialect_created_by/&gt;</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T13:30:20.191000</ts>
    <user>Laverna</user>
    <text>i’m looking for code to support colorized logging, but haven’t been able to find any. anyone know of any existing code for that?</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T13:35:15.191500</ts>
    <user>Kristeen</user>
    <text>&lt;@Laverna&gt; I also don't know of anything that does that</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:13:16.193700</ts>
    <user>Julia</user>
    <text>&lt;@Laverna&gt; I don't either but I'm curious.
Do you mean ANSI color codes for a terminal?
Are you thinking different colors for log levels and/or topics (so this could be done by a log receiver), or, fancy color formatting within each logger message?</text>
  </message>
  <message conversation_id="578">
    <ts>2019-05-09T15:24:20.195900</ts>
    <user>Karen</user>
    <text>tangential opinion: all racket log messages should include a module name (e.g. "racket/contract: something something chaperones something unsafe")</text>
  </message>
  <message conversation_id="578">
    <ts>2019-05-09T15:30:16.196000</ts>
    <user>Tomas</user>
    <text>something like &lt;https://pypi.org/project/coloredlogs/&gt; ?</text>
  </message>
  <message conversation_id="578">
    <ts>2019-05-09T15:45:24.196300</ts>
    <user>Julia</user>
    <text>In case someone is thinking of making a Racket package like this: As a U.S. person I'd suggest a slightly less-uncomfortable name, like "colorful-logs" or "rainbow-logs"?</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:46:41.196500</ts>
    <user>Laverna</user>
    <text>right, ANSI color codes for terminal, and my desire is for different colors for each topic, though people often do different colors for each level</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:46:51.196700</ts>
    <user>Julia</user>
    <text>Anyway, quick glance at that screen shot, it looks like a Racket log-receiver could do this.</text>
  </message>
  <message conversation_id="578">
    <ts>2019-05-09T15:47:08.196900</ts>
    <user>Julia</user>
    <text>Like, the one for `racket-logger-mode` in Emacs does.</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:47:43.197100</ts>
    <user>Julia</user>
    <text>So call sites don't need to know or care, and, this needn't affect log-receivers outputting to files or to JSON on CloudWatch or whatever else.</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:48:26.197300</ts>
    <user>Julia</user>
    <text>Is `raart` the preferred way to do ANSI codes in Racket these days, or `charterm`? I'm not sure. Whatever it is, that plus a log-receiver would be the way to go, I think.</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:49:23.197500</ts>
    <user>Julia</user>
    <text>(Or neither, maybe it's fine to define a few ANSI color escape codes locally for this. idk.)</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:49:32.197700</ts>
    <user>Laverna</user>
    <text>yes, that part seems straightforward.  i’m thinking about some convenience aspects. like, in clojurescript i’ve done something like a `deflogger` macro that defines a logger and a `log-info` function that uses that logger. just to avoid the `(log-message logger 'info ...)` etc for each call to logging.</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:49:58.197900</ts>
    <user>Julia</user>
    <text>Have you seen `define-logger` in Racket?</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:50:38.198100</ts>
    <user>Laverna</user>
    <text>oh, that looks about perfect. i missed that and had been using `make-logger`</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:51:07.198300</ts>
    <user>Julia</user>
    <text>Yep. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:51:40.198500</ts>
    <user>Laverna</user>
    <text>and the top half of the google results page i was looking at was all about &lt;https://docs.racket-lang.org/ansi-color/index.html&gt;</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:52:20.198700</ts>
    <user>Julia</user>
    <text>It defines 4 functions for you, `log-&amp;lt;topic&amp;gt;-&amp;lt;level&amp;gt;`.
One tip, if you want to use those outside the module where you have `define-logger`, you will need to provide all 4 by name. IOW there's no `define/provide-logger` macro.</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:53:36.198900</ts>
    <user>Julia</user>
    <text>Oh, I didn't know about `ansi-color`.</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:53:58.199100</ts>
    <user>Julia</user>
    <text>There are enough Racket projects these days, it's hard to keep up. Which is a good problem to have, compared to a few years ago.</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:54:04.199300</ts>
    <user>Laverna</user>
    <text>so it looks like i can make a receiver for a parent logger, and then i can have multiple `define-loggers` that use that parent without having to make separate receivers for each child.</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:54:21.199500</ts>
    <user>Julia</user>
    <text>Yes.</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:54:59.199700</ts>
    <user>Julia</user>
    <text>There's a default log-receiver that prints to stdout or stderr, depending on the PLTSTDERR and PLTSTDERR env vars.</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:55:27.199900</ts>
    <user>Julia</user>
    <text>You can define as many other log-receivers as you need/want.</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:55:36.200100</ts>
    <user>Julia</user>
    <text>Each can have its own topics/levels it cares about.</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:56:54.200300</ts>
    <user>Laverna</user>
    <text>(it is slightly annoying that unless callers take special care, by the time the receiver gets a log message it already has the `"&amp;lt;topic&amp;gt;:"` prefix)</text>
  </message>
  <message conversation_id="577">
    <ts>2019-05-09T15:57:34.200500</ts>
    <user>Julia</user>
    <text>Yes. Topics were added later.</text>
  </message>
  <message conversation_id="579">
    <ts>2019-05-09T16:13:02.200700</ts>
    <user>Tomas</user>
    <text>funny i just wrote something like `define/provide-logger` for a json logger</text>
  </message>
  <message conversation_id="580">
    <ts>2019-05-09T16:30:53.200900</ts>
    <user>Laverna</user>
    <text>i kind of like topics because they aren't tied to a specific module, but i've definitely been in the situation where i wish i knew where to start looking for which damn file was logging a particular message.</text>
  </message>
  <message conversation_id="580">
    <ts>2019-05-09T16:57:42.201300</ts>
    <user>Karen</user>
    <text>the choice of module name doesn’t have to reflect where the log message happens IMO</text>
  </message>
  <message conversation_id="580">
    <ts>2019-05-09T16:58:46.201500</ts>
    <user>Karen</user>
    <text>I think it’s reasonable for a logger defined in `foo/bar/private/utility` to log messages with `foo/bar`</text>
  </message>
  <message conversation_id="580">
    <ts>2019-05-09T17:00:20.201700</ts>
    <user>Karen</user>
    <text>If I started seeing log messages prefixed with `foo/bar` I would go to the scribble docs defining the `foo/bar` module and look for any text mentioning log messages. That kind of workflow is what I want log message best practices to encourage.</text>
  </message>
  <message conversation_id="581">
    <ts>2019-05-10T10:16:12.202800</ts>
    <user>Lillian</user>
    <text>How can I find emoji in a string?</text>
  </message>
  <message conversation_id="581">
    <ts>2019-05-10T10:18:03.204400</ts>
    <user>Kami</user>
    <text>I think the new emoji for UTF-8 begin at a given unicode point. But the older ones are mixed up</text>
  </message>
  <message conversation_id="581">
    <ts>2019-05-10T10:20:11.205000</ts>
    <user>Kami</user>
    <text>You have the complete list here (take care, the page is slow to load): &lt;https://www.unicode.org/emoji/charts/full-emoji-list.html&gt;</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:09:31.206100</ts>
    <user>Gonzalo</user>
    <text>Clearly Racket needs a `char-emoji?` predicate. :grin:</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:13:09.207700</ts>
    <user>Lillian</user>
    <text>I’m unclear how Racket represents emoji in UTF-8 strings. They are preserved correctly, but they’re also not findable by their canonical codepoint. For instance: `(bytes-&amp;gt;list (string-&amp;gt;bytes/utf-8 "😁"))`</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:13:23.208000</ts>
    <user>Lillian</user>
    <text>Returns this : `'(240 159 152 129)`</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:14:26.208900</ts>
    <user>Lillian</user>
    <text>So in a Racket UTF-8 string, the emoji occupies 4 bytes. And the return trip works:
```
(bytes-&amp;gt;string/utf-8 (apply bytes '(240 159 152 129)))
&amp;gt; "😁"
```</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:14:48.209300</ts>
    <user>Lillian</user>
    <text>(DrRacket doesn’t display emoji, but the result is correct)</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:20:52.210500</ts>
    <user>Gonzalo</user>
    <text>What does `char-&amp;gt;integer` produce on that character?</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:22:33.212700</ts>
    <user>Lillian</user>
    <text>```
&amp;gt; (char-&amp;gt;integer (car (string-&amp;gt;list "😁")))
128513
```</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:23:14.214100</ts>
    <user>Gonzalo</user>
    <text>I am no expert on UTF-8, so to be clear: are you saying you think that string of UTF-8 bytes isn’t the right UTF-8 encoding of that code point, or that you don’t know how to correlate the UTF-8 encoding with the code point?</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:25:31.216600</ts>
    <user>Gonzalo</user>
    <text>Also: some emojis are multi-codepoint sequences, IIUC.</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:26:51.219200</ts>
    <user>Gonzalo</user>
    <text>Does `string-&amp;gt;list` on that string produce a single element? (I’d check, but I’m on my phone.)</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:26:52.219300</ts>
    <user>Lillian</user>
    <text>IIUC emoji are outside UTF-8, so within a UTF-8 string, they are encoded as surrogate pairs. So I think the encoding is correct. But  I don’t know how to translate the surrogate encoding into a regexp pattern.</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:27:27.220000</ts>
    <user>Lillian</user>
    <text>```
(length (string-&amp;gt;list "😁"))
&amp;gt; 1
```</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:28:36.221400</ts>
    <user>Gonzalo</user>
    <text>I didn’t think UTF-8 used surrogate pairs (that’s UTF-16), but I could be wrong—again, not an expert.</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:38:13.224900</ts>
    <user>Lillian</user>
    <text>OK, so a UTF-8 character can be represented by four bytes. So we get to this:
```
(regexp-match #rx"\u61" "a") ; '("a")
(regexp-match #rx"\u1f601" "😁") ; #f
```</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:38:37.226100</ts>
    <user>Lillian</user>
    <text>If I change these to byte strings the first works (of course), but the second produces the error `read-syntax: character `:grin:` is out of range in byte string`</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:38:40.226300</ts>
    <user>Gonzalo</user>
    <text>(Sorry, had to step away for a moment.) In any case, whether or not UTF-8 technically uses things called “surrogate pairs” or not is probably not helpful—the point is it’s a variable-length encoding. If you want a regexp pattern, can you use `regexp-quote`?</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:39:20.226700</ts>
    <user>Clarinda</user>
    <text>I think you need “\U1f601” (capital “U”), because “\u” only uses 4 characters.</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:40:00.226900</ts>
    <user>Lillian</user>
    <text>Oh! Thanks, that does work
```
(regexp-match #rx"\U1f601" "😁") ; '("😁")
```</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:40:01.227100</ts>
    <user>Clarinda</user>
    <text>```
&amp;gt; (string-length "\u1f601")
2
&amp;gt; (string-length "\U1f601")
1
```</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:40:57.227300</ts>
    <user>Clarinda</user>
    <text>I forget what backward-compatibility problem made the u/U distinction necessary.</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T11:46:54.227500</ts>
    <user>Lillian</user>
    <text>So `\U` is strictly a superset of `\u`.</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T12:25:23.227800</ts>
    <user>Priscila</user>
    <text>&lt;https://twitter.com/sperbsen/status/1126866140028968961&gt;</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T12:26:08.228400</ts>
    <user>Priscila</user>
    <text>I am less scared of refactoring in Racket.</text>
  </message>
  <message conversation_id="583">
    <ts>2019-05-10T13:43:39.231000</ts>
    <user>Karen</user>
    <text>&lt;@Lillian&gt; I thought that racket strings are logically sequences of code points, independent of an encoding, and the fact that they're internally represented with UTF8 bytestrings was an implementation detail. So why would surrogate pairs affect regexp matching?</text>
  </message>
  <message conversation_id="584">
    <ts>2019-05-10T13:54:33.231700</ts>
    <user>Priscila</user>
    <text>Does emoji characters work in a regexp character range?</text>
  </message>
  <message conversation_id="583">
    <ts>2019-05-10T14:13:50.234400</ts>
    <user>Lillian</user>
    <text>What I did so far is grab the official emoji specification from the Unicode consortium and then made a little wrapper `#lang` so this specification file could be treated as the source code for an `emoji?` function. This all works fine. The only dangling complication is that certain emojis can be followed by “modifiers”. So an emoji matcher needs to take account of that too. Probably my `#lang` should export a regexp pattern too.</text>
  </message>
  <message conversation_id="583">
    <ts>2019-05-10T14:17:26.235800</ts>
    <user>Kristeen</user>
    <text>&lt;@Karen&gt; they're internally represented as UTF32 (or maybe UCS4) so that character indexing is constant time. This was probably not the right decision but it was less obvious in 2005(?) when Racket switched to unicode</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T14:26:13.237200</ts>
    <user>Clarinda</user>
    <text>I think this choice has worked out well, and Chez Scheme uses roughly the same representation, except that individual characters are tagged. Symbols are represented in UTF-8 in Racket, but they use strings in Chez Scheme / Racket CS.</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T14:35:06.238700</ts>
    <user>Kristeen</user>
    <text>I'm curious why you'd pick UTF32 again, as opposed to UTF8. Rust and Go have both chosen UTF8, and Swift also doesn't provide constant-time random access and they seem pretty happy with that.</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T14:37:13.239300</ts>
    <user>Eileen</user>
    <text>In the case of Chez it could be to support `string-set!` more efficiently.</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T14:38:02.240200</ts>
    <user>Kristeen</user>
    <text>&lt;@Eileen&gt; yes, that's the traditional approach in Scheme-family languages -- provide constant time access to every part of the string</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T14:44:01.241100</ts>
    <user>Eileen</user>
    <text>Also `string-&amp;gt;list` `list-&amp;gt;string` don't require as much codec logic.</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T14:44:31.241500</ts>
    <user>Eileen</user>
    <text>These are all very scheme-y reasons</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T14:45:39.242000</ts>
    <user>Kristeen</user>
    <text>Right, I think also all of those operations are less sensible than they were in the pre-Unicode era</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T14:54:30.243100</ts>
    <user>Eileen</user>
    <text>I've wondered about having (in any language) an immutable UTF-8 encoded string type and a mutable rope as standard.</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T14:57:20.244000</ts>
    <user>Eileen</user>
    <text>(actually not quite mutable for the rope, but at least a way to build up "changed" strings)</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T15:03:04.246600</ts>
    <user>Julia</user>
    <text>Mainly I'm glad I don't need to know or care what the internal representation is; if some people are surprised it's actually UTF-16 or UCS4 or EBCDIC, and had no idea otherwise, then I think that's a wonderful thing.  [Edit: To be clear, I had no idea which, myself.]</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T15:03:29.247100</ts>
    <user>Julia</user>
    <text>&lt;@Kristeen&gt; Is the argument in favor of UTF-8 internal rep, mainly space?</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T15:04:48.247900</ts>
    <user>Kristeen</user>
    <text>Also that you usually want to interact in UTF-8 and that avoiding the conversion is faster. Also iterating over UTF-8 encoded ASCII text (pretty common) is faster.</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T15:20:23.255400</ts>
    <user>Gonzalo</user>
    <text>IME, UTF-32 _sounds_ like it has some advantages, since you get constant-time access to code points, and a “code point” sounds kind of like something that might mean “single unit of text,” in contrast to things like “surrogate pairs” which are just building blocks. The problem is that this isn’t actually true; lots of things that render as a single glyph are made from multiple code points. IIUC, “grapheme clusters” are the closest thing defined by Unicode to “a single unit of text,” and these are themselves made from variable-width strings of code points (of arbitrary length), so a fixed-width encoding is hopeless from the start.</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T15:22:39.258200</ts>
    <user>Gonzalo</user>
    <text>I don’t know of any programming language in existence that represents entire grapheme clusters with its `char`/character datatype. The only choices I think I’ve ever seen are “a character is a byte,” “a character is a UTF-16 code unit,” and “a character is a Unicode code point/scalar value.”</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T15:24:53.260300</ts>
    <user>Kristeen</user>
    <text>&lt;@Gonzalo&gt; I think Swift does that</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T15:25:03.260600</ts>
    <user>Gonzalo</user>
    <text>Really? Fascinating.</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T15:25:17.261000</ts>
    <user>Kristeen</user>
    <text>&lt;https://developer.apple.com/documentation/swift/character&gt;</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T15:26:41.262100</ts>
    <user>Gonzalo</user>
    <text>That’s cool! I wonder what problems _that_ choice has. :grimacing: (It seems like all of them have at least some…)</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T15:28:16.264600</ts>
    <user>Kristeen</user>
    <text>I think "Swift strings are complicated" is probably one of them</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T15:29:36.266400</ts>
    <user>Gonzalo</user>
    <text>Fair, though I think that’s still better than the alternative, which is an API that tricks people into thinking strings are _not_ complicated, followed by doing things that are wrong.</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T15:30:32.267600</ts>
    <user>Gonzalo</user>
    <text>In any case, I agree with both Sam and Greg: I’m not sure what advantage UTF-32 has over UTF-8 as an internal representation, but I’m glad Racket’s API doesn’t expose that implementation detail (C API notwithstanding).</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T15:31:30.269000</ts>
    <user>Gonzalo</user>
    <text>(The discussion of what `character?` means is different, but it seems unlikely that’s ever going to change for Racket!)</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T15:35:27.269900</ts>
    <user>Julia</user>
    <text>But but but strings are _simple_, just like dates and time zones and people's names and addresses and ...  :smile:</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T15:39:25.270500</ts>
    <user>Eileen</user>
    <text>Strings would be easy if it wasn't for all of those other pesky non-english languages.</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T15:39:30.270700</ts>
    <user>Eileen</user>
    <text>Oh and math</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T15:40:50.272000</ts>
    <user>Gonzalo</user>
    <text>I think naïve and clichéd are perfectly cromulent English words. :grin:</text>
  </message>
  <message conversation_id="582">
    <ts>2019-05-10T15:48:06.272300</ts>
    <user>Julia</user>
    <text>Madame, this is a Wendy's. We call them freedom strings.</text>
  </message>
  <message conversation_id="585">
    <ts>2019-05-10T15:51:21.273800</ts>
    <user>Karen</user>
    <text>To hell with it, I'm just gonna make a `text?` type that's a pair of an immutable bytestring and a charset name</text>
  </message>
  <message conversation_id="586">
    <ts>2019-05-10T21:59:02.275100</ts>
    <user>Clarinda</user>
    <text>There’s now a “mini-bar-plot” collection in the “racket-benchmarks” package. (I considered other places, but dumped it there as fairly specific to “racket-benchmarks”, at least for now.) It’s not documented, so let me know if you become interested in trying to use it.</text>
  </message>
  <message conversation_id="585">
    <ts>2019-05-12T03:00:26.276200</ts>
    <user>Michelina</user>
    <text>&lt;@Karen&gt; why not make the whole pair immutable?</text>
  </message>
  <message conversation_id="585">
    <ts>2019-05-12T04:28:52.277800</ts>
    <user>Karen</user>
    <text>&lt;@Michelina&gt; That’s what I mean, yes. Immutable pair of immutable bytes and immutable charset name, where charsets are defined in terms of RFC 2046 (&lt;https://tools.ietf.org/html/rfc2046#section-4.1.2&gt;)</text>
  </message>
  <message conversation_id="587">
    <ts>2019-05-12T13:07:58.278600</ts>
    <user>Robena</user>
    <text>Hellohello</text>
  </message>
  <message conversation_id="587">
    <ts>2019-05-13T03:18:41.279300</ts>
    <user>Herman</user>
    <text>&lt;@Robena&gt; Hello</text>
  </message>
  <message conversation_id="586">
    <ts>2019-05-13T03:34:56.279400</ts>
    <user>Kami</user>
    <text>Once I received a package on which someone had conscientiously hand-written my name as "JÃ©rÃ´me". This person may have found my name a bit exotic, or may have thought something like "ah, those Europeans, they can't pick a name without being fancy".</text>
  </message>
  <message conversation_id="586">
    <ts>2019-05-13T03:41:51.279600</ts>
    <user>Kami</user>
    <text>This happens fairly regularly on websites when you happen to feature non-ascii characters in your name, but this was the first time someone had took the time to copy it *by hand* on a piece of paper.</text>
  </message>
  <message conversation_id="587">
    <ts>2019-05-13T09:59:52.280300</ts>
    <user>Tomas</user>
    <text>Cool use of Racket &lt;https://twitter.com/tojoqk/status/1127909058168537089&gt;</text>
  </message>
  <message conversation_id="586">
    <ts>2019-05-13T10:18:10.280800</ts>
    <user>Kami</user>
    <text>Nice use of 2dcond :smile: すごい！</text>
  </message>
  <message conversation_id="588">
    <ts>2019-05-13T14:29:54.285600</ts>
    <user>Shavon</user>
    <text>Has anyone been using `cs-only` build? If I use `make cs`, it will clone ChezScheme if needed. However with `make RACKET=... cs-only`, I have to manually do it. I am happy with this, but wondering if this is on purpose or an oversight.</text>
  </message>
  <message conversation_id="588">
    <ts>2019-05-13T14:31:21.286800</ts>
    <user>Herb</user>
    <text>I'm trying to create a new syntactic forms for use in teaching: a new syntactic form called `@tag`. It takes an identifier, and depending on the identifier, draws an arrow to some part of the next define. For example, if I had `(@tag cond)`, then an arrow would be drawn between the `cond` and the outermost cond expression of the next `define`. However, to add a syntax arrow, I'd have to have access to the origin of the arrow (which I do), and the destination, which I don't. How should I get the syntax object for the next define after some expression? Is this even the right approach - should I be extending check-syntax itself?</text>
  </message>
  <message conversation_id="588">
    <ts>2019-05-13T14:53:41.287700</ts>
    <user>Elin</user>
    <text>I’m not sure what you mean &lt;@Herb&gt;. Can you give more context around the `(@tag cond)` example?</text>
  </message>
  <message conversation_id="588">
    <ts>2019-05-13T14:53:58.288000</ts>
    <user>Herb</user>
    <text>For the following file:
```
(@tag cond)
(define (foo x)
  (cond [(number? x) x]
        [else x]))
```
I would like to draw an arrow between the cond in the `(@tag cond)` and the cond in the definition of foo.</text>
  </message>
  <message conversation_id="588">
    <ts>2019-05-13T14:55:28.288600</ts>
    <user>Herb</user>
    <text>But, I don't want to draw an arrow to anything after the body of `foo`.</text>
  </message>
  <message conversation_id="588">
    <ts>2019-05-13T14:56:54.290100</ts>
    <user>Elin</user>
    <text>How would the `@tag` form be able to control the body of `foo` but not affect everything else after it?

Would something different like this make more sense?
```
(with-@tag cond
  (define (foo x)
    (cond [(number? x) x]
          [else x])))
```</text>
  </message>
  <message conversation_id="588">
    <ts>2019-05-13T14:57:20.290600</ts>
    <user>Herb</user>
    <text>That would make sense, but it is not very comfortable for students to use.</text>
  </message>
  <message conversation_id="588">
    <ts>2019-05-13T14:58:28.291400</ts>
    <user>Herb</user>
    <text>If only I had the syntax object for the whole file, I could read through each individual top level expression and add arrow properties.</text>
  </message>
  <message conversation_id="588">
    <ts>2019-05-13T14:59:10.292200</ts>
    <user>Herb</user>
    <text>I want to minimise the additional syntax on the student-facing side.</text>
  </message>
  <message conversation_id="588">
    <ts>2019-05-13T15:00:31.292900</ts>
    <user>Elin</user>
    <text>If you had control of the language they were using you could define a `#%module-begin` to add the arrow properties</text>
  </message>
  <message conversation_id="588">
    <ts>2019-05-13T15:01:27.293800</ts>
    <user>Elin</user>
    <text>Or you could have it turn sequences of `(@tag ...1...) ...2...` into `(with-@tag ...1... ...2...)`.</text>
  </message>
  <message conversation_id="588">
    <ts>2019-05-13T15:02:37.294500</ts>
    <user>Herb</user>
    <text>I think I'll look into extending the 2htdp languages. Thanks for the advice!</text>
  </message>
  <message conversation_id="588">
    <ts>2019-05-13T15:07:33.295900</ts>
    <user>Elin</user>
    <text>Or here’s another idea, if you don’t have control over the language but you can re-define `define`, you could still use mutable-state to communicate between the `@tag` form and the `define` form. Not ideal to have to resort to that though</text>
  </message>
  <message conversation_id="589">
    <ts>2019-05-13T15:49:13.296000</ts>
    <user>Clarinda</user>
    <text>The `cs-only` target isn’t intended to be public. You can use `RACKET=...` with `make cs`.</text>
  </message>
  <message conversation_id="588">
    <ts>2019-05-13T16:13:59.296200</ts>
    <user>Elin</user>
    <text>&lt;@Herb&gt; I’ve looked into this a bit more, and come up with this using mutable state to communicate between a `@tag` macro and a `define` macro:</text>
  </message>
  <message conversation_id="588">
    <ts>2019-05-13T16:15:18.296600</ts>
    <user>Elin</user>
    <text>Using this, the code:
```
(@tag cond)
(define (foo x)
  (cond [(number? x) x]
        [else x]))
```
draws an arrow from the first `cond` within `@tag` to the second `cond` within `define`</text>
  </message>
  <message conversation_id="588">
    <ts>2019-05-13T16:31:51.296800</ts>
    <user>Herb</user>
    <text>Thanks! This looks useful.</text>
  </message>
  <message conversation_id="590">
    <ts>2019-05-15T11:03:14.299100</ts>
    <user>Amira</user>
    <text>Do the docs say anything about hashes whose values are all `#f`? I remember hearing those were special</text>
  </message>
  <message conversation_id="589">
    <ts>2019-05-15T11:34:12.299900</ts>
    <user>Kristeen</user>
    <text>I believe that it's hashes that are all `#t`, and that it avoids storing the `#t`s, but &lt;@Clarinda&gt; or the source code would know for sure</text>
  </message>
  <message conversation_id="589">
    <ts>2019-05-15T14:13:39.301000</ts>
    <user>Kristeen</user>
    <text>&lt;@Julia&gt; The 7.3 blog post (&lt;https://github.com/racket/racket-lang-org/blob/master/blog/_src/posts/2019-05-14-racket-v7-3.md&gt;) doesn't generate a hyperlink for the DeinProgramm url. Any idea why?</text>
  </message>
  <message conversation_id="589">
    <ts>2019-05-15T14:30:57.301500</ts>
    <user>Amira</user>
    <text>&lt;@Kristeen&gt; change the `()` to `&amp;lt;&amp;gt;`</text>
  </message>
  <message conversation_id="589">
    <ts>2019-05-15T14:31:24.302200</ts>
    <user>Amira</user>
    <text>or change to `(&amp;lt;&amp;gt;)`</text>
  </message>
  <message conversation_id="589">
    <ts>2019-05-15T14:31:32.302400</ts>
    <user>Kristeen</user>
    <text>That seems weird, esp since GitHub (click the link) parses it properly</text>
  </message>
  <message conversation_id="589">
    <ts>2019-05-15T14:32:59.304200</ts>
    <user>Amira</user>
    <text>is that proper? I don't know. I assumed github did extra parsing to guess whether some characters are a url</text>
  </message>
  <message conversation_id="589">
    <ts>2019-05-15T14:35:16.304500</ts>
    <user>Priscila</user>
    <text>Maybe &lt;@Julia&gt; knows?</text>
  </message>
  <message conversation_id="589">
    <ts>2019-05-15T14:47:19.305500</ts>
    <user>Gonzalo</user>
    <text>&lt;@Kristeen&gt; Seems to be inconsistently handled across implementations: &lt;https://babelmark.github.io/?text=*+There+is+a+new+set+of+teaching+languages+for+the+upcoming%0A++German-language+textbook+%22Schreibe+Dein+Programm!%22%0A++(https%3A%2F%2Fwww.deinprogramm.de%2F)&gt;.</text>
  </message>
  <message conversation_id="589">
    <ts>2019-05-15T14:48:15.306000</ts>
    <user>Priscila</user>
    <text>It says a lot that such a page exists!</text>
  </message>
  <message conversation_id="589">
    <ts>2019-05-15T14:48:58.306300</ts>
    <user>Gonzalo</user>
    <text>Markdown is a format in about the same way Scheme is a language. :)</text>
  </message>
  <message conversation_id="591">
    <ts>2019-05-15T16:08:58.307200</ts>
    <user>Priscila</user>
    <text>We need to be aware of the new "Notarization" policy.</text>
  </message>
  <message conversation_id="591">
    <ts>2019-05-15T16:09:00.307400</ts>
    <user>Priscila</user>
    <text>&lt;https://developer.apple.com/news/&gt;</text>
  </message>
  <message conversation_id="589">
    <ts>2019-05-15T16:10:48.307800</ts>
    <user>Kristeen</user>
    <text>&lt;@Priscila&gt; I've been paying some attention to that</text>
  </message>
  <message conversation_id="591">
    <ts>2019-05-15T16:11:19.308200</ts>
    <user>Kristeen</user>
    <text>but it will require some changes to our signinig infrastructure</text>
  </message>
  <message conversation_id="591">
    <ts>2019-05-15T16:11:46.308700</ts>
    <user>Priscila</user>
    <text>Yes.</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-15T19:32:45.312300</ts>
    <user>Julia</user>
    <text>Maybe the markdown parser could try to be more clever about auto-detecting URLs -- _without_ breaking the use of parens in URLs, as used by a certain documentation system I know about. :wink:
Meanwhile I'd suggest the two things Ben did.
Or maybe even better, a labelled link: `["Schreibe Dein Programm!"](&lt;https://www.deinprogramm.de/&gt;)`</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-15T19:36:26.313300</ts>
    <user>Julia</user>
    <text>As for Babelmark. Spend enough time there and you'll be crying and writing Morrissey lyrics.</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-15T19:37:10.314000</ts>
    <user>Julia</user>
    <text>&lt;@Gonzalo&gt; I refuse to capitalize markdown because that implies it is a specification.</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-15T21:37:05.317200</ts>
    <user>Karen</user>
    <text>and the one time some folks _tried_ to make a specification, the original designer of markdown disliked it so much he demanded they change the spec name from Common Markdown to Common Mark</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-15T21:37:55.318400</ts>
    <user>Karen</user>
    <text>(this may be a wildly inaccurate interpretation of events, I don't remember it very well)</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-15T21:53:55.319100</ts>
    <user>Aubrey</user>
    <text>Racket PPAs for 7.3 are cooking... (just bionic first so I can test it before the others)</text>
  </message>
  <message conversation_id="593">
    <ts>2019-05-15T21:55:03.319200</ts>
    <user>Lillian</user>
    <text>_I put parens on the outside_ /
_because parens are how I feel on the inside_</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T01:01:08.327700</ts>
    <user>Sunni</user>
    <text>I have a question on dynamic code evaluation. After some fiddling, I got `dynamic-require` to load a module with a custom `lang` and extract a variable it provides. I’m using this to test the language on certain known scripts with expected outputs. However most the scripts are a single line (excluding the `lang` line), so it would be nicer to write something like `(dynamic-XXX program-string)`. The calling module would be in `racket/base` but the program would be in a custom language. 

I read up on the sandboxed evaluators and the eval function but couldn’t get it to work for me. If there’s not something obvious that solves this problem, I’ll try to create a minimal example to show what does and doesn’t work for me. </text>
  </message>
  <message conversation_id="593">
    <ts>2019-05-16T01:28:25.328000</ts>
    <user>Aubrey</user>
    <text>BTW: &lt;http://docs.racket-lang.org|docs.racket-lang.org&gt; still seems to be on v7.2</text>
  </message>
  <message conversation_id="594">
    <ts>2019-05-16T07:09:54.328400</ts>
    <user>Katharine</user>
    <text>I think the Markdown creator's way of seeing it is that the success of Markdown is specifically due to the fact it has no spec.

Once the creator of CommonMark realized there was such a difference of ideology there, I think he asked the Markdown creator if calling the Markdown spec "Common Markdown" would be better, since that made it a specific dialect of its own. The Markdown creator said something like, any specification that looked like it specified the term "markdown" would give people the wrong idea. So the spec creator went with "CommonMark" instead.

When I feel like agreeing with the specless point of view, I'd say Markdown is a *natural language* that revolves around what looks good in a plain text file. Standardizing Markdown would keep it from advancing together with advancements to the natural language around it.

However, I almost always prefer having a spec. I think *implementations* of a language ossify it already, and specs ameliorate the ossification by helping users understand which behaviors are likely to change and how to avoid relying on them. Meanwhile, another more abstract source of ossification takes the form of developers' ignorance that certain features are even needed (e.g. because all the people who need them are marginalized or across a language barrier); a spec can provide developers with information on why those features are needed and how they need to work.</text>
  </message>
  <message conversation_id="594">
    <ts>2019-05-16T07:26:48.329900</ts>
    <user>Clarinda</user>
    <text>The update is in progress, but it takes a while because it’s a build of all packages form scratch on an old machine.</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T09:19:54.331000</ts>
    <user>Mauro</user>
    <text>&lt;@Sunni&gt; it seems that `eval` would be appropriate for you, if you could post your minimal example, it would be helpful for us to see more closely what you want to do</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:26:36.331600</ts>
    <user>Sunni</user>
    <text>I just setup an example on GitHub: &lt;https://github.com/venuur/minimal-eval-example&gt;</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:26:58.332300</ts>
    <user>Sunni</user>
    <text>I wanted it to be smaller, but I haven't figured out everything I can trim yet.</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:27:58.333100</ts>
    <user>Sunni</user>
    <text>It's a language implemented using `#lang br` following the tutorials on Beautiful Racket: &lt;https://beautifulracket.com/appendix/master-recipe.html&gt;</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:29:34.333900</ts>
    <user>Sunni</user>
    <text>The crux of it is from `test-eval.rkt`: &lt;https://github.com/venuur/minimal-eval-example/blob/master/test-eval.rkt&gt;
```
#lang racket
(require rackunit)

; What works but requires a file per small test.
(check-equal?
 ((dynamic-require "test-script.rkt" 'gs-program-result))
 "123")

; What I would like to work
;(check-equal?
; (with-output-to-string (eval "lang minimal-eval-example" "1 2 3"))
; "123")
```</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:32:09.334700</ts>
    <user>Sunni</user>
    <text>And to give credit where it's due, I'm just implementing Golfscript as an exercise in learning to use Racket: &lt;http://golfscript.com/golfscript/&gt;</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:33:53.335500</ts>
    <user>Priscila</user>
    <text>&lt;@Sunni&gt; Let's forget `eval` for a moment. What would the ideal test expression look like?</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:35:11.336700</ts>
    <user>Sunni</user>
    <text>Ideally something like `(check-equal? (run-with-my-lang "1 2 3") "123")`</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:36:11.337600</ts>
    <user>Sunni</user>
    <text>Then instead of having a separate file `test-script.rkt` for each snippet I want to eval, I could include it inline in the test module.</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:37:33.337900</ts>
    <user>Priscila</user>
    <text>Using `eval` is definitely one route.</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:39:04.339200</ts>
    <user>Priscila</user>
    <text>Another idea: Write a temporary file "test.rkt" with the context of "#:lang golfscript 1 2 3". Then use `dynamic-require` to run the contents of the file.</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:39:51.339900</ts>
    <user>Sunni</user>
    <text>Ahh, so write the scripts to temp files as the tests are running</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:40:10.340400</ts>
    <user>Priscila</user>
    <text>Maybe `eval` is better fit here after all.</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:40:40.341300</ts>
    <user>Elin</user>
    <text>Wouldn’t `make-module-evaluator` fit the same style as the temporary file?</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:46:21.345100</ts>
    <user>Priscila</user>
    <text>I think so - but if `eval` is used (either directly or with `make-module-evaluator`) I think, the custom golfscript reader needs to be invoked manually.</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:47:13.345900</ts>
    <user>Elin</user>
    <text>With `make-module-evaluator` you can pass it a string that has the `#lang` line at the top, and it will use that lang for the reader</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:47:26.346100</ts>
    <user>Priscila</user>
    <text>Fits perfectly then!</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:51:22.346600</ts>
    <user>Sunni</user>
    <text>that's so cool! I didn't know you could pass the lang line in directly.</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:51:31.347000</ts>
    <user>Sunni</user>
    <text>I just tried it, and it seemed to work.</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:52:52.347500</ts>
    <user>Sunni</user>
    <text>False alarm, I got an error</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:53:03.347700</ts>
    <user>Sunni</user>
    <text>```</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:53:12.348000</ts>
    <user>Sunni</user>
    <text>```
dynamic-require: name is protected
  name: 'read-syntax
  module: #&amp;lt;resolved-module-path:(submod "C:\Users\carlm\workspace\golfscript\minimal-eval-example\minimal-eval-example\main.rkt" re...
```</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:53:41.348200</ts>
    <user>Sunni</user>
    <text>`(make-module-evaluator "#lang minimal-eval-example\n1 2 3")`</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:55:05.348400</ts>
    <user>Priscila</user>
    <text>```
(make-module-evaluator	 	module-decl	 
 	 [	#:language lang	 
 	 	#:allow-for-require allow-for-require	 
 	 	#:allow-for-load allow-for-load	 
 	 	#:allow-read allow-read])
```</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:56:59.349400</ts>
    <user>Elin</user>
    <text>Does putting a `(call-with-trusted-sandbox-configuration (lambda () ...stuff...))` around it help?</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T12:58:48.349800</ts>
    <user>Sunni</user>
    <text>It got rid of the error</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T13:00:02.350200</ts>
    <user>Sunni</user>
    <text>It worked.
```
(define x (call-with-trusted-sandbox-configuration
 (λ () (make-module-evaluator "#lang minimal-eval-example\n1 2 3"))))
(display (x '(gs-program-result)))
```</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T13:00:09.350500</ts>
    <user>Sunni</user>
    <text>Prints `123` as hoped</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T13:01:35.350900</ts>
    <user>Sunni</user>
    <text>Now I can wrap that up in a function to make my test scripts inline.</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T13:04:13.352300</ts>
    <user>Priscila</user>
    <text>On Reddit bjoli has an interesting question on using Chez from Racket. It is possible, but is there already an chez-ffi (similar to the current C ffi), or is that something to look forward to?</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T13:04:14.352500</ts>
    <user>Priscila</user>
    <text>&lt;https://www.reddit.com/r/Racket/comments/bp7i7l/racket_73/&gt;</text>
  </message>
  <message conversation_id="592">
    <ts>2019-05-16T13:07:52.353000</ts>
    <user>Sunni</user>
    <text>Thanks &lt;@Elin&gt;, &lt;@Priscila&gt;!</text>
  </message>
  <message conversation_id="595">
    <ts>2019-05-16T13:30:41.353100</ts>
    <user>Karen</user>
    <text>That seems sensible</text>
  </message>
  <message conversation_id="595">
    <ts>2019-05-16T13:35:02.353300</ts>
    <user>Clarinda</user>
    <text>Answered there.</text>
  </message>
  <message conversation_id="595">
    <ts>2019-05-16T13:54:00.353800</ts>
    <user>Aubrey</user>
    <text>Just put up a blog post on modeling WebAssembly in Redex: &lt;https://www.asumu.xyz/blog/2019/04/29/webassembly-in-redex/&gt;</text>
  </message>
  <message conversation_id="595">
    <ts>2019-05-16T13:59:38.354300</ts>
    <user>Shavon</user>
    <text>&lt;https://news.ycombinator.com/item?id=19931207&gt;</text>
  </message>
  <message conversation_id="595">
    <ts>2019-05-16T13:59:59.354700</ts>
    <user>Shavon</user>
    <text>^ &lt;@Aubrey&gt; post</text>
  </message>
  <message conversation_id="596">
    <ts>2019-05-16T15:32:14.355000</ts>
    <user>Kristeen</user>
    <text>aha, it was the instance argument I was missing when I wrote that code</text>
  </message>
  <message conversation_id="597">
    <ts>2019-05-17T15:04:26.356400</ts>
    <user>Priscila</user>
    <text>Been wondering: Is it well-known, that clicking just to the left of "Package" will sort the packages with the newest first?</text>
  </message>
  <message conversation_id="597">
    <ts>2019-05-17T15:04:28.356600</ts>
    <user>Priscila</user>
    <text>&lt;https://pkgs.racket-lang.org/&gt;</text>
  </message>
  <message conversation_id="598">
    <ts>2019-05-17T16:07:30.358300</ts>
    <user>Danny</user>
    <text>`make in-place` on master seems to be trying to do a unix-style install on my linux system. Anyone else run into this? The relevant part of the output:

```
  "" | /*) ;; \
  *) echo "expected an absolute path for DESTDIR; given: "; exit 1;; \
        esac
mkdir -p "/usr/local/bin" "/usr/local/share/racket/collects" "/usr/local/share/doc/racket" "/usr/local/lib64" "/usr/local/include/racket" "/usr/local/lib64/racket" "/usr/local/share/racket" "/usr/local/etc/racket" "/usr/local/share/applications" "/usr/local/share/man"
mkdir: cannot create directory ‘/usr/local/share/racket’: Permission denied
mkdir: cannot create directory ‘/usr/local/share/doc’: Permission denied
mkdir: cannot create directory ‘/usr/local/include/racket’: Permission denied
mkdir: cannot create directory ‘/usr/local/lib64/racket’: Permission denied
mkdir: cannot create directory ‘/usr/local/share/racket’: Permission denied
mkdir: cannot create directory ‘/usr/local/etc’: Permission denied
mkdir: cannot create directory ‘/usr/local/share/applications’: Permission denied
mkdir: cannot create directory ‘/usr/local/share/man’: Permission denied
```</text>
  </message>
  <message conversation_id="598">
    <ts>2019-05-17T16:14:38.358400</ts>
    <user>Danny</user>
    <text>Does it with the v7.2 tag as well, so it's probably the fault of something weird on my system.</text>
  </message>
  <message conversation_id="599">
    <ts>2019-05-17T18:15:42.360800</ts>
    <user>Lillian</user>
    <text>&lt;@Sunni&gt; `#lang br` has a secret feature that lets you embed submodules that use different `#lang`s, as shown below. In this case, `eval` is not necessary (even better, you can mingle any number of `#lang`s within a single module):

```
#lang br

@module/lang[parser]{
 #lang brag
 top : "x"}

(require 'parser rackunit)
(check-equal? (parse-to-datum "x") '(top "x"))
```

(&lt;@Boris&gt; figured this out for me)</text>
  </message>
  <message conversation_id="600">
    <ts>2019-05-17T19:18:32.363300</ts>
    <user>Gonzalo</user>
    <text>&lt;@Clarinda&gt; Is there an easy way to check whether or not the optimizer is doing something I want on Racket-on-Chez? On the Racket VM, I use `raco decompile` and read the output, but on Chez, I just get back `&amp;lt;opaque-compiled-linklet&amp;gt;`, which isn’t very helpful.</text>
  </message>
  <message conversation_id="600">
    <ts>2019-05-17T19:37:49.363600</ts>
    <user>Gonzalo</user>
    <text>Ah, I found `PLT_LINKLET_SHOW_CP0`, which seems to do what I want. Nevermind!</text>
  </message>
  <message conversation_id="599">
    <ts>2019-05-17T20:25:23.366300</ts>
    <user>Sunni</user>
    <text>That’s pretty cool! I’ll give that a try to see if it provides a cleaner approach to testing.

In any case that feature seems useful for embedding a DSL in an otherwise normal racket file. Like your example of embedding a parser could be handy as an alternative to say regular expressions in the right use case. </text>
  </message>
  <message conversation_id="601">
    <ts>2019-05-17T20:55:03.366600</ts>
    <user>Karen</user>
    <text>Can it somehow cooperate with drracket syntax highlighting and auto indentation?</text>
  </message>
  <message conversation_id="602">
    <ts>2019-05-18T13:56:10.374500</ts>
    <user>Maire</user>
    <text>Can someone please show me an example of setting up a mouse motion event to a canvas? I see the high level docs but but not a specific syntax application of the registering methodology.  Thanks!</text>
  </message>
  <message conversation_id="602">
    <ts>2019-05-18T14:00:15.375100</ts>
    <user>Priscila</user>
    <text>&lt;@Maire&gt; I vaguely remember seeing an example at StackOverflow. I'll see if I can find it.</text>
  </message>
  <message conversation_id="602">
    <ts>2019-05-18T14:01:16.375300</ts>
    <user>Priscila</user>
    <text>Close:  &lt;https://stackoverflow.com/questions/7294117/racket-using-events-in-a-frame-window&gt;</text>
  </message>
  <message conversation_id="602">
    <ts>2019-05-18T14:02:23.376000</ts>
    <user>Priscila</user>
    <text>And here is an example with mouse-events (but it is illustrating something else):</text>
  </message>
  <message conversation_id="602">
    <ts>2019-05-18T14:02:24.376200</ts>
    <user>Priscila</user>
    <text>&lt;https://stackoverflow.com/questions/10072219/moving-beyond-world-universe&gt;</text>
  </message>
  <message conversation_id="602">
    <ts>2019-05-18T14:13:01.376500</ts>
    <user>Priscila</user>
    <text>And here:
&lt;https://stackoverflow.com/questions/2182298/plt-scheme-catching-mouse-click-event-on-canvas&gt;</text>
  </message>
  <message conversation_id="602">
    <ts>2019-05-18T14:14:29.377000</ts>
    <user>Priscila</user>
    <text>Yet another great blog post from Alex H.:  &lt;https://alex-hhh.github.io/2019/05/timezone-visualization.html&gt;</text>
  </message>
  <message conversation_id="602">
    <ts>2019-05-18T14:21:41.379800</ts>
    <user>Maire</user>
    <text>So the key is to use (define/override  (on-event...) when creating the canvas% object.   Great, thanks again!</text>
  </message>
  <message conversation_id="602">
    <ts>2019-05-18T14:35:01.380400</ts>
    <user>Priscila</user>
    <text>Yep, that's the key.</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-18T22:49:04.381300</ts>
    <user>Jule</user>
    <text>Is there some way to type the “◊” char when working with pollen</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-18T22:49:09.381600</ts>
    <user>Jule</user>
    <text>keyboard combo or something’</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-18T23:01:25.381800</ts>
    <user>Gonzalo</user>
    <text>&lt;@Jule&gt; See &lt;https://docs.racket-lang.org/pollen/pollen-command-syntax.html#%28part._the-lozenge%29&gt;</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-18T23:02:35.382100</ts>
    <user>Jule</user>
    <text>my heroine</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-18T23:02:45.382300</ts>
    <user>Jule</user>
    <text>tyvm</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-18T23:03:11.382700</ts>
    <user>Jule</user>
    <text>have you done much with pollen?</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-18T23:03:17.383000</ts>
    <user>Gonzalo</user>
    <text>Nope!</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-18T23:03:30.383300</ts>
    <user>Jule</user>
    <text>ok</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-18T23:06:09.383900</ts>
    <user>Gonzalo</user>
    <text>I’ve only tinkered with it. But MB is in this slack and sometimes answers questions (and some other people have used it more than I have).</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-18T23:06:46.384300</ts>
    <user>Jule</user>
    <text>cool</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-18T23:07:32.385400</ts>
    <user>Jule</user>
    <text>Matthew’s whole thing is really neat. I love that he, as a non-programmer (IIRC), made this cool thing with Racket</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-18T23:08:38.386300</ts>
    <user>Jule</user>
    <text>just checked on Hackett; do you have a plan for the effects system there?</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-18T23:08:46.386600</ts>
    <user>Gonzalo</user>
    <text>I think he sells himself considerably short by calling himself a non-programmer. :wink: But yes, Pollen is very neat.</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-18T23:09:17.387200</ts>
    <user>Gonzalo</user>
    <text>Re: Hackett, not really, and also Hackett has been on the back burner for a while because I just haven’t had the time to work on it.</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-18T23:11:05.387400</ts>
    <user>Jule</user>
    <text>yeah i figured</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-19T14:57:08.388500</ts>
    <user>Priscila</user>
    <text>&lt;@Jule&gt; An alternative to lozenge is to change the character to @.</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-19T14:58:14.389200</ts>
    <user>Jule</user>
    <text>TY, i’ve been thinking about changing it</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-19T14:58:36.389600</ts>
    <user>Jule</user>
    <text>wanted to at least try it out tho</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-19T14:59:17.390500</ts>
    <user>Priscila</user>
    <text>I have forgotten the details, but there is enough info in the documentation to figure it out.</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-19T14:59:39.391000</ts>
    <user>Jule</user>
    <text>yeha i saw it mentioned somewhere you can change it in the pollen.rkt file</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-19T15:08:00.391800</ts>
    <user>Hallie</user>
    <text>&lt;@Jule&gt; I wonder if this package: &lt;https://docs.racket-lang.org/_-exp/index.html&gt; would work out of the box for pollen</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-19T15:08:35.392500</ts>
    <user>Hallie</user>
    <text>possibly will need some tweaking first but I think a metalanguage like this could be a nice feature for pollen</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-19T15:12:45.392900</ts>
    <user>Jule</user>
    <text>interesting</text>
  </message>
  <message conversation_id="603">
    <ts>2019-05-19T15:27:58.393400</ts>
    <user>Priscila</user>
    <text>On the front page of Hacker News (again):
&lt;https://news.ycombinator.com/item?id=19952714&gt;</text>
  </message>
  <message conversation_id="604">
    <ts>2019-05-19T16:13:16.394100</ts>
    <user>Priscila</user>
    <text>&lt;https://euhmeuh.itch.io/lisp-vs-blub-empire&gt;</text>
  </message>
  <message conversation_id="604">
    <ts>2019-05-20T04:00:24.395000</ts>
    <user>Kami</user>
    <text>&lt;@Priscila&gt; Thanks for linking my project! :smile:</text>
  </message>
  <message conversation_id="605">
    <ts>2019-05-20T04:20:08.395400</ts>
    <user>Kami</user>
    <text>I didn't expect to see myself on hackernews when I woke up this morning :stuck_out_tongue:</text>
  </message>
  <message conversation_id="605">
    <ts>2019-05-20T07:17:29.395500</ts>
    <user>Sunni</user>
    <text>&lt;@Kami&gt; , that’s a very cool looking game. I noticed it only has keyboard based control, so I can’t figure out a way to try it via mobile. This is not a criticism by the way. I’m just curious how hard it is to accept mobile friendly inputs in WASM. </text>
  </message>
  <message conversation_id="605">
    <ts>2019-05-20T07:53:22.396800</ts>
    <user>Kami</user>
    <text>&lt;@Sunni&gt; Thanks :slightly_smiling_face: Well, the input is handled through javascript, then passed to the wasm layer, so it's pretty much the same way as any js-based game. You just need to find the coordinates of the finger tap, and send that down.</text>
  </message>
  <message conversation_id="605">
    <ts>2019-05-20T07:59:15.398900</ts>
    <user>Kami</user>
    <text>Anyways the game is not that fun and the AI... approximative... So I'm not really planning to improve this further for now. I could make it fit the screen, and accept touch inputs, but, well, I have bigger fish to fry.</text>
  </message>
  <message conversation_id="606">
    <ts>2019-05-20T11:54:50.400600</ts>
    <user>Shavon</user>
    <text>There's currently no way, afaik to `raco pkg install --no-docs foo`. Is there a reason why a `--no-docs`, i.e. please do not scribble docs, is not implemented? It seems like it shouldn't be too hard and extremelly useful as you might not want them - for example during CI.</text>
  </message>
  <message conversation_id="606">
    <ts>2019-05-20T11:55:32.400900</ts>
    <user>Kristeen</user>
    <text>&lt;@Shavon&gt; I think that would be pretty easy to implement</text>
  </message>
  <message conversation_id="606">
    <ts>2019-05-20T11:57:04.402100</ts>
    <user>Shavon</user>
    <text>same here - which is why i wondering why it's not done already. I never really bothered looking but just noticed that quite a bit of ci time for racket news is actually scribbling docs for some dependencies.</text>
  </message>
  <message conversation_id="606">
    <ts>2019-05-20T11:57:20.402400</ts>
    <user>Shavon</user>
    <text>i accept the answer: nobody cared until now. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="606">
    <ts>2019-05-20T11:57:46.403000</ts>
    <user>Shavon</user>
    <text>i mentioned because i thought it was strange nobody had cared until now. I actually assumed there was some technicality that I was missing.</text>
  </message>
  <message conversation_id="606">
    <ts>2019-05-20T12:06:05.403800</ts>
    <user>Kristeen</user>
    <text>&lt;@Shavon&gt; often you can avoid that just by not depending on the -docs packages</text>
  </message>
  <message conversation_id="606">
    <ts>2019-05-20T12:06:21.404200</ts>
    <user>Kristeen</user>
    <text>when I really want to avoid it I use `--no-setup` and then run `raco setup -D`.</text>
  </message>
  <message conversation_id="606">
    <ts>2019-05-20T12:08:03.404900</ts>
    <user>Shavon</user>
    <text>yes... I can do that for now until we have a `-D --no-docs` for `install`. thanks.</text>
  </message>
  <message conversation_id="606">
    <ts>2019-05-20T12:12:00.407500</ts>
    <user>Julia</user>
    <text>Making sure the docs build _is_ a good thing to test.
Maybe it's not necessary to test that on all N jobs in some matrix.
Although if the matrix is N versions of Racket, maybe all N should test that.
I mean one common doc problem is a bad link, and sometimes things are bad links because some identifier wasn't added until version X of Racket.</text>
  </message>
  <message conversation_id="606">
    <ts>2019-05-20T12:12:28.407800</ts>
    <user>Julia</user>
    <text>Sorry I'm just kind of thinking out loud here.</text>
  </message>
  <message conversation_id="606">
    <ts>2019-05-20T12:12:57.408500</ts>
    <user>Julia</user>
    <text>I can see situations where skipping doc build for some/all CI builds would be good!
I'm just thinking out loud that I probably don't have any such situations, myself.</text>
  </message>
  <message conversation_id="606">
    <ts>2019-05-20T12:16:53.411000</ts>
    <user>Shavon</user>
    <text>I agree one should test docs build but I only need to test that my docs build. Other packages should test theirs and I shouldn't need to install the docs for all my dependencies in CI. That's the idea. It could speed up my CI tremendously and I am a very impatient person. :wink:</text>
  </message>
  <message conversation_id="606">
    <ts>2019-05-20T12:17:17.411200</ts>
    <user>Julia</user>
    <text>Ah. Good point.</text>
  </message>
  <message conversation_id="606">
    <ts>2019-05-20T12:18:23.412200</ts>
    <user>Julia</user>
    <text>I mean it's a good point we don't need to test other packages' doc builds.
It may also be a good point that you are a very impatient person, but I'm not taking a position on that either way. :smile:</text>
  </message>
  <message conversation_id="606">
    <ts>2019-05-20T12:18:49.412400</ts>
    <user>Shavon</user>
    <text>:joy:</text>
  </message>
  <message conversation_id="606">
    <ts>2019-05-20T12:22:30.414000</ts>
    <user>Julia</user>
    <text>Hmm but seriously, is it even possible to build docs for one package, but not the rest?</text>
  </message>
  <message conversation_id="606">
    <ts>2019-05-20T12:24:00.415400</ts>
    <user>Julia</user>
    <text>Something like `raco pkg install --no-setup my-package &amp;amp;&amp;amp; raco setup my-package &amp;amp;&amp;amp; raco setup -D` -- will that build docs only for `my-package`? I can't try now but will later.</text>
  </message>
  <message conversation_id="607">
    <ts>2019-05-20T16:19:30.416500</ts>
    <user>Julia</user>
    <text>I'd like to change my email address on &lt;https://pkgs.racket-lang.org&gt; but I don't see how in the web site UI?</text>
  </message>
  <message conversation_id="607">
    <ts>2019-05-20T16:20:03.417200</ts>
    <user>Julia</user>
    <text>Is this infrequent enough not to need a UI, and I should just email someone like Jay or Tony?</text>
  </message>
  <message conversation_id="608">
    <ts>2019-05-20T20:03:31.419900</ts>
    <user>Sunni</user>
    <text>Naturally. I was mostly curious because I’d been wanting to try building something interactive on the web using racket and I’m curious about the limitations. Developing html via xexpr was such a pleasant surprise that I’d hoped I could find a way to do dynamic content with racket equally well. </text>
  </message>
  <message conversation_id="609">
    <ts>2019-05-21T03:22:41.420200</ts>
    <user>Kami</user>
    <text>I'm trying to put together a `#lang javascript` that would allow programmers to write JS as s-expressions (using urlang from soegaard). But it's not there yet and I don't have a lot of time to work on it.</text>
  </message>
  <message conversation_id="607">
    <ts>2019-05-21T17:17:59.421100</ts>
    <user>Kristeen</user>
    <text>&lt;@Julia&gt; I would genuinely appreciate a `curl | sh` install for racket-mode</text>
  </message>
  <message conversation_id="607">
    <ts>2019-05-21T17:22:47.421700</ts>
    <user>Julia</user>
    <text>&lt;@Kristeen&gt; How about
```
emacs --batch -no-site-file -q  -eval '(progn (add-to-list (quote package-archives) (cons "melpa" "&lt;https://melpa.org/packages/&gt;")) (package-initialize) (package-refresh-contents) (package-install (quote racket-mode)))'
```</text>
  </message>
  <message conversation_id="607">
    <ts>2019-05-21T17:23:05.422000</ts>
    <user>Kristeen</user>
    <text>yes</text>
  </message>
  <message conversation_id="607">
    <ts>2019-05-21T17:23:39.422600</ts>
    <user>Kristeen</user>
    <text>put that in a script on &lt;http://racket-mode.com|racket-mode.com&gt; and put the `curl | sh` command at the top and you're a modern software project</text>
  </message>
  <message conversation_id="607">
    <ts>2019-05-21T17:24:58.423500</ts>
    <user>Julia</user>
    <text>where "modern" = people pipe any old shell commands from teh interwebs ? :smile:</text>
  </message>
  <message conversation_id="607">
    <ts>2019-05-21T17:25:41.424000</ts>
    <user>Julia</user>
    <text>(not that trusting MELPA or AUR or whatever is necessarily much better)</text>
  </message>
  <message conversation_id="607">
    <ts>2019-05-21T17:28:19.426300</ts>
    <user>Julia</user>
    <text>But seriously: I don't really get the motivation for this?
Not that I know "all Emacs users".
But it seems like most people are in one of two camps.
One camp manually `M-x package-install`s things one by one.
Another camp adds `(use-package X :ensure t  :config ___)` to their `init.el`.</text>
  </message>
  <message conversation_id="607">
    <ts>2019-05-21T17:28:33.426600</ts>
    <user>Julia</user>
    <text>I hadn't heard of this third camp.</text>
  </message>
  <message conversation_id="607">
    <ts>2019-05-21T17:29:59.427200</ts>
    <user>Julia</user>
    <text>(I'm not disputing it exists. I want to learn more.)</text>
  </message>
  <message conversation_id="610">
    <ts>2019-05-21T17:54:40.427800</ts>
    <user>Lavette</user>
    <text>Agree, I'm on the second camp - I'm curious about the use case for `curl | sh` install for Emacs packages (I understand to a certain degree for other things)</text>
  </message>
  <message conversation_id="611">
    <ts>2019-05-21T20:34:16.429700</ts>
    <user>Kristeen</user>
    <text>I just had to do all the steps on the install instructions on a new machine and my personal convenience would have been improved by curl | sh</text>
  </message>
  <message conversation_id="611">
    <ts>2019-05-21T20:50:22.432400</ts>
    <user>Julia</user>
    <text>&lt;@Kristeen&gt; I heartily recommend having your `init.el` explicitly install just one package: `use-package`.
Then the rest of your init file can be `use-package` forms.
When you use `(use-package :ensure t ___)` it will install that package if necessary.
That way you can take your `init.el` to another machine, start Emacs, and you're rocking.</text>
  </message>
  <message conversation_id="611">
    <ts>2019-05-21T20:51:56.433700</ts>
    <user>Julia</user>
    <text>In fact I hardly ever `M-x package-install` anymore.
When I want to try a new package, I add a `use-package` for it to my `init.el`, do `C-M-x` to eval the form, and save the `init.el`.</text>
  </message>
  <message conversation_id="611">
    <ts>2019-05-21T20:52:54.434900</ts>
    <user>Julia</user>
    <text>(If it turns out I don't want a package anymore, I just delete that `use-package` from my `init.el`.
I _might_ `M-x package-remove`, but space isn't usually a concern so I usually don't even bother.)</text>
  </message>
  <message conversation_id="611">
    <ts>2019-05-21T20:57:55.435800</ts>
    <user>Ilda</user>
    <text>Just wanted to say thanks Greg for Rackjure and your macro tutorials, wouldn't be the same experience using Racket without! :slightly_smiling_face:</text>
  </message>
  <message conversation_id="611">
    <ts>2019-05-21T20:59:27.436200</ts>
    <user>Julia</user>
    <text>&lt;@Ilda&gt; You're welcome.</text>
  </message>
  <message conversation_id="611">
    <ts>2019-05-22T02:56:06.440000</ts>
    <user>Lavette</user>
    <text>&lt;@Kristeen&gt;I can heartily second &lt;@Julia&gt;'s approach to Emacs config. Makes it so much easier to maintain. In the worst case, if things go wonky, I can just remove `~/.emacs.d/` completely, check out a clean copy from github, and start Emacs. It will automatically download/install all packages. `use-package` is awesome: &lt;https://github.com/jwiegley/use-package&gt;</text>
  </message>
  <message conversation_id="612">
    <ts>2019-05-22T02:56:56.440500</ts>
    <user>Lavette</user>
    <text>If you need some examples, feel free to look at my config: &lt;https://github.com/zzamboni/dot-emacs/blob/master/init.org&gt;</text>
  </message>
  <message conversation_id="613">
    <ts>2019-05-22T21:32:55.442100</ts>
    <user>Derick</user>
    <text>I'm trying to understand how quote, unquote, quasiquote interact with each other. Part of the problem I run into is that if I type in:

``` (quote x) ```

in the repl, it returns

``` 'x ```

which is correct, but not as useful when I try to work through things step by step.

Is there a way to disable `' in the Racket output, so it writes it out long form (i.e. using quote/quasiquote) ?</text>
  </message>
  <message conversation_id="614">
    <ts>2019-05-22T22:32:43.443200</ts>
    <user>Elin</user>
    <text>My only ideas would be to use either `(print-reader-abbreviations #f)` or `(pretty-print-abbreviate-read-macros #f)`, but those don’t seem to apply for the `'` tick in `'x`, so I don’t know what else to do</text>
  </message>
  <message conversation_id="613">
    <ts>2019-05-22T22:57:14.444500</ts>
    <user>Elin</user>
    <text>&lt;@Derick&gt; I was curious so I fiddled around with making a printer based on `mzlib/pconvert`, and got a printer that does this:
```
&amp;gt; 'x
(quote x)
&amp;gt; '(a b 'c `d ,e ,@f #'g #`h #,i #,@j)
(list
 (quote a)
 (quote b)
 (list (quote quote) (quote c))
 (list (quote quasiquote) (quote d))
 (list (quote unquote) (quote e))
 (list (quote unquote-splicing) (quote f))
 (list (quote syntax) (quote g))
 (list (quote quasisyntax) (quote h))
 (list (quote unsyntax) (quote i))
 (list (quote unsyntax-splicing) (quote j)))
```
I’m not sure whether that’s what you’re looking for, or whether you want something else</text>
  </message>
  <message conversation_id="614">
    <ts>2019-05-22T23:01:57.446900</ts>
    <user>Elin</user>
    <text>Basically if you do `(pretty-write (print-convert ...some-value...) out)` while `constructor-style-printing` is true and `pretty-print-abbreviate-read-macros` is false, then it will print a symbol like `'x` as `(quote x)`. However, it will also print lists with `list` instead of `quote`, which might be a good thing or a bad thing depending on how you feel about `quote`</text>
  </message>
  <message conversation_id="613">
    <ts>2019-05-23T00:44:47.447900</ts>
    <user>Derick</user>
    <text>&lt;@Elin&gt;: Thanks! This looks great. Given the request to show quote/quasiquote literrally, I think the literal `list` is unavoidable.</text>
  </message>
  <message conversation_id="613">
    <ts>2019-05-23T00:46:07.449300</ts>
    <user>Derick</user>
    <text>This is a bit of an x-y problem. Scheme is famous for it's 1-2 page interpreters. Is there a 1-2 page *CODE* implementing quote/quasiquote/unquote somewhere? In the first 2-3 pages of Google I've looked through, I keep on getting simple examples of how quote/quasiquote/unquote work ... but I am trying to implement quote/quasiquote/unquote myself for a toy language, and would really like to see actual impl.</text>
  </message>
  <message conversation_id="613">
    <ts>2019-05-23T05:39:44.450700</ts>
    <user>Priscila</user>
    <text>&lt;@Derick&gt; If you are using DrRacket you can change the printing mode in the "Languages" menu. Under "Choose Language" click the "Advanced" button and then change the printing mode  (note: this was written by memory, so menu items might have different names).</text>
  </message>
  <message conversation_id="615">
    <ts>2019-05-23T08:34:28.003300</ts>
    <user>Ilda</user>
    <text>SICP covers regular quoting on this page &lt;https://xuanji.appspot.com/isicp/4-1-metacircular.html&gt;</text>
  </message>
  <message conversation_id="615">
    <ts>2019-05-23T08:34:59.004200</ts>
    <user>Ilda</user>
    <text>(define (quoted? exp)
  (tagged-list? exp 'quote))

(define (text-of-quotation exp) (cadr exp))</text>
  </message>
  <message conversation_id="615">
    <ts>2019-05-23T08:35:19.005000</ts>
    <user>Ilda</user>
    <text>It's not "much" but it's code. No quasi or splicing or anything, though, as far as I'm aware.</text>
  </message>
  <message conversation_id="615">
    <ts>2019-05-23T08:38:17.006700</ts>
    <user>Katharine</user>
    <text>&lt;@Derick&gt;

Generally, `quote` has just about the least amount of behavior an expression can have, and since few (if any) other features of a language have the ability transport a value from compile time to run time, `quote` tends to be built in.

Maybe think of it this way: How does a variable reference work? It looks up the value by name from the lexical environment. How does a `quote` expression work? It looks up a value from its own expression.

Expressions are a concept that usually makes more sense before macroexpansion than after, and the way `quote` transports a value from compile time to run time can be nontrivial. A compiled language like Racket will have to implement this transportation by serializing the quoted s-expression as part of the compiled code and then reconstructing it when the code is loaded. On the other hand, if the program isn't compiled, then the transportation can be as simple as running the macroexpander and the resulting program in the same memory space, where they can both refer to the same value.</text>
  </message>
  <message conversation_id="615">
    <ts>2019-05-23T08:40:56.006800</ts>
    <user>Katharine</user>
    <text>As for `quasiquote`, it can usually be implemented as a macro that expands into uses of `cons`, `append`, `quote`, but other than that, it doesn't typically interact with `quote` at all.</text>
  </message>
  <message conversation_id="615">
    <ts>2019-05-23T08:45:10.007000</ts>
    <user>Katharine</user>
    <text>The behavior of `quasiquote` walks the input, usually translating cons cells into `cons` calls and symbols `x` into `(quote x)`. It goes into some special cases if it encounters `(unquote ...)`, `(unquote-splicing ...)`, or `(quasiquote ...)`, but `(quote ...)` isn't one of the special cases.</text>
  </message>
  <message conversation_id="615">
    <ts>2019-05-23T08:56:03.007200</ts>
    <user>Katharine</user>
    <text>The reason `quasiquote` goes into a special case if it encounters another `(quasiquote ...)` is out of a motivation similar to balancing parentheses: The second `quasiquote` is metaphorically another open paren, and the next closing paren (`unquote`) that appears afterward will match up with that nearest `quasiquote`, not the outer one.

Since `quote` doesn't have a matching counterpart like `quasiquote`'s `unquote`, it's not like a paren in this metaphor. It's just another piece of content in between the parens, so `quasiquote` handles it adequately even without having a special case for it.</text>
  </message>
  <message conversation_id="615">
    <ts>2019-05-23T09:47:34.008500</ts>
    <user>Priscila</user>
    <text>&lt;@Derick&gt; Wrt to quotation and quasiquotion: Bawden has a thorough paper on the subject:
&lt;https://3e8.org/pub/scheme/doc/Quasiquotation%20in%20Lisp%20(Bawden).pdf&gt;</text>
  </message>
  <message conversation_id="616">
    <ts>2019-05-23T16:14:14.009200</ts>
    <user>Kristeen</user>
    <text>&lt;@Gonzalo&gt; do you have an example of the poorly-performing code you mentioned?</text>
  </message>
  <message conversation_id="616">
    <ts>2019-05-23T16:15:22.010300</ts>
    <user>Gonzalo</user>
    <text>&lt;@Kristeen&gt; Not in any form that’s probably very interesting/useful. I am writing a (CPS’d) parser, though, which was one of the things you mentioned that the tracing JIT is less likely to be good at.</text>
  </message>
  <message conversation_id="616">
    <ts>2019-05-23T16:17:07.010700</ts>
    <user>Kristeen</user>
    <text>well if you have the sequence code you mentioned I'd be interested to try it</text>
  </message>
  <message conversation_id="616">
    <ts>2019-05-23T16:20:04.011600</ts>
    <user>Gonzalo</user>
    <text>I have put it aside for a moment, but I’ll certainly send it to you if I return to working on it and can get it to a good place where you could easily run it.</text>
  </message>
  <message conversation_id="616">
    <ts>2019-05-23T16:21:36.012400</ts>
    <user>Elin</user>
    <text>Is that the first-class pattern parser that supports cut and delimit-cut like syntax-parse, or is it something else?</text>
  </message>
  <message conversation_id="616">
    <ts>2019-05-23T16:25:47.012500</ts>
    <user>Julia</user>
    <text>I like that the PDF was "Manufactured in The Netherlands"</text>
  </message>
  <message conversation_id="616">
    <ts>2019-05-23T16:32:52.012800</ts>
    <user>Gonzalo</user>
    <text>Yeah, it’s that.</text>
  </message>
  <message conversation_id="617">
    <ts>2019-05-23T23:29:56.013300</ts>
    <user>Julia</user>
    <text>Updated guide and reference for Racket Mode at its own domain: &lt;https://www.racket-mode.com/&gt;</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-24T01:17:55.001600</ts>
    <user>Jule</user>
    <text>It seems a bit strange that if i right click on a symbol, i can jump to prev/next occurrence, and open defining file, but cant jump to the definition</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-24T01:18:52.002500</ts>
    <user>Gonzalo</user>
    <text>If the binding is defined by a macro that doesn’t set up source locations in a nice way, sometimes Check Syntax can’t figure out where the original definition is supposed to be</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-24T01:19:16.002900</ts>
    <user>Jule</user>
    <text>ah ic</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-24T01:19:17.003000</ts>
    <user>Pok</user>
    <text>&lt;@Jule&gt; isn’t “jump to binding occurrence” what you want?</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-24T01:19:58.003800</ts>
    <user>Gonzalo</user>
    <text>I think &lt;@Jule&gt; is talking about an identifier defined in another file, in which case jump to binding occurrence will just go to the `require`, but I could be misinterpreting</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-24T01:20:06.004000</ts>
    <user>Jule</user>
    <text>oh *now* it shows “jump to definition”</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-24T01:20:13.004400</ts>
    <user>Jule</user>
    <text>huh</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-24T01:20:21.004800</ts>
    <user>Gonzalo</user>
    <text>oh, yeah, you also have to wait for the other file to be expanded by background expansion</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-24T01:20:40.005400</ts>
    <user>Jule</user>
    <text>(yes, you are right &lt;@Gonzalo&gt;, jump to binding occurrence just jumps to the require line)</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-24T01:20:47.005700</ts>
    <user>Jule</user>
    <text>TY good to know</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-24T01:21:09.006300</ts>
    <user>Gonzalo</user>
    <text>it would be nice if DrRacket had an option to say “open the defining file and jump to the definition as soon as you’re done expanding it”</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-24T01:21:20.006800</ts>
    <user>Jule</user>
    <text>fwiw the fn in question is defined via a `define+provide`</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-24T01:21:36.007500</ts>
    <user>Gonzalo</user>
    <text>but currently you just have to click “open defining file”, wait for background expansion to finish, then do “jump to definition” once it’s done</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-24T01:21:37.007600</ts>
    <user>Jule</user>
    <text>yeah that would</text>
  </message>
  <message conversation_id="619">
    <ts>2019-05-24T03:08:50.009000</ts>
    <user>Derick</user>
    <text>I'm familiar with Scheme (SICP) but not with Racket/DrRacket. Is there any book that focuses on Racket/DrRacket particulars? (Something similar to "Beautiful Racket" -- which I am a big fan of, but discusses things besides DSLs).</text>
  </message>
  <message conversation_id="619">
    <ts>2019-05-24T03:18:38.009600</ts>
    <user>Herman</user>
    <text>&lt;@Derick&gt; There is Realm of Racket, teaches racket through basic games.</text>
  </message>
  <message conversation_id="619">
    <ts>2019-05-24T03:33:29.010000</ts>
    <user>Priscila</user>
    <text>&lt;@Derick&gt; The Guide!   &lt;https://docs.racket-lang.org/guide/index.html&gt;</text>
  </message>
  <message conversation_id="620">
    <ts>2019-05-24T03:49:20.010200</ts>
    <user>Mai</user>
    <text>See my feature request and discussion: &lt;https://github.com/racket/drracket/issues/273&gt;</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-24T21:21:44.013200</ts>
    <user>Jule</user>
    <text>Is there an easy way to read/write racket data to files (esp symbols, strings, lists, numbers)</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-24T21:22:22.013600</ts>
    <user>Jule</user>
    <text>ah nvm i think i found it, read and write</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-24T22:18:03.014400</ts>
    <user>Jule</user>
    <text>Is there an easy way to convert the string “My Fancy Friend’s Title” to ’my-fancy-friends-title</text>
  </message>
  <message conversation_id="621">
    <ts>2019-05-24T22:34:22.014600</ts>
    <user>Karen</user>
    <text>I wish</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-24T22:37:39.014900</ts>
    <user>Jule</user>
    <text>```
(string-&amp;gt;symbol (regexp-replaces (string-downcase "My Friend's. Shoe")
                 '([#px"['\"]" ""]
                   [#px"\\W" "-"]
                   [#px"[-]+" "-"]
                   )
                 ))
```</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-24T22:37:42.015200</ts>
    <user>Jule</user>
    <text>seems to do the job</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T01:31:42.015800</ts>
    <user>Derick</user>
    <text>&lt;@Priscila&gt;: The Racket Guide reads like a reference manual ... but is precisely what I asked for. Thanks!</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-25T16:24:26.019100</ts>
    <user>Jule</user>
    <text>Is there a way to define global variables? I am working with Pollen. I have written a script (`build.rkt`) which I need to have some state which can be accessed via my tag helpers (e.g. those in `pollen.rkt`)</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:25:33.020400</ts>
    <user>Priscila</user>
    <text>where are your tag helpers defined?</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-25T16:25:43.020700</ts>
    <user>Jule</user>
    <text>pollen.rkt</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:26:29.021900</ts>
    <user>Priscila</user>
    <text>Define them in `pollen.rkt` and in `pollen.rkt` provide them.</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:26:38.022200</ts>
    <user>Priscila</user>
    <text>Then require `pollen.rkt` in `build.rkt`.</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:28:00.022600</ts>
    <user>Jule</user>
    <text>ah</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:28:20.023000</ts>
    <user>Jule</user>
    <text>and then set them in build.rkt?</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:28:31.023300</ts>
    <user>Priscila</user>
    <text>yes</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:28:42.023800</ts>
    <user>Jule</user>
    <text>niiice tyvm!</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:29:11.024700</ts>
    <user>Priscila</user>
    <text>But note that unless you set them to something in pollen.rkt, they are provided as unsettable variables.</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:29:31.025600</ts>
    <user>Priscila</user>
    <text>So in pollen.rkt do something like:</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:29:43.026100</ts>
    <user>Jule</user>
    <text>make a set-state! function</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:29:50.026400</ts>
    <user>Priscila</user>
    <text>`(define foo 42)   (set! foo 42)`</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:30:22.027300</ts>
    <user>Jule</user>
    <text>awesome ty</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:30:24.027500</ts>
    <user>Jule</user>
    <text>tryin it</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:37:46.028300</ts>
    <user>Jule</user>
    <text>maybe i’m misunderstanding but it doesnt seem to be working</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-25T16:37:56.028600</ts>
    <user>Mai</user>
    <text>What did you do?</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:38:25.029400</ts>
    <user>Jule</user>
    <text>gonna push my code, one min</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:40:37.030200</ts>
    <user>Jule</user>
    <text>so here I am setting the value: &lt;https://gitlab.com/JoelMcCracken/joelmccracken.com/blob/master/src/build.rkt#L58&gt;</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:41:02.030600</ts>
    <user>Jule</user>
    <text>here is that function which I am using from build.rkt: &lt;https://gitlab.com/JoelMcCracken/joelmccracken.com/blob/master/src/pollen.rkt#L10&gt;</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:41:31.031100</ts>
    <user>Jule</user>
    <text>and here is where I am trying to retireve the value that i want to set from build: &lt;https://gitlab.com/JoelMcCracken/joelmccracken.com/blob/master/src/pollen.rkt#L43&gt;</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:42:19.031800</ts>
    <user>Priscila</user>
    <text>And what was the error?</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:43:56.032900</ts>
    <user>Jule</user>
    <text>well there isn’t an error exactly, just when I am tryign to access the `root-dir` at that point it is the original value “YES”, Here is the output:</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:43:59.033100</ts>
    <user>Jule</user>
    <text>```
 ./build.rkt 
testing: Hi THIERE
compiling else about.html.pmd
done compiling else about.html.pmd
AM HERE
YES
AM HERE
YES
AM HERE
YES
AM HERE
YES
AM HERE
YES
AM HERE
YES
AM HERE
YES
AM HERE
YES
AM HERE
YES
AM HERE
YES
AM HERE
YES
AM HERE
YES
AM HERE
YES
AM HERE
YES
AM HERE
YES
AM HERE
YES
AM HERE
YES
AM HERE
YES
compiling post entries/fp-jargon.html.pm
done compiling post entries/fp-jargon.html.pm
compiling post entries/haskell-fud.html.pm
done compiling post entries/haskell-fud.html.pm
compiling else index.html.pp
done compiling else index.html.pp
Complete
```</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:44:34.033700</ts>
    <user>Jule</user>
    <text>hmm i wonder if render-to-file could be forking a  new process or something…?</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-25T16:45:15.034200</ts>
    <user>Mai</user>
    <text>I’m pretty sure that’s what happened.</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:45:30.034600</ts>
    <user>Jule</user>
    <text>ahhhhhh</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:49:32.035000</ts>
    <user>Priscila</user>
    <text>So how can we get the expected behaviour?</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:50:45.035600</ts>
    <user>Jule</user>
    <text>i just ran `getpid` in both places, and they have the same pid</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:51:38.037600</ts>
    <user>Jule</user>
    <text>its not an issue because I am requiring like `(require "pollen.rkt")` is it?</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-25T16:51:49.037900</ts>
    <user>Mai</user>
    <text>Yeah, that’s definitely what happened. Try `(displayln "hello")` at the top level of `pollen.rkt`. You will see something like

```
compiling post entries/fp-jargon.html.pm
hello
done compiling post entries/fp-jargon.html.pm
hello
compiling post entries/haskell-fud.html.pm
hello
done compiling post entries/haskell-fud.html.pm
hello
```</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-25T16:52:24.038500</ts>
    <user>Mai</user>
    <text>If they are really shared, there should be only one `hello`</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:52:27.038700</ts>
    <user>Jule</user>
    <text>yeah</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:52:44.039400</ts>
    <user>Jule</user>
    <text>well its not a fork, or i dont thin it is, because a fork would have another pid right?</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:52:46.039500</ts>
    <user>Priscila</user>
    <text>The docs of `render` mentions the use of `eval`.</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:52:55.039800</ts>
    <user>Jule</user>
    <text>hmm</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:53:15.040200</ts>
    <user>Jule</user>
    <text>well so i had been going down the path of storing the data in a `data.rktd` file</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:53:30.040700</ts>
    <user>Jule</user>
    <text>but I then was running into problems where the current-dir is different in different places</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:53:43.041300</ts>
    <user>Jule</user>
    <text>so i was having trouble locating data.rktd</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:53:50.041800</ts>
    <user>Priscila</user>
    <text>What if made a new file `globals.rkt` and put root-dir in that.</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:53:51.042000</ts>
    <user>Jule</user>
    <text>but maybe i can do it with an environment variable</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:54:04.042300</ts>
    <user>Jule</user>
    <text>oh so i just like hard-code it?</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:54:19.042900</ts>
    <user>Jule</user>
    <text>`config.rkt`</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:54:19.043100</ts>
    <user>Priscila</user>
    <text>Then both `pollen.rkt` and `build.rkt` can use that.</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:54:24.043200</ts>
    <user>Mai</user>
    <text>That won’t work</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:54:36.043600</ts>
    <user>Mai</user>
    <text>It’s the same issue</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:54:57.044400</ts>
    <user>Mai</user>
    <text>`pollen.rkt` will see fresh `globals.rkt`</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:55:10.044700</ts>
    <user>Mai</user>
    <text>So whatever you mutate to `globals.rkt` will be lost</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:56:54.045100</ts>
    <user>Mai</user>
    <text>Environment variable definitely works, but it feels too hacky</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:57:16.045600</ts>
    <user>Jule</user>
    <text>yeah i just tried the env var and it worked</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:57:33.046500</ts>
    <user>Priscila</user>
    <text>What if in `pollen.rkt`  a `(dynamic-require "globals.rkt")` is used?</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T16:58:49.046900</ts>
    <user>Jule</user>
    <text>trying that ^^</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T17:01:27.047300</ts>
    <user>Jule</user>
    <text>well tryign the dynamic require thing seems to have froze the program, lol</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T17:05:49.049100</ts>
    <user>Mai</user>
    <text>Straightforward `dynamic-require` is problematic. Pollen works by evaluating each `.pm` file from its own folder, so if you use `dynamic-require` in `pollen.rkt`, only `.pm` files at the topmost level will work. For those in subdirectories, it won’t find `globals.rkt`.

But I also don’t see why that would help…</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T17:07:14.049700</ts>
    <user>Jule</user>
    <text>Is there no other facitlity for process-level shared state?</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T17:10:11.050700</ts>
    <user>Priscila</user>
    <text>Well, the problem is the use of `eval` (I think).</text>
  </message>
  <message conversation_id="618">
    <ts>2019-05-25T17:11:01.050900</ts>
    <user>Mai</user>
    <text>Yeah</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T17:11:48.052200</ts>
    <user>Jule</user>
    <text>I wonder why it does use every</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T17:12:03.052400</ts>
    <user>Mai</user>
    <text>OK, so I took a look at my own Pollen project that I abandoned several months ago. I have a similar build script, and yes, I use envvars to workaround this very same problem.

&lt;https://github.com/sorawee/my-website/blob/master/run.rkt#L43&gt;</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T17:15:06.052900</ts>
    <user>Jule</user>
    <text>Oh ty</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T17:15:17.053300</ts>
    <user>Jule</user>
    <text>I’ll just do that then </text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T17:15:35.053900</ts>
    <user>Jule</user>
    <text>If someday I figure out something better then great</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T17:19:46.056400</ts>
    <user>Julia</user>
    <text>&lt;@Jule&gt; In general, your program can have global variables in the way that &lt;@Priscila&gt; explained. Put them in some file like `config.rkt` or `globals.rkt` or whatever, `provide` them from that file. Then `require` that file elsewhere your program.
That all works fine when it's _your_ program. But when it's Pollen's program, and it's `eval`-ing your `.pm` files one by one, this doesn't work.</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T17:51:43.057100</ts>
    <user>Jule</user>
    <text>gotcha, ty!</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T18:04:08.057300</ts>
    <user>Jule</user>
    <text>Just checked out your website btw and got a bad cert error in firefox (assuming this is it: &lt;https://sorawee.com/&gt;)</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T18:05:27.057500</ts>
    <user>Jule</user>
    <text>```
Websites prove their identity via certificates. Firefox Developer Edition does not trust this site because it uses a certificate that is not valid for &lt;http://sorawee.com|sorawee.com&gt;. The certificate is only valid for the following names: *.&lt;http://github.com|github.com&gt;, &lt;http://github.com|github.com&gt;, *.&lt;http://github.io|github.io&gt;, &lt;http://github.io|github.io&gt;

Error code: SSL_ERROR_BAD_CERT_DOMAIN
View Certificate
```</text>
  </message>
  <message conversation_id="623">
    <ts>2019-05-25T18:20:00.057700</ts>
    <user>Mai</user>
    <text>It’s &lt;https://homes.cs.washington.edu/~sorawee/&gt;</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T18:20:51.057900</ts>
    <user>Jule</user>
    <text>:thumbsup:</text>
  </message>
  <message conversation_id="622">
    <ts>2019-05-25T19:49:25.059600</ts>
    <user>Amira</user>
    <text>What's the shortest way to make a cyclic value in Typed Racket? Right now I have a file with `#0=(0 . #0#)` and am calling `file-&amp;gt;value`</text>
  </message>
  <message conversation_id="624">
    <ts>2019-05-25T21:11:03.061100</ts>
    <user>Karen</user>
    <text>&lt;@Amira&gt; what are you using cyclic values for?</text>
  </message>
  <message conversation_id="623">
    <ts>2019-05-26T00:02:24.066000</ts>
    <user>Mai</user>
    <text>What’s the way to customize equality for `hash`/`set`, etc.?

One possible way that definitely works is to create a wrapper `struct` with `gen:equal+hash`, but it involves a lot of boilerplate code. Is there any library that automate this process and let me do something like:

```
(define h (custom-make-hash #:key car))
(custom-hash-set! h (cons 1 2) 3)
(custom-hash-set! h (cons 2 3) 4)
(custom-hash-set! h (cons 1 3) 5)
(custom-hash-ref h (cons 1 10)) ;=&amp;gt; should be 5
```

? If not, I will create one.</text>
  </message>
  <message conversation_id="623">
    <ts>2019-05-26T00:15:31.066400</ts>
    <user>Amira</user>
    <text>a regression test</text>
  </message>
  <message conversation_id="623">
    <ts>2019-05-26T00:16:11.067200</ts>
    <user>Madelaine</user>
    <text>&lt;@Mai&gt; do `define-custom-hash-types` and `define-custom-set-types` do what you want? &lt;https://docs.racket-lang.org/reference/dicts.html#(form._((lib._racket%2Fdict..rkt)._define-custom-hash-types))&gt; &lt;https://docs.racket-lang.org/reference/sets.html#(form._((lib._racket%2Fset..rkt)._define-custom-set-types))&gt;</text>
  </message>
  <message conversation_id="623">
    <ts>2019-05-26T00:16:47.067700</ts>
    <user>Mai</user>
    <text>Yeah, that seems to be what I’m looking for. Thanks!</text>
  </message>
  <message conversation_id="624">
    <ts>2019-05-26T00:55:18.067800</ts>
    <user>Karen</user>
    <text>ah, gotcha</text>
  </message>
  <message conversation_id="625">
    <ts>2019-05-26T12:40:18.068900</ts>
    <user>Jule</user>
    <text>I looked at all the filename/path functions, but cant seem to find a good way to get the basename of a file. any suggestions?</text>
  </message>
  <message conversation_id="625">
    <ts>2019-05-26T12:40:53.069400</ts>
    <user>Priscila</user>
    <text>&lt;@Jule&gt;  Btw - I think I got an idea about the problem yesterday.</text>
  </message>
  <message conversation_id="625">
    <ts>2019-05-26T12:41:02.069800</ts>
    <user>Jule</user>
    <text>oh cool</text>
  </message>
  <message conversation_id="625">
    <ts>2019-05-26T12:43:08.071600</ts>
    <user>Priscila</user>
    <text>If you add an   `@(require "set-globals.rkt")` to you pm-file, then you will run the setters at the right time.</text>
  </message>
  <message conversation_id="625">
    <ts>2019-05-26T12:46:22.072800</ts>
    <user>Priscila</user>
    <text>Maybe `file-name-from-path` ?</text>
  </message>
  <message conversation_id="625">
    <ts>2019-05-26T12:46:31.073000</ts>
    <user>Jule</user>
    <text>Idk that sounds like it would have the same issue</text>
  </message>
  <message conversation_id="625">
    <ts>2019-05-26T12:46:49.073300</ts>
    <user>Jule</user>
    <text>beign in a different “environment” from the main script, build.rkt</text>
  </message>
  <message conversation_id="625">
    <ts>2019-05-26T12:47:14.073800</ts>
    <user>Priscila</user>
    <text>Could be.</text>
  </message>
  <message conversation_id="625">
    <ts>2019-05-26T15:10:08.076600</ts>
    <user>Julia</user>
    <text>&lt;@Jule&gt; By "basename" you mean `name.ext` or just `name` in `/path/to/name.ext`?</text>
  </message>
  <message conversation_id="625">
    <ts>2019-05-26T15:10:23.076800</ts>
    <user>Julia</user>
    <text>To get `name.ext` see &lt;https://docs.racket-lang.org/reference/More_Path_Utilities.html#%28def._%28%28lib._racket%2Fpath..rkt%29._file-name-from-path%29%29&gt;</text>
  </message>
  <message conversation_id="625">
    <ts>2019-05-26T15:11:32.077500</ts>
    <user>Julia</user>
    <text>To get `name` from _that_, I think just do &lt;https://docs.racket-lang.org/reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-replace-extension%29%29&gt; with a blank `#""` extension?</text>
  </message>
  <message conversation_id="625">
    <ts>2019-05-26T15:12:28.078000</ts>
    <user>Julia</user>
    <text>p.s. These all will work with `C:\path\to\name.ext` as well.</text>
  </message>
  <message conversation_id="626">
    <ts>2019-05-26T15:23:49.079300</ts>
    <user>Derick</user>
    <text>I am familiar with Clojure style macros (a macro is a function that takes sexp as input, produces sexp as output, and often uses lots of quasiquote / unquote).

I am interested in learning Racket style "hygienic" macros. Is there a good resource that focuses on walking me through lots of examples (as opposed to explaining lots of theory) ?</text>
  </message>
  <message conversation_id="625">
    <ts>2019-05-26T15:24:36.079500</ts>
    <user>Hallie</user>
    <text>&lt;https://www.greghendershott.com/fear-of-macros/&gt;</text>
  </message>
  <message conversation_id="625">
    <ts>2019-05-26T15:24:52.079800</ts>
    <user>Hallie</user>
    <text>&lt;https://beautifulracket.com/&gt;</text>
  </message>
  <message conversation_id="625">
    <ts>2019-05-26T15:27:32.080000</ts>
    <user>Hallie</user>
    <text>&lt;https://docs.racket-lang.org/guide/macros.html?q=macro&gt;</text>
  </message>
  <message conversation_id="625">
    <ts>2019-05-26T15:44:05.080300</ts>
    <user>Derick</user>
    <text>&lt;@Hallie&gt;: Thanks!</text>
  </message>
  <message conversation_id="627">
    <ts>2019-05-26T19:08:11.081800</ts>
    <user>Jule</user>
    <text>sorry &lt;@Julia&gt; I was def incorrect, i thought unix `basename` returned `foo` out of `basename baz/foo.tar.gz`, but it actually returns `foo.tar.gz`</text>
  </message>
  <message conversation_id="627">
    <ts>2019-05-26T19:08:59.082900</ts>
    <user>Jule</user>
    <text>i *meant* that I just wanted `foo`. I actually hacked around it by doing `(first (string-split filename "."))`</text>
  </message>
  <message conversation_id="627">
    <ts>2019-05-26T19:09:34.083800</ts>
    <user>Jule</user>
    <text>context is that i was hoping to get `my-post` out of `&lt;http://my-post.html.pm|my-post.html.pm&gt;`</text>
  </message>
  <message conversation_id="627">
    <ts>2019-05-26T19:10:19.084400</ts>
    <user>Jule</user>
    <text>so using `replace-extension` i’d have to apply it repeatedly until it comes to a fixed point</text>
  </message>
  <message conversation_id="627">
    <ts>2019-05-26T19:10:35.084700</ts>
    <user>Jule</user>
    <text>(which sounded worse to me)</text>
  </message>
  <message conversation_id="627">
    <ts>2019-05-26T19:11:19.085800</ts>
    <user>Jule</user>
    <text>I guess i was thinking that maybe there could be a package out there that I just don’t know about that adds all kinds of niceties to do this kind of thing</text>
  </message>
  <message conversation_id="627">
    <ts>2019-05-26T19:11:52.086500</ts>
    <user>Jule</user>
    <text>(i’m still pretty new to Racket, so I apologize to everyone for the repeated “how do I do x?” queries, lol)</text>
  </message>
  <message conversation_id="627">
    <ts>2019-05-26T19:32:35.087000</ts>
    <user>Jule</user>
    <text>just saw the function `~a`, good idea</text>
  </message>
  <message conversation_id="628">
    <ts>2019-05-26T23:07:49.087100</ts>
    <user>Leticia</user>
    <text>oh ok, cool</text>
  </message>
  <message conversation_id="629">
    <ts>2019-05-26T23:29:36.093400</ts>
    <user>Sunni</user>
    <text>I have question about scope of `let-syntax`. I wanted to `eval` a quoted sexp inside a `let-syntax`, but it didn’t work. I solved it by moving the syntax definition into a top level `define-syntax`. The goal was to take the output of a `lang brag` parser and expand the resulting quoted sexp using some syntax defined in the `let-syntax`. The point of using the `let-syntax` was so that the syntax could be parameterized by the enclosing function’s arguments. Maybe `eval` was the wrong tool? Or am I trying to do something peculiar?</text>
  </message>
  <message conversation_id="629">
    <ts>2019-05-26T23:31:42.095800</ts>
    <user>Sunni</user>
    <text>To clarify I had expected `let-syntax` to add its bindings to `current-namespace`, but it didn’t. I am guessing I don’t quite understand how namespaces work with `let` type bindings. </text>
  </message>
  <message conversation_id="629">
    <ts>2019-05-27T02:48:30.096500</ts>
    <user>Priscila</user>
    <text>&lt;@Sunni&gt; Sounds like a job for `local-expand`.</text>
  </message>
  <message conversation_id="629">
    <ts>2019-05-27T07:11:37.096600</ts>
    <user>Sunni</user>
    <text>Thanks! That looks like it should do the trick.</text>
  </message>
  <message conversation_id="630">
    <ts>2019-05-27T09:03:06.097800</ts>
    <user>Jeffery</user>
    <text>does Racket have any packages for project planning?
Like MS Project - just better :wink:</text>
  </message>
  <message conversation_id="631">
    <ts>2019-05-27T09:56:00.099000</ts>
    <user>Julia</user>
    <text>Maybe at RacketCon someone could say a word or two about this: &lt;https://github.com/racket/racket/issues/1570&gt;</text>
  </message>
  <message conversation_id="631">
    <ts>2019-05-27T09:57:53.100600</ts>
    <user>Julia</user>
    <text>It occurred to me yesterday, oh, I wonder if this is discouraged by the Software Freedom Conservancy?
But I don't know enough to know if that even makes sense.</text>
  </message>
  <message conversation_id="631">
    <ts>2019-05-27T09:58:28.101100</ts>
    <user>Julia</user>
    <text>(I don't have any urgent use-case for a new license. Just wondering.)</text>
  </message>
  <message conversation_id="629">
    <ts>2019-05-27T13:46:00.101300</ts>
    <user>Sunni</user>
    <text>I couldn't figure out how to make `local-expand` work. Here's a pared down use case:

```
#lang racket/base

;; Library Code
(module minimal racket/base
  (define times-2? (make-parameter #f))
  (define-namespace-anchor ns)
  (define-syntax data
    (syntax-rules ()
      [(data x ...) (if (times-2?)
                        (list (* 2 x) ...)
                        (list x ...))]))
  (define (read-data my-data #:times-2? [t2? #f])
    (parameterize ([times-2? t2?])
      (eval my-data (namespace-anchor-&amp;gt;namespace ns))))
  (provide read-data))

;; User Code
(require 'minimal)
(read-data '(data 1 2 3))
```</text>
  </message>
  <message conversation_id="629">
    <ts>2019-05-27T13:47:37.101500</ts>
    <user>Sunni</user>
    <text>In the end, the `eval` approach with `parameterize` seems like an okay pattern.</text>
  </message>
  <message conversation_id="632">
    <ts>2019-05-27T18:57:48.102300</ts>
    <user>Lillian</user>
    <text>&amp;gt; Or am I trying to do something peculiar?

`eval` isn’t wrong, if that’s really what you want. But from your description, it sounds like you are perhaps reinventing `read-syntax` + `#%module-begin`. Moreover the output of `brag` is designed to cooperate with these functions.</text>
  </message>
  <message conversation_id="629">
    <ts>2019-05-27T19:50:46.104500</ts>
    <user>Sunni</user>
    <text>That sounds like a cool idea. I’d wondered whether such a thing might be possible, but I don’t know any JavaScript. Would the idea be to transpile to JavaScript kinda like ClojureScript?</text>
  </message>
  <message conversation_id="633">
    <ts>2019-05-27T19:59:39.105500</ts>
    <user>Derick</user>
    <text>What's the current state of the art for Racket on AWS Lambda? I've managed to do Kotlin/Clojure/Rust on AWS Lambda and am seriously considering trying Racket as well. Can DrRacket provide a musl-libc binary?</text>
  </message>
  <message conversation_id="633">
    <ts>2019-05-27T20:30:29.106900</ts>
    <user>Julia</user>
    <text>&lt;@Derick&gt; Although I haven't tried it myself I know about &lt;https://github.com/lambrospetrou/aws-lambda-binary&gt; described in &lt;https://www.lambrospetrou.com/articles/aws-lambda-meets-racket/&gt;
If you know another or better way to do it based on your experience with other langs, I'm sure folks would be interested to learn more.</text>
  </message>
  <message conversation_id="633">
    <ts>2019-05-27T20:38:17.109600</ts>
    <user>Derick</user>
    <text>My understanding of AWS is a bit out dated (so what AWS supports should be a super set of what I write here). There used to be support for Python, NodeJS, JVM, Go. The "Go support" was just some binary + an RPC -- and some managed to get Rust supported unofficially by mimicking the Go RPC.

Currently, there's 'official' support via &lt;https://aws.amazon.com/blogs/opensource/rust-runtime-for-aws-lambda/&gt; (which has worked great for me), but requires special compilation to link via musl libc instead of glibc for some reason.

The question is -- what is the 'runtime' requirement of racket?It's not JS, it's not JVM ... it's chez scheme?</text>
  </message>
  <message conversation_id="633">
    <ts>2019-05-27T20:50:29.110400</ts>
    <user>Julia</user>
    <text>It's not chez. It's Racket's own VM.</text>
  </message>
  <message conversation_id="633">
    <ts>2019-05-27T20:50:53.111000</ts>
    <user>Julia</user>
    <text>This older/simpler post post by someone else (referenced in the later one) explains it more simply: &lt;http://www.dbrunner.net/2015/08/27/running-racket-on-aws-lambda/&gt;</text>
  </message>
  <message conversation_id="633">
    <ts>2019-05-27T20:51:38.112000</ts>
    <user>Julia</user>
    <text>IIUC TL;DR you `raco exe` your Racket program, put that and some shim js in a zip file, and upload it to aws lambda.</text>
  </message>
  <message conversation_id="633">
    <ts>2019-05-27T20:51:43.112200</ts>
    <user>Julia</user>
    <text>&lt;@Derick&gt; ^</text>
  </message>
  <message conversation_id="633">
    <ts>2019-05-27T21:07:41.112500</ts>
    <user>Derick</user>
    <text>lol, looks like they are using the NodeJS FFI to call racket</text>
  </message>
  <message conversation_id="633">
    <ts>2019-05-27T22:25:35.115000</ts>
    <user>Julia</user>
    <text>The latter post talks about using node to start a racket process --- then simply pipes to/from it.
IIUC one could use python instead of node.
I agree both are sort of weird.
Ask Amazon why they don't provide a way to pipe directly to a proc in any lang that can use stdin and stdout.

But if they did... they'd probably implement it in one of {node python java}, so... I think the important system design principle here is the usual one: Computers suck and programming in the real world is usually stupid. ¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="634">
    <ts>2019-05-27T22:32:16.116400</ts>
    <user>Jule</user>
    <text>Does anyone have any advice on how to process an xexpr doc? I’m thinking of recursively calling a function and using match to decompose it, but idk i feel like there should be a better way</text>
  </message>
  <message conversation_id="633">
    <ts>2019-05-27T22:55:36.117300</ts>
    <user>Mai</user>
    <text>In Pollen, there’re decoders that traverse the xexpr tree for you</text>
  </message>
  <message conversation_id="633">
    <ts>2019-05-27T22:55:59.117600</ts>
    <user>Mai</user>
    <text>&lt;https://docs.racket-lang.org/pollen/Decode.html&gt;</text>
  </message>
  <message conversation_id="634">
    <ts>2019-05-28T01:33:37.118500</ts>
    <user>Angelika</user>
    <text>&lt;@Jule&gt; I use `decode` and `decode-elements` and attach processing functions to the different hooks like `#:txexpr-proc`, etc.</text>
  </message>
  <message conversation_id="635">
    <ts>2019-05-28T01:57:44.119100</ts>
    <user>Derick</user>
    <text>Is there a way to get &lt;https://docs.racket-lang.org/guide/&gt; as a pdf? Sometimes, for deep reading, I prefer paper so I can scribble in the margins.</text>
  </message>
  <message conversation_id="635">
    <ts>2019-05-28T01:58:29.119800</ts>
    <user>Derick</user>
    <text>Whereas ipad reading = clicking on links = somehow watching funny cats on youtube</text>
  </message>
  <message conversation_id="634">
    <ts>2019-05-28T02:02:57.120000</ts>
    <user>Angelika</user>
    <text>&lt;https://plt.eecs.northwestern.edu/snapshots/current/pdf-doc/guide.pdf&gt;</text>
  </message>
  <message conversation_id="636">
    <ts>2019-05-28T04:45:55.120400</ts>
    <user>Kami</user>
    <text>Well I've never used ClojureScript, but I guess yes, it's similar to some kind of "transpiling". Bascially it could look like this:
```
(javascript
  (function (hello who)
    (console.log (+ "Hello " who "!")))
  (hello "world"))
```
and this would generate:
```
function hello(who) {
  console.log("Hello " + who + "!");
}
hello("world");
```</text>
  </message>
  <message conversation_id="636">
    <ts>2019-05-28T04:47:33.120600</ts>
    <user>Kami</user>
    <text>So that programmers can have the power of Racket macros at hand when writing javascript. Or even generate javascript on-the-fly in a web server.</text>
  </message>
  <message conversation_id="635">
    <ts>2019-05-28T05:29:38.121000</ts>
    <user>Derick</user>
    <text>Can someone briefly explain how define-syntax, syntax-parse, syntax-rules, syntax-case relate to each other?</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T05:50:10.125100</ts>
    <user>Mai</user>
    <text>&lt;https://www.greghendershott.com/fear-of-macros/&gt; should cover all of these, but to give you a summary

Historically, `syntax-rules` comes before `syntax-case`, and `syntax-case` comes before `syntax-parse`.
Regarding expressiveness, `syntax-rules` is less expressive than `syntax-case`, and `syntax-case` is less expressive than `syntax-parse`.

`syntax-rules` = traditional hygienic syntax matcher in Scheme
`syntax-case` = an extension of `syntax-rules` so that you can manipulate syntax object too, allowing you to break hygiene if you want
`syntax-parse` = `syntax-case` with better error message and with other convenient utilities.</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T05:53:04.128400</ts>
    <user>Mai</user>
    <text>`syntax-{rules, case, parse}` are pretty much a `match` working on syntax objects. You can think of it as `match`/`case`/`if`.

`define-syntax` lifts a regular function that consumes a syntax object and returns a syntax object to macro.</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T05:53:08.128600</ts>
    <user>Derick</user>
    <text>Yeah, I was reading fear-of-macros, transform! section, but felt I was missing the overall picture.</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T05:55:01.130000</ts>
    <user>Derick</user>
    <text>summarizing high levels:
by invention date (increasing): rules, case, parse
by expressive power (increasing): rules, case, parse
jump from rules -&amp;gt; case: 'syntax object', can break hygiene
jump from case -&amp;gt; parse: better error msgs
Is that correct?</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T05:55:23.130300</ts>
    <user>Mai</user>
    <text>yes</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T05:55:33.130500</ts>
    <user>Derick</user>
    <text>Great, thanks for clarifying!</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T05:56:18.131300</ts>
    <user>Derick</user>
    <text>In &lt;https://www.greghendershott.com/fear-of-macros/Transform_.html&gt; &amp;lt;-- is this rules, case, parse ... or manually writing transforms ?</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T05:56:45.132100</ts>
    <user>Mai</user>
    <text>That’s a manual transformer</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T05:56:53.132400</ts>
    <user>Derick</user>
    <text>```
(define-syntax (say-hi stx)
    #'(displayln "hi"))
```
looks awfully similar to clojure style defmacros</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T05:57:15.132900</ts>
    <user>Mai</user>
    <text>Yup, that’s correct</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T05:58:38.135500</ts>
    <user>Derick</user>
    <text>Is the following intuition correct:
define-syntax = write macros as "sexp -&amp;gt; sexp transforms"
rules / case / parse = "dsls" built on top of "define-syntax"</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:00:22.137300</ts>
    <user>Mai</user>
    <text>I wouldn’t say “on top of define-syntax”. They are orthogonal</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:00:39.137700</ts>
    <user>Mai</user>
    <text>rules / case / parse are just pattern matchers, just like `match`. However, they work on syntax objects instead.</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:01:29.138700</ts>
    <user>Mai</user>
    <text>E.g.,

```
(syntax-parse #'(hello world)
  [(id1 id2) #'(id2 id1)])

;=&amp;gt; #'(world hello)
```

The above code roughly compiles to:

```
(define stx #'(hello world))
(define datum (syntax-&amp;gt;datum stx))
(define new-datum 
  (if (= (length datum) 2)
           (list (second datum) (first datum))
           (error 'expect-length-2)))
(datum-&amp;gt;syntax stx new-datum)
```</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:02:08.139100</ts>
    <user>Derick</user>
    <text>sounds like I need to go write some rules/case/parse to even get the right intuition :slightly_smiling_face:</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:09:25.140500</ts>
    <user>Derick</user>
    <text>If we squint, is syntax-parse basically (1) pattern-match/unification + (2) rewrite rule ?</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:09:37.140700</ts>
    <user>Derick</user>
    <text>(compiled to ifs/conds)</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:09:48.141000</ts>
    <user>Mai</user>
    <text>Correct</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:10:21.141500</ts>
    <user>Derick</user>
    <text>Thanks, this is finally starting to make sense, for some reason, syntax-rules/case/parse always seemed like this big pile of black magic.</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:11:29.143100</ts>
    <user>Derick</user>
    <text>I have an unrelated question: do you use dr racket? Coming from an Emacs/IntelliJ-IDEA background, dr racket feels like notepad right now -- not because of dr racket is limited, but because I'm not familiar with the key bindings / workflow. Any advice on reaching working proficienty in dr racket?</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:18:01.148000</ts>
    <user>Mai</user>
    <text>Let me try this one more time

You can use `match` on values:

```
(match (list 1 2)
  [(list a b) (list b a)]) ;=&amp;gt; (list 2 1)
```

`syntax-{rules, case, parse}` is like `match`, but it works only on syntax objects.

```
(syntax-parse #'(1 2)
  [(a b) #'(b a)]) ;=&amp;gt; #'(2 1)
```

The above two computations happen at runtime.

-----------

We can lift a function that consumes a syntax object and produce a syntax object to compile time as a macro.

```
(define-syntax (foo stx)
  (match (syntax-&amp;gt;datum stx)
    [(list _ x y) (datum-&amp;gt;syntax stx (list y x))]))

(foo 10 add1) ;=&amp;gt; transform to (add1 10) ;=&amp;gt; 11
```

```
(define-syntax (bar stx)
  (syntax-parse stx
    [(_ x y) #'(y x)]))

(bar 10 add1) ;=&amp;gt; transform to (add1 10) ;=&amp;gt; 11
```</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:20:17.149700</ts>
    <user>Derick</user>
    <text>What is the distinction between "values" and "syntax objects"? I was recently just writing a scheme interpreter, is the following correct:

values = some VM object that exists at run time
syntax object = refers to some continuous substring (may be multi line) of some buffer, that also happens to be parseable scheme expr ?</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:20:38.150100</ts>
    <user>Mai</user>
    <text>syntax object is a kind of value</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:22:03.151100</ts>
    <user>Derick</user>
    <text>hmm, let me try this again
value = set of all objects the VM can create
syntax object = needs a buffer-name, starting column, starting row, length
Is that correct? If not, I'm missing something fundamental</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:23:31.152000</ts>
    <user>Mai</user>
    <text>I’m not familiar with the terminology that you are using, but it sounds correct to me. My point was that syntax object is also a regular value.</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:23:46.152400</ts>
    <user>Mai</user>
    <text>But not the other way</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:25:44.156000</ts>
    <user>Derick</user>
    <text>I'm new to racket, so probably using the wrong terminology. Let's play "pretend to be the compiler" -- suppose we want to compile + run main.rkt ... is the following approximately correct:

1. compile main.rkt:
2. racket fires up a racket VM, goes through main.rkt, finds all define-syntax; for each macro, we add a function to the VM
3. we run through file again, for each macro, calling corresponding function to expand the sub expressionN
4. we now have a racket program w/ no macros
5. we compile the code
6. now, at runtime:
7. app fires up a different racket vm
8. interprets out compiled bytecode
point being: a racket vm is fired up during the compile time for the macro processing
Is the above approximately correct?</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:26:57.157000</ts>
    <user>Derick</user>
    <text>so macros are racket functions executed on a racket VM -- but a VM that exists only at compile time -- i.e. not the VM run at runtime of the app</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:27:05.157200</ts>
    <user>Mai</user>
    <text>Correct.</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:28:18.158400</ts>
    <user>Derick</user>
    <text>Thanks, and except in cases where we do

```
(define stx_blah #'(....))
```

except in the above cases, syntax-objects exist on the compile-time-macro-expansion-VM, and not the runtime-VM (unless we explicitly create one via `(syntax ...)`)</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:28:38.158700</ts>
    <user>Derick</user>
    <text>^ Is that also correct regarding syntax objects?</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:29:04.159500</ts>
    <user>Mai</user>
    <text>Syntax object can exist in both runtime and compile time</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:29:20.160000</ts>
    <user>Derick</user>
    <text>Hmm, I phrased that poorly.</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:29:49.160900</ts>
    <user>Derick</user>
    <text>syntax-objects created via macro-expansion exists only on compile-time-VM
syntax-objects created via `(syntax ...` and `#'(...)` exist at runtime
^-- is this correct? :slightly_smiling_face:</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:30:28.161500</ts>
    <user>Mai</user>
    <text>Almost, but it doesn’t depend on `(syntax ...)` or `#'(...)`. Instead, it depends on `(define-syntax ...)`</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:32:04.163600</ts>
    <user>Mai</user>
    <text>`#'(a)` will be used in macro expansion (compile time) when it’s in `(define-syntax ...)`. And `#'(a)` will be a runtime value when it’s not in `(define-syntax ...)`</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:32:56.164700</ts>
    <user>Derick</user>
    <text>I see, so perhaps it should be stated as:

1. `(syntax ...)` and `#'(...)` create syntax objects
2. they are normal VM objects and created whenever they are executed
3. `(define-syntax ...)` creates a function that is executed on compile-time-VM
4. syntax-objects exist on whatever VM they're created on [tautology, lol]</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:33:10.164900</ts>
    <user>Mai</user>
    <text>Correct!</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:34:35.165700</ts>
    <user>Mai</user>
    <text>Yeah, sorry, I communicated very poorly. Glad that you finally figure it out though.</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:35:25.166200</ts>
    <user>Derick</user>
    <text>You communicated great; I didn't have the right terms / mental models.</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:35:47.166600</ts>
    <user>Derick</user>
    <text>I figured out why I'm so unhappy with Dr Racket -- paredit -- does Dr Racket have paredit key bindings?</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:36:46.167000</ts>
    <user>Mai</user>
    <text>I don’t use DrRacket anymore, tbh. Have been using Racket mode in Emacs</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:36:51.167200</ts>
    <user>Derick</user>
    <text>&lt;https://docs.racket-lang.org/drracket/Keyboard_Shortcuts.html&gt;</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:37:32.167700</ts>
    <user>Derick</user>
    <text>Well, thanks for all your time/patience in explaining the gist of the macro system ot me.</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:37:38.168100</ts>
    <user>Derick</user>
    <text>I really appreciate it.</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:38:58.168500</ts>
    <user>Derick</user>
    <text>I'm signing off for now, have a nice day!</text>
  </message>
  <message conversation_id="637">
    <ts>2019-05-28T06:46:33.169600</ts>
    <user>Derick</user>
    <text>is a define-syntax-rule basicalyl a define-syntax/syntax-case that only has one 'pattern matching line' ?</text>
  </message>
  <message conversation_id="638">
    <ts>2019-05-28T07:18:30.170000</ts>
    <user>Mai</user>
    <text>There’s also `define-simple-macro` in `syntax/parse/define`</text>
  </message>
  <message conversation_id="638">
    <ts>2019-05-28T07:18:59.170600</ts>
    <user>Mai</user>
    <text>But all of these are simply macros themselves. They are not primitives</text>
  </message>
  <message conversation_id="638">
    <ts>2019-05-28T07:19:32.170800</ts>
    <user>Mai</user>
    <text>&lt;https://docs.racket-lang.org/syntax/Defining_Simple_Macros.html&gt;</text>
  </message>
  <message conversation_id="638">
    <ts>2019-05-28T07:21:08.172300</ts>
    <user>Mai</user>
    <text>Honestly, I sometimes wish &lt;@Julia&gt; will rewrite his macro tutorial to avoid `syntax-case` entirely (since it’s simply `syntax-parse` without syntax class), and by the same analogy, replace `define-syntax-rule` with `define-simple-macro`.</text>
  </message>
  <message conversation_id="638">
    <ts>2019-05-28T07:27:42.173600</ts>
    <user>Sunni</user>
    <text>Sounds like a cool idea to me. JavaScript is such a versatile language having a way to tap into its ecosystem would extend Racket’s reach quite a bit. </text>
  </message>
  <message conversation_id="639">
    <ts>2019-05-28T08:30:55.174800</ts>
    <user>Shavon</user>
    <text>&lt;@Marcelina&gt; you're listed as a manager of the racket project in openhub. Do you know why commits haven't been updated since 2017? &lt;https://www.openhub.net/p/racket&gt;</text>
  </message>
  <message conversation_id="638">
    <ts>2019-05-28T10:18:07.175400</ts>
    <user>Derick</user>
    <text>Beautiful Racket is great for DSLs. However, are there any examples of DSL -&amp;gt; other language, i.e. a "transpiler" of sorts.</text>
  </message>
  <message conversation_id="640">
    <ts>2019-05-28T10:20:28.175800</ts>
    <user>Kristeen</user>
    <text>&lt;@Derick&gt; yes, people have built some for generating c++ of all things</text>
  </message>
  <message conversation_id="640">
    <ts>2019-05-28T10:21:42.176100</ts>
    <user>Hallie</user>
    <text>&lt;@Derick&gt; check &lt;https://nanopass.org/&gt;</text>
  </message>
  <message conversation_id="640">
    <ts>2019-05-28T10:21:57.176300</ts>
    <user>Hallie</user>
    <text>&lt;https://docs.racket-lang.org/nanopass/index.html&gt;</text>
  </message>
  <message conversation_id="640">
    <ts>2019-05-28T10:22:35.176500</ts>
    <user>Hallie</user>
    <text>&lt;https://github.com/soegaard/urlang&gt;</text>
  </message>
  <message conversation_id="640">
    <ts>2019-05-28T10:22:38.176800</ts>
    <user>Kristeen</user>
    <text>&lt;http://matt.might.net/papers/ballantyne2014metameta.pdf&gt;</text>
  </message>
  <message conversation_id="640">
    <ts>2019-05-28T10:32:33.177000</ts>
    <user>Hallie</user>
    <text>&lt;https://github.com/pedropramos/PyonR&gt;</text>
  </message>
  <message conversation_id="640">
    <ts>2019-05-28T11:00:05.177400</ts>
    <user>Derick</user>
    <text>&lt;@Kristeen&gt; &lt;@Hallie&gt;: nice, thanks!</text>
  </message>
  <message conversation_id="641">
    <ts>2019-05-28T13:27:43.178000</ts>
    <user>Marcelina</user>
    <text>&lt;@Shavon&gt; TIL I manage the racket project on openhub...lol.</text>
  </message>
  <message conversation_id="641">
    <ts>2019-05-28T13:27:53.178400</ts>
    <user>Marcelina</user>
    <text>(Maybe I signed up for it a few years back?)</text>
  </message>
  <message conversation_id="641">
    <ts>2019-05-28T13:28:03.178700</ts>
    <user>Marcelina</user>
    <text>Anyway...</text>
  </message>
  <message conversation_id="641">
    <ts>2019-05-28T13:29:06.179600</ts>
    <user>Shavon</user>
    <text>You show up as one of the managers. The other one is Eli but I haven't seen him here before.</text>
  </message>
  <message conversation_id="641">
    <ts>2019-05-28T13:29:08.179700</ts>
    <user>Marcelina</user>
    <text>Ah, I think I found it.</text>
  </message>
  <message conversation_id="641">
    <ts>2019-05-28T13:29:20.180300</ts>
    <user>Marcelina</user>
    <text>Eli used to be very involved. Less so these days.</text>
  </message>
  <message conversation_id="641">
    <ts>2019-05-28T13:29:32.180700</ts>
    <user>Shavon</user>
    <text>I have no permissions so can't check but it would be great to get the data up to date.</text>
  </message>
  <message conversation_id="641">
    <ts>2019-05-28T13:29:53.181200</ts>
    <user>Marcelina</user>
    <text>Yup, it looks like all of the code locations for racket got removed.</text>
  </message>
  <message conversation_id="641">
    <ts>2019-05-28T13:30:21.181800</ts>
    <user>Marcelina</user>
    <text>Umm...do you know of a better way to add them (besides going through each repo in &lt;http://github.com/racket&gt; individually)</text>
  </message>
  <message conversation_id="641">
    <ts>2019-05-28T13:31:02.182100</ts>
    <user>Marcelina</user>
    <text>OH wait, you can just tell it to track a github user.</text>
  </message>
  <message conversation_id="641">
    <ts>2019-05-28T13:31:05.182300</ts>
    <user>Marcelina</user>
    <text>I've added it now.</text>
  </message>
  <message conversation_id="641">
    <ts>2019-05-28T13:31:11.182500</ts>
    <user>Marcelina</user>
    <text>So....hopefully it will update?</text>
  </message>
  <message conversation_id="641">
    <ts>2019-05-28T13:32:36.182900</ts>
    <user>Marcelina</user>
    <text>Looks like it should update in the next 24 hours or so. Does that work for you &lt;@Shavon&gt;?</text>
  </message>
  <message conversation_id="641">
    <ts>2019-05-28T13:35:30.183000</ts>
    <user>Jule</user>
    <text>TY i will try it</text>
  </message>
  <message conversation_id="641">
    <ts>2019-05-28T13:41:48.183400</ts>
    <user>Shavon</user>
    <text>Will check, not home at the moment.</text>
  </message>
  <message conversation_id="641">
    <ts>2019-05-28T14:26:22.184400</ts>
    <user>Marcelina</user>
    <text>&lt;@Essie&gt; Looking at `draw-arrow` in `racket/draw/arrow` (which it looks like you added)</text>
  </message>
  <message conversation_id="642">
    <ts>2019-05-28T14:26:58.185100</ts>
    <user>Marcelina</user>
    <text>Can you tell me why you added a required dx and dy argument? (Especially given that, say, `draw-line` doesn't have it.)</text>
  </message>
  <message conversation_id="642">
    <ts>2019-05-28T14:28:11.186300</ts>
    <user>Marcelina</user>
    <text>It also looks like the function draws an arrow from ((startx + dx), (starty + dy)) to ((endx + dx), (endy + dy)). If that's correct, maybe it would make sense to reflect that in the docs?</text>
  </message>
  <message conversation_id="642">
    <ts>2019-05-28T14:35:34.186700</ts>
    <user>Essie</user>
    <text>Did I add that? I honestly have no memory of that.</text>
  </message>
  <message conversation_id="642">
    <ts>2019-05-28T14:36:56.187600</ts>
    <user>Marcelina</user>
    <text>Ah, lol, fair enough.</text>
  </message>
  <message conversation_id="642">
    <ts>2019-05-28T14:36:57.187800</ts>
    <user>Essie</user>
    <text>Ah, looking at the git logs, I moved it from unstable/arrow. I just took what was there.</text>
  </message>
  <message conversation_id="642">
    <ts>2019-05-28T14:37:05.188100</ts>
    <user>Marcelina</user>
    <text>AH!!! okay</text>
  </message>
  <message conversation_id="642">
    <ts>2019-05-28T14:37:13.188500</ts>
    <user>Marcelina</user>
    <text>(I just ran a git blame, and it blamed you.</text>
  </message>
  <message conversation_id="642">
    <ts>2019-05-28T14:37:16.188800</ts>
    <user>Marcelina</user>
    <text>But that makes more sense.</text>
  </message>
  <message conversation_id="642">
    <ts>2019-05-28T14:37:17.188900</ts>
    <user>Essie</user>
    <text>So you may want to see who wrote it in that repo.</text>
  </message>
  <message conversation_id="642">
    <ts>2019-05-28T14:37:31.189100</ts>
    <user>Marcelina</user>
    <text>Will do.</text>
  </message>
  <message conversation_id="642">
    <ts>2019-05-28T14:37:54.189500</ts>
    <user>Marcelina</user>
    <text>I take it then that you wouldn't mind if the dx and dy became optional arguments.</text>
  </message>
  <message conversation_id="642">
    <ts>2019-05-28T14:38:17.190200</ts>
    <user>Marcelina</user>
    <text>(To bring it more inline with the rest of the racket/draw API, while also not breaking backwards compatibility.)</text>
  </message>
  <message conversation_id="642">
    <ts>2019-05-28T14:38:38.190700</ts>
    <user>Essie</user>
    <text>That sounds reasonable to me, but I'm not the right person to ask.</text>
  </message>
  <message conversation_id="642">
    <ts>2019-05-28T14:40:51.191100</ts>
    <user>Marcelina</user>
    <text>Ah, okay. Looks like &lt;@Kristeen&gt; Is the only other person to have touched it: &lt;https://github.com/racket/unstable/blob/master/unstable-lib/arrow.rkt&gt;</text>
  </message>
  <message conversation_id="642">
    <ts>2019-05-28T14:40:57.191500</ts>
    <user>Marcelina</user>
    <text>Anyway, thanks.</text>
  </message>
  <message conversation_id="642">
    <ts>2019-05-28T14:41:48.192000</ts>
    <user>Marcelina</user>
    <text>Err...or not. I guess sam was only removing directories: &lt;https://github.com/racket/unstable/commit/7e1fd09014ab9a52d6ed6c4623438e6dac9e0734#diff-bbb45214b09c8dd88ce47e89fe440d74&gt;</text>
  </message>
  <message conversation_id="643">
    <ts>2019-05-28T14:43:57.192700</ts>
    <user>Kristeen</user>
    <text>draw-arrow is very old and I think was created by &lt;@Alden&gt;</text>
  </message>
  <message conversation_id="643">
    <ts>2019-05-28T14:48:07.193100</ts>
    <user>Kristeen</user>
    <text>Created here &lt;https://github.com/samth/old-plt/commit/9b6edc52deaf5eaf61f0b212ce7452f27ee15b6b&gt;</text>
  </message>
  <message conversation_id="642">
    <ts>2019-05-28T14:49:29.193600</ts>
    <user>Priscila</user>
    <text>Arrows?  &lt;http://www.ntg.nl/maps/36/19.pdf&gt;</text>
  </message>
  <message conversation_id="644">
    <ts>2019-05-28T15:13:45.193900</ts>
    <user>Julia</user>
    <text>Well this got out of hand quickly :smile: &lt;https://twitter.com/mattmight/status/1132448468994330625&gt;</text>
  </message>
  <message conversation_id="645">
    <ts>2019-05-28T15:49:20.194500</ts>
    <user>Derick</user>
    <text>&lt;https://docs.racket-lang.org/reference/file-ports.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._with-output-to-file%29%29&gt;
how do I fix:
```
(with-output-to-file "blah.tex"
  (lambda () (printf "hello world"))
  [#:exists 'replace])

```</text>
  </message>
  <message conversation_id="645">
    <ts>2019-05-28T16:49:05.195200</ts>
    <user>Julia</user>
    <text>&lt;@Derick&gt; Just remove the square brackets.</text>
  </message>
  <message conversation_id="645">
    <ts>2019-05-28T16:49:35.195800</ts>
    <user>Julia</user>
    <text>In Racket docs, the square brackets indicate optional arguments.
You don't actually supply the square brackets.</text>
  </message>
  <message conversation_id="645">
    <ts>2019-05-28T16:51:40.197700</ts>
    <user>Julia</user>
    <text>Also, keyword arguments -- like `#:exists 'replace` here -- may go anywhere among the positional arguments.
So, how you have it above is fine (without the square brackets).
Or, for instance, you could also do
```
(with-output-to-file "blah.tex" #:exists 'replace
 (lambda () (printf "hello world")))
```</text>
  </message>
  <message conversation_id="645">
    <ts>2019-05-28T16:52:21.198200</ts>
    <user>Julia</user>
    <text>Or
```
(with-output-to-file "blah.tex"
 #:exists 'replace
 (lambda () (printf "hello world")))
```</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:03:01.199700</ts>
    <user>Alden</user>
    <text>&lt;@Marcelina&gt;: what was the actual question? That function draws arrows in check syntax and it was refactored out like that so Philippe could use it in MrFlow</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:03:45.201100</ts>
    <user>Alden</user>
    <text>More generally many GUI library functions take dx/d'y arguments because other functions pass them. Like the draw method of a snip or of a canvas. </text>
  </message>
  <message conversation_id="645">
    <ts>2019-05-28T17:10:18.201300</ts>
    <user>Derick</user>
    <text>&lt;@Julia&gt;: got it working, thanks!</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:12:56.202800</ts>
    <user>Derick</user>
    <text>Is there a way to run a command FROM A PARTICULAR DIRECTORY?

I'm currently using `pdf-latex` from the slatex package. However, it's duping all the intermediate files in cwd instead of the directory where the tex file is located.

I am currently looking at &lt;https://docs.racket-lang.org/reference/subprocess.html&gt; but I don't see a way to specify the working directory.

In particular, what I want to do is to

run "pdflatex blah.tex" from directory "/home/foobar/tmp/"</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:14:32.203700</ts>
    <user>Mai</user>
    <text>Try `(parameterize ([current-directory PATH-TO-YOUR-DIRECTORY]) (YOUR-COMMAND-HERE))`?</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:15:39.204100</ts>
    <user>Derick</user>
    <text>is "parameterize" like "dynamically scoped vars", or is it something else?</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:17:24.204300</ts>
    <user>Derick</user>
    <text>okay, it definitely worked</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:24:14.205200</ts>
    <user>Marcelina</user>
    <text>&lt;@Alden&gt; Eh, while not super important, the original question was to make the dx/dy arguments optional.</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:24:39.205900</ts>
    <user>Marcelina</user>
    <text>(defaulting to 0), that way it could be more in line with, say, the `draw-line` method.</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:24:43.206200</ts>
    <user>Alden</user>
    <text>Is there a reason to change the code?</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:25:04.206500</ts>
    <user>Marcelina</user>
    <text>Not a big one no.</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:25:14.206900</ts>
    <user>Alden</user>
    <text>Maybe best to leave it alone, then.</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:25:22.207100</ts>
    <user>Marcelina</user>
    <text>SMall one: it got annoying for me to put `0 0` at the end of several function calls. :wink:</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:25:35.207400</ts>
    <user>Marcelina</user>
    <text>But that's admittedly small.</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:25:57.207900</ts>
    <user>Marcelina</user>
    <text>But it might make sense to update the docs to clarify where the line is drawn. :wink:</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:26:05.208200</ts>
    <user>Marcelina</user>
    <text>I'll do that later.... (famous last words)</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:26:18.208400</ts>
    <user>Alden</user>
    <text>Docs update would be nice</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:30:41.211200</ts>
    <user>Herb</user>
    <text>On the subject of arrows, I'm trying to use the check-syntax button to draw arrows. These arrows are being used for metadata annotations, associating an element from a tag with some syntax in the function body. I've tried to read through the code in drracket/private/syncheck/gui.rkt, and I think that it should be possible to create an arrow from an arbitrary location to another arbitrary location. Is it possible to do that without extending the check-syntax tool?
An example would be drawing an arrow between `one-of` and the open-paren before `cond` in the following:
```
(@dd-template-rules one-of atomic-distinct atomic-distinct)
(define (fn-for-foo f)
  (cond [(string=? "L" f) (...)]
        [(string=? "R" f) (...)]))
```</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:34:01.212800</ts>
    <user>Elin</user>
    <text>Yes. The way I’ve used to draw arrows between arbitrary locations is to generate a fresh identifier, make copies with different source locations, and use `'disappeared-use` with one source location and `'disappeared-binding` with the other source location</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:37:20.213200</ts>
    <user>Herb</user>
    <text>Thanks.</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:37:32.213400</ts>
    <user>Herb</user>
    <text>I'll look into this.</text>
  </message>
  <message conversation_id="647">
    <ts>2019-05-28T17:42:52.214100</ts>
    <user>Herb</user>
    <text>I'm not quite sure how to work that, here's what I have:
```
(require (for-syntax racket/syntax))

(define-syntax (tag-it stx)
  (syntax-case stx ()
    [(_ a b)
     (let ([temp (generate-temporary)])
       (begin (syntax-property #'a 'disappeared-use temp)
              (syntax-property #'b 'disappeared-binding temp)))]))

(define a 1)
(define b 2)
(tag-it a b)
```</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T17:43:12.214600</ts>
    <user>Herb</user>
    <text>I expect an arrow from `b` to `a` in `tag-it`, but I'm not getting anything.</text>
  </message>
  <message conversation_id="647">
    <ts>2019-05-28T17:50:38.215700</ts>
    <user>Elin</user>
    <text>Here’s what I mean below. You still need the `'orig-for-check-syntax` property on the source-location identifiers
```
#lang racket

(require (for-syntax racket/syntax))

;; from up here
(begin-for-syntax
  (define (orig stx)
    (syntax-property stx 'original-for-check-syntax #t))

  (define (add-arrow stx from to)
    (define id (orig (generate-temporary)))
    (define sym (syntax-e id))
    (syntax-property
     (syntax-property
      stx
      'disappeared-binding (datum-&amp;gt;syntax id sym from id))
     'disappeared-use (datum-&amp;gt;syntax id sym to id))))

(define-syntax (draw-arrow stx)
  (add-arrow #'(void)
             (list (syntax-source stx) #f #f 61 7)
             (list (syntax-source stx) #f #f 609 14)))

;; to over down here

(draw-arrow)
```</text>
  </message>
  <message conversation_id="648">
    <ts>2019-05-28T17:59:20.216300</ts>
    <user>Derick</user>
    <text>How do I annotate / export this untyped function so I can call it from typed racket?

```
#lang typed/racket

(require slatex/slatex-wrapper)




(define (write-pdf dir-name file-name content)
    (parameterize ([current-directory dir-name])
    (with-output-to-file file-name
      (lambda ()
        (write-string "\\documentclass{article}\n\\usepackage{fullpage}\\begin{document}\n")
        (write-string "\\begin{displaymath}\n")
        (content)
        (write-string "\\end{displaymath}\n")
        (write-string "\\end{document}")

        )
      #:exists 'replace)
    (pdf-latex file-name)
    ))

(write-pdf "/data/ftp/tmp" "blah.tex"
           (lambda ()
               "x = y + 1"))
```</text>
  </message>
  <message conversation_id="646">
    <ts>2019-05-28T18:00:21.216400</ts>
    <user>Herb</user>
    <text>Thanks. This works nicely.</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T18:13:59.216800</ts>
    <user>Elin</user>
    <text>What type would you give it in the typed world?</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T18:14:25.217300</ts>
    <user>Derick</user>
    <text>String, String, Function -&amp;gt; ()</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T18:14:49.217700</ts>
    <user>Elin</user>
    <text>wait so `content` is a function but what does it return?</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T18:15:09.218200</ts>
    <user>Derick</user>
    <text>it doesn't return anything, the key is that the with-output-to-file hijacks stdout</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T18:15:20.218600</ts>
    <user>Elin</user>
    <text>So when you call it it returns a string?</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T18:15:29.219000</ts>
    <user>Derick</user>
    <text>oh sorry, I passed a bad content function, 1 sec</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T18:15:34.219200</ts>
    <user>Elin</user>
    <text>oh okay</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T18:15:48.219400</ts>
    <user>Derick</user>
    <text>```
(write-pdf "/data/ftp/tmp" "blah.tex"
           (lambda ()
             (write-string
               "x = y + 1")))
```</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T18:16:04.219900</ts>
    <user>Derick</user>
    <text>content doesn't return anything; it writes to stdout, which is then captured by the with-output-to-file</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T18:16:29.220500</ts>
    <user>Derick</user>
    <text>(String, String, () -&amp;gt; ()) -&amp;gt; ()
would be the type sig I want for write-pdf</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T18:16:51.220700</ts>
    <user>Elin</user>
    <text>So that looks like it would have the type `(-&amp;gt; String String (-&amp;gt; Void) Void)`</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T18:17:40.221400</ts>
    <user>Derick</user>
    <text>Sounds right.</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T18:18:16.222200</ts>
    <user>Derick</user>
    <text>So do I need to create a separate file with #lang racket ... or can we, in the middle of a #lang typed/racket file, say:

for this next function, it's going to be untyped ?</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T18:18:33.222600</ts>
    <user>Elin</user>
    <text>In the untyped file, provide it normally.
In the typed file, use `require/typed` with the type above</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T18:19:22.223200</ts>
    <user>Derick</user>
    <text>If this is not too much trouble, can you write the #lang typed/racket file for me? I think it'll be alot easier to understand how all the pieces fit together from a working example.</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T18:25:08.223600</ts>
    <user>Derick</user>
    <text>I'm trying
```
#lang typed/racket

(require/typed "util.rkt"
               [write-pdf (-&amp;gt; String String (-&amp;gt; Void))])

```</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T18:25:21.223900</ts>
    <user>Derick</user>
    <text>and getting error:

```
. only-in: identifier `write-pdf' not included in nested require spec in: "util.rkt"
```</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T18:28:40.224100</ts>
    <user>Derick</user>
    <text>it all works now; thanks!</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T19:11:21.224900</ts>
    <user>Derick</user>
    <text>For racket exact-num/big-int, is there a O(1) way to get # of bits used? I'm building a http accessible simple calculator and need to avoid DOS by using large nums to consume all memory.</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T19:25:32.225100</ts>
    <user>Derick</user>
    <text>integer-length</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T20:27:00.225800</ts>
    <user>Derick</user>
    <text>I know about &lt;https://docs.racket-lang.org/nanopass/index.html&gt;

Question: where can I find the actual assignments that goes along with this framework?</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T20:39:15.226400</ts>
    <user>Derick</user>
    <text>Is it normal in Dr Racket for the following code to take _seconds_ to compile ?

```

(define-type MathNode (U BigFloat MathNeg))

(struct BigFloat ([base : Number] [exp : Number]))
(struct MathNeg ([base : MathNode]))
(struct MathAdd ([base : (Listof MathNode)]))
(struct MathMul ([base : (Listof MathNode) ]))

```

I expect typed racket to be slightly slower but not this much slower.</text>
  </message>
  <message conversation_id="649">
    <ts>2019-05-28T20:58:26.227000</ts>
    <user>Derick</user>
    <text>```
#lang racket

(require Racket-miniKanren/miniKanren/mk)

(define fail
  (== #t #f))

(define succeed
  (== #t #t))


(current-readtable
 (make-readtable (current-readtable)
                 #\s
                 'dispatch-macro
                 (lambda (a b c d e f) succeed)))

(current-readtable
 (make-readtable (current-readtable)
                 #\u
                 'dispatch-macro
                 (lambda (a b c d e f) fail)))


(run* (q) #s)
```

This results in an error of:

```
. . read-syntax: expected `(`, `[`, or `{` after `#s`
```

how do I fix this?</text>
  </message>
  <message conversation_id="650">
    <ts>2019-05-28T21:42:50.227700</ts>
    <user>Eileen</user>
    <text>You need to make a language that defines your extended readtable and then use that lang</text>
  </message>
  <message conversation_id="651">
    <ts>2019-05-28T21:45:22.228100</ts>
    <user>Eileen</user>
    <text>There is an example at &lt;https://docs.racket-lang.org/guide/hash-lang_reader.html&gt; you want it to provide a parameterized `read` and `read-syntax`</text>
  </message>
  <message conversation_id="651">
    <ts>2019-05-28T21:52:17.229400</ts>
    <user>Elin</user>
    <text>Parameters like `current-readtable` set at run time only affect the run-time evaluation of the code, so they don’t affect compile-time things like reading/parsing the program</text>
  </message>
  <message conversation_id="651">
    <ts>2019-05-28T21:52:57.230200</ts>
    <user>Elin</user>
    <text>However, if you set up a `#lang` and set the `current-readtable` at “read time” in the lang’s reader module, then it can do that</text>
  </message>
  <message conversation_id="651">
    <ts>2019-05-28T21:54:35.230600</ts>
    <user>Derick</user>
    <text>I'm temporarily using ss for #s and ff for #f.</text>
  </message>
  <message conversation_id="651">
    <ts>2019-05-28T21:55:25.231500</ts>
    <user>Derick</user>
    <text>&lt;https://docs.racket-lang.org/syntax-parse-example/index.html&gt; &amp;lt;-- Does this explain anywhere how repetition, "*" and "..." works? I'm seeing lots of examples but I can't find an explaination of how these three forms work.</text>
  </message>
  <message conversation_id="651">
    <ts>2019-05-28T21:57:39.232000</ts>
    <user>Derick</user>
    <text>So I now have a file called 'reader.rkt' which contains:

```
#lang racket

(require (for-syntax racket/base syntax/parse))

(define ff
  (== #t #f))

(define ss
  (== #t #t))

(current-readtable
 (make-readtable (current-readtable)
                 #\s
                 'dispatch-macro
                 (lambda (a b c d e f) ss)))

(current-readtable
 (make-readtable (current-readtable)
                 #\u
                 'dispatch-macro
                 (lambda (a b c d e f) ff)))
```</text>
  </message>
  <message conversation_id="652">
    <ts>2019-05-28T23:48:24.232400</ts>
    <user>Derick</user>
    <text>In this code, why can't I export my macros and how can I fix it:

```
#lang racket

(provide (for-syntax conj disj)
         ff ss
         )

(require (for-syntax racket/base syntax/parse))

(require Racket-miniKanren/miniKanren/mk)


(define ff
  (== #t #f))

(define ss
  (== #t #t))

(define-syntax (disj stx)
  (syntax-parse stx
    [(_) #'ff]
    [(_ clause) #'clause]
    [(_ clause ...) #'(conde (clause) ...)]
    ))

(define-syntax (conj stx)
  (syntax-parse stx
    [(_) #'ss]
    [(_ clause) #'clause]
    [(_ clause ...) #'(conde (clause ...))]))
```</text>
  </message>
  <message conversation_id="651">
    <ts>2019-05-29T02:41:08.234200</ts>
    <user>Franklin</user>
    <text>&lt;@Derick&gt; Try using `(provide conj disj)` instead of `(provide (for-syntax conj disj))`
See: &lt;https://docs.racket-lang.org/reference/syntax-model.html?q=define%2Dsyntax#%28part._transformer-model%29&gt;
"In a top-level context or module context, when the expander encounters a define-syntaxes form, the binding that it introduces for the defined identifiers is a transformer binding. The value of the binding exists at expansion time, rather than run time (though the two times can overlap), though *the binding itself is introduced with phase level 0 (i.e., in the base environment)*."</text>
  </message>
  <message conversation_id="653">
    <ts>2019-05-29T05:42:26.235000</ts>
    <user>Shavon</user>
    <text>&lt;@Marcelina&gt; thanks for looking at the openhub stuff. I am waiting for it to update. Hasn't happened yet.</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T06:47:55.238500</ts>
    <user>Kami</user>
    <text>Hello Racketeers! I'm trying to implement a CSRF check on my web-server. How would one go about coding that using the Racket web-server lib? (I know continuations are really similar, but I'm not using continuations, I disabled them on my server)
I was thinking about using a global shared list of valid csrf tokens, but as the web-server responses are multi-threaded, I fear I would get some locks and conflicts.
Did anyone tried this before? How do you do this on your own servers?</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T07:44:49.242600</ts>
    <user>Julia</user>
    <text>&lt;@Kami&gt; My usual step 0 for things like this would be a mutable hash-table from `make-hash`. Safe for multi threads to insert and remove.
In some cases I might use the file system as a local key/value store.
Either way, usually also need some little worker thread to remove expired items from the cache.</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T07:45:50.243700</ts>
    <user>Julia</user>
    <text>Step 1 could be idk use memcached or redis or postgres instead.
But the actual real-world utilization might mean really, there's no need fuss with anything like that. Depends.</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T07:46:43.244200</ts>
    <user>Julia</user>
    <text>Things like confirm-your-email-address tokens, I put in postgres.</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T07:56:29.247000</ts>
    <user>Kami</user>
    <text>&lt;@Julia&gt; Thanks for the tips! Yeah I considered using a database or the filesystem, but it feels overengineered for such a simple and ephemeral thing like a token. I guess there's not a lot of choices anyway.</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:04:35.248000</ts>
    <user>Julia</user>
    <text>I guess the TL;DR is, from &lt;https://docs.racket-lang.org/reference/hashtables.html&gt;
&amp;gt; Caveats concerning concurrent modification: A mutable hash table can be manipulated with hash-ref, hash-set!, and hash-remove! concurrently by multiple threads, and the operations are protected by a table-specific semaphore as needed. Three caveats apply, however:
&amp;gt;
&amp;gt;    - If a thread is terminated while applying hash-ref, hash-set!, hash-remove!, hash-ref!, or hash-update! to a hash table that uses equal? or eqv? key comparisons, all current and future operations on the hash table may block indefinitely.
&amp;gt;
&amp;gt;    - The hash-map, hash-for-each, and hash-clear! procedures do not use the table’s semaphore to guard the traversal as a whole. Changes by one thread to a hash table can affect the keys and values seen by another thread part-way through its traversal of the same hash table.
&amp;gt;
&amp;gt;    - The hash-update! and hash-ref! functions use a table’s semaphore independently for the hash-ref and hash-set! parts of their functionality, which means that the update as a whole is not “atomic.”</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:06:42.249700</ts>
    <user>Julia</user>
    <text>So the good news is, you can mutate it safely from different threads.
Of the bad news, I think mainly you just need to be aware of the second point, for any thread that culls expired items. On any given cull, it might not see all the items, or see some more than once.</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:07:06.250000</ts>
    <user>Kami</user>
    <text>Maybe I could use a queue instead</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:07:16.250200</ts>
    <user>Kami</user>
    <text>and have one dedicated thread to process it</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:08:30.251500</ts>
    <user>Julia</user>
    <text>My first reaction is that a queque (if you mean FIFO or LIFO) won't necessarily match the HTTP requests for CSRF.</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:09:05.252000</ts>
    <user>Kami</user>
    <text>yeah, never mind, I was thinking about something else that required a queue in the same time, and got mixed up in my thoughts</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:10:08.253200</ts>
    <user>Julia</user>
    <text>One thing I've done is, store the expiration time in the hash-table, and, some thread runs every (say) 10 or 60 seconds to cull expired items.
If it misses some on one run, it will catch them later.
Often that's good-enough.</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:10:30.253700</ts>
    <user>Kami</user>
    <text>yep, I think I'm gonna go with that</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:10:37.253900</ts>
    <user>Julia</user>
    <text>(When the expiration time isn't strict, it's more just about "cleaning up eventually".)</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:11:21.254600</ts>
    <user>Julia</user>
    <text>Maybe someone will chime in with a better idea.
I just happen to be awake semi-early US ET today. ¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:11:47.255000</ts>
    <user>Kami</user>
    <text>yeah, I was like "wait, was greg european again?"</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:12:19.255300</ts>
    <user>Julia</user>
    <text>I'm not in the UK if that's what you mean :smile:</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:13:04.255900</ts>
    <user>Kami</user>
    <text>ahah</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:13:10.256100</ts>
    <user>Julia</user>
    <text>Sorry, sorry. Should avoid geopolitical humor attempts.</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:13:27.256300</ts>
    <user>Kami</user>
    <text>I didn't immediately got it x)</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:17:27.259000</ts>
    <user>Kami</user>
    <text>Well some times ago at Fosdem, I stumbled upon three people speaking British English, talking about UK and awaiting the official results, and I told them "I hope for the best, maybe you will be able to stay with us a bit longer".
And one of them said "Oh you know, I don't care, for I'm actually Swedish".</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:18:15.259700</ts>
    <user>Kami</user>
    <text>He had a really convincing british accent, and a perfectly cut mustache. I was fooled x)</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:18:51.260000</ts>
    <user>Kami</user>
    <text>(the other two were British though)</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:25:22.261200</ts>
    <user>Kami</user>
    <text>They were joking about the possibility that they may not be able to fly back home, with their european identity cards expiring following the decision</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:31:13.262200</ts>
    <user>Kami</user>
    <text>I think they had a plan B using their driver license or something, which is supposedly a valid ID card in UK. Not sure about that, though.</text>
  </message>
  <message conversation_id="654">
    <ts>2019-05-29T08:31:53.262400</ts>
    <user>Kami</user>
    <text>Anyways, I should get back to work</text>
  </message>
  <message conversation_id="655">
    <ts>2019-05-29T08:47:03.263300</ts>
    <user>Derick</user>
    <text>is syntax parse "just"

unification + rewrite
a way to handle "..." repetition patterns
a way to handle "syntax classes" via "var_name : type"

?

Are there any other main ideas to syntax-parse ?</text>
  </message>
  <message conversation_id="655">
    <ts>2019-05-29T08:54:59.263900</ts>
    <user>Julia</user>
    <text>I don't know if "remove various syntax-case foot-guns" qualifies as a main idea but I think that's a main benefit, for me.</text>
  </message>
  <message conversation_id="655">
    <ts>2019-05-29T08:57:57.265400</ts>
    <user>Julia</user>
    <text>Also I think a lot of the motivation is help you write macros with better error messages.
So syntax classes are a DRY convenience, yes, but as importantly they help syntax-parse automatically tell the user what was expected in an error message.</text>
  </message>
  <message conversation_id="655">
    <ts>2019-05-29T08:58:18.265700</ts>
    <user>Julia</user>
    <text>It's kind of two sides of the same coin.</text>
  </message>
  <message conversation_id="655">
    <ts>2019-05-29T09:00:06.266900</ts>
    <user>Kami</user>
    <text>I don't know if `syntax-case` has the `~@` and `~?` helpers? I find them really useful in syntax-parse</text>
  </message>
  <message conversation_id="656">
    <ts>2019-05-29T10:24:45.267100</ts>
    <user>Tomas</user>
    <text>would it be possible to put the hash in a box and use box-cas! &lt;https://docs.racket-lang.org/reference/boxes.html#%28def._%28%28quote._~23~25kernel%29._box-cas%21%29%29&gt;</text>
  </message>
  <message conversation_id="656">
    <ts>2019-05-29T10:29:04.267300</ts>
    <user>Tomas</user>
    <text>Technomancy wrote a nice `swap!` function that uses box-cas! to create a Clojure style atom in &lt;https://technomancy.us/175&gt;</text>
  </message>
  <message conversation_id="656">
    <ts>2019-05-29T10:29:22.267500</ts>
    <user>Tomas</user>
    <text>might help with your multi-threading situation?</text>
  </message>
  <message conversation_id="657">
    <ts>2019-05-29T11:23:35.275300</ts>
    <user>Elin</user>
    <text>The `~@` and `~?` forms are tied to the `syntax` form, or `#'`, not to the pattern-matching form, so you should be able to use them with either `syntax-parse` or `syntax-case`</text>
  </message>
  <message conversation_id="657">
    <ts>2019-05-29T11:24:19.276900</ts>
    <user>Kami</user>
    <text>Ok! I had doubts because their documentation is in the syntax-parse section</text>
  </message>
  <message conversation_id="657">
    <ts>2019-05-29T11:26:37.280400</ts>
    <user>Maire</user>
    <text>Is there a standard practice to put all the shared libraries used in packages which call ffi's on one place in the installed Racket directory tree?  I'm using Windows 10.  Thanks.</text>
  </message>
  <message conversation_id="657">
    <ts>2019-05-29T11:27:02.280800</ts>
    <user>Maire</user>
    <text>...in one place...</text>
  </message>
  <message conversation_id="657">
    <ts>2019-05-29T11:40:01.283300</ts>
    <user>Jeanine</user>
    <text>&lt;@Maire&gt; yes, see the `copy-foreign-libs` setup option in the docs. For an example, see the source for &lt;https://pkgs.racket-lang.org/package/ffmpeg-i386-win32;&gt; go to "Code" and then "info.rkt". When the package is installed, `raco` copies the listed files to the Racket lib dir, which is searched by `ffi-lib` if you use a relative path.</text>
  </message>
  <message conversation_id="658">
    <ts>2019-05-29T11:57:38.289000</ts>
    <user>Clarinda</user>
    <text>For those who are not on the racket-users mailing lists: Does anyone use single-flonums? (See &lt;https://groups.google.com/d/msg/racket-users/Di-fTifWyWg/J_GQ2_3hBwAJ&gt; for more.)</text>
  </message>
  <message conversation_id="658">
    <ts>2019-05-29T12:08:21.291700</ts>
    <user>Maire</user>
    <text>Great. Problem I'm having is that I did "raco install zeromq" and need to figure out where the libzmq.dll should go (which isn't part of the package install, had to get the full from the &lt;http://zeromq.org|zeromq.org&gt; site).  Setting up PATH to point to where the dll got installed works but was wanting to move it into the Racket tree.</text>
  </message>
  <message conversation_id="657">
    <ts>2019-05-29T12:08:59.292300</ts>
    <user>Maire</user>
    <text>...get the full binary release from...</text>
  </message>
  <message conversation_id="657">
    <ts>2019-05-29T12:32:51.295000</ts>
    <user>Jeanine</user>
    <text>&lt;@Maire&gt; In that case, you can manually copy the libraries to one of the paths reported by `(begin (require setup/dirs) (get-lib-search-dirs))`. BTW, I recommend the zeromq-r package instead (I wrote it).</text>
  </message>
  <message conversation_id="659">
    <ts>2019-05-29T12:58:08.295400</ts>
    <user>Jule</user>
    <text>I have a fairly hard time understanding the docs for `match`; is there a good place to see many examples of it?</text>
  </message>
  <message conversation_id="659">
    <ts>2019-05-29T13:02:05.296100</ts>
    <user>Elin</user>
    <text>Did you look at the Guide section on `match`, as opposed to the Reference section?
&lt;https://docs.racket-lang.org/guide/match.html&gt;</text>
  </message>
  <message conversation_id="659">
    <ts>2019-05-29T13:06:27.296900</ts>
    <user>Jule</user>
    <text>yes; so the basics are pretty clear. I am trying to use match to process an xexpr, so it can be nested etc fairly complicatedly</text>
  </message>
  <message conversation_id="659">
    <ts>2019-05-29T13:06:57.297500</ts>
    <user>Jule</user>
    <text>the quasiquote syntax seems much nicer, but its even more unlear to me whats possible</text>
  </message>
  <message conversation_id="659">
    <ts>2019-05-29T13:07:57.298400</ts>
    <user>Mai</user>
    <text>Specifically for xexpr, you might want to use &lt;https://docs.racket-lang.org/txexpr/#%28def._%28%28lib._txexpr%2Fmain..rkt%29._txexpr%29%29&gt; instead</text>
  </message>
  <message conversation_id="659">
    <ts>2019-05-29T13:08:05.298800</ts>
    <user>Jule</user>
    <text>For example, I wrote this to extract the id attribute of an xexpr:</text>
  </message>
  <message conversation_id="659">
    <ts>2019-05-29T13:08:10.299100</ts>
    <user>Jule</user>
    <text>```
(define (extract-id x)
  (match x
      [`(,(? symbol? tag)
         ,(? list? args)
         ,body ...)

       (define result (assoc 'id args))
       (list (second result))
       ]
      )
  )
```</text>
  </message>
  <message conversation_id="659">
    <ts>2019-05-29T13:08:14.299200</ts>
    <user>Mai</user>
    <text>(See the `match` example below)</text>
  </message>
  <message conversation_id="659">
    <ts>2019-05-29T13:09:30.300100</ts>
    <user>Jule</user>
    <text>oh ty</text>
  </message>
  <message conversation_id="659">
    <ts>2019-05-29T13:09:39.300400</ts>
    <user>Elin</user>
    <text>The `txexpr` package has both a `txexpr` pattern and a `attr-ref` function</text>
  </message>
  <message conversation_id="659">
    <ts>2019-05-29T13:10:00.300800</ts>
    <user>Elin</user>
    <text>So `(define (extract-id x) (attr-ref x 'id))` I guess</text>
  </message>
  <message conversation_id="659">
    <ts>2019-05-29T13:11:33.301700</ts>
    <user>Jule</user>
    <text>i wonder why there is a specialization of xexprs to txexprs</text>
  </message>
  <message conversation_id="659">
    <ts>2019-05-29T13:11:59.302400</ts>
    <user>Jule</user>
    <text>but thats a little neither here nor there</text>
  </message>
  <message conversation_id="659">
    <ts>2019-05-29T13:12:16.303000</ts>
    <user>Elin</user>
    <text>Because “xexpr” contains atom elements such as plain strings, and you can’t get the tag or attributes of those</text>
  </message>
  <message conversation_id="659">
    <ts>2019-05-29T13:12:17.303100</ts>
    <user>Jule</user>
    <text>ty, y’all gave me some stuff to think about/look at</text>
  </message>
  <message conversation_id="660">
    <ts>2019-05-29T15:25:46.305200</ts>
    <user>Jamila</user>
    <text>Low-level scribblers: is there a way for me to define `(register-file-for-copy "src/path/to/file.foobar" "dest/subdir")`, such that `file.foobar` gets automatically copied into `builddir/dest/subdir` as part of running scribble?  I _think_ I want `(send my-render install-file ...)`, but I can't figure out the argument values</text>
  </message>
  <message conversation_id="659">
    <ts>2019-05-29T15:55:01.306200</ts>
    <user>Karen</user>
    <text>I really wish there was an alternative to xexpr / txexpr that just used keyword arguments for the attributes</text>
  </message>
  <message conversation_id="659">
    <ts>2019-05-29T16:08:45.306500</ts>
    <user>Kristeen</user>
    <text>&lt;@Karen&gt; there's a relevant xkcd here</text>
  </message>
  <message conversation_id="659">
    <ts>2019-05-29T16:09:01.306700</ts>
    <user>Kristeen</user>
    <text>there's scribble/html</text>
  </message>
  <message conversation_id="661">
    <ts>2019-05-29T16:22:24.308500</ts>
    <user>Amira</user>
    <text>&lt;@Alden&gt; can you help me find this paper by Ken about cycles &amp;amp; `equal?`? I assume this is Ken Shan, but I haven't found anything yet</text>
  </message>
  <message conversation_id="659">
    <ts>2019-05-29T16:26:00.308800</ts>
    <user>Alden</user>
    <text>&lt;https://cs.indiana.edu/~dyb/pubs/equal.pdf&gt;</text>
  </message>
  <message conversation_id="661">
    <ts>2019-05-29T16:28:56.309100</ts>
    <user>Amira</user>
    <text>ohhh Kent. Thanks!</text>
  </message>
  <message conversation_id="661">
    <ts>2019-05-29T16:35:22.309400</ts>
    <user>Alden</user>
    <text>sorry, I must have said something wrong</text>
  </message>
  <message conversation_id="662">
    <ts>2019-05-29T16:38:12.310000</ts>
    <user>Priscila</user>
    <text>&lt;@Karen&gt; Have you tried scribble/html (or urlang/html for a few extras)?</text>
  </message>
  <message conversation_id="662">
    <ts>2019-05-29T16:39:38.310300</ts>
    <user>Priscila</user>
    <text>Example: &lt;https://github.com/soegaard/urlang/blob/master/urlang-examples/parabola/parabola.rkt&gt;</text>
  </message>
  <message conversation_id="661">
    <ts>2019-05-29T16:40:49.310500</ts>
    <user>Clarinda</user>
    <text>I think you want the the `link-resource` or `install-resource` property. (I had trouble remembering/finding that myself.)</text>
  </message>
  <message conversation_id="662">
    <ts>2019-05-29T16:45:31.314300</ts>
    <user>Karen</user>
    <text>&lt;@Kristeen&gt; &lt;@Priscila&gt; The treatment of attribute names as colon-suffixed strings is hard to read</text>
  </message>
  <message conversation_id="662">
    <ts>2019-05-29T16:47:00.314600</ts>
    <user>Priscila</user>
    <text>foo:  turns into 'foo</text>
  </message>
  <message conversation_id="662">
    <ts>2019-05-29T16:47:07.314900</ts>
    <user>Priscila</user>
    <text>So one can write  'foo instead.</text>
  </message>
  <message conversation_id="662">
    <ts>2019-05-29T16:53:09.317400</ts>
    <user>Julia</user>
    <text>&lt;@Karen&gt; re using "keyword args", is the motivation to avoid attributes as a list of lists with a bunch of extras parens?
instead of `(p ([class "class"][id "id]) "some" nbsp "content")`
you could have `(p #:class "class" #:id "id" "some" nbsp "content")`?</text>
  </message>
  <message conversation_id="662">
    <ts>2019-05-29T16:53:47.318200</ts>
    <user>Jamila</user>
    <text>Thanks.  But those resources just turn around and call `(for ([r (in-list resources)]) (install-file r))` (in html-render.rkt), so those don't let me specify the destination directory...</text>
  </message>
  <message conversation_id="662">
    <ts>2019-05-29T16:53:58.318500</ts>
    <user>Julia</user>
    <text>were you even thinking of full-on kw arg pos flexibility like
`(p #:class "class" "some" nbsp "content" #:id "id)` :smile: ?</text>
  </message>
  <message conversation_id="662">
    <ts>2019-05-29T16:54:50.319300</ts>
    <user>Karen</user>
    <text>Yes, the extra parens are confusing and I'd like that last form</text>
  </message>
  <message conversation_id="662">
    <ts>2019-05-29T16:55:14.319900</ts>
    <user>Karen</user>
    <text>That way xml node constructors can just be regular functions</text>
  </message>
  <message conversation_id="662">
    <ts>2019-05-29T16:55:48.320400</ts>
    <user>Jamila</user>
    <text>In my scenario, I already have a customized render% mixin, so I can add helper methods as needed.  I *think* I can co-opt install-file to do what I want by suitably messing with `helper-file-prefix` and/or `dest-dir`, but I'm reading base-render.rkt#install-file right now, and I can't figure out how it manages to stash files inside a directory, when both `dest-dir` and `helper-file-prefix` are both `#f` so far</text>
  </message>
  <message conversation_id="662">
    <ts>2019-05-29T16:57:06.322700</ts>
    <user>Karen</user>
    <text>Which would let me do stuff like use `fancy-app` with them: `(map (p #:class "class" _ nbsp) (list "foo" "bar" "baz"))`</text>
  </message>
  <message conversation_id="662">
    <ts>2019-05-29T16:59:33.326000</ts>
    <user>Priscila</user>
    <text>I believe the `scribble/html` version looks like:   `(map (p class: "class" _ nbsp)  (list "foo" "bar" "baz"))`</text>
  </message>
  <message conversation_id="662">
    <ts>2019-05-29T17:00:05.326100</ts>
    <user>Julia</user>
    <text>That reminds me, whenever I think about it too much, I get mildly irritated that XML has both child elements, and also this side dict bag o' attributes.
And in some XML I can't tell why people choose to use which. ¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="662">
    <ts>2019-05-29T17:01:04.327000</ts>
    <user>Eileen</user>
    <text>Legacy of SGML</text>
  </message>
  <message conversation_id="662">
    <ts>2019-05-29T17:01:19.327200</ts>
    <user>Julia</user>
    <text>I guess it's just surface syntax for, "It's a simple 'flat' dictionary, and one mapping is an implicit "kids" to list of more elements."</text>
  </message>
  <message conversation_id="662">
    <ts>2019-05-29T17:01:33.327700</ts>
    <user>Julia</user>
    <text>And then I get bored thinking about it and do something else instead.</text>
  </message>
  <message conversation_id="662">
    <ts>2019-05-29T17:12:26.328400</ts>
    <user>Hallie</user>
    <text>LAML was attempting something similar (with symbols instead of keywords): &lt;http://people.cs.aau.dk/~normark/laml-distributions/laml/index.html&gt;</text>
  </message>
  <message conversation_id="663">
    <ts>2019-05-29T17:12:52.328500</ts>
    <user>Hallie</user>
    <text>None</text>
  </message>
  <message conversation_id="663">
    <ts>2019-05-29T17:15:23.328800</ts>
    <user>Herb</user>
    <text>This doesn't seem to work correctly when I provide draw-arrow, and use it in a teaching language.</text>
  </message>
  <message conversation_id="664">
    <ts>2019-05-29T17:33:24.329400</ts>
    <user>Jamila</user>
    <text>ahhhh, found it -- it's a `parameter` that sets the `current-subdirectory` parameter during the render pass.  So...now I'm stuck again.  It seems that for me to produce a hyperlink to this installed file, I need to call `install-file` during the render pass, which is the only time that the parameter is set.  So I think I need to use a `render-element` for this, but according to the `base-render` file, it'll call the render-element-render method only for its side effects, not its content -- and I won't know the correct content until the render phase!  So how do I use a render-element properly?</text>
  </message>
  <message conversation_id="663">
    <ts>2019-05-29T17:33:38.329600</ts>
    <user>Jamila</user>
    <text>there's no documentation/examples of it, unfortunately</text>
  </message>
  <message conversation_id="664">
    <ts>2019-05-29T17:35:51.329800</ts>
    <user>Clarinda</user>
    <text>Maybe `delayed-element`, whose callback is also run at render time, but the callback returns replacement content?</text>
  </message>
  <message conversation_id="664">
    <ts>2019-05-29T17:38:05.330000</ts>
    <user>Jamila</user>
    <text>per the docs, `delayed-element` is run at resolve time</text>
  </message>
  <message conversation_id="664">
    <ts>2019-05-29T17:52:37.330200</ts>
    <user>Jamila</user>
    <text>darn!  I tried sticking a `delayed-element` in as the content of a `render-element`, but that was foiled :disappointed:  the delayed-element function gets run before the render-element one does</text>
  </message>
  <message conversation_id="664">
    <ts>2019-05-29T18:11:13.330400</ts>
    <user>Clarinda</user>
    <text>Well, clearly I’m getting lost too easily to be much help, either :slightly_smiling_face:</text>
  </message>
  <message conversation_id="664">
    <ts>2019-05-29T18:13:18.330600</ts>
    <user>Jamila</user>
    <text>so far, I'm stuck trying to copy/paste/modify the bits of render-multi-mixin that affect these parameters</text>
  </message>
  <message conversation_id="665">
    <ts>2019-05-29T18:21:31.331700</ts>
    <user>Elin</user>
    <text>If I have the program above saved in `"controlling-drracket-arrows-2.rkt"`, then the program below has an arrow pointing to the `&amp;lt;&amp;lt;OVER HERE!&amp;gt;&amp;gt;` place in the comments
```
#lang htdp/isl+

(require "controlling-drracket-arrows-2.rkt")

(draw-arrow)

; 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890
; 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890
; 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890
; 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890
; 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890
; 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890
; 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890
; 1234567890 1234567890 1234567890 1234567890 1234567 &amp;lt;&amp;lt;OVER HERE!&amp;gt;&amp;gt;
; 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890
```
Do you mean something else about what’s not working?</text>
  </message>
  <message conversation_id="665">
    <ts>2019-05-29T18:25:10.333600</ts>
    <user>Maire</user>
    <text>&lt;@Jeanine&gt; Does your zeromq lib work with 3.2 or 4.0?</text>
  </message>
  <message conversation_id="666">
    <ts>2019-05-29T18:47:35.333700</ts>
    <user>Sunni</user>
    <text>I agree it seems like I'm reinventing the wheel. I notice now that `parse` from a `#lang brag` returns a syntax object already, but I can't figure out how to use the syntax object to do something:
```
#lang br
(define-syntax record
  (syntax-rules ()
    [(record content) (list 'interpreted content)]))
@module/lang[parser]{
#lang brag
record: DATA ["," DATA]*
}
(require 'parser brag/support)
(parse (list (token 'DATA "a")))
```
Since I've defined the syntax `record` I would've expected the syntax resulting from `parse` to be interpreted somehow. What am I missing?</text>
  </message>
  <message conversation_id="667">
    <ts>2019-05-29T19:40:03.336300</ts>
    <user>Laverna</user>
    <text>i often wish for a more concise hash literal syntax, that could be used in this scenario along with many others.  along the lines of clojure’s `{:class "container" :id "map"}`. it’s funny how in comparison to `#hash((#:class . "container") (#:id . "map"))`, it’s a relatively minor difference but feels very different (to me, at least).</text>
  </message>
  <message conversation_id="668">
    <ts>2019-05-29T20:54:38.337000</ts>
    <user>Mai</user>
    <text>There’s &lt;https://docs.racket-lang.org/rackjure/index.html#%28part._dict-init%29&gt;, FWIW</text>
  </message>
  <message conversation_id="665">
    <ts>2019-05-29T21:05:58.343900</ts>
    <user>Elin</user>
    <text>In general, I like Clojure’s approach to “literals” for data structures a lot more than Racket’s. Closure has `[expression ...]` for vectors and `{expression expression ... ...}` for dictionaries.
While Racket has `#(datum ...)` for vectors and `#hash((datum . datum) ...)` for dictionaries, where the datums are _not_ expressions for some reason, they’re auto-quoted and I hate the fact that they’re auto-quoted.

Clojure allows them to be expressions and that makes it much nicer. Also no superfluous `.` in the middle</text>
  </message>
  <message conversation_id="665">
    <ts>2019-05-29T21:16:28.344500</ts>
    <user>Elin</user>
    <text>Does anyone know why “auto-quoting” ever became a thing?</text>
  </message>
  <message conversation_id="668">
    <ts>2019-05-29T21:42:53.345200</ts>
    <user>Mai</user>
    <text>Isn’t it from Scheme? E.g., `#(1 2 3)` creates a vector in Scheme.</text>
  </message>
  <message conversation_id="669">
    <ts>2019-05-29T21:50:36.347100</ts>
    <user>Julia</user>
    <text>There are situations where I write `(hash k v ... ...)` and I know it's not as efficient as `#hash((k . v) ...)` but I rationalize that it doesn't matter in many cases.
And/or if it turns out to matter, I can come back and change it later.
Does that make me a bad person?</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T00:05:45.026500</ts>
    <user>Katharine</user>
    <text>If something like `{'a 1 'b 2}` would be treated as a hash table at read time, that opens up some cans of worms... nothing that can't be ironed out, but a bunch of choices to make:

- What order do the expressions evaluate in? Should they go from left to right, like Racket guarantees in most places, or should they go in whatever the hash iteration order is?
- What happens if the keys aren't unique at read time? Does `{'a 1 'a 2}` cause a reader error or silently succeed somehow? How about `{(gensym) 1 (gensym) 2}`, where the keys are the same at read time but would become different at run time? How about quasiquotations like `(quasiquote {',(gensym) 1 ',(gensym) 2})`?
- Do there need to be different syntaxes for different kinds of hashes (different comparators, mutability, etc.)?

For people who want this kind of thing, what motivation do you have in mind? I tend to consider `(hash 'a 1 'b 2)` nicer to work with than `{'a 1 'b 2}` already, largely because its parens and explicit prefix operator are consistent with most of the rest of the language. And if did at some point discover I needed read-time representations of other data types, is there something special about hashes? Or would hashes fit in better among a whole extensible system of compound read-time data constructors like `(##hash ...)`, `(##hasheq ...)`, `(##make-hash ...)`, `(##vector ...)`, `(##vector-immutable ...)`?</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T00:30:17.031700</ts>
    <user>Elin</user>
    <text>There should be a distinction between “value” and “syntax that would evaluate to that value”. For example a list value `(list 1 2 3)` is different from the syntax that would evaluate to it which would be `(list 'list 1 2 3)` with some extra wrappers for syntax objects. In the same way it makes sense for the value `{'a 1 'b 2}` to be different from the syntax that would evaluate to it. The syntax returned by the reader or manipulated by the compiler should be something other than a hash table, so that it preserves order for evaluation.</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T00:41:34.033000</ts>
    <user>Elin</user>
    <text>Clojure gets around this by having its “straight-out-of-the-reader” representation of dictionaries remember the order, so it’s not a pure hash-table</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T00:42:22.033700</ts>
    <user>Katharine</user>
    <text>if `'{'a 1 'b 2}` would return something other than a hash table, how about having it return the same thing as `'(hash 'a 1 'b 2)`</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T00:42:23.033900</ts>
    <user>Katharine</user>
    <text>?</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T00:46:21.037100</ts>
    <user>Elin</user>
    <text>I don’t think `'{'a 1 'b 2}` should be the same as `(list 'hash ''a 1 ''b 2)`, I think it should be some kind of representation for dictionary expressions that preserved order. It could still implement the “dictionary” interface, but it wouldn’t be a run-of-the-mill hash-table, it would be a representation known to the compiler with an extra operation for determining the order.</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T00:47:16.037500</ts>
    <user>Katharine</user>
    <text>this would be an ordered hash that evaluates to an unordered hash?</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T00:47:23.037900</ts>
    <user>Elin</user>
    <text>yes</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T00:49:53.038800</ts>
    <user>Katharine</user>
    <text>for the sake of being explicit, what would you expect to happen with `{(gensym) 1 (gensym) 2}`?</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T00:51:07.040100</ts>
    <user>Katharine</user>
    <text>I mean I asked "this would be an ordered hash" just now, but another option you might intend would be for it to be more of an assoc list, since you were talking about dictionaries</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T00:52:45.041600</ts>
    <user>Elin</user>
    <text>It would get read as a “hash-expression” that implemented the dictionary interface and the “ordered dictionary” interface (isomorphic to an assoc list). It could get evaluated to a normal hash-table which doesn’t care about order</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T00:53:40.042700</ts>
    <user>Elin</user>
    <text>But to someone who only has access to the dictionary interface and doesn’t have the “ordered dictionary” interface, they wouldn’t be able to tell the difference</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T00:55:47.045000</ts>
    <user>Katharine</user>
    <text>what would be the return value of `{'a 1 'a 2}`, with a duplicate key at run time?</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T00:55:54.045300</ts>
    <user>Katharine</user>
    <text>(or would it be an error?)</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T00:57:14.046100</ts>
    <user>Elin</user>
    <text>The expression `'{(gensym) 1 (gensym) 2}` should definitely not be an error</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T01:04:30.050700</ts>
    <user>Elin</user>
    <text>An “ordered dictionary”, though maybe that’s a bad name, would allow duplicate “ordered-entries” so that `'{(gensym) 1 (gensym) 2}` could work, but the dictionary methods would behave the same as if the other duplicate instances didn’t exist, for example `dict-keys` would only include one `(list 'gensym)` key</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T01:07:02.051700</ts>
    <user>Katharine</user>
    <text>you saw that I was asking about the expression `{'a 1 'a 2}` this time, right?</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T01:13:36.058800</ts>
    <user>Elin</user>
    <text>The expression `'{'a 1 'a 2}` should also be a valid “ordered dictionary” for the same reason. The runtime could redefine `quote` as a function that called `gensym`, and then it would evaluate to a proper non-duplicate-entry dictionary then</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T01:43:12.059200</ts>
    <user>Katharine</user>
    <text>&lt;@Elin&gt; What would `{'a 1 'a 2}` do without the quote around it, or is that just something you don't have an expectation about?

(I hope I'm not trying your patience by asking the same thing again. I'm just interested in case I hear the same kinds of answers from multiple people. I think of this as a gnarly system of questions, which is why I've been avoiding it altogether by preferring `(hash ...)`. If it turns out enough people have compatible expectations around this, maybe I'm making a big deal out of nothing.)</text>
  </message>
  <message conversation_id="671">
    <ts>2019-05-30T01:51:43.063300</ts>
    <user>Katharine</user>
    <text>The last time this came up for me was [on Arc Forum](&lt;http://arclanguage.org/item?id=20985&gt;), where I think a couple of people had expectations based on Clojure. I think at least one of them found it surprising that Arc tables (based on Racket hashes) didn't traverse in insertion order already. I think having insertion-order traversal in the first place gives an obvious resolution to at least the problem of evaluation order, if nothing else.</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T02:01:05.064500</ts>
    <user>Laverna</user>
    <text>“Clojure gets around this by having its “straight-out-of-the-reader” representation of dictionaries remember the order, so it’s not a pure hash-table” — &lt;@Elin&gt; are you referring to clojure’s `{...}` syntax sometimes returning an array-map?  (though it can also sometimes return a hash-map)</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T02:16:38.065000</ts>
    <user>Katharine</user>
    <text>oh, I didn't know that about Clojure</text>
  </message>
  <message conversation_id="670">
    <ts>2019-05-30T10:32:39.065100</ts>
    <user>Elin</user>
    <text>Reader behavior vs run-time behavior.

For reader behavior it would be valid, represented with an “ordered dictionary” at read-time and compile-time.

For run-time behavior, it would be an error, since `'a` and `'a` evaluate to the same value at run-time.</text>
  </message>
  <message conversation_id="672">
    <ts>2019-05-30T11:23:00.067900</ts>
    <user>Jeanine</user>
    <text>&lt;@Maire&gt; yes, the tests run for me on Linux with zeromq versions 4.0.8 and 3.2.5.</text>
  </message>
  <message conversation_id="672">
    <ts>2019-05-30T11:40:40.081200</ts>
    <user>Maire</user>
    <text>Is there any reference application project written in Racket, compiled to self-contained executable where someone used either Racket or any other "#lang defined language to be used as a scripting language within the app?  What I was thinking of doing was to create an extensive real-time stock/futures  charting program in Racket where I could have scripting with a variety of  "#lang"'s available to the end-user.   Thanks for the pointer.</text>
  </message>
  <message conversation_id="673">
    <ts>2019-05-30T11:53:11.081300</ts>
    <user>Clarinda</user>
    <text>You’ll want to supply the `++lang` flag to `raco exe`.
That’s an indirect answer, but the flag exists because others have done what you describe (and without `++lang` it’s tricky to convert `raco exe` to preserve the right modules).</text>
  </message>
  <message conversation_id="674">
    <ts>2019-05-30T14:37:34.082300</ts>
    <user>Boris</user>
    <text>Can you tell all your friends about RacketCon? Post on the tweets and Facebooks? &lt;http://con.racket-lang.org&gt; :poop::poop::poop::poop::poop::poop::poop::poop::poop::poop::poop::spaghetti:</text>
  </message>
  <message conversation_id="675">
    <ts>2019-05-30T15:44:27.082900</ts>
    <user>Grayce</user>
    <text>&amp;gt; Hackathon (multiple tracks)
is this known in advance or is it a whatever happens style thing</text>
  </message>
  <message conversation_id="675">
    <ts>2019-05-30T15:47:31.083200</ts>
    <user>Kristeen</user>
    <text>&lt;@Grayce&gt; the tracks are listed there</text>
  </message>
  <message conversation_id="675">
    <ts>2019-05-30T15:48:04.083500</ts>
    <user>Grayce</user>
    <text>oh i thought those were concurrent events rather than the tracks. thanks</text>
  </message>
  <message conversation_id="674">
    <ts>2019-05-30T17:18:24.083800</ts>
    <user>Jamila</user>
    <text>Managed to figure it out:</text>
  </message>
  <message conversation_id="674">
    <ts>2019-05-30T17:18:27.084000</ts>
    <user>Jamila</user>
    <text>```
(define current-subdirectory (make-parameter #f))
(define (install-files-mixin %)
  (class %
    (inherit-field dest-dir)
    (inherit-field helper-file-prefix)
    (inherit/super path-&amp;gt;root-relative
                   root-relative-&amp;gt;path
                   resolve-part
                   derive-filename
                   install-file)
    ;; COPIED FROM render-multi-mixin, because I can't access
    ;; the current-directory parameter from there
    (define/override (get-dest-directory [create? #f])
      (or (and (current-subdirectory)
               (let ([d (build-path (or (super get-dest-directory)
                                        (current-directory))
                                    (current-subdirectory))])
                 (when (and create? (not (directory-exists? d)))
                   (make-directory* d))
                 d))
          (super get-dest-directory create?)))

    (define/override (start-resolve ds fns ri)
      (for ([d (in-list ds)]
            [fn (in-list fns)])
        ;; NOTE: Because multi-mixin sets suffix to "", fn is already a bare name
        (parameterize ([current-subdirectory fn])
          (resolve-part d ri))))

    (define/public (install-file-to src-file dest-prefix)
      (define cur-dest-dir (get-dest-directory #t))
      (define cur-helper-file-prefix (get-field helper-file-prefix this))
      (set-field! helper-file-prefix this dest-prefix)
      (define wanted-path (build-path (get-dest-directory #t) dest-prefix))
      (when (not (directory-exists? wanted-path))
        (make-directory* wanted-path))
      (define result (install-file (path-&amp;gt;string src-file) #:private-name? #t))
      (set-field! helper-file-prefix this cur-helper-file-prefix)
      (path-&amp;gt;string (build-path dest-prefix result))
      )
    (super-new)
    ))
```</text>
  </message>
  <message conversation_id="676">
    <ts>2019-05-30T18:54:17.084400</ts>
    <user>Herb</user>
    <text>I don't think that this works if you use ISL+Lambda by selecting it from the DrRacket "chose language" menu - I believe there macro somehow doesn't make it into the teaching language. I'm getting the error `draw-arrow: this function is not defined`.</text>
  </message>
  <message conversation_id="674">
    <ts>2019-05-30T19:19:40.084600</ts>
    <user>Elin</user>
    <text>Hm, I just tried that now, and it works for me with setting the language in DrRacket (not “determine from source”) with this file:
```
(require "controlling-drracket-arrows-2.rkt")

(draw-arrow)

; 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890
; 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890
; 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890
; 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890
; 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890
; 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890
; 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890
; 1234567890 1234567890 1234567890 1234567890 1234567890 1234567890
;  &amp;lt;&amp;lt;OVER HERE!&amp;gt;&amp;gt;
```
Although with selecting the language in DrRacket instead of the `#lang` line, I have to click the “Check Syntax” button for it to show the arrows</text>
  </message>
  <message conversation_id="677">
    <ts>2019-05-30T21:29:45.086100</ts>
    <user>Karen</user>
    <text>I made a module that provides string functions that only accept and return immutable strings &lt;https://docs.racket-lang.org/rebellion/Immutable_Strings.html&gt;</text>
  </message>
  <message conversation_id="678">
    <ts>2019-05-30T23:41:12.086600</ts>
    <user>Mai</user>
    <text>How do I know what kind of values can be used across namespaces?</text>
  </message>
  <message conversation_id="678">
    <ts>2019-05-31T00:38:13.089000</ts>
    <user>Karen</user>
    <text>&lt;@Mai&gt; magic, usually. I recommend avoiding relying on phase crossings. What's your use case?</text>
  </message>
  <message conversation_id="678">
    <ts>2019-05-31T00:50:00.094100</ts>
    <user>Mai</user>
    <text>I’m running a Racket program several times with different mutations (via `current-compile`). I got this to work, but was measuring how good a mutation is solely by running time of the mutated program. Now, I want more information, so I need to communicate between the parent namespace and the child namespace as well.</text>
  </message>
  <message conversation_id="678">
    <ts>2019-05-31T00:53:11.094300</ts>
    <user>Karen</user>
    <text>As soon as multiple program instantiations are involved you can't share values between them without sacrificing generativity somewhere, so I recommend doing that communication by explicitly serializing and deserializing values at namespace boundaries.</text>
  </message>
  <message conversation_id="678">
    <ts>2019-05-31T00:55:27.094500</ts>
    <user>Karen</user>
    <text>Alternatively you might be able to get away with using `namespace-attach-module` somewhere</text>
  </message>
  <message conversation_id="678">
    <ts>2019-05-31T00:58:35.094700</ts>
    <user>Elin</user>
    <text>Hm. Your macro for doing that looks nice. I think it looks nicer than my macro for doing that, I like how you use the `positional-argument` and `string-function-header` syntax classes to pack the create-a-function-with-this-parameter and call-a-function-with-this-argument ideas together

Your macro: &lt;https://github.com/jackfirth/rebellion/blob/fb2f73d9dc31a4668f4bbead475450dd9d55f407/private/immutable-string.rkt#L94-L121&gt;
My macro: &lt;https://github.com/AlexKnauth/racket-immutable/blob/master/racket-immutable/immutable.rkt#L106-L142&gt;

Syntax-parse and syntax-classes are awesome.
I think the reason I tried to avoid them was that when I wrote my macro I was trying to get it into a state where it could be merged into racket. But for an external library using syntax-classes to do that makes the code so much cleaner.</text>
  </message>
  <message conversation_id="678">
    <ts>2019-05-31T01:00:37.095100</ts>
    <user>Karen</user>
    <text>Oh, thank you!</text>
  </message>
  <message conversation_id="678">
    <ts>2019-05-31T01:01:48.095300</ts>
    <user>Karen</user>
    <text>I actually ended up duplicating that macro in the `immutable-bytes` and `immutable-vector` modules I made too</text>
  </message>
  <message conversation_id="678">
    <ts>2019-05-31T01:08:09.095500</ts>
    <user>Elin</user>
    <text>If you want to add keyword arguments, you can change the `argument` syntax class so that instead of the `id` attribute, it has an `argument-use` attribute which determines how it looks in a function-call. For positional arguments it will be `id`, but for keyword arguments it needs to have `#:kw id`. Because of this I would make it an ellipsis-depth 1 attribute, like `#:with [argument-use ...] #'[id]` for positional arguments and `#:with [argument-use ...] #'[kw id]` for keyword arguments.</text>
  </message>
  <message conversation_id="678">
    <ts>2019-05-31T01:09:16.095800</ts>
    <user>Elin</user>
    <text>Then in the `function-header` syntax class in place of `#:with function-call-expression #'(id arg.id ...)`, you would have `#:with function-call-expression #'(id arg.argument-use ... ...)`</text>
  </message>
  <message conversation_id="678">
    <ts>2019-05-31T01:15:46.096100</ts>
    <user>Karen</user>
    <text>I don't want to add keyword argument support. At least, not in those modules. The tiny number of functions with keyword arguments isn't worth it to add support in each module, and I don't want to factor out the macros because I'll be depending on these modules from a lot of other code. Code that I'd like to use in a public module providing better versions of these macros.</text>
  </message>
  <message conversation_id="678">
    <ts>2019-05-31T01:16:19.096300</ts>
    <user>Karen</user>
    <text>That is a good way to implement keyword support though</text>
  </message>
  <message conversation_id="679">
    <ts>2019-05-31T08:21:52.096600</ts>
    <user>Jeanine</user>
    <text>Or use prefab structs, which are non-generative and so cross phases and namespaces freely. They have corresponding limitations, of course, but whether that matters depends on your situation.</text>
  </message>
  <message conversation_id="680">
    <ts>2019-05-31T15:51:12.100700</ts>
    <user>Gonzalo</user>
    <text>&lt;@Clarinda&gt; Is it currently possible to configure the linklet flattener in such a way that it treats an arbitrary set of bindings as “primitive”, instead of what host Racket considers primitive? For example, if I wanted to use the flattener to compile some Racket code to JS, and I wrote a Racket module that implemented some JS primitive operations in Racket, could I use the flattener in a mode where it would leave references to phase 0 bindings in that module alone so that I could write a linklet-to-JS compiler that handled those operations specially?</text>
  </message>
  <message conversation_id="680">
    <ts>2019-05-31T16:38:16.102200</ts>
    <user>Kristeen</user>
    <text>&lt;@Gonzalo&gt; one relatively straightforward way to do that is to access all those bindings via a `primitive-table` and then use `++knot js-primitive -` to treat them as primitive</text>
  </message>
  <message conversation_id="678">
    <ts>2019-05-31T16:38:32.102600</ts>
    <user>Kristeen</user>
    <text>where `js-primitive` is the name of the primitive table you create</text>
  </message>
  <message conversation_id="680">
    <ts>2019-05-31T16:38:54.103100</ts>
    <user>Kristeen</user>
    <text>see uses of `++knot` in the `expander/Makefile` for some inspiration</text>
  </message>
  <message conversation_id="680">
    <ts>2019-05-31T18:59:43.104200</ts>
    <user>Karen</user>
    <text>&lt;@Kristeen&gt; what's a `primitive-table`?</text>
  </message>
  <message conversation_id="680">
    <ts>2019-05-31T19:15:36.107900</ts>
    <user>Gonzalo</user>
    <text>&lt;@Kristeen&gt; Thanks, that makes sense… I’d been looking at some of the primitive table stuff, but I didn’t totally understand how it worked. I think what you said is enough to point me in the right direction, though. It would be nice if I could also make referring to `%#kernel` bindings an error, but I didn’t see an easy way to do that. I guess I could `++disallow` all of them, though I’m not sure if that would work.</text>
  </message>
  <message conversation_id="680">
    <ts>2019-05-31T20:05:55.108800</ts>
    <user>Kristeen</user>
    <text>&lt;@Karen&gt; it's part of the low level bootstrapping process</text>
  </message>
  <message conversation_id="680">
    <ts>2019-05-31T20:06:15.109300</ts>
    <user>Kristeen</user>
    <text>Basically just a named hash table</text>
  </message>
  <message conversation_id="680">
    <ts>2019-05-31T22:45:03.110600</ts>
    <user>Gonzalo</user>
    <text>&lt;@Kristeen&gt; Looking at things again, it looks like `++knot` only works for `#%` modules that are “wired in”. But I guess I could write my own wrapper around `extract` that calls `declare-hash-based-module!` directly, given my custom primitive table?</text>
  </message>
  <message conversation_id="681">
    <ts>2019-05-31T22:48:15.112200</ts>
    <user>Gonzalo</user>
    <text>I’m not sure if that’s really quite right, though… I only really want to redirect phase 0 uses in the expanded program, since any phase 1 uses ought to use the Racket implementation. And it would be nice if programs could still import my module using its usual module path instead of having to indirect through some magical `#%js-primitive` module.</text>
  </message>
  <message conversation_id="681">
    <ts>2019-05-31T22:49:34.112900</ts>
    <user>Gonzalo</user>
    <text>~Though I suppose hash-based modules don’t have to be cross-phase persistent, so maybe the phasing issue isn’t actually a problem.~ Scratch that, I think they do have to be cross-phase persistent (which makes sense, since they’re just hash tables full of values). But I think it might be possible to adjust `extract` so it can do that knot-tying without needing to be a `#%` module.</text>
  </message>
  <message conversation_id="680">
    <ts>2019-06-01T11:19:43.114200</ts>
    <user>Kristeen</user>
    <text>&lt;@Gonzalo&gt; for phase 1 vs 0, I would deal with that using different requires</text>
  </message>
  <message conversation_id="680">
    <ts>2019-06-01T11:20:47.115500</ts>
    <user>Kristeen</user>
    <text>If you want to redirect things that are part of the regular racket implementation, then you'd probably need to do something more like what the actual bootstrapping code does</text>
  </message>
  <message conversation_id="680">
    <ts>2019-06-01T11:36:35.117400</ts>
    <user>Gonzalo</user>
    <text>&lt;@Kristeen&gt; I want running the program in DrRacket to still work (unless it used truly JS-specific features).</text>
  </message>
  <message conversation_id="680">
    <ts>2019-06-01T11:43:01.117500</ts>
    <user>Kristeen</user>
    <text>then I think you do need to do more like the bootstrapping stuff</text>
  </message>
  <message conversation_id="680">
    <ts>2019-06-01T11:43:22.117600</ts>
    <user>Kristeen</user>
    <text>ie, the expander and thread system implementations work in regular racket</text>
  </message>
  <message conversation_id="680">
    <ts>2019-06-01T13:05:17.118900</ts>
    <user>Gonzalo</user>
    <text>&lt;@Kristeen&gt; Thanks, I think I’m starting to see how things fit together by looking at the thread system implementation.</text>
  </message>
  <message conversation_id="682">
    <ts>2019-06-01T16:24:44.119400</ts>
    <user>Marcelina</user>
    <text>&lt;@Shavon&gt; Hmmph....Despite updating the sources, open hub still hasn't bothered to update.</text>
  </message>
  <message conversation_id="682">
    <ts>2019-06-01T16:28:12.120200</ts>
    <user>Marcelina</user>
    <text>I also don't see any way to get openhub to update itself. We probably will need to contact them.</text>
  </message>
  <message conversation_id="682">
    <ts>2019-06-01T16:28:24.120600</ts>
    <user>Marcelina</user>
    <text>(The people who run openhub)</text>
  </message>
  <message conversation_id="683">
    <ts>2019-06-02T01:47:49.127500</ts>
    <user>Mai</user>
    <text>Are there any libraries that provide a form similar to this `p-let`?

```
(define (foo)
  (p-let x 1)
  (println x)
  (p-let x (add1 x))
  x)
```

transforms to

```
(define (foo)
  (let ([x 1])
    (println x)
    (let ([x (add1 x)])
      x)))
```

This magic should only work in the internal definition context.

If not, does anyone have an easy way to implement this? My initial idea is to override `#%module-begin` to `local-expand` with stop list containing core forms that allow internal definitions. Then, `local-expand` children with stop list containing `p-let`, and then transform `p-let` away. But this seems really complicated. Is there a better solution?</text>
  </message>
  <message conversation_id="683">
    <ts>2019-06-02T04:20:02.128300</ts>
    <user>Karen</user>
    <text>&lt;@Mai&gt; what if you used `set!`?</text>
  </message>
  <message conversation_id="682">
    <ts>2019-06-02T04:24:53.128900</ts>
    <user>Mai</user>
    <text>In the above example: yes, I can use `set!` instead, but in general, they are not equivalent.</text>
  </message>
  <message conversation_id="683">
    <ts>2019-06-02T04:25:06.129200</ts>
    <user>Mai</user>
    <text>E.g.,

```
(define (test)
  (define x 1)
  (define y (thunk x))
  (set! x 2)
  (y))

(test) ;=&amp;gt; 2

(define (test-2)
  (let* ([x 1]
         [y (thunk x)]
         [x 2])
    (y)))

(test-2) ;=&amp;gt; 1
```</text>
  </message>
  <message conversation_id="684">
    <ts>2019-06-02T12:20:35.130000</ts>
    <user>Clarinda</user>
    <text>Maybe `package-begin` with `define*` in `compatibility/package`.</text>
  </message>
  <message conversation_id="684">
    <ts>2019-06-02T12:34:47.130200</ts>
    <user>Terry</user>
    <text>Wow!  racket has 3000 stars on github!</text>
  </message>
  <message conversation_id="685">
    <ts>2019-06-02T13:35:34.130800</ts>
    <user>Priscila</user>
    <text>I am playing around with MySQL 8.0 and have created a database using the terminal.</text>
  </message>
  <message conversation_id="685">
    <ts>2019-06-02T13:35:48.131200</ts>
    <user>Priscila</user>
    <text>Now I am trying to connect to the database from racket.</text>
  </message>
  <message conversation_id="685">
    <ts>2019-06-02T13:35:53.131500</ts>
    <user>Priscila</user>
    <text>I get the error:</text>
  </message>
  <message conversation_id="685">
    <ts>2019-06-02T13:36:16.131700</ts>
    <user>Priscila</user>
    <text>```
../../../../../Applications/Racket v7.0/collects/db/private/generic/interfaces.rkt:209:0: mysql-connect: back end requested unsupported authentication plugin
  plugin: "caching_sha2_password"
```</text>
  </message>
  <message conversation_id="685">
    <ts>2019-06-02T13:36:39.132000</ts>
    <user>Priscila</user>
    <text>The MySQL documentation says:</text>
  </message>
  <message conversation_id="685">
    <ts>2019-06-02T13:36:44.132200</ts>
    <user>Priscila</user>
    <text>```
In MySQL 8.0, caching_sha2_password is the default authentication plugin rather than mysql_native_password. 
```</text>
  </message>
  <message conversation_id="685">
    <ts>2019-06-02T13:38:32.132600</ts>
    <user>Priscila</user>
    <text>Line 209 of interfaces.rkt is:
&lt;https://github.com/racket/db/blob/master/db-lib/db/private/mysql/connection.rkt#L188&gt;</text>
  </message>
  <message conversation_id="685">
    <ts>2019-06-02T13:39:14.133000</ts>
    <user>Priscila</user>
    <text>So only "mysql_native_password" is supported.</text>
  </message>
  <message conversation_id="685">
    <ts>2019-06-02T14:13:57.133900</ts>
    <user>Julia</user>
    <text>&lt;@Priscila&gt; That seems to be intentional according to the docs: &lt;https://docs.racket-lang.org/db/notes.html?q=db#%28part._.My.S.Q.L_.Authentication%29&gt;</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:14:23.134500</ts>
    <user>Julia</user>
    <text>Well, not "intentional" as in intentionally not supporting the new thing.</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:15:00.135300</ts>
    <user>Julia</user>
    <text>Just that it knows there are "auth plugins" and intentionally only supports two, for now.</text>
  </message>
  <message conversation_id="685">
    <ts>2019-06-02T14:15:53.136300</ts>
    <user>Priscila</user>
    <text>Thanks for looking at this.</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:15:53.136400</ts>
    <user>Julia</user>
    <text>Sounds like a new feature request for db/mysql</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:16:22.136900</ts>
    <user>Priscila</user>
    <text>I found this in the mysql docs:</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:16:23.137200</ts>
    <user>Priscila</user>
    <text>&lt;https://dev.mysql.com/doc/refman/8.0/en/upgrading-from-previous-series.html#upgrade-caching-sha2-password-compatibility-issues&gt;</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:16:36.137600</ts>
    <user>Julia</user>
    <text>I've only ever used postgres and sqlite. I don't know much about mysql, or when I might want to use that.</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:17:06.138100</ts>
    <user>Priscila</user>
    <text>Maybe I should try postgres instead.</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:17:25.138500</ts>
    <user>Priscila</user>
    <text>The option file mentioned in the MySQL is simple enough:</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:17:33.138700</ts>
    <user>Priscila</user>
    <text>```
[mysqld]
default_authentication_plugin=mysql_native_password
```</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:17:45.139200</ts>
    <user>Priscila</user>
    <text>they don't mention *where* it is located ...</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:17:56.139600</ts>
    <user>Julia</user>
    <text>Will the db server and your Racket app using it, both be on the same machine?</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:17:58.139700</ts>
    <user>Priscila</user>
    <text>or the file name for that matter.</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:18:27.140300</ts>
    <user>Priscila</user>
    <text>Potentially they can be on different machines - therefore I opted for something else than SQLite.</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:19:17.141300</ts>
    <user>Julia</user>
    <text>Oh OK. I asked only because postgres and mysql both support connections via a Unix domain socket, instead of TCP.
And that's safer when client and server are both on same machine.</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:20:09.142200</ts>
    <user>Julia</user>
    <text>(And it looks like Ryan spent some time both adding support for domain sockets to Racket, and, using them in db. I think w/in the last year or so. So that's cool. But I guess orthogonal to your current problem.)</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:21:24.143400</ts>
    <user>Priscila</user>
    <text>That's a great tip. Honestly I don't know whether I ever will need two different machines - so sockets might be the solution in the beginning.</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:21:55.143900</ts>
    <user>Julia</user>
    <text>That way your dev machine isn't open for db access to the world -- or to Javascript running in your browser ¯\_(ツ)_/¯</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:22:13.144200</ts>
    <user>Julia</user>
    <text>Which can access TCP ports, you should assume.</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:23:11.144400</ts>
    <user>Priscila</user>
    <text>Good point.</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:23:58.145300</ts>
    <user>Priscila</user>
    <text>Do you have advice on materials on best practices regarding databases? It's been a while since I needed one last.</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:26:09.146400</ts>
    <user>Julia</user>
    <text>That's an excellent question. I can't think of good materials, right now. Hopefully someone else can suggest something.
I'll let you know if something occurs to me later.</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:26:23.146600</ts>
    <user>Priscila</user>
    <text>Thanks.</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:26:56.147300</ts>
    <user>Julia</user>
    <text>I think the postgres docs are pretty good, overall?  But I don't recall the user's guide or best practices kind of material.</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:28:36.148200</ts>
    <user>Julia</user>
    <text>Alas I must go, it is time for me to start making my Sunday bolognese sauce...</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-02T14:29:28.148700</ts>
    <user>Priscila</user>
    <text>Yeah, need to make dinner too.</text>
  </message>
  <message conversation_id="686">
    <ts>2019-06-03T06:07:23.149400</ts>
    <user>Priscila</user>
    <text>FWIW I found a way to use the legacy authentication: &lt;https://tableplus.io/blog/2018/07/failed-to-load-caching-sha2-password-authentication-plugin-solved.html&gt;</text>
  </message>
  <message conversation_id="687">
    <ts>2019-06-03T12:12:25.151100</ts>
    <user>Deeanna</user>
    <text>I think I've found a bug in the package server.  My new package[1] is marked as having conflicts but the link takes me to &lt;https://pkg-build.racket-lang.org/(indirect%20conflicts.txt)&gt; rather than &lt;https://pkg-build.racket-lang.org/conflicts.txt&gt; . My package doesn't show up in the latter so I'm not sure what's up.  Has anyone run into this before?

[1]: &lt;https://pkgd.racket-lang.org/pkgn/search?q=koyo&amp;amp;tags=author%3Abogdan%40defn.io&gt;</text>
  </message>
  <message conversation_id="687">
    <ts>2019-06-03T12:13:26.152000</ts>
    <user>Deeanna</user>
    <text>Ah. &lt;https://pkg-build.racket-lang.org/&gt; says there are conflicts in a dependency which now makes sense (because it depends on `postmark-client`, which does have conflicts and appears in the conflicts.txt file). Nevermind. :smile:</text>
  </message>
  <message conversation_id="687">
    <ts>2019-06-03T13:16:17.155700</ts>
    <user>Deeanna</user>
    <text>Is there a way to declare that a particular folder within a package should be ignored upon install?

Currently, I have &lt;https://github.com/Bogdanp/koyo/tree/master/koyo-lib&gt;, which refers to &lt;https://github.com/Bogdanp/koyo/tree/master/blueprints&gt; at runtime. This works fine for development if I install koyo-lib as a linked package. It doesn't work when I deploy the package because the location of `blueprints` is outside of the package's installation path so I get this error after I install the package:

```
directory-list: could not open directory
  path: /root/.racket/7.3/pkgs/koyo-lib/koyo/../../blueprints
```

If I move blueprints inside `koyo-lib`, then that causes problems as well because `blueprints` contains racket code (and koyo-lib is declared as a multi-collection package (though I could change it to a single collection package, but I'm not sure that would help)).</text>
  </message>
  <message conversation_id="687">
    <ts>2019-06-03T13:16:51.156300</ts>
    <user>Deeanna</user>
    <text>So what I would like to do is move `blueprints` into `koyo-lib` but somehow tell `raco pkg` that it should ignore the `blueprints` folder when `koyo-lib` is installed.</text>
  </message>
  <message conversation_id="687">
    <ts>2019-06-03T13:17:48.157400</ts>
    <user>Deeanna</user>
    <text>I have read about the `source-omit-files` configuration value but I don't think that'll do what I want. It sounds like if I add `blueprints` to `source-omit-files`, it'll remove the folder before the package is installed.</text>
  </message>
  <message conversation_id="687">
    <ts>2019-06-03T13:17:51.157600</ts>
    <user>Deeanna</user>
    <text>Any ideas?</text>
  </message>
  <message conversation_id="687">
    <ts>2019-06-03T13:21:35.158700</ts>
    <user>Jeanine</user>
    <text>&lt;@Deeanna&gt; if you want `raco setup` to avoid trying to compile that subdirectory, I think you want `compile-omit-paths`. (I didn't find `source-omit-files`)</text>
  </message>
  <message conversation_id="687">
    <ts>2019-06-03T13:22:14.159000</ts>
    <user>Deeanna</user>
    <text>Ah. That sounds promising! Thank you!</text>
  </message>
  <message conversation_id="687">
    <ts>2019-06-03T13:23:05.159300</ts>
    <user>Deeanna</user>
    <text>`source-omit-files` is described here: &lt;https://docs.racket-lang.org/pkg/strip.html#%28tech._binary._package%29&gt;</text>
  </message>
  <message conversation_id="687">
    <ts>2019-06-03T13:23:58.160100</ts>
    <user>Deeanna</user>
    <text>Also, are all of the #info configuration options listed in an index anywhere?</text>
  </message>
  <message conversation_id="687">
    <ts>2019-06-03T13:34:33.160400</ts>
    <user>Deeanna</user>
    <text>&lt;@Jeanine&gt; that did the trick. Thanks again!</text>
  </message>
  <message conversation_id="688">
    <ts>2019-06-03T17:45:29.160600</ts>
    <user>Madelaine</user>
    <text>&lt;@Sunni&gt; Are you still having trouble? If so, I think the concept of *phases* might help: basically, a phase either compile-time or run-time. In Racket, though, the compile-time of some code that uses a macro is the run-time of the macro’s implementation. Since macros can (and usually are) written using other macros, we have a more general notion of phases to be able to talk about the compile-time of the compile-time, which is ultimately the run-time of something.</text>
  </message>
  <message conversation_id="688">
    <ts>2019-06-03T17:53:57.160800</ts>
    <user>Madelaine</user>
    <text>In your example, `parse` returns a run-time value representing a piece of syntax. On the other hand, `record` is bound to a macro for use in the implementation of your example. Nothing connects the two pieces.</text>
  </message>
  <message conversation_id="688">
    <ts>2019-06-03T17:56:45.161000</ts>
    <user>Madelaine</user>
    <text>The normal way to use `brag` is in the implementation of a custom reader for a new `#lang` language. The reader implementation would produce the syntax for a Racket module (i.e. `(module foo my-new lang "a")`. The language implementation would then provide the `record` implementation for use by programs written in your new language.</text>
  </message>
  <message conversation_id="688">
    <ts>2019-06-03T18:07:37.169700</ts>
    <user>Sunni</user>
    <text>Thanks for following up. I settled on a solution based on creating a `#lang` language with a `#%module-begin` macro that expands to something like `(provide result) (define result ,read-syntax)` then in the user module there’s a function that wraps the CSV in `make-module-evaluator` to get the value of the `result` variable exported by the module. I think this is similar to what you described. 

Phases is definitely the missing concept for me. I just barely understand that macros expand during a different phase compared to when (most) functions evaluate. I think part of the confusion is that I can write macros on the REPL and everything seems to work and then I seemingly get different results compared to a module. 

I assume this differences is due to how phases are handled. </text>
  </message>
  <message conversation_id="688">
    <ts>2019-06-03T18:11:10.172100</ts>
    <user>Sunni</user>
    <text>Alternatively, I’m considering changing to simply use `syntax-&amp;gt;datum` and treat the result kinda like an `xexpr` that I iterate through, delaying evaluation using quoting instead of macros. </text>
  </message>
  <message conversation_id="688">
    <ts>2019-06-03T18:19:23.172300</ts>
    <user>Madelaine</user>
    <text>Your current plan is very reasonable. `#lang info` does something very similar, as does `#lang scribble/manual` (for much more complicated values).</text>
  </message>
  <message conversation_id="688">
    <ts>2019-06-03T18:21:32.172500</ts>
    <user>Madelaine</user>
    <text>Doing `syntax-&amp;gt;datum` and manipulating the raw data could also work. It depends on what your overall goals are. Do you need to accept untrusted input? Do quotable Racket datatypes work well for what you need?</text>
  </message>
  <message conversation_id="688">
    <ts>2019-06-03T18:23:38.172700</ts>
    <user>Madelaine</user>
    <text>If you go for a `syntax-&amp;gt;datum`-like approach, `parser-tools/yacc` lets you write actions as normal Racket expressions, so you wouldn’t have to build up an s-expression AST as with `brag`.</text>
  </message>
  <message conversation_id="689">
    <ts>2019-06-03T20:14:34.178600</ts>
    <user>Sunni</user>
    <text>I guess you’re right that `syntax-&amp;gt;datum` might leave you vulnerable to racket code embedded in the CSV data. 

I’ll have to take a look at `parse-tools/yacc`. My initial goal was to simply try expressing a CSV as a parameterized `#lang brag` parser. However as I worked with it, I had the idea to make an executable CSV. 

The idea is to expand the CSV into a racket form (not sure the exact format) which the user provides definitions for (perhaps through parameterizing some procedures/callbacks). </text>
  </message>
  <message conversation_id="689">
    <ts>2019-06-03T20:17:28.180500</ts>
    <user>Sunni</user>
    <text>Some of this functionality already exists in the `csv-reading` module so I may look there next to see if I can implement what I want as a layer on top of that. </text>
  </message>
  <message conversation_id="690">
    <ts>2019-06-04T04:06:49.000500</ts>
    <user>Priscila</user>
    <text>&lt;@Jeanine&gt; Thanks for fixing my MySQL problem!</text>
  </message>
  <message conversation_id="691">
    <ts>2019-06-04T04:31:42.001900</ts>
    <user>Shavon</user>
    <text>Is there any library in Racket to deal with png/jpg etc ? I can see you can load them using `bitmap` from `pict` but I can't see any transformations library on this like reading pixel color, converting to black-white or grayscale, resizing. Is this something that's missing in the ecosystem or am I missing something?</text>
  </message>
  <message conversation_id="691">
    <ts>2019-06-04T04:32:08.002400</ts>
    <user>Shavon</user>
    <text>.... hoping it's the latter...</text>
  </message>
  <message conversation_id="691">
    <ts>2019-06-04T04:32:59.002900</ts>
    <user>Priscila</user>
    <text>There is bitmap% and bitmap-dc% for working with bitmaps.</text>
  </message>
  <message conversation_id="691">
    <ts>2019-06-04T04:33:21.003400</ts>
    <user>Priscila</user>
    <text>I don't think there are transformations builtin.</text>
  </message>
  <message conversation_id="691">
    <ts>2019-06-04T04:34:01.004000</ts>
    <user>Priscila</user>
    <text>Except for flomaps (but I don't think that's what you are looking for).</text>
  </message>
  <message conversation_id="691">
    <ts>2019-06-04T04:35:35.004900</ts>
    <user>Shavon</user>
    <text>Shame... Wanted to create a small utility to clean up my google photos drive by doing some basic recognition of similarity. Might call convert from imagemagik from racket to start with then.</text>
  </message>
  <message conversation_id="691">
    <ts>2019-06-04T04:36:50.005700</ts>
    <user>Priscila</user>
    <text>You can read pixel values and resize them though.</text>
  </message>
  <message conversation_id="691">
    <ts>2019-06-04T04:38:03.006800</ts>
    <user>Priscila</user>
    <text>Hmm. Maybe it's possible to convert to grey scale too. What happens if you create a gray scale image and then use draw-bitmap to draw a color bitmap on top?</text>
  </message>
  <message conversation_id="692">
    <ts>2019-06-04T04:50:35.007000</ts>
    <user>Shavon</user>
    <text>I will take a look.</text>
  </message>
  <message conversation_id="693">
    <ts>2019-06-04T05:15:40.007100</ts>
    <user>Terry</user>
    <text>&lt;http://Repl.it|Repl.it&gt; is an online IDE that supports a variety of languages. 

It would be nice if it supported Racket

Please upvote here: &lt;https://repl.it/language-requests/p/racket&gt;</text>
  </message>
  <message conversation_id="694">
    <ts>2019-06-04T13:52:00.007800</ts>
    <user>Angelika</user>
    <text>Would be cool to have an opencv interface</text>
  </message>
  <message conversation_id="691">
    <ts>2019-06-04T13:52:21.008000</ts>
    <user>Priscila</user>
    <text>&lt;https://github.com/oetr/racket-opencv&gt;</text>
  </message>
  <message conversation_id="691">
    <ts>2019-06-04T13:52:28.008300</ts>
    <user>Priscila</user>
    <text>&lt;https://github.com/tonyg/racket-opencv-videocapture&gt;</text>
  </message>
  <message conversation_id="691">
    <ts>2019-06-04T13:52:32.008600</ts>
    <user>Angelika</user>
    <text>perfect</text>
  </message>
  <message conversation_id="691">
    <ts>2019-06-04T13:52:40.008800</ts>
    <user>Priscila</user>
    <text>Haven't tried them.</text>
  </message>
  <message conversation_id="691">
    <ts>2019-06-04T13:53:38.009300</ts>
    <user>Priscila</user>
    <text>The first one has some small examples in the tutorials folder.</text>
  </message>
  <message conversation_id="691">
    <ts>2019-06-04T15:03:28.009600</ts>
    <user>Priscila</user>
    <text>&lt;@Angelika&gt; Deja vu!  &lt;https://stackoverflow.com/questions/38139043/racket-and-opencv&gt;</text>
  </message>
  <message conversation_id="695">
    <ts>2019-06-04T16:38:37.011000</ts>
    <user>Jule</user>
    <text>Are there any packages that make it nicer to use the drawing library? it seems fine, just have noticed that using it involves a lot of manual math, and i’d rather think more abstractly</text>
  </message>
  <message conversation_id="695">
    <ts>2019-06-04T16:39:09.011400</ts>
    <user>Priscila</user>
    <text>Do you mean racket/draw or pict ?</text>
  </message>
  <message conversation_id="695">
    <ts>2019-06-04T16:39:47.011800</ts>
    <user>Priscila</user>
    <text>Not exactly "less math" but there are some pict tools here: &lt;https://docs.racket-lang.org/metapict/index.html?q=metapict&gt;</text>
  </message>
  <message conversation_id="691">
    <ts>2019-06-05T03:00:14.000200</ts>
    <user>Madelaine</user>
    <text>&lt;@Julia&gt; &lt;@Derick&gt; I think these posts may be from before AWS Lambda supported custom runtimes: &lt;https://docs.aws.amazon.com/lambda/latest/dg/runtimes-custom.html&gt;
I haven’t tried yet, but it looks like it would be easy to implement a runtime in Racket.</text>
  </message>
  <message conversation_id="695">
    <ts>2019-06-05T13:03:07.001100</ts>
    <user>Jule</user>
    <text>I meant racket/draw</text>
  </message>
  <message conversation_id="695">
    <ts>2019-06-05T13:03:10.001400</ts>
    <user>Jule</user>
    <text>i forgot about pict</text>
  </message>
  <message conversation_id="695">
    <ts>2019-06-05T13:05:00.003400</ts>
    <user>Jule</user>
    <text>looking at that</text>
  </message>
  <message conversation_id="696">
    <ts>2019-06-05T13:05:31.004100</ts>
    <user>Rosalba</user>
    <text>Hi there... sorry for my stupid question, but I've google'd a lot and I can't find a slack group on common lisp... can anyone of you help me and send me to the registration page (if it exists)? Thank you all in advance, and again, excuse me for the inconvinience of reading such a question in a place like this</text>
  </message>
  <message conversation_id="695">
    <ts>2019-06-05T13:07:35.005000</ts>
    <user>Priscila</user>
    <text>If no-one has an answer here, try asking the same question in the common lisp irc group.</text>
  </message>
  <message conversation_id="695">
    <ts>2019-06-05T13:08:03.005200</ts>
    <user>Priscila</user>
    <text>&lt;https://www.cliki.net/IRC&gt;</text>
  </message>
  <message conversation_id="695">
    <ts>2019-06-05T13:16:43.005500</ts>
    <user>Rosalba</user>
    <text>thank you!</text>
  </message>
  <message conversation_id="697">
    <ts>2019-06-05T13:33:26.007100</ts>
    <user>Eileen</user>
    <text>Is there a syntactic abstraction for this already?
```
(lambda args (send/apply an-object a-message args))
```</text>
  </message>
  <message conversation_id="698">
    <ts>2019-06-05T15:12:45.008800</ts>
    <user>Shavon</user>
    <text>&lt;@Julia&gt; i have started a new blog (not online yet) using frog and interestingly found that my post `@|content|` is replaced indented 6 spaces which messes up my code snippets generated using pygments. Do you know where these 6 spaces could come from?</text>
  </message>
  <message conversation_id="699">
    <ts>2019-06-05T15:50:59.008900</ts>
    <user>Karen</user>
    <text>I think there's a jpeg library made by Andy Wingo. He gave a talk about it at racketcon.</text>
  </message>
  <message conversation_id="699">
    <ts>2019-06-05T15:51:32.009100</ts>
    <user>Karen</user>
    <text>There's also the `file/convertible` system</text>
  </message>
  <message conversation_id="699">
    <ts>2019-06-05T15:57:53.009600</ts>
    <user>Shavon</user>
    <text>&lt;@Julia&gt; just found out the problem...</text>
  </message>
  <message conversation_id="698">
    <ts>2019-06-05T16:33:02.010000</ts>
    <user>Kristeen</user>
    <text>&lt;@Shavon&gt; it might be better to cover this here than over email</text>
  </message>
  <message conversation_id="698">
    <ts>2019-06-05T16:33:35.010100</ts>
    <user>Kristeen</user>
    <text>First, I would take a look at &lt;http://drdr.racket-lang.org/help&gt;</text>
  </message>
  <message conversation_id="698">
    <ts>2019-06-05T16:34:26.010300</ts>
    <user>Kristeen</user>
    <text>Unfortunately drdr is not easily replicable (a lot of the configuration is just on the machine), but many more tests could be run</text>
  </message>
  <message conversation_id="698">
    <ts>2019-06-05T16:38:41.010500</ts>
    <user>Shavon</user>
    <text>ok, let me take a look at drdr. I never really paid much attention as I thought it was something geared towards internal team use and not really for public consumption.</text>
  </message>
  <message conversation_id="698">
    <ts>2019-06-05T16:43:05.010700</ts>
    <user>Shavon</user>
    <text>wow: `Each file is run with raco test ~s is used if the file's suffix is .rkt, .ss, .scm, .sls, or .scrbl.` is this each file in the racket repository or each file in `pkgs/racket-test`, `pkgs/racket-test-core`, `pkgs/racket-test-extra`?</text>
  </message>
  <message conversation_id="698">
    <ts>2019-06-05T16:45:45.010900</ts>
    <user>Kristeen</user>
    <text>it's basically the same as any of the other CI we use</text>
  </message>
  <message conversation_id="698">
    <ts>2019-06-05T16:46:04.011100</ts>
    <user>Kristeen</user>
    <text>that's every file in every package that gets installed</text>
  </message>
  <message conversation_id="698">
    <ts>2019-06-05T16:46:22.011300</ts>
    <user>Kristeen</user>
    <text>see &lt;http://drdr.racket-lang.org/52239/pkg-show&gt;</text>
  </message>
  <message conversation_id="698">
    <ts>2019-06-05T16:54:20.011500</ts>
    <user>Shavon</user>
    <text>ah, yes. i think i understand. Thanks - on to do some experimentation.</text>
  </message>
  <message conversation_id="698">
    <ts>2019-06-05T16:55:00.011700</ts>
    <user>Kristeen</user>
    <text>one drawback of this is that there's basically no list of tests to run more comprehensive than what's on Travis</text>
  </message>
  <message conversation_id="698">
    <ts>2019-06-05T16:55:12.011900</ts>
    <user>Kristeen</user>
    <text>because nothing needs to be added to test things in DrDr</text>
  </message>
  <message conversation_id="698">
    <ts>2019-06-05T16:55:27.012100</ts>
    <user>Kristeen</user>
    <text>there is also: &lt;https://github.com/racket/racket/wiki/Release-Checklist&gt;</text>
  </message>
  <message conversation_id="698">
    <ts>2019-06-05T17:10:59.012300</ts>
    <user>Shavon</user>
    <text>excellent, was not aware of that the checklist either. It has quite a few more specific tests that might be good to test.</text>
  </message>
  <message conversation_id="700">
    <ts>2019-06-05T18:19:55.012500</ts>
    <user>Julia</user>
    <text>What was it?</text>
  </message>
  <message conversation_id="700">
    <ts>2019-06-05T19:56:21.012700</ts>
    <user>Karen</user>
    <text>that reminds me, there's also that repo with some work on dockerizing some of the release checklist tests</text>
  </message>
  <message conversation_id="701">
    <ts>2019-06-06T00:45:02.013700</ts>
    <user>Mai</user>
    <text>Is `(car (generate-temporaries '(whatever)))` the same as `(datum-&amp;gt;syntax #f (gensym 'whatever))`?</text>
  </message>
  <message conversation_id="701">
    <ts>2019-06-06T00:46:46.015300</ts>
    <user>Mai</user>
    <text>(besides the fact that `(gensym ...)` generates a more ugly identifier name internally)</text>
  </message>
  <message conversation_id="701">
    <ts>2019-06-06T00:47:22.016000</ts>
    <user>Mai</user>
    <text>Also, which one is preferable, if they are functionally equivalent?</text>
  </message>
  <message conversation_id="701">
    <ts>2019-06-06T00:55:12.019600</ts>
    <user>Elin</user>
    <text>`generate-temporaries` uses interned symbols, so if you guess right, you could actually end up with conflicting symbols if you replace the scopes. I’ve accidentally created situations where `(generate-temporaries '(add))` produced `add1` and I took away the scopes so that it actually conflicted with the `add1` from Racket. However, the scopes being different on generated identifiers helps avoid conflicts if you just don’t remove them.</text>
  </message>
  <message conversation_id="701">
    <ts>2019-06-06T01:44:01.021900</ts>
    <user>Gonzalo</user>
    <text>&lt;@Mai&gt; To add to what Alex said, `gensym` doesn’t guarantee produced symbols’ names will be unique, only that the symbols themselves will not be `eq?` to any other symbol. However, uninterned symbols get coerced to interned symbols during compilation, using the symbolic name, so `gensym` will not necessarily produce a unique identifier.</text>
  </message>
  <message conversation_id="702">
    <ts>2019-06-06T01:45:44.023800</ts>
    <user>Gonzalo</user>
    <text>The practical takeaway: `gensym` is never right for generating unique identifiers because the mechanism that it uses to ensure uniqueness can’t survive the roundtrip to and from bytecode. `generate-temporaries` uses a different strategy, namely adding a scope, which can survive that process.</text>
  </message>
  <message conversation_id="701">
    <ts>2019-06-06T01:47:04.025600</ts>
    <user>Mai</user>
    <text>Thanks! Is there a proper way to generate *an* identifier, then? Doing `car` on `generate-temporaries` just seems so ugly</text>
  </message>
  <message conversation_id="701">
    <ts>2019-06-06T01:47:18.025900</ts>
    <user>Gonzalo</user>
    <text>Use `generate-temporary` from `racket/syntax`.</text>
  </message>
  <message conversation_id="701">
    <ts>2019-06-06T01:47:28.026300</ts>
    <user>Mai</user>
    <text>Aha!</text>
  </message>
  <message conversation_id="701">
    <ts>2019-06-06T01:48:18.027100</ts>
    <user>Gonzalo</user>
    <text>One other thing: you can’t even use `gensym` at compile-time to produce symbols that are intended to be unique at _runtime_ because the marshalling/unmarshalling process will still end up destroying the uniqueness guarantee. So you’d have to generate a `gensym` _expression_ instead, since then the symbol itself will be generated in the phase that needs it to be unique.</text>
  </message>
  <message conversation_id="701">
    <ts>2019-06-06T01:49:18.028000</ts>
    <user>Gonzalo</user>
    <text>I.e. don’t do `(quasisyntax (quote #,(gensym)))`, that won’t work; use `#'(gensym)`, instead.</text>
  </message>
  <message conversation_id="701">
    <ts>2019-06-06T01:51:33.028200</ts>
    <user>Mai</user>
    <text>Thank you :slightly_smiling_face:</text>
  </message>
  <message conversation_id="703">
    <ts>2019-06-06T02:23:00.029000</ts>
    <user>Shavon</user>
    <text>which one? Not yours, I assume.</text>
  </message>
  <message conversation_id="701">
    <ts>2019-06-06T05:36:45.033600</ts>
    <user>Jeanine</user>
    <text>&lt;@Gonzalo&gt; I think (and a test agrees) that marshalling and unmarshalling doesn't make distinct uninterned symbols equal, but it can make equal uninterned symbols unequal. But if the uninterned symbol stays within a single compiled module, it should work as expected.</text>
  </message>
  <message conversation_id="703">
    <ts>2019-06-06T05:41:22.036200</ts>
    <user>Jeanine</user>
    <text>Marshalling compile-time `gensym`-generated symbols is still bad, though, because it breaks deterministic compilation. But that's because the gensym counter doesn't follow the rules for independent compilation of modules, and that affects the symbol names.</text>
  </message>
  <message conversation_id="704">
    <ts>2019-06-06T10:00:07.036700</ts>
    <user>Kristeen</user>
    <text>I think it was &lt;@Karen&gt;'s -- at least, he did all the work</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T12:28:33.037200</ts>
    <user>Leticia</user>
    <text>Are exceptions future safe?</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T12:29:06.037300</ts>
    <user>Leticia</user>
    <text>er no, thinking about it I suppose they couldn’t be in the general case.</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T12:29:30.037600</ts>
    <user>Leticia</user>
    <text>I’m asking about the case where the exception is thrown and caught in the future.</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T12:32:05.037900</ts>
    <user>Priscila</user>
    <text>From the docs:
"Similarly, work in a future is suspended if it depends in some way on the current continuation, such as raising an exception. A suspended computation for a future is resumed when touch is applied to the future."</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T12:34:40.038400</ts>
    <user>Priscila</user>
    <text>Can `would-be-future` be used to make an experiment that tests this?</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T12:41:36.039200</ts>
    <user>Karen</user>
    <text>I think `gensym` should never be used</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T12:42:39.039500</ts>
    <user>Elin</user>
    <text>Should we use `(string-&amp;gt;uninterned-symbol "temp")` instead? /s</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T12:42:44.039600</ts>
    <user>Karen</user>
    <text>Found it &lt;https://github.com/samth/docker-racket-build&gt;</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T12:43:30.040700</ts>
    <user>Karen</user>
    <text>Definitely not :p</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T14:21:29.041700</ts>
    <user>Angelika</user>
    <text>Looking for any documentation style guide, if one exists.</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T14:28:25.041900</ts>
    <user>Amira</user>
    <text>&lt;https://docs.racket-lang.org/style/reference-style.html&gt;</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T14:40:08.044300</ts>
    <user>Shavon</user>
    <text>Does anybody know if there's an interface to compile a module down to a linklet and obtain that linklet? I can see `compile-linklet` from `racket/linklet`. That should allow me to compile the linklet once I get ahold of it, but I can't seem to find something akin to `expand` that will take my module and spit out a linklet bundle/directory for it.</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T15:11:13.045900</ts>
    <user>Karen</user>
    <text>&lt;@Shavon&gt; don't know, but FYI one module compiles to multiple linklets (because phases, mostly) and one source file can contain multiple modules</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T15:12:27.047000</ts>
    <user>Shavon</user>
    <text>&lt;@Karen&gt; right, that's the linklet directory. that's what I would like to have. :slightly_smiling_face: trying to find some code already doing that but not being very lucky at that.</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T15:21:45.049900</ts>
    <user>Karen</user>
    <text>&lt;@Shavon&gt; I want that too, so if you find something let me know. If you don't find anything, consider opening an issue in rebellion asking for a nice source-to-linklets compilation API :p</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T15:22:31.050300</ts>
    <user>Shavon</user>
    <text>I will remember that. I heard the maintainer is open to feature requests. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:04:14.050500</ts>
    <user>Shavon</user>
    <text>I am trying just now to run the benchmarks to automate this process in CI. I have attempted the `run.rkt` script in `shootout` but it breaks due to a missing `current-bm.rkt`. I was luckier with `auto.rkt` but I assume that using your `mini-bar-plot` script I can get fancier results. It seems to take a `file` as input but I don't quite get what this `file` is.</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:16:35.051300</ts>
    <user>Kristeen</user>
    <text>&lt;@Shavon&gt; there isn't something like that, and adding it would require being more specific about what you actually want</text>
  </message>
  <message conversation_id="706">
    <ts>2019-06-06T16:17:18.052000</ts>
    <user>Kristeen</user>
    <text>in particular, what do you want to do with compile-time computation? do you want to get those linklets? or just run them?</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:18:42.052300</ts>
    <user>Shavon</user>
    <text>ok</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:19:19.052700</ts>
    <user>Shavon</user>
    <text>so at a certain point in this presentation: &lt;https://www.youtube.com/watch?v=t09AJUK6IiM&amp;amp;t=894s&gt;</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:19:36.053200</ts>
    <user>Shavon</user>
    <text>^- by the way, for those who haven't watched it, you should!</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:20:28.054300</ts>
    <user>Shavon</user>
    <text>in any case, &lt;@Clarinda&gt; makes the case that given linklets we currently implement `compile-linklet` and a couple of other functions and get a different backend. Either normal racket or racketcs.</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:21:15.055000</ts>
    <user>Shavon</user>
    <text>So, in principle to compile racket to language `X` you should be able to grab a linklet and compile to `X`.</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:21:43.055600</ts>
    <user>Shavon</user>
    <text>and then you get Racket -&amp;gt; `X`.</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:23:28.057600</ts>
    <user>Shavon</user>
    <text>I wanted to attempt to do something like this. Implement in Racket, a Racket transpiler to Javascript using the nanopass framework. This would be for my own edification, so I am not concerned about getting all of racket or make it production complete.</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:23:44.057900</ts>
    <user>Kristeen</user>
    <text>That isn't really an accurate summary of how it works</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:24:00.058400</ts>
    <user>Shavon</user>
    <text>That might be a problem indeed. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:24:02.058600</ts>
    <user>Kristeen</user>
    <text>Let me try to phrase it simply</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:24:10.058800</ts>
    <user>Kristeen</user>
    <text>and then I can clarify as needed</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:24:23.059100</ts>
    <user>Kristeen</user>
    <text>To write a racket implementation, you do the following:</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:25:22.059900</ts>
    <user>Kristeen</user>
    <text>1. write an implementation of `compile-linklet` and `instantiate-linklet` (ie, write an interpreter for the linklet language)</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:25:55.060600</ts>
    <user>Kristeen</user>
    <text>2. call `compile-linklet` and `instantiate-linklet` ~in~ on the linklet extracted from the expander</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:26:34.061400</ts>
    <user>Kristeen</user>
    <text>step 2 gives you a bunch of values in the resulting linklet instance, which are named things like `eval` and `read` and `current-namespace`</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:26:56.061800</ts>
    <user>Kristeen</user>
    <text>3. set up some initial state for the expander</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:27:37.062400</ts>
    <user>Kristeen</user>
    <text>4. call `eval` (or similar eval-like functions like `dynamic-require`) on things</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:27:48.062600</ts>
    <user>Kristeen</user>
    <text>That's basically it</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:29:24.062700</ts>
    <user>Shavon</user>
    <text>ok. so although i didn't get the details it's not very far from what I expected. However, at the moment you can't actually get step 2. You say `linklet extracted from the expander` but the expander gives you a fully expanded program, not a linklet. As far as I understand, they are not the same thing.</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:30:56.062800</ts>
    <user>Shavon</user>
    <text>So back to my initial question, what I really wanted was for a way to extract this linklet in racket. Something like `extract-linklet (-&amp;gt; path-string? linklet?)`</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:31:43.062900</ts>
    <user>Shavon</user>
    <text>or as mentioned earlier it would probably be a `linklet-directory?`, not just a `linklet?`</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:32:41.063000</ts>
    <user>Shavon</user>
    <text>My idea initially was to actually start the transpiling experiment from fully expanded programs. It was only after some research that I though... `ah, maybe I should get fancy and do it using linklets`... and my evening is suddenly gone. :slightly_smiling_face:</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:35:04.063100</ts>
    <user>Shavon</user>
    <text>The whole point of this is my own education. I am working at the moment on JavaScript JIT and GC technologies and I thought I should spend some time learning more about JavaScript. And what better way is there than to try to transpile Racket to Javascript...</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:39:19.063800</ts>
    <user>Kristeen</user>
    <text>sorry, step 2 should say "on"</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:40:03.064900</ts>
    <user>Kristeen</user>
    <text>The fundamental issue is that `compile-linklet` and `instantiate-linklet` are designed to be called _inside_ the implementation of the expander (ie, inside the defintions of `expand` and `eval`)</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:40:20.065200</ts>
    <user>Kristeen</user>
    <text>you basically don't call them yourself at all</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:41:04.065800</ts>
    <user>Shavon</user>
    <text>so for me to use linklets I need to reimplement `expand`?</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:41:50.066700</ts>
    <user>Kristeen</user>
    <text>no</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:42:02.067200</ts>
    <user>Shavon</user>
    <text>but expand gives me a fully expanded program, not a linklet. I see the definition of `compile-linklet`, `instantiate-linklet` in chez for example but I don't actually understand how the connection is made.</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:42:11.067500</ts>
    <user>Kristeen</user>
    <text>you're getting the direction of calls wrong</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:42:24.067900</ts>
    <user>Kristeen</user>
    <text>it might be helpful to look here: &lt;https://github.com/pycket/pycket/blob/master/pycket/racket_entry.py#L427&gt;</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:46:01.072000</ts>
    <user>Shavon</user>
    <text>ok. Thanks. I will take a look at the code and see if I understand how these things fit together.</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:46:12.072300</ts>
    <user>Kristeen</user>
    <text>but schematically a JS implemenation of racket would look like this:
```
function instantiate_linklet(l, args) { .... }
let expander = ... // some ast for the extracted expander linklet
let expander_instance = instantiate_linklet(expander, [])
while (1) {
  console.log(expander_instance.get("eval")(expander_instance.get("read")(get_input_from_user())))
}
```</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:47:23.072900</ts>
    <user>Kristeen</user>
    <text>where `instantiate_linklet` contains a core-racket interpreter + a bunch of primitives</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:48:34.073500</ts>
    <user>Shavon</user>
    <text>yes, that makes sense. I will need to look better at pycket (don't think i had heard about it before!!!)</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:51:52.074200</ts>
    <user>Kristeen</user>
    <text>the other thing to note is that you can turn racket modules into linklets yourself using the various tools that are part of the expander implementation</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:52:22.074700</ts>
    <user>Kristeen</user>
    <text>but that won't give you a linklet directory or really a good way to produce a racket implementation</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:53:14.075500</ts>
    <user>Kristeen</user>
    <text>see for example this entry in `racket/src/expander/README`:
```
 % racket bootstrap-run.rkt -s -c &amp;lt;dir&amp;gt; --linklets -l &amp;lt;module-path&amp;gt;

   Compiles the given file to a set of linklets in S-expression form,
   instead of compiling and running it.
```</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:53:43.076000</ts>
    <user>Shavon</user>
    <text>oh... ok, i definitely didn't know about that. thanks.</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:54:44.076600</ts>
    <user>Kristeen</user>
    <text>one other thing you might be interested in is this code, from the original way Pycket worked: &lt;https://github.com/pycket/pycket/blob/master/pycket/pycket-lang/expand.rkt&gt;</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:55:07.077300</ts>
    <user>Kristeen</user>
    <text>which basically takes a racket source file and produces a JSON file with the fully-expanded result</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:55:31.077800</ts>
    <user>Kristeen</user>
    <text>that, however, doesn't go to the linklet layer at all, so you'd still have to implement the module system</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:56:17.078500</ts>
    <user>Kristeen</user>
    <text>but if you just want to write something quick that doesn't deal with `require` or anything else complex, that might be useful</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:58:35.079000</ts>
    <user>Shavon</user>
    <text>That might be a good alternative to start. Thanks for the references.</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T16:59:02.079500</ts>
    <user>Shavon</user>
    <text>Do you know who is behind pycket and what's used for? Looks quite active.</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T17:02:02.080100</ts>
    <user>Shavon</user>
    <text>oh wait... you're one of the pycket authors...</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T17:02:03.080300</ts>
    <user>Kristeen</user>
    <text>me and my students</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T17:02:04.080400</ts>
    <user>Shavon</user>
    <text>embarassing...</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T17:02:09.080700</ts>
    <user>Shavon</user>
    <text>ahahah</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T17:02:09.080800</ts>
    <user>Kristeen</user>
    <text>:wink:</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T17:02:35.081100</ts>
    <user>Shavon</user>
    <text>doh! :slightly_smiling_face:</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T17:03:26.081800</ts>
    <user>Shavon</user>
    <text>This project creates a racket implementation in python but doesn't transpile racket to python.</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T17:04:01.081900</ts>
    <user>Gonzalo</user>
    <text>Thanks, you’re right. I could have sworn there was something related to binding or marshalling uninterned symbols that could cause one to get shot in the foot, but I’m not sure what I was thinking about.</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T17:04:27.082700</ts>
    <user>Kristeen</user>
    <text>right</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T17:04:45.083100</ts>
    <user>Kristeen</user>
    <text>fundamentally it's an interpreter for racket written in python</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T17:05:02.083700</ts>
    <user>Kristeen</user>
    <text>but using a special dialect/tools that generate a JIT along with that interpreter</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T17:05:43.084200</ts>
    <user>Shavon</user>
    <text>the jit generation would come from rpython.</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T17:05:49.084400</ts>
    <user>Kristeen</user>
    <text>yes</text>
  </message>
  <message conversation_id="705">
    <ts>2019-06-06T17:06:23.084700</ts>
    <user>Shavon</user>
    <text>ok, thanks.</text>
  </message>
  <message conversation_id="707">
    <ts>2019-06-06T17:29:59.087100</ts>
    <user>Clarinda</user>
    <text>The `auto.rkt` script uses `run.rkt`, if I remember correctly, so use `auto.rkt`. When you use `auto.rkt`, the `-o` flag copies the output to a file. The `min-bar-plot` script wants that file.</text>
  </message>
  <message conversation_id="708">
    <ts>2019-06-06T20:43:07.090800</ts>
    <user>Karen</user>
    <text>&lt;@Kristeen&gt; more linklet questions: would sending linklets to a service which instantiates them make sense? would that be a good way to communicate over http with a remote racket runtime?</text>
  </message>
  <message conversation_id="708">
    <ts>2019-06-06T20:43:43.091600</ts>
    <user>Kristeen</user>
    <text>&lt;@Karen&gt; I think a repl with a sandbox makes more sense</text>
  </message>
  <message conversation_id="708">
    <ts>2019-06-06T20:44:18.092700</ts>
    <user>Kristeen</user>
    <text>There's no real need for the linklet level</text>
  </message>
  <message conversation_id="708">
    <ts>2019-06-06T20:44:32.093300</ts>
    <user>Kristeen</user>
    <text>And you'd have to run the expander locally</text>
  </message>
  <message conversation_id="708">
    <ts>2019-06-06T20:44:39.093700</ts>
    <user>Kristeen</user>
    <text>Which would defeat the purpose</text>
  </message>
  <message conversation_id="708">
    <ts>2019-06-06T20:45:24.094800</ts>
    <user>Karen</user>
    <text>linklets are serializable though - I'm wondering if you could store compiled linklets in a database and use that as a reasonable basis for distributed builds</text>
  </message>
  <message conversation_id="708">
    <ts>2019-06-06T20:46:33.096000</ts>
    <user>Karen</user>
    <text>it's okay if you run the expander locally for -your- code, as long as you can download precompiled stuff for your dependencies</text>
  </message>
  <message conversation_id="708">
    <ts>2019-06-06T20:48:27.096800</ts>
    <user>Karen</user>
    <text>But I don't have a feel for this stuff yet. Hard to tell what's a good idea and what isn't.</text>
  </message>
  <message conversation_id="709">
    <ts>2019-06-06T21:06:05.099200</ts>
    <user>Mai</user>
    <text>I have a macro `m` that sometimes expands to `(define x 1)`, and sometimes expands to `(void)`, depending on the operand. Consequently:

```
(println (m foo))
```

might or might not result in an error (because function application arguments are supposed to be expressions and not `define`). I want to make it always an error when people try to use this macro in an expression context. How could I do that?</text>
  </message>
  <message conversation_id="708">
    <ts>2019-06-06T21:07:32.099800</ts>
    <user>Mai</user>
    <text>One possible way is to add a dummy `define`, though I don’t think that’s a great solution.</text>
  </message>
  <message conversation_id="709">
    <ts>2019-06-06T21:08:42.100200</ts>
    <user>Gonzalo</user>
    <text>You can check what context you’re in with `(syntax-local-context)`.</text>
  </message>
  <message conversation_id="709">
    <ts>2019-06-06T21:08:52.100500</ts>
    <user>Mai</user>
    <text>Right, forgot about that. Thanks :slightly_smiling_face:</text>
  </message>
  <message conversation_id="709">
    <ts>2019-06-06T21:09:34.101400</ts>
    <user>Gonzalo</user>
    <text>There’s also `prop:expansion-contexts`, but to be honest I’ve _never_ seen it used.</text>
  </message>
  <message conversation_id="710">
    <ts>2019-06-06T21:48:59.101800</ts>
    <user>Kristeen</user>
    <text>&lt;@Karen&gt; Linklets don't have unique names, though</text>
  </message>
  <message conversation_id="710">
    <ts>2019-06-06T22:27:12.109300</ts>
    <user>Karen</user>
    <text>&lt;@Kristeen&gt; That's fine. I was thinking something like a `/linklets` collection you POST to and get back a URL, then an `/instances` collection you POST a message to that says "I want to instantiate the linklet at this url, and here is a list of other instances to use for the linklet's imports"</text>
  </message>
  <message conversation_id="710">
    <ts>2019-06-06T22:29:01.109800</ts>
    <user>Kristeen</user>
    <text>That seems potentially interesting but I don't see what linklets buy you over module source code.</text>
  </message>
  <message conversation_id="710">
    <ts>2019-06-06T22:37:27.111300</ts>
    <user>Karen</user>
    <text>I'm not sure either. But it seems like a much simpler starting point.</text>
  </message>
  <message conversation_id="710">
    <ts>2019-06-06T22:39:46.111900</ts>
    <user>Kristeen</user>
    <text>I really think "sandbox as a service" will be a simpler starting point.</text>
  </message>
  <message conversation_id="5706">
    <ts>2019-06-06T22:46:44.112200</ts>
    <user>Karen</user>
    <text>Why's that?</text>
  </message>
</slack>